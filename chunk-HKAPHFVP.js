import{A as R,B as Ke,C as we,D as cf,E as Q_,F as is,G as je,H as Dn,I as pc,J as lf,K as K_,L as xi,M as os,N as Z_,O as X_,P as Gn,Q as Be,a as E,b as q,d as z,e as v,f as Ai,g as dc,h as B_,i as U_,j as Te,k as V_,l as af,m as H_,n as qt,o as $_,p as z_,q as fc,r as ye,s as W_,t as G_,u as gt,v as Wn,w as hc,x as rs,y as q_,z as Y_}from"./chunk-BJZWCY5R.js";var Pe=null,gc=!1,hf=1,rN=null,Ze=Symbol("SIGNAL");function x(e){let n=Pe;return Pe=e,n}function vc(){return Pe}var ss={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function as(e){if(gc)throw new Error("");if(Pe===null)return;Pe.consumerOnSignalRead(e);let n=Pe.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=Pe.recomputing;if(r&&(t=n!==void 0?n.nextProducer:Pe.producers,t!==void 0&&t.producer===e)){Pe.producersTail=t,t.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Pe&&(!r||oN(i,Pe)))return;let o=Oi(Pe),s={producer:e,consumer:Pe,nextProducer:t,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Pe.producersTail=s,n!==void 0?n.nextProducer=s:Pe.producers=s,o&&nE(e,s)}function J_(){hf++}function pf(e){if(!(Oi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===hf)){if(!e.producerMustRecompute(e)&&!_c(e)){ff(e);return}e.producerRecomputeValue(e),ff(e)}}function gf(e){if(e.consumers===void 0)return;let n=gc;gc=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||iN(r)}}finally{gc=n}}function mf(){return Pe?.consumerAllowSignalWrites!==!1}function iN(e){e.dirty=!0,gf(e),e.consumerMarkedDirty?.(e)}function ff(e){e.dirty=!1,e.lastCleanEpoch=hf}function cs(e){return e&&eE(e),x(e)}function eE(e){e.producersTail=void 0,e.recomputing=!0}function yc(e,n){x(n),e&&tE(e)}function tE(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(Oi(e))do t=vf(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function _c(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(pf(t),r!==t.version))return!0}return!1}function ls(e){if(Oi(e)){let n=e.producers;for(;n!==void 0;)n=vf(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function nE(e,n){let t=e.consumersTail,r=Oi(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)nE(i.producer,i)}function vf(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!Oi(n)){let o=n.producers;for(;o!==void 0;)o=vf(o)}return t}function Oi(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function yf(e){rN?.(e)}function oN(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function _f(e,n){return Object.is(e,n)}function Ec(e,n){let t=Object.create(sN);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(pf(t),as(t),t.value===mc)throw t.error;return t.value};return r[Ze]=t,yf(t),r}var uf=Symbol("UNSET"),df=Symbol("COMPUTING"),mc=Symbol("ERRORED"),sN=q(E({},ss),{value:uf,dirty:!0,error:null,equal:_f,kind:"computed",producerMustRecompute(e){return e.value===uf||e.value===df},producerRecomputeValue(e){if(e.value===df)throw new Error("");let n=e.value;e.value=df;let t=cs(e),r,i=!1;try{r=e.computation(),x(null),i=n!==uf&&n!==mc&&r!==mc&&e.equal(n,r)}catch(o){r=mc,e.error=o}finally{yc(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function aN(){throw new Error}var rE=aN;function iE(e){rE(e)}function Ef(e){rE=e}var cN=null;function wf(e,n){let t=Object.create(wc);t.value=e,n!==void 0&&(t.equal=n);let r=()=>oE(t);return r[Ze]=t,yf(t),[r,s=>us(t,s),s=>sE(t,s)]}function oE(e){return as(e),e.value}function us(e,n){mf()||iE(e),e.equal(e.value,n)||(e.value=n,lN(e))}function sE(e,n){mf()||iE(e),us(e,n(e.value))}var wc=q(E({},ss),{equal:_f,value:void 0,kind:"signal"});function lN(e){e.version++,J_(),gf(e),cN?.(e)}function Df(e){let n=x(null);try{return e()}finally{x(n)}}function bn(e){return typeof e=="function"}var bf=!1,Xe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){let n=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+n.stack)}else bf&&console.log("RxJS: Back to a better error behavior. Thank you. <3");bf=e},get useDeprecatedSynchronousErrorHandling(){return bf}};function Cn(e){setTimeout(()=>{throw e},0)}var Pi={closed:!0,next(e){},error(e){if(Xe.useDeprecatedSynchronousErrorHandling)throw e;Cn(e)},complete(){}};var Ct=Array.isArray||(e=>e&&typeof e.length=="number");function ki(e){return e!==null&&typeof e=="object"}var uN=(()=>{function e(n){return Error.call(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((t,r)=>`${r+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n,this}return e.prototype=Object.create(Error.prototype),e})(),ds=uN;var j=class e{constructor(n){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._ctorUnsubscribe=!0,this._unsubscribe=n)}unsubscribe(){let n;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof e)t.remove(this);else if(t!==null)for(let s=0;s<t.length;++s)t[s].remove(this);if(bn(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){n=s instanceof ds?aE(s.errors):[s]}}if(Ct(o)){let s=-1,a=o.length;for(;++s<a;){let c=o[s];if(ki(c))try{c.unsubscribe()}catch(l){n=n||[],l instanceof ds?n=n.concat(aE(l.errors)):n.push(l)}}}if(n)throw new ds(n)}add(n){let t=n;if(!n)return e.EMPTY;switch(typeof n){case"function":t=new e(n);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof e)){let o=t;t=new e,t._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}let{_parentOrParents:r}=t;if(r===null)t._parentOrParents=this;else if(r instanceof e){if(r===this)return t;t._parentOrParents=[r,this]}else if(r.indexOf(this)===-1)r.push(this);else return t;let i=this._subscriptions;return i===null?this._subscriptions=[t]:i.push(t),t}remove(n){let t=this._subscriptions;if(t){let r=t.indexOf(n);r!==-1&&t.splice(r,1)}}};j.EMPTY=(function(e){return e.closed=!0,e})(new j);function aE(e){return e.reduce((n,t)=>n.concat(t instanceof ds?t.errors:t),[])}var Pr=typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();var A=class e extends j{constructor(n,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Pi;break;case 1:if(!n){this.destination=Pi;break}if(typeof n=="object"){n instanceof e?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,n.add(this)):(this.syncErrorThrowable=!0,this.destination=new Dc(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new Dc(this,n,t,r);break}}[Pr](){return this}static create(n,t,r){let i=new e(n,t,r);return i.syncErrorThrowable=!1,i}next(n){this.isStopped||this._next(n)}error(n){this.isStopped||(this.isStopped=!0,this._error(n))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(n){this.destination.next(n)}_error(n){this.destination.error(n),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){let{_parentOrParents:n}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this}},Dc=class extends A{constructor(n,t,r,i){super(),this._parentSubscriber=n;let o,s=this;bn(t)?o=t:t&&(o=t.next,r=t.error,i=t.complete,t!==Pi&&(s=Object.create(t),bn(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(n){if(!this.isStopped&&this._next){let{_parentSubscriber:t}=this;!Xe.useDeprecatedSynchronousErrorHandling||!t.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(t,this._next,n)&&this.unsubscribe()}}error(n){if(!this.isStopped){let{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=Xe;if(this._error)!r||!t.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(t,this._error,n),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=n,t.syncErrorThrown=!0):Cn(n),this.unsubscribe();else{if(this.unsubscribe(),r)throw n;Cn(n)}}}complete(){if(!this.isStopped){let{_parentSubscriber:n}=this;if(this._complete){let t=()=>this._complete.call(this._context);!Xe.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(t),this.unsubscribe()):(this.__tryOrSetError(n,t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(n,t){try{n.call(this._context,t)}catch(r){if(this.unsubscribe(),Xe.useDeprecatedSynchronousErrorHandling)throw r;Cn(r)}}__tryOrSetError(n,t,r){if(!Xe.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return Xe.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=i,n.syncErrorThrown=!0,!0):(Cn(i),!0)}return!1}_unsubscribe(){let{_parentSubscriber:n}=this;this._context=null,this._parentSubscriber=null,n.unsubscribe()}};function cE(e){for(;e;){let{closed:n,destination:t,isStopped:r}=e;if(n||r)return!1;t&&t instanceof A?e=t:e=null}return!0}function lE(e,n,t){if(e){if(e instanceof A)return e;if(e[Pr])return e[Pr]()}return!e&&!n&&!t?new A(Pi):new A(e,n,t)}var Yt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Fi(e){return e}function Cf(...e){return If(e)}function If(e){return e.length===0?Fi:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var T=(()=>{class e{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let{operator:o}=this,s=lE(t,r,i);if(o?s.add(o.call(s,this.source)):s.add(this.source||Xe.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Xe.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){Xe.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),cE(t)?t.error(r):console.warn(r)}}forEach(t,r){return r=uE(r),new r((i,o)=>{let s;s=this.subscribe(a=>{try{t(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})}_subscribe(t){let{source:r}=this;return r&&r.subscribe(t)}[Yt](){return this}pipe(...t){return t.length===0?this:If(t)(this)}toPromise(t){return t=uE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function uE(e){if(e||(e=Xe.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var dN=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})(),Qt=dN;var Li=class extends j{constructor(n,t){super(),this.subject=n,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;let n=this.subject,t=n.observers;if(this.subject=null,!t||t.length===0||n.isStopped||n.closed)return;let r=t.indexOf(this.subscriber);r!==-1&&t.splice(r,1)}};var fs=class extends A{constructor(n){super(n),this.destination=n}},Q=(()=>{class e extends T{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Pr](){return new fs(this)}lift(t){let r=new bc(this,this);return r.operator=t,r}next(t){if(this.closed)throw new Qt;if(!this.isStopped){let{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(t)}}error(t){if(this.closed)throw new Qt;this.hasError=!0,this.thrownError=t,this.isStopped=!0;let{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(t);this.observers.length=0}complete(){if(this.closed)throw new Qt;this.isStopped=!0;let{observers:t}=this,r=t.length,i=t.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Qt;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Qt;return this.hasError?(t.error(this.thrownError),j.EMPTY):this.isStopped?(t.complete(),j.EMPTY):(this.observers.push(t),new Li(this,t))}asObservable(){let t=new T;return t.source=this,t}}return e.create=(n,t)=>new bc(n,t),e})(),bc=class extends Q{constructor(n,t){super(),this.destination=n,this.source=t}next(n){let{destination:t}=this;t&&t.next&&t.next(n)}error(n){let{destination:t}=this;t&&t.error&&this.destination.error(n)}complete(){let{destination:n}=this;n&&n.complete&&this.destination.complete()}_subscribe(n){let{source:t}=this;return t?this.source.subscribe(n):j.EMPTY}};function Cc(){return function(n){return n.lift(new Tf(n))}}var Tf=class{constructor(n){this.connectable=n}call(n,t){let{connectable:r}=this;r._refCount++;let i=new Sf(n,r),o=t.subscribe(i);return i.closed||(i.connection=r.connect()),o}},Sf=class extends A{constructor(n,t){super(n),this.connectable=t}_unsubscribe(){let{connectable:n}=this;if(!n){this.connection=null;return}this.connectable=null;let t=n._refCount;if(t<=0){this.connection=null;return}if(n._refCount=t-1,t>1){this.connection=null;return}let{connection:r}=this,i=n._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}};var Mf=class extends T{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let n=this._connection;return n||(this._isComplete=!1,n=this._connection=new j,n.add(this.source.subscribe(new Nf(this.getSubject(),this))),n.closed&&(this._connection=null,n=j.EMPTY)),n}refCount(){return Cc()(this)}},dE=(()=>{let e=Mf.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})(),Nf=class extends fs{constructor(n,t){super(n),this.connectable=t}_error(n){this._unsubscribe(),super._error(n)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){let n=this.connectable;if(n){this.connectable=null;let t=n._connection;n._refCount=0,n._subject=null,n._connection=null,t&&t.unsubscribe()}}};var De=class extends Q{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return t&&!t.closed&&n.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qt;return this._value}next(n){super.next(this._value=n)}};var Ic=class extends j{constructor(n,t){super()}schedule(n,t=0){return this}};var Kt=class extends Ic{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){if(this.closed)return this;this.state=n;let r=this.id,i=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(n,t,r=0){return setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(r!==null&&this.delay===r&&this.pending===!1)return t;clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r=!1,i;try{this.work(n)}catch(o){r=!0,i=!!o&&o||new Error(o)}if(r)return this.unsubscribe(),i}_unsubscribe(){let n=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,i!==-1&&r.splice(i,1),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null}};var Tc=class extends Kt{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,r=0){return r!==null&&r>0||r===null&&this.delay>0?super.requestAsyncId(n,t,r):n.flush(this)}};var Rf=(()=>{class e{constructor(t,r=e.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return e.now=()=>Date.now(),e})();var Zt=class e extends Rf{constructor(n,t=Rf.now){super(n,()=>e.delegate&&e.delegate!==this?e.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(n,t=0,r){return e.delegate&&e.delegate!==this?e.delegate.schedule(n,t,r):super.schedule(n,t,r)}flush(n){let{actions:t}=this;if(this.active){t.push(n);return}let r;this.active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=t.shift());if(this.active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}};var Sc=class extends Zt{};var Mc=new Sc(Tc),Af=Mc;var rt=new T(e=>e.complete());function qn(e){return e?fN(e):rt}function fN(e){return new T(n=>e.schedule(()=>n.complete()))}function It(e){return e&&typeof e.schedule=="function"}var Nc=e=>n=>{for(let t=0,r=e.length;t<r&&!n.closed;t++)n.next(e[t]);n.complete()};function ji(e,n){return new T(t=>{let r=new j,i=0;return r.add(n.schedule(function(){if(i===e.length){t.complete();return}t.next(e[i++]),t.closed||r.add(this.schedule())})),r})}function Bi(e,n){return n?ji(e,n):new T(Nc(e))}function S(...e){let n=e[e.length-1];return It(n)?(e.pop(),ji(e,n)):Bi(e)}function hs(e,n){return n?new T(t=>n.schedule(hN,0,{error:e,subscriber:t})):new T(t=>t.error(e))}function hN({error:e,subscriber:n}){n.error(e)}var Xt=class e{constructor(n,t,r){this.kind=n,this.value=t,this.error=r,this.hasValue=n==="N"}observe(n){switch(this.kind){case"N":return n.next&&n.next(this.value);case"E":return n.error&&n.error(this.error);case"C":return n.complete&&n.complete()}}do(n,t,r){switch(this.kind){case"N":return n&&n(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(n,t,r){return n&&typeof n.next=="function"?this.observe(n):this.do(n,t,r)}toObservable(){switch(this.kind){case"N":return S(this.value);case"E":return hs(this.error);case"C":return qn()}throw new Error("unexpected notification kind value")}static createNext(n){return typeof n<"u"?new e("N",n):e.undefinedValueNotification}static createError(n){return new e("E",void 0,n)}static createComplete(){return e.completeNotification}};Xt.completeNotification=new Xt("C");Xt.undefinedValueNotification=new Xt("N",void 0);function Yn(e,n=0){return function(r){return r.lift(new xf(e,n))}}var xf=class{constructor(n,t=0){this.scheduler=n,this.delay=t}call(n,t){return t.subscribe(new ps(n,this.scheduler,this.delay))}},ps=class e extends A{constructor(n,t,r=0){super(n),this.scheduler=t,this.delay=r}static dispatch(n){let{notification:t,destination:r}=n;t.observe(r),this.unsubscribe()}scheduleMessage(n){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new Of(n,this.destination)))}_next(n){this.scheduleMessage(Xt.createNext(n))}_error(n){this.scheduleMessage(Xt.createError(n)),this.unsubscribe()}_complete(){this.scheduleMessage(Xt.createComplete()),this.unsubscribe()}},Of=class{constructor(n,t){this.notification=n,this.destination=t}};var Rc=class extends Q{constructor(n=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){let t=this._events;t.push(n),t.length>this._bufferSize&&t.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new Pf(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){let t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length,s;if(this.closed)throw new Qt;if(this.isStopped||this.hasError?s=j.EMPTY:(this.observers.push(n),s=new Li(this,n)),i&&n.add(n=new ps(n,i)),t)for(let a=0;a<o&&!n.closed;a++)n.next(r[a]);else for(let a=0;a<o&&!n.closed;a++)n.next(r[a].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),s}_getNow(){return(this.scheduler||Af).now()}_trimBufferThenGetEvents(){let n=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,o=i.length,s=0;for(;s<o&&!(n-i[s].time<r);)s++;return o>t&&(s=Math.max(s,o-t)),s>0&&i.splice(0,s),i}},Pf=class{constructor(n,t){this.time=n,this.value=t}};var pN=1,gN=Promise.resolve(),kf={};function fE(e){return e in kf?(delete kf[e],!0):!1}var Ff={setImmediate(e){let n=pN++;return kf[n]=!0,gN.then(()=>fE(n)&&e()),n},clearImmediate(e){fE(e)}};var Ac=class extends Kt{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return r!==null&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n.scheduled||(n.scheduled=Ff.setImmediate(n.flush.bind(n,null))))}recycleAsyncId(n,t,r=0){if(r!==null&&r>0||r===null&&this.delay>0)return super.recycleAsyncId(n,t,r);n.actions.length===0&&(Ff.clearImmediate(t),n.scheduled=void 0)}};var xc=class extends Zt{flush(n){this.active=!0,this.scheduled=void 0;let{actions:t}=this,r,i=-1,o=t.length;n=n||t.shift();do if(r=n.execute(n.state,n.delay))break;while(++i<o&&(n=t.shift()));if(this.active=!1,r){for(;++i<o&&(n=t.shift());)n.unsubscribe();throw r}}};var mN=new xc(Ac),Oc=mN;var Ui=new Zt(Kt),kr=Ui;var Pc=class extends Kt{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return r!==null&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(()=>n.flush(null))))}recycleAsyncId(n,t,r=0){if(r!==null&&r>0||r===null&&this.delay>0)return super.recycleAsyncId(n,t,r);n.actions.length===0&&(cancelAnimationFrame(t),n.scheduled=void 0)}};var kc=class extends Zt{flush(n){this.active=!0,this.scheduled=void 0;let{actions:t}=this,r,i=-1,o=t.length;n=n||t.shift();do if(r=n.execute(n.state,n.delay))break;while(++i<o&&(n=t.shift()));if(this.active=!1,r){for(;++i<o&&(n=t.shift());)n.unsubscribe();throw r}}};var gs=new kc(Pc);function In(){}function Fc(e){return!!e&&(e instanceof T||typeof e.lift=="function"&&typeof e.subscribe=="function")}var vN=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),Lc=vN;var yN=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),Fr=yN;function M(e,n){return function(r){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Lf(e,n))}}var Lf=class{constructor(n,t){this.project=n,this.thisArg=t}call(n,t){return t.subscribe(new jf(n,this.project,this.thisArg))}},jf=class extends A{constructor(n,t,r){super(n),this.project=t,this.count=0,this.thisArg=r||this}_next(n){let t;try{t=this.project.call(this.thisArg,n,this.count++)}catch(r){this.destination.error(r);return}this.destination.next(t)}};var Vi=class extends A{notifyNext(n,t,r,i,o){this.destination.next(t)}notifyError(n,t){this.destination.error(n)}notifyComplete(n){this.destination.complete()}};var jc=class extends A{constructor(n,t,r){super(),this.parent=n,this.outerValue=t,this.outerIndex=r,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}};var hE=e=>n=>(e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Cn),n);function _N(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qn=_N();var pE=e=>n=>{let t=e[Qn]();do{let r;try{r=t.next()}catch(i){return n.error(i),n}if(r.done){n.complete();break}if(n.next(r.value),n.closed)break}while(!0);return typeof t.return=="function"&&n.add(()=>{t.return&&t.return()}),n};var gE=e=>n=>{let t=e[Yt]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(n)};var Bc=e=>e&&typeof e.length=="number"&&typeof e!="function";function Uc(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}var Hi=e=>{if(e&&typeof e[Yt]=="function")return gE(e);if(Bc(e))return Nc(e);if(Uc(e))return hE(e);if(e&&typeof e[Qn]=="function")return pE(e);{let t=`You provided ${ki(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Vc(e,n,t,r,i=new jc(e,t,r)){if(!i.closed)return n instanceof T?n.subscribe(i):Hi(n)(i)}var mE={};function Hc(...e){let n,t;return It(e[e.length-1])&&(t=e.pop()),typeof e[e.length-1]=="function"&&(n=e.pop()),e.length===1&&Ct(e[0])&&(e=e[0]),Bi(e,t).lift(new Bf(n))}var Bf=class{constructor(n){this.resultSelector=n}call(n,t){return t.subscribe(new Uf(n,this.resultSelector))}},Uf=class extends Vi{constructor(n,t){super(n),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(mE),this.observables.push(n)}_complete(){let n=this.observables,t=n.length;if(t===0)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++){let i=n[r];this.add(Vc(this,i,void 0,r))}}}notifyComplete(n){(this.active-=1)===0&&this.destination.complete()}notifyNext(n,t,r){let i=this.values,o=i[r],s=this.toRespond?o===mE?--this.toRespond:this.toRespond:0;i[r]=t,s===0&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(n){let t;try{t=this.resultSelector.apply(this,n)}catch(r){this.destination.error(r);return}this.destination.next(t)}};function vE(e,n){return new T(t=>{let r=new j;return r.add(n.schedule(()=>{let i=e[Yt]();r.add(i.subscribe({next(o){r.add(n.schedule(()=>t.next(o)))},error(o){r.add(n.schedule(()=>t.error(o)))},complete(){r.add(n.schedule(()=>t.complete()))}}))})),r})}function yE(e,n){return new T(t=>{let r=new j;return r.add(n.schedule(()=>e.then(i=>{r.add(n.schedule(()=>{t.next(i),r.add(n.schedule(()=>t.complete()))}))},i=>{r.add(n.schedule(()=>t.error(i)))}))),r})}function _E(e,n){if(!e)throw new Error("Iterable cannot be null");return new T(t=>{let r=new j,i;return r.add(()=>{i&&typeof i.return=="function"&&i.return()}),r.add(n.schedule(()=>{i=e[Qn](),r.add(n.schedule(function(){if(t.closed)return;let o,s;try{let a=i.next();o=a.value,s=a.done}catch(a){t.error(a);return}s?t.complete():(t.next(o),this.schedule())}))})),r})}function EE(e){return e&&typeof e[Yt]=="function"}function wE(e){return e&&typeof e[Qn]=="function"}function DE(e,n){if(e!=null){if(EE(e))return vE(e,n);if(Uc(e))return yE(e,n);if(Bc(e))return ji(e,n);if(wE(e)||typeof e=="string")return _E(e,n)}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function ue(e,n){return n?DE(e,n):e instanceof T?e:new T(Hi(e))}var Je=class extends A{constructor(n){super(),this.parent=n}_next(n){this.parent.notifyNext(n)}_error(n){this.parent.notifyError(n),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}};var et=class extends A{notifyNext(n){this.destination.next(n)}notifyError(n){this.destination.error(n)}notifyComplete(){this.destination.complete()}};function mt(e,n){if(n.closed)return;if(e instanceof T)return e.subscribe(n);let t;try{t=Hi(e)(n)}catch(r){n.error(r)}return t}function Se(e,n,t=Number.POSITIVE_INFINITY){return typeof n=="function"?r=>r.pipe(Se((i,o)=>ue(e(i,o)).pipe(M((s,a)=>n(i,s,o,a))),t)):(typeof n=="number"&&(t=n),r=>r.lift(new Vf(e,t)))}var Vf=class{constructor(n,t=Number.POSITIVE_INFINITY){this.project=n,this.concurrent=t}call(n,t){return t.subscribe(new Hf(n,this.project,this.concurrent))}},Hf=class extends et{constructor(n,t,r=Number.POSITIVE_INFINITY){super(n),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)}_tryNext(n){let t,r=this.index++;try{t=this.project(n,r)}catch(i){this.destination.error(i);return}this.active++,this._innerSub(t)}_innerSub(n){let t=new Je(this),r=this.destination;r.add(t);let i=mt(n,t);i!==t&&r.add(i)}_complete(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()}notifyNext(n){this.destination.next(n)}notifyComplete(){let n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()}};function Kn(e=Number.POSITIVE_INFINITY){return Se(Fi,e)}function bE(){return Kn(1)}function $i(...e){return bE()(S(...e))}function ms(e){return new T(n=>{let t;try{t=e()}catch(i){n.error(i);return}return(t?ue(t):qn()).subscribe(n)})}function EN(...e){if(e.length===1){let n=e[0];if(Ct(n))return $c(n,null);if(ki(n)&&Object.getPrototypeOf(n)===Object.prototype){let t=Object.keys(n);return $c(t.map(r=>n[r]),t)}}if(typeof e[e.length-1]=="function"){let n=e.pop();return e=e.length===1&&Ct(e[0])?e[0]:e,$c(e,null).pipe(M(t=>n(...t)))}return $c(e,null)}function $c(e,n){return new T(t=>{let r=e.length;if(r===0){t.complete();return}let i=new Array(r),o=0,s=0;for(let a=0;a<r;a++){let c=ue(e[a]),l=!1;t.add(c.subscribe({next:u=>{l||(l=!0,s++),i[a]=u},error:u=>t.error(u),complete:()=>{o++,(o===r||!l)&&(s===r&&t.next(n?n.reduce((u,d,f)=>(u[d]=i[f],u),{}):i),t.complete())}}))}})}function be(e,n,t,r){return bn(t)&&(r=t,t=void 0),r?be(e,n,t).pipe(M(i=>Ct(i)?r(...i):r(i))):new T(i=>{function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}CE(e,n,o,i,t)})}function CE(e,n,t,r,i){let o;if(bN(e)){let s=e;e.addEventListener(n,t,i),o=()=>s.removeEventListener(n,t,i)}else if(DN(e)){let s=e;e.on(n,t),o=()=>s.off(n,t)}else if(wN(e)){let s=e;e.addListener(n,t),o=()=>s.removeListener(n,t)}else if(e&&e.length)for(let s=0,a=e.length;s<a;s++)CE(e[s],n,t,r,i);else throw new TypeError("Invalid event target");r.add(o)}function wN(e){return e&&typeof e.addListener=="function"&&typeof e.removeListener=="function"}function DN(e){return e&&typeof e.on=="function"&&typeof e.off=="function"}function bN(e){return e&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"}function vs(e){return!Ct(e)&&e-parseFloat(e)+1>=0}function tt(...e){let n=Number.POSITIVE_INFINITY,t=null,r=e[e.length-1];return It(r)?(t=e.pop(),e.length>1&&typeof e[e.length-1]=="number"&&(n=e.pop())):typeof r=="number"&&(n=e.pop()),t===null&&e.length===1&&e[0]instanceof T?e[0]:Kn(n)(Bi(e,t))}function Me(e,n){return function(r){return r.lift(new $f(e,n))}}var $f=class{constructor(n,t){this.predicate=n,this.thisArg=t}call(n,t){return t.subscribe(new zf(n,this.predicate,this.thisArg))}},zf=class extends A{constructor(n,t,r){super(n),this.predicate=t,this.thisArg=r,this.count=0}_next(n){let t;try{t=this.predicate.call(this.thisArg,n,this.count++)}catch(r){this.destination.error(r);return}t&&this.destination.next(n)}};function IE(e=0,n,t){let r=-1;return vs(n)?r=Number(n)<1&&1||Number(n):It(n)&&(t=n),It(t)||(t=kr),new T(i=>{let o=vs(e)?e:+e-t.now();return t.schedule(CN,o,{index:0,period:r,subscriber:i})})}function CN(e){let{index:n,period:t,subscriber:r}=e;if(r.next(n),!r.closed){if(t===-1)return r.complete();e.index=n+1,this.schedule(e,t)}}var Wf;function zc(){return Wf}function Jt(e){let n=Wf;return Wf=e,n}var TE=Symbol("NotFound");function zi(e){return e===TE||e?.name==="\u0275NotFound"}var jr=class{full;major;minor;patch;constructor(n){this.full=n;let t=n.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ah=new jr("21.0.8");var Qc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(n,t){super(Nn(n,t)),this.code=n}};function SN(e){return`NG0${Math.abs(e)}`}function Nn(e,n){return`${SN(e)}${n?": "+n:""}`}var ot=globalThis;function ne(e){for(let n in e)if(e[n]===ne)return n;throw Error("")}function AE(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Sn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Sn).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Kc(e,n){return e?n?`${e} ${n}`:e:n||""}var MN=ne({__forward_ref__:ne});function Zc(e){return e.__forward_ref__=Zc,e.toString=function(){return Sn(this())},e}function Oe(e){return ch(e)?e():e}function ch(e){return typeof e=="function"&&e.hasOwnProperty(MN)&&e.__forward_ref__===Zc}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function oe(e){return{providers:e.providers||[],imports:e.imports||[]}}function bs(e){return NN(e,Xc)}function lh(e){return bs(e)!==null}function NN(e,n){return e.hasOwnProperty(n)&&e[n]||null}function RN(e){let n=e?.[Xc]??null;return n||null}function qf(e){return e&&e.hasOwnProperty(Gc)?e[Gc]:null}var Xc=ne({\u0275prov:ne}),Gc=ne({\u0275inj:ne}),w=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=D({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uh(e){return e&&!!e.\u0275providers}var dh=ne({\u0275cmp:ne}),fh=ne({\u0275dir:ne}),hh=ne({\u0275pipe:ne}),ph=ne({\u0275mod:ne}),_s=ne({\u0275fac:ne}),$r=ne({__NG_ELEMENT_ID__:ne}),SE=ne({__NG_ENV_ID__:ne});function gh(e){return Jc(e,"@NgModule"),e[ph]||null}function Rn(e){return Jc(e,"@Component"),e[dh]||null}function mh(e){return Jc(e,"@Directive"),e[fh]||null}function xE(e){return Jc(e,"@Pipe"),e[hh]||null}function Jc(e,n){if(e==null)throw new C(-919,!1)}function zr(e){return typeof e=="string"?e:e==null?"":String(e)}function OE(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():zr(e)}var PE=ne({ngErrorCode:ne}),AN=ne({ngErrorMessage:ne}),xN=ne({ngTokenPath:ne});function vh(e,n){return kE("",-200,n)}function el(e,n){throw new C(-201,!1)}function kE(e,n,t){let r=new C(n,e);return r[PE]=n,r[AN]=e,t&&(r[xN]=t),r}function ON(e){return e[PE]}var Yf;function FE(){return Yf}function it(e){let n=Yf;return Yf=e,n}function yh(e,n,t){let r=bs(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;el(e,"")}var PN={},Lr=PN,Qf="__NG_DI_FLAG__",Kf=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=Br(t)||0;try{return this.injector.get(n,r&8?null:Lr,r)}catch(i){if(zi(i))return i;throw i}}};function kN(e,n=0){let t=zc();if(t===void 0)throw new C(-203,!1);if(t===null)return yh(e,void 0,n);{let r=FN(n),i=t.retrieve(e,r);if(zi(i)){if(r.optional)return null;throw i}return i}}function m(e,n=0){return(FE()||kN)(Oe(e),n)}function g(e,n){return m(e,Br(n))}function Br(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function FN(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Zf(e){let n=[];for(let t=0;t<e.length;t++){let r=Oe(e[t]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=LN(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}n.push(m(i,o))}else n.push(m(r))}return n}function _h(e,n){return e[Qf]=n,e.prototype[Qf]=n,e}function LN(e){return e[Qf]}function Ur(e,n){let t=e.hasOwnProperty(_s);return t?e[_s]:null}function LE(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function jE(e){return e.flat(Number.POSITIVE_INFINITY)}function tl(e,n){e.forEach(t=>Array.isArray(t)?tl(t,n):n(t))}function Eh(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Cs(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function BE(e,n){let t=[];for(let r=0;r<e;r++)t.push(n);return t}function UE(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function nl(e,n,t){let r=Gi(e,n);return r>=0?e[r|1]=t:(r=~r,UE(e,r,n,t)),r}function rl(e,n){let t=Gi(e,n);if(t>=0)return e[t|1]}function Gi(e,n){return jN(e,n,1)}function jN(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var Xn={},Ue=[],Jn=new w(""),wh=new w("",-1),Dh=new w(""),Es=class{get(n,t=Lr){if(t===Lr){let i=kE("",-201);throw i.name="\u0275NotFound",i}return t}};function er(e){return{\u0275providers:e}}function VE(...e){return{\u0275providers:bh(!0,e),\u0275fromNgModule:!0}}function bh(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return tl(n,s=>{let a=s;qc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&HE(i,o),t}function HE(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];Ch(i,o=>{n(o,r)})}}function qc(e,n,t,r){if(e=Oe(e),!e)return!1;let i=null,o=qf(e),s=!o&&Rn(e);if(!o&&!s){let c=e.ngModule;if(o=qf(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)qc(l,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{tl(o.imports,u=>{qc(u,n,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&HE(l,n)}if(!a){let l=Ur(i)||(()=>new i);n({provide:i,useFactory:l,deps:Ue},i),n({provide:Dh,useValue:i,multi:!0},i),n({provide:Jn,useValue:()=>m(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Ch(c,u=>{n(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Ch(e,n){for(let t of e)uh(t)&&(t=t.\u0275providers),Array.isArray(t)?Ch(t,n):n(t)}var BN=ne({provide:String,useValue:ne});function $E(e){return e!==null&&typeof e=="object"&&BN in e}function UN(e){return!!(e&&e.useExisting)}function VN(e){return!!(e&&e.useFactory)}function Vr(e){return typeof e=="function"}function zE(e){return!!e.useClass}var Is=new w(""),Wc={},ME={},Gf;function Ts(){return Gf===void 0&&(Gf=new Es),Gf}var pe=class{},Hr=class extends pe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Jf(n,s=>this.processProvider(s)),this.records.set(wh,Wi(void 0,this)),i.has("environment")&&this.records.set(pe,Wi(void 0,this));let o=this.records.get(Is);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Dh,Ue,{self:!0}))}retrieve(n,t){let r=Br(t)||0;try{return this.get(n,Lr,r)}catch(i){if(zi(i))return i;throw i}}destroy(){ys(this),this._destroyed=!0;let n=x(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),x(n)}}onDestroy(n){return ys(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ys(this);let t=Jt(this),r=it(void 0),i;try{return n()}finally{Jt(t),it(r)}}get(n,t=Lr,r){if(ys(this),n.hasOwnProperty(SE))return n[SE](this);let i=Br(r),o,s=Jt(this),a=it(void 0);try{if(!(i&4)){let l=this.records.get(n);if(l===void 0){let u=GN(n)&&bs(n);u&&this.injectableDefInScope(u)?l=Wi(Xf(n),Wc):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,i)}let c=i&2?Ts():this.parent;return t=i&8&&t===Lr?null:t,c.get(n,t)}catch(c){let l=ON(c);throw l===-200||l===-201?new C(l,null):c}finally{it(a),Jt(s)}}resolveInjectorInitializers(){let n=x(null),t=Jt(this),r=it(void 0),i;try{let o=this.get(Jn,Ue,{self:!0});for(let s of o)s()}finally{Jt(t),it(r),x(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Sn(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Oe(n);let t=Vr(n)?n:Oe(n&&n.provide),r=$N(n);if(!Vr(n)&&n.multi===!0){let i=this.records.get(t);i||(i=Wi(void 0,Wc,!0),i.factory=()=>Zf(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=x(null);try{if(t.value===ME)throw vh(Sn(n));return t.value===Wc&&(t.value=ME,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&WN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{x(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Oe(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Xf(e){let n=bs(e),t=n!==null?n.factory:Ur(e);if(t!==null)return t;if(e instanceof w)throw new C(204,!1);if(e instanceof Function)return HN(e);throw new C(204,!1)}function HN(e){if(e.length>0)throw new C(204,!1);let t=RN(e);return t!==null?()=>t.factory(e):()=>new e}function $N(e){if($E(e))return Wi(void 0,e.useValue);{let n=Ih(e);return Wi(n,Wc)}}function Ih(e,n,t){let r;if(Vr(e)){let i=Oe(e);return Ur(i)||Xf(i)}else if($E(e))r=()=>Oe(e.useValue);else if(VN(e))r=()=>e.useFactory(...Zf(e.deps||[]));else if(UN(e))r=(i,o)=>m(Oe(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Oe(e&&(e.useClass||e.provide));if(zN(e))r=()=>new i(...Zf(e.deps));else return Ur(i)||Xf(i)}return r}function ys(e){if(e.destroyed)throw new C(205,!1)}function Wi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function zN(e){return!!e.deps}function WN(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function GN(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Jf(e,n){for(let t of e)Array.isArray(t)?Jf(t,n):t&&uh(t)?Jf(t.\u0275providers,n):n(t)}function Ne(e,n){let t;e instanceof Hr?(ys(e),t=e):t=new Kf(e);let r,i=Jt(t),o=it(void 0);try{return n()}finally{Jt(i),it(o)}}function Th(){return FE()!==void 0||zc()!=null}var Tt=0,N=1,O=2,Ce=3,vt=4,He=5,Wr=6,qi=7,me=8,An=9,tn=10,de=11,Yi=12,Sh=13,Gr=14,$e=15,tr=16,qr=17,nn=18,xn=19,Mh=20,Tn=21,il=22,Ss=23,st=24,Yr=25,Qr=26,ve=27,WE=1,Nh=6,nr=7,Ms=8,Kr=9,ge=10;function rn(e){return Array.isArray(e)&&typeof e[WE]=="object"}function St(e){return Array.isArray(e)&&e[WE]===!0}function Rh(e){return(e.flags&4)!==0}function rr(e){return e.componentOffset>-1}function Qi(e){return(e.flags&1)===1}function on(e){return!!e.template}function Ki(e){return(e[O]&512)!==0}function Zr(e){return(e[O]&256)===256}var Ah="svg",GE="math";function yt(e){for(;Array.isArray(e);)e=e[Tt];return e}function xh(e,n){return yt(n[e])}function Mt(e,n){return yt(n[e.index])}function Ns(e,n){return e.data[n]}function qE(e,n){return e[n]}function _t(e,n){let t=n[e];return rn(t)?t:t[Tt]}function YE(e){return(e[O]&4)===4}function ol(e){return(e[O]&128)===128}function QE(e){return St(e[Ce])}function sn(e,n){return n==null?null:e[n]}function Oh(e){e[qr]=0}function Ph(e){e[O]&1024||(e[O]|=1024,ol(e)&&Zi(e))}function KE(e,n){for(;e>0;)n=n[Gr],e--;return n}function Rs(e){return!!(e[O]&9216||e[st]?.dirty)}function sl(e){e[tn].changeDetectionScheduler?.notify(8),e[O]&64&&(e[O]|=1024),Rs(e)&&Zi(e)}function Zi(e){e[tn].changeDetectionScheduler?.notify(0);let n=Zn(e);for(;n!==null&&!(n[O]&8192||(n[O]|=8192,!ol(n)));)n=Zn(n)}function kh(e,n){if(Zr(e))throw new C(911,!1);e[Tn]===null&&(e[Tn]=[]),e[Tn].push(n)}function ZE(e,n){if(e[Tn]===null)return;let t=e[Tn].indexOf(n);t!==-1&&e[Tn].splice(t,1)}function Zn(e){let n=e[Ce];return St(n)?n[Ce]:n}function Fh(e){return e[qi]??=[]}function Lh(e){return e.cleanup??=[]}function XE(e,n,t,r){let i=Fh(n);i.push(t),e.firstCreatePass&&Lh(e).push(r,i.length-1)}var L={lFrame:gw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eh=!1;function JE(){return L.lFrame.elementDepthCount}function ew(){L.lFrame.elementDepthCount++}function tw(){L.lFrame.elementDepthCount--}function al(){return L.bindingsEnabled}function jh(){return L.skipHydrationRootTNode!==null}function nw(e){return L.skipHydrationRootTNode===e}function rw(){L.skipHydrationRootTNode=null}function P(){return L.lFrame.lView}function Ee(){return L.lFrame.tView}function iw(e){return L.lFrame.contextLView=e,e[me]}function ow(e){return L.lFrame.contextLView=null,e}function ke(){let e=Bh();for(;e!==null&&e.type===64;)e=e.parent;return e}function Bh(){return L.lFrame.currentTNode}function sw(){let e=L.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Xi(e,n){let t=L.lFrame;t.currentTNode=e,t.isParent=n}function Uh(){return L.lFrame.isParent}function Vh(){L.lFrame.isParent=!1}function aw(){return L.lFrame.contextLView}function Hh(){return eh}function $h(e){let n=eh;return eh=e,n}function As(){let e=L.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function cw(){return L.lFrame.bindingIndex}function lw(e){return L.lFrame.bindingIndex=e}function Ji(){return L.lFrame.bindingIndex++}function cl(e){let n=L.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function uw(){return L.lFrame.inI18n}function dw(e,n){let t=L.lFrame;t.bindingIndex=t.bindingRootIndex=e,ll(n)}function fw(){return L.lFrame.currentDirectiveIndex}function ll(e){L.lFrame.currentDirectiveIndex=e}function hw(e){let n=L.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function zh(){return L.lFrame.currentQueryIndex}function ul(e){L.lFrame.currentQueryIndex=e}function qN(e){let n=e[N];return n.type===2?n.declTNode:n.type===1?e[He]:null}function Wh(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=qN(o),i===null||(o=o[Gr],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=L.lFrame=pw();return r.currentTNode=n,r.lView=e,!0}function dl(e){let n=pw(),t=e[N];L.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function pw(){let e=L.lFrame,n=e===null?null:e.child;return n===null?gw(e):n}function gw(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function mw(){let e=L.lFrame;return L.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Gh=mw;function fl(){let e=mw();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vw(e){return(L.lFrame.contextLView=KE(e,L.lFrame.contextLView))[me]}function an(){return L.lFrame.selectedIndex}function ir(e){L.lFrame.selectedIndex=e}function qh(){let e=L.lFrame;return Ns(e.tView,e.selectedIndex)}function yw(){L.lFrame.currentNamespace=Ah}function _w(){return L.lFrame.currentNamespace}var Ew=!0;function hl(){return Ew}function xs(e){Ew=e}function th(e,n=null,t=null,r){let i=Yh(e,n,t,r);return i.resolveInjectorInitializers(),i}function Yh(e,n=null,t=null,r,i=new Set){let o=[t||Ue,VE(e)];return r=r||(typeof e=="object"?void 0:Sn(e)),new Hr(o,n||Ts(),r||null,i)}var Ve=class e{static THROW_IF_NOT_FOUND=Lr;static NULL=new Es;static create(n,t){if(Array.isArray(n))return th({name:""},t,n,"");{let r=n.name??"";return th({name:r},n.parent,n.providers,r)}}static \u0275prov=D({token:e,providedIn:"any",factory:()=>m(wh)});static __NG_ELEMENT_ID__=-1},W=new w(""),cn=(()=>{class e{static __NG_ELEMENT_ID__=YN;static __NG_ENV_ID__=t=>t}return e})(),nh=class extends cn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Zr(this._lView)}onDestroy(n){let t=this._lView;return kh(t,n),()=>ZE(t,n)}};function YN(){return new nh(P())}var Qh=!1,ln=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new De(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new T(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),rh=class extends Q{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Th()&&(this.destroyRef=g(cn,{optional:!0})??void 0,this.pendingTasks=g(ln,{optional:!0})??void 0)}emit(n){let t=x(null);try{super.next(n)}finally{x(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof j&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},_e=rh;function Yc(...e){}function Kh(e){let n,t;function r(){e=Yc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Zh(e){return queueMicrotask(()=>e()),()=>{e=Yc}}var Xh="isAngularZone",ws=Xh+"_ID",QN=0,B=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _e(!1);onMicrotaskEmpty=new _e(!1);onStable=new _e(!1);onError=new _e(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Qh}=n;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,XN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Xh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new C(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,KN,Yc,Yc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},KN={};function Jh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ZN(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Kh(()=>{e.callbackScheduled=!1,ih(e),e.isCheckStableRunning=!0,Jh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),ih(e)}function XN(e){let n=()=>{ZN(e)},t=QN++;e._inner=e._inner.fork({name:"angular",properties:{[Xh]:!0,[ws]:t,[ws+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(JN(c))return r.invokeTask(o,s,a,c);try{return NE(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),RE(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return NE(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!eR(c)&&n(),RE(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ih(e),Jh(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function ih(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function NE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function RE(e){e._nesting--,Jh(e)}var Ds=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _e;onMicrotaskEmpty=new _e;onStable=new _e;onError=new _e;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function JN(e){return ww(e,"__ignore_ng_zone__")}function eR(e){return ww(e,"__scheduler_tick__")}function ww(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var en=class{_console=console;handleError(n){this._console.error("ERROR",n)}},at=new w("",{factory:()=>{let e=g(B),n=g(pe),t;return r=>{e.runOutsideAngular(()=>{n.destroyed&&!t?setTimeout(()=>{throw r}):(t??=n.get(en),t.handleError(r))})}}}),Dw={provide:Jn,useValue:()=>{let e=g(en,{optional:!0})},multi:!0};function Xr(e,n){let[t,r,i]=wf(e,n?.equal),o=t,s=o[Ze];return o.set=r,o.update=i,o.asReadonly=bw.bind(o),o}function bw(){let e=this[Ze];if(e.readonlyFn===void 0){let n=()=>this();n[Ze]=e,e.readonlyFn=n}return e.readonlyFn}var pl=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=tR}return e})();function tR(){return new pl(P(),ke())}var Mn=class{},eo=new w("",{factory:()=>!0});var gl=new w(""),Os=(()=>{class e{internalPendingTasks=g(ln);scheduler=g(Mn);errorHandler=g(at);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),ep=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new oh})}return e})(),oh=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},sh=class{[Ze];constructor(n){this[Ze]=n}destroy(){this[Ze].destroy()}};function Nt(e){return Df(e)}function Cw(e){return function(t){return t.lift(new tp(e))}}var tp=class{constructor(n){this.durationSelector=n}call(n,t){return t.subscribe(new np(n,this.durationSelector))}},np=class extends et{constructor(n,t){super(n),this.durationSelector=t,this.hasValue=!1}_next(n){if(this.value=n,this.hasValue=!0,!this.throttled){let t;try{let{durationSelector:i}=this;t=i(n)}catch(i){return this.destination.error(i)}let r=mt(t,new Je(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){let{value:n,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}};function rp(e,n=kr){return Cw(()=>IE(e,n))}function Ps(e){return function(t){let r=new ip(e),i=t.lift(r);return r.caught=i}}var ip=class{constructor(n){this.selector=n}call(n,t){return t.subscribe(new op(n,this.selector,this.caught))}},op=class extends et{constructor(n,t,r){super(n),this.selector=t,this.caught=r}error(n){if(!this.isStopped){let t;try{t=this.selector(n,this.caught)}catch(o){super.error(o);return}this._unsubscribeAndRecycle();let r=new Je(this);this.add(r);let i=mt(t,r);i!==r&&this.add(i)}}};function or(e,n){return Se(e,n,1)}function ml(e,n=kr){return t=>t.lift(new sp(e,n))}var sp=class{constructor(n,t){this.dueTime=n,this.scheduler=t}call(n,t){return t.subscribe(new ap(n,this.dueTime,this.scheduler))}},ap=class extends A{constructor(n,t,r){super(n),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(nR,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){let{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){let n=this.debouncedSubscription;n!==null&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}};function nR(e){e.debouncedNext()}function up(e=null){return n=>n.lift(new cp(e))}var cp=class{constructor(n){this.defaultValue=n}call(n,t){return t.subscribe(new lp(n,this.defaultValue))}},lp=class extends A{constructor(n,t){super(n),this.defaultValue=t,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}};function Jr(e,n){return t=>t.lift(new dp(e,n))}var dp=class{constructor(n,t){this.compare=n,this.keySelector=t}call(n,t){return t.subscribe(new fp(n,this.compare,this.keySelector))}},fp=class extends A{constructor(n,t,r){super(n),this.keySelector=r,this.hasKey=!1,typeof t=="function"&&(this.compare=t)}compare(n,t){return n===t}_next(n){let t;try{let{keySelector:i}=this;t=i?i(n):n}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{let{compare:i}=this;r=i(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(n))}};function Iw(e=rR){return n=>n.lift(new hp(e))}var hp=class{constructor(n){this.errorFactory=n}call(n,t){return t.subscribe(new pp(n,this.errorFactory))}},pp=class extends A{constructor(n,t){super(n),this.errorFactory=t,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(t){n=t}this.destination.error(n)}}};function rR(){return new Fr}function Rt(e){return n=>e===0?qn():n.lift(new gp(e))}var gp=class{constructor(n){if(this.total=n,this.total<0)throw new Lc}call(n,t){return t.subscribe(new mp(n,this.total))}},mp=class extends A{constructor(n,t){super(n),this.total=t,this.count=0}_next(n){let t=this.total,r=++this.count;r<=t&&(this.destination.next(n),r===t&&(this.destination.complete(),this.unsubscribe()))}};function _p(e,n=Number.POSITIVE_INFINITY,t){return n=(n||0)<1?Number.POSITIVE_INFINITY:n,r=>r.lift(new vp(e,n,t))}var vp=class{constructor(n,t,r){this.project=n,this.concurrent=t,this.scheduler=r}call(n,t){return t.subscribe(new yp(n,this.project,this.concurrent,this.scheduler))}},yp=class e extends et{constructor(n,t,r,i){super(n),this.project=t,this.concurrent=r,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(n){let{subscriber:t,result:r,value:i,index:o}=n;t.subscribeToProjection(r,i,o)}_next(n){let t=this.destination;if(t.closed){this._complete();return}let r=this.index++;if(this.active<this.concurrent){t.next(n);try{let{project:i}=this,o=i(n,r);if(!this.scheduler)this.subscribeToProjection(o,n,r);else{let s={subscriber:this,result:o,value:n,index:r};this.destination.add(this.scheduler.schedule(e.dispatch,0,s))}}catch(i){t.error(i)}}else this.buffer.push(n)}subscribeToProjection(n,t,r){this.active++,this.destination.add(mt(n,new Je(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()}notifyNext(n){this._next(n)}notifyComplete(){let n=this.buffer;this.active--,n&&n.length>0&&this._next(n.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()}};function sr(e){return n=>n.lift(new Ep(e))}var Ep=class{constructor(n){this.callback=n}call(n,t){return t.subscribe(new wp(n,this.callback))}},wp=class extends A{constructor(n,t){super(n),this.add(new j(t))}};function At(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Me((i,o)=>e(i,o,r)):Fi,Rt(1),t?up(n):Iw(()=>new Fr))}function vl(e){return function(t){return e===0?qn():t.lift(new Dp(e))}}var Dp=class{constructor(n){if(this.total=n,this.total<0)throw new Lc}call(n,t){return t.subscribe(new bp(n,this.total))}},bp=class extends A{constructor(n,t){super(n),this.total=t,this.ring=new Array,this.count=0}_next(n){let t=this.ring,r=this.total,i=this.count++;if(t.length<r)t.push(n);else{let o=i%r;t[o]=n}}_complete(){let n=this.destination,t=this.count;if(t>0){let r=this.count>=this.total?this.total:this.count,i=this.ring;for(let o=0;o<r;o++){let s=t++%r;n.next(i[s])}}n.complete()}};function ks(e,n){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new Cp(e,n,t))}}var Cp=class{constructor(n,t,r=!1){this.accumulator=n,this.seed=t,this.hasSeed=r}call(n,t){return t.subscribe(new Ip(n,this.accumulator,this.seed,this.hasSeed))}},Ip=class extends A{constructor(n,t,r,i){super(n),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(!this.hasSeed)this.seed=n,this.destination.next(n);else return this._tryNext(n)}_tryNext(n){let t=this.index++,r;try{r=this.accumulator(this.seed,n,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}};function Tw(e,n){return function(r){let i;if(typeof e=="function"?i=e:i=function(){return e},typeof n=="function")return r.lift(new Tp(i,n));let o=Object.create(r,dE);return o.source=r,o.subjectFactory=i,o}}var Tp=class{constructor(n,t){this.subjectFactory=n,this.selector=t}call(n,t){let{selector:r}=this,i=this.subjectFactory(),o=r(i).subscribe(n);return o.add(t.subscribe(i)),o}};function Np(){return e=>e.lift(new Sp)}var Sp=class{call(n,t){return t.subscribe(new Mp(n))}},Mp=class extends A{constructor(n){super(n),this.hasPrev=!1}_next(n){let t;this.hasPrev?t=[this.prev,n]:this.hasPrev=!0,this.prev=n,t&&this.destination.next(t)}};function to(...e){let n=e.length;if(n===0)throw new Error("list of properties cannot be empty.");return t=>M(iR(e,n))(t)}function iR(e,n){return r=>{let i=r;for(let o=0;o<n;o++){let s=i?.[e[o]];if(s!==void 0)i=s;else return}return i}}function oR(){return new Q}function Rp(){return e=>Cc()(Tw(oR)(e))}function yl(e,n,t){let r;return e&&typeof e=="object"?r=e:r={bufferSize:e,windowTime:n,refCount:!1,scheduler:t},i=>i.lift(sR(r))}function sR({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let i,o=0,s,a=!1,c=!1;return function(u){o++;let d;!i||a?(a=!1,i=new Rc(e,n,r),d=i.subscribe(this),s=u.subscribe({next(f){i.next(f)},error(f){a=!0,i.error(f)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):d=i.subscribe(this),this.add(()=>{o--,d.unsubscribe(),d=void 0,s&&!c&&t&&o===0&&(s.unsubscribe(),s=void 0,i=void 0)})}}function Op(e){return n=>n.lift(new Ap(e))}var Ap=class{constructor(n){this.predicate=n}call(n,t){return t.subscribe(new xp(n,this.predicate))}},xp=class extends A{constructor(n,t){super(n),this.predicate=t,this.skipping=!0,this.index=0}_next(n){let t=this.destination;this.skipping&&this.tryCallPredicate(n),this.skipping||t.next(n)}tryCallPredicate(n){try{let t=this.predicate(n,this.index++);this.skipping=!!t}catch(t){this.destination.error(t)}}};function Pp(...e){let n=e[e.length-1];return It(n)?(e.pop(),t=>$i(e,t,n)):t=>$i(e,t)}var _l=class e extends T{constructor(n,t=0,r=Oc){super(),this.source=n,this.delayTime=t,this.scheduler=r,(!vs(t)||t<0)&&(this.delayTime=0),(!r||typeof r.schedule!="function")&&(this.scheduler=Oc)}static create(n,t=0,r=Oc){return new e(n,t,r)}static dispatch(n){let{source:t,subscriber:r}=n;return this.add(t.subscribe(r))}_subscribe(n){let t=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,t,{source:r,subscriber:n})}};function ei(e,n=0){return function(r){return r.lift(new kp(e,n))}}var kp=class{constructor(n,t){this.scheduler=n,this.delay=t}call(n,t){return new _l(t,this.delay,this.scheduler).subscribe(n)}};function X(e,n){return typeof n=="function"?t=>t.pipe(X((r,i)=>ue(e(r,i)).pipe(M((o,s)=>n(r,o,i,s))))):t=>t.lift(new Fp(e))}var Fp=class{constructor(n){this.project=n}call(n,t){return t.subscribe(new Lp(n,this.project))}},Lp=class extends et{constructor(n,t){super(n),this.project=t,this.index=0}_next(n){let t,r=this.index++;try{t=this.project(n,r)}catch(i){this.destination.error(i);return}this._innerSub(t)}_innerSub(n){let t=this.innerSubscription;t&&t.unsubscribe();let r=new Je(this),i=this.destination;i.add(r),this.innerSubscription=mt(n,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){let{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}};function El(e,n){return n?X(()=>e,n):X(()=>e)}function Fe(e){return n=>n.lift(new jp(e))}var jp=class{constructor(n){this.notifier=n}call(n,t){let r=new Bp(n),i=mt(this.notifier,new Je(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}},Bp=class extends et{constructor(n){super(n),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}};function Hp(e,n=!1){return t=>t.lift(new Up(e,n))}var Up=class{constructor(n,t){this.predicate=n,this.inclusive=t}call(n,t){return t.subscribe(new Vp(n,this.predicate,this.inclusive))}},Vp=class extends A{constructor(n,t,r){super(n),this.predicate=t,this.inclusive=r,this.index=0}_next(n){let t=this.destination,r;try{r=this.predicate(n,this.index++)}catch(i){t.error(i);return}this.nextOrComplete(n,r)}nextOrComplete(n,t){let r=this.destination;t?r.next(n):(this.inclusive&&r.next(n),r.complete())}};function G(e,n,t){return function(i){return i.lift(new $p(e,n,t))}}var $p=class{constructor(n,t,r){this.nextOrObserver=n,this.error=t,this.complete=r}call(n,t){return t.subscribe(new zp(n,this.nextOrObserver,this.error,this.complete))}},zp=class extends A{constructor(n,t,r,i){super(n),this._tapNext=In,this._tapError=In,this._tapComplete=In,this._tapError=r||In,this._tapComplete=i||In,bn(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||In,this._tapError=t.error||In,this._tapComplete=t.complete||In)}_next(n){try{this._tapNext.call(this._context,n)}catch(t){this.destination.error(t);return}this.destination.next(n)}_error(n){try{this._tapError.call(this._context,n)}catch(t){this.destination.error(t);return}this.destination.error(n)}_complete(){try{this._tapComplete.call(this._context)}catch(n){this.destination.error(n);return}return this.destination.complete()}};function qp(...e){return n=>{let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r=e;return n.lift(new Wp(r,t))}}var Wp=class{constructor(n,t){this.observables=n,this.project=t}call(n,t){return t.subscribe(new Gp(n,this.observables,this.project))}},Gp=class extends Vi{constructor(n,t,r){super(n),this.observables=t,this.project=r,this.toRespond=[];let i=t.length;this.values=new Array(i);for(let o=0;o<i;o++)this.toRespond.push(o);for(let o=0;o<i;o++){let s=t[o];this.add(Vc(this,s,void 0,o))}}notifyNext(n,t,r){this.values[r]=t;let i=this.toRespond;if(i.length>0){let o=i.indexOf(r);o!==-1&&i.splice(o,1)}}notifyComplete(){}_next(n){if(this.toRespond.length===0){let t=[n,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(n){let t;try{t=this.project.apply(this,n)}catch(r){this.destination.error(r);return}this.destination.next(t)}};function ao(e){return{toString:e}.toString()}var wl="__parameters__";function pR(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function nD(e,n,t){return ao(()=>{let r=pR(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(wl)?c[wl]:Object.defineProperty(c,wl,{value:[]})[wl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var gR=_h(nD("Inject",e=>({token:e})),-1),xg=_h(nD("Optional"),8);function rD(e){let n=ot.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function mR(e){return typeof e=="function"}function iD(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Nl=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},On=(()=>{let e=()=>oD;return e.ngInherit=!0,e})();function oD(e){return e.type.prototype.ngOnChanges&&(e.setInput=yR),vR}function vR(){let e=aD(this),n=e?.current;if(n){let t=e.previous;if(t===Xn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function yR(e,n,t,r,i){let o=this.declaredInputs[r],s=aD(e)||_R(e,{previous:Xn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Nl(l&&l.currentValue,t,c===Xn),iD(e,n,i,t)}var sD="__ngSimpleChanges__";function aD(e){return e[sD]||null}function _R(e,n){return e[sD]=n}var Sw=[];var re=function(e,n=null,t){for(let r=0;r<Sw.length;r++){let i=Sw[r];i(e,n,t)}},J=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(J||{});function ER(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=oD(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function cD(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function Il(e,n,t){lD(e,n,3,t)}function Tl(e,n,t,r){(e[O]&3)===t&&lD(e,n,t,r)}function Yp(e,n){let t=e[O];(t&3)===n&&(t&=16383,t+=1,e[O]=t)}function lD(e,n,t,r){let i=r!==void 0?e[qr]&65535:0,o=r??-1,s=n.length-1,a=0;for(let c=i;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[qr]+=65536),(a<o||o==-1)&&(wR(e,t,n,c),e[qr]=(e[qr]&4294901760)+c+2),c++}function Mw(e,n){re(J.LifecycleHookStart,e,n);let t=x(null);try{n.call(e)}finally{x(t),re(J.LifecycleHookEnd,e,n)}}function wR(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[O]>>14<e[qr]>>16&&(e[O]&3)===n&&(e[O]+=16384,Mw(a,o)):Mw(a,o)}var ro=-1,ni=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function DR(e){return(e.flags&8)!==0}function bR(e){return(e.flags&16)!==0}function CR(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];IR(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function uD(e){return e===3||e===4||e===6}function IR(e){return e.charCodeAt(0)===64}function js(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Nw(e,t,i,null,n[++r]):Nw(e,t,i,null,null))}}return e}function Nw(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function dD(e){return e!==ro}function Rl(e){return e&32767}function TR(e){return e>>16}function Al(e,n){let t=TR(e),r=n;for(;t>0;)r=r[Gr],t--;return r}var og=!0;function Rw(e){let n=og;return og=e,n}var SR=256,fD=SR-1,hD=5,MR=0,un={};function NR(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty($r)&&(r=t[$r]),r==null&&(r=t[$r]=MR++);let i=r&fD,o=1<<i;n.data[e+(i>>hD)]|=o}function xl(e,n){let t=pD(e,n);if(t!==-1)return t;let r=n[N];r.firstCreatePass&&(e.injectorIndex=n.length,Qp(r.data,e),Qp(n,null),Qp(r.blueprint,null));let i=Og(e,n),o=e.injectorIndex;if(dD(i)){let s=Rl(i),a=Al(i,n),c=a[N].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|c[s+l]}return n[o+8]=i,o}function Qp(e,n){e.push(0,0,0,0,0,0,0,0,n)}function pD(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Og(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=_D(i),r===null)return ro;if(t++,i=i[Gr],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ro}function sg(e,n,t){NR(e,n,t)}function RR(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(uD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function gD(e,n,t){if(t&8||e!==void 0)return e;el(n,"NodeInjector")}function mD(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[An],o=it(void 0);try{return i?i.get(n,r,t&8):yh(n,r,t&8)}finally{it(o)}}return gD(r,n,t)}function vD(e,n,t,r=0,i){if(e!==null){if(n[O]&2048&&!(r&2)){let s=PR(e,n,t,r,un);if(s!==un)return s}let o=yD(e,n,t,r,un);if(o!==un)return o}return mD(n,t,r,i)}function yD(e,n,t,r,i){let o=xR(t);if(typeof o=="function"){if(!Wh(n,e,r))return r&1?gD(i,t,r):mD(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))el(t);else return s}finally{Gh()}}else if(typeof o=="number"){let s=null,a=pD(e,n),c=ro,l=r&1?n[$e][He]:null;for((a===-1||r&4)&&(c=a===-1?Og(e,n):n[a+8],c===ro||!xw(r,!1)?a=-1:(s=n[N],a=Rl(c),n=Al(c,n)));a!==-1;){let u=n[N];if(Aw(o,a,u.data)){let d=AR(a,n,t,s,r,l);if(d!==un)return d}c=n[a+8],c!==ro&&xw(r,n[N].data[a+8]===l)&&Aw(o,a,n)?(s=u,a=Rl(c),n=Al(c,n)):a=-1}}return i}function AR(e,n,t,r,i,o){let s=n[N],a=s.data[e+8],c=r==null?rr(a)&&og:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=Sl(a,s,t,c,l);return u!==null?Bs(n,s,u,a,i):un}function Sl(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&t===p||h>=c&&p.type===t)return h}if(i){let h=s[c];if(h&&on(h)&&h.type===t)return c}return null}function Bs(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof ni){let a=o;if(a.resolving){let h=OE(s[t]);throw vh(h)}let c=Rw(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],u,d=a.injectImpl?it(a.injectImpl):null,f=Wh(e,r,0);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&ER(t,s[t],n)}finally{d!==null&&it(d),Rw(c),a.resolving=!1,Gh()}}return o}function xR(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty($r)?e[$r]:void 0;return typeof n=="number"?n>=0?n&fD:OR:n}function Aw(e,n,t){let r=1<<e;return!!(t[n+(e>>hD)]&r)}function xw(e,n){return!(e&2)&&!(e&1&&n)}var ti=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return vD(this._tNode,this._lView,n,Br(r),t)}};function OR(){return new ti(ke(),P())}function co(e){return ao(()=>{let n=e.prototype.constructor,t=n[_s]||ag(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[_s]||ag(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ag(e){return ch(e)?()=>{let n=ag(Oe(e));return n&&n()}:Ur(e)}function PR(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[O]&2048&&!Ki(s);){let a=yD(o,s,t,r|2,un);if(a!==un)return a;let c=o.parent;if(!c){let l=s[Mh];if(l){let u=l.get(t,un,r);if(u!==un)return u}c=_D(s),s=s[Gr]}o=c}return i}function _D(e){let n=e[N],t=n.type;return t===2?n.declTNode:t===1?e[He]:null}function Gs(e){return RR(ke(),e)}function kR(){return lo(ke(),P())}function lo(e,n){return new ie(Mt(e,n))}var ie=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=kR}return e})();function FR(e){return e instanceof ie?e.nativeElement:e}function LR(){return this._results[Symbol.iterator]()}var Ol=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Q}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=jE(n);(this._changesDetected=!LE(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=LR};function ED(e){return(e.flags&128)===128}var Pg=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(Pg||{}),wD=new Map,jR=0;function BR(){return jR++}function UR(e){wD.set(e[xn],e)}function cg(e){wD.delete(e[xn])}var Ow="__ngContext__";function io(e,n){rn(n)?(e[Ow]=n[xn],UR(n)):e[Ow]=n}function DD(e){return CD(e[Yi])}function bD(e){return CD(e[vt])}function CD(e){for(;e!==null&&!St(e);)e=e[vt];return e}var VR;function kg(e){VR=e}var Gl=new w("",{factory:()=>HR}),HR="ng";var ql=new w(""),ze=new w("",{providedIn:"platform",factory:()=>"unknown"}),$R=new w(""),Yl=new w("",{factory:()=>g(W).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ID="r";var TD="di";var SD=!1,MD=new w("",{factory:()=>SD});var Fg=new w("");var zR=(e,n,t,r)=>{};function WR(e,n,t,r){zR(e,n,t,r)}function Ql(e){return(e.flags&32)===32}var GR=()=>null;function ND(e,n,t=!1){return GR(e,n,t)}function RD(e,n){let t=e.contentQueries;if(t!==null){let r=x(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];ul(o),a.contentQueries(2,n[s],s)}}}finally{x(r)}}}function lg(e,n,t){ul(0);let r=x(null);try{n(e,t)}finally{x(r)}}function Lg(e,n,t){if(Rh(n)){let r=x(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{x(r)}}}var Pt=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Pt||{});var Dl;function qR(){if(Dl===void 0&&(Dl=null,ot.trustedTypes))try{Dl=ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Dl}function Pw(e){return qR()?.createScriptURL(e)||e}var Pl=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qc})`}};function uo(e){return e instanceof Pl?e.changingThisBreaksApplicationSecurity:e}function jg(e,n){let t=AD(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Qc})`)}return t===n}function AD(e){return e instanceof Pl&&e.getTypeName()||null}var YR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xD(e){return e=String(e),e.match(YR)?e:"unsafe:"+e}var QR=/^>|^->|<!--|-->|--!>|<!-$/g,KR=/(<|>)/g,ZR="\u200B$1\u200B";function XR(e){return e.replace(QR,n=>n.replace(KR,ZR))}function JR(e,n){return e.createText(n)}function e0(e,n,t){e.setValue(n,t)}function t0(e,n){return e.createComment(XR(n))}function OD(e,n,t){return e.createElement(n,t)}function kl(e,n,t,r,i){e.insertBefore(n,t,r,i)}function PD(e,n,t){e.appendChild(n,t)}function kw(e,n,t,r,i){r!==null?kl(e,n,t,r,i):PD(e,n,t)}function kD(e,n,t,r){e.removeChild(null,n,t,r)}function n0(e,n,t){e.setAttribute(n,"style",t)}function r0(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function FD(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&CR(e,n,r),i!==null&&r0(e,n,i),o!==null&&n0(e,n,o)}var Kl=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(Kl||{});function LD(e){let n=BD();return n?n.sanitize(Kl.URL,e)||"":jg(e,"URL")?uo(e):xD(zr(e))}function jD(e){let n=BD();if(n)return Pw(n.sanitize(Kl.RESOURCE_URL,e)||"");if(jg(e,"ResourceURL"))return Pw(uo(e));throw new C(904,!1)}var i0=new Set(["embed","frame","iframe","media","script"]),o0=new Set(["base","link","script"]);function s0(e,n){return n==="src"&&i0.has(e)||n==="href"&&o0.has(e)||n==="xlink:href"&&e==="script"?jD:LD}function Bg(e,n,t){return s0(n,t)(e)}function BD(){let e=P();return e&&e[tn].sanitizer}function a0(e){return e.ownerDocument.defaultView}function UD(e){return e instanceof Function?e():e}function c0(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var VD="ng-template";function l0(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&c0(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ug(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ug(e){return e.type===4&&e.value!==VD}function u0(e,n,t){let r=e.type===4&&!t?VD:e.value;return n===r}function d0(e,n,t){let r=4,i=e.attrs,o=i!==null?p0(i):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!xt(r)&&!xt(c))return!1;if(s&&xt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!u0(e,c,t)||c===""&&n.length===1){if(xt(r))return!1;s=!0}}else if(r&8){if(i===null||!l0(e,i,c,t)){if(xt(r))return!1;s=!0}}else{let l=n[++a],u=f0(c,i,Ug(e),t);if(u===-1){if(xt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(xt(r))return!1;s=!0}}}}return xt(r)||s}function xt(e){return(e&1)===0}function f0(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return g0(n,e)}function HD(e,n,t=!1){for(let r=0;r<n.length;r++)if(d0(e,n[r],t))return!0;return!1}function h0(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function p0(e){for(let n=0;n<e.length;n++){let t=e[n];if(uD(t))return n}return e.length}function g0(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function m0(e,n){e:for(let t=0;t<n.length;t++){let r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Fw(e,n){return e?":not("+n.trim()+")":n}function v0(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!xt(s)&&(n+=Fw(o,i),i=""),r=s,o=o||!xt(r);t++}return i!==""&&(n+=Fw(o,i)),n}function y0(e){return e.map(v0).join(",")}function _0(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!xt(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var We={};function Vg(e,n,t,r,i,o,s,a,c,l,u){let d=ve+r,f=d+i,h=E0(d,f),p=typeof l=="function"?l():l;return h[N]={type:e,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function E0(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:We);return t}function w0(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Vg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Hg(e,n,t,r,i,o,s,a,c,l,u){let d=n.blueprint.slice();return d[Tt]=i,d[O]=r|4|128|8|64|1024,(l!==null||e&&e[O]&2048)&&(d[O]|=2048),Oh(d),d[Ce]=d[Gr]=e,d[me]=t,d[tn]=s||e&&e[tn],d[de]=a||e&&e[de],d[An]=c||e&&e[An]||null,d[He]=o,d[xn]=BR(),d[Wr]=u,d[Mh]=l,d[$e]=n.type==2?e[$e]:d,d}function D0(e,n,t){let r=Mt(n,e),i=w0(t),o=e[tn].rendererFactory,s=$g(e,Hg(e,i,null,$D(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function $D(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function zD(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function $g(e,n){return e[Yi]?e[Sh][vt]=n:e[Yi]=n,e[Sh]=n,n}function lr(e=1){WD(Ee(),P(),an()+e,!1)}function WD(e,n,t,r){if(!r)if((n[O]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Il(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Tl(n,o,0,t)}ir(t)}var Zl=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Zl||{});function ug(e,n,t,r){let i=x(null);try{let[o,s,a]=e.inputs[t],c=null;(s&Zl.SignalBased)!==0&&(c=n[o][Ze]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,o):iD(n,c,o,r)}finally{x(i)}}var ct=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(ct||{}),b0;function zg(e,n){return b0(e,n)}var ri=new Set,Xl=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Xl||{}),Pn=new w(""),Lw=new Set;function Ft(e){Lw.has(e)||(Lw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Wg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),GD=[0,1,2,3],qD=(()=>{class e{ngZone=g(B);scheduler=g(Mn);errorHandler=g(en,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(Pn,{optional:!0})}execute(){let t=this.sequences.size>0;t&&re(J.AfterRenderHooksStart),this.executing=!0;for(let r of GD)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&re(J.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[Yr]??=[]).push(t),Zi(r),r[O]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Xl.AFTER_NEXT_RENDER,t):t()}static \u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}return e})(),Fl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Yr];n&&(this.view[Yr]=n.filter(t=>t!==this))}};function Gg(e,n){let t=n?.injector??g(Ve);return Ft("NgAfterNextRender"),I0(e,t,n,!0)}function C0(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function I0(e,n,t,r){let i=n.get(Wg);i.impl??=n.get(qD);let o=n.get(Pn,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(cn):null,a=n.get(pl,null,{optional:!0}),c=new Fl(i.impl,C0(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var YD=new w("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:g(pe)})});function QD(e,n,t){let r=e.get(YD);if(Array.isArray(n))for(let i of n)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(n),t?.detachedLeaveAnimationFns?.push(n);r.scheduler&&r.scheduler(e)}function T0(e,n){let t=e.get(YD);if(n.detachedLeaveAnimationFns){for(let r of n.detachedLeaveAnimationFns)t.queue.delete(r);n.detachedLeaveAnimationFns=void 0}}function S0(e,n){for(let[t,r]of n)QD(e,r.animateFns)}function jw(e,n,t,r){let i=e?.[Qr]?.enter;n!==null&&i&&i.has(t.index)&&S0(r,i)}function no(e,n,t,r,i,o,s,a){if(i!=null){let c,l=!1;St(i)?c=i:rn(i)&&(l=!0,i=i[Tt]);let u=yt(i);e===0&&r!==null?(jw(a,r,o,t),s==null?PD(n,r,u):kl(n,r,u,s||null,!0)):e===1&&r!==null?(jw(a,r,o,t),kl(n,r,u,s||null,!0)):e===2?Bw(a,o,t,d=>{kD(n,u,l,d)}):e===3&&Bw(a,o,t,()=>{n.destroyNode(u)}),c!=null&&j0(n,e,t,c,o,r,s)}}function M0(e,n){KD(e,n),n[Tt]=null,n[He]=null}function N0(e,n,t,r,i,o){r[Tt]=i,r[He]=n,eu(e,r,t,1,i,o)}function KD(e,n){n[tn].changeDetectionScheduler?.notify(9),eu(e,n,n[de],2,null,null)}function R0(e){let n=e[Yi];if(!n)return Kp(e[N],e);for(;n;){let t=null;if(rn(n))t=n[Yi];else{let r=n[ge];r&&(t=r)}if(!t){for(;n&&!n[vt]&&n!==e;)rn(n)&&Kp(n[N],n),n=n[Ce];n===null&&(n=e),rn(n)&&Kp(n[N],n),t=n&&n[vt]}n=t}}function qg(e,n){let t=e[Kr],r=t.indexOf(n);t.splice(r,1)}function Jl(e,n){if(Zr(n))return;let t=n[de];t.destroyNode&&eu(e,n,t,3,null,null),R0(n)}function Kp(e,n){if(Zr(n))return;let t=x(null);try{n[O]&=-129,n[O]|=256,n[st]&&ls(n[st]),O0(e,n),x0(e,n),n[N].type===1&&n[de].destroy();let r=n[tr];if(r!==null&&St(n[Ce])){r!==n[Ce]&&qg(r,n);let i=n[nn];i!==null&&i.detachView(e)}cg(n)}finally{x(t)}}function Bw(e,n,t,r){let i=e?.[Qr];if(i==null||i.leave==null||!i.leave.has(n.index))return r(!1);e&&ri.add(e[xn]),QD(t,()=>{if(i.leave&&i.leave.has(n.index)){let s=i.leave.get(n.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),A0(e,r)}else e&&ri.delete(e[xn]),r(!1)},i)}function A0(e,n){let t=e[Qr]?.running;if(t){t.then(()=>{e[Qr].running=void 0,ri.delete(e[xn]),n(!0)});return}n(!1)}function x0(e,n){let t=e.cleanup,r=n[qi];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[qi]=null);let i=n[Tn];if(i!==null){n[Tn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Ss];if(o!==null){n[Ss]=null;for(let s of o)s.destroy()}}function O0(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof ni)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];re(J.LifecycleHookStart,a,c);try{c.call(a)}finally{re(J.LifecycleHookEnd,a,c)}}else{re(J.LifecycleHookStart,i,o);try{o.call(i)}finally{re(J.LifecycleHookEnd,i,o)}}}}}function ZD(e,n,t){return P0(e,n.parent,t)}function P0(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[Tt];if(rr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Pt.None||i===Pt.Emulated)return null}return Mt(r,t)}function XD(e,n,t){return F0(e,n,t)}function k0(e,n,t){return e.type&40?Mt(e,t):null}var F0=k0,Uw;function Yg(e,n,t,r){let i=ZD(e,r,n),o=n[de],s=r.parent||n[He],a=XD(s,r,n);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)kw(o,i,t[c],a,!1);else kw(o,i,t,a,!1);Uw!==void 0&&Uw(o,r,n,t,i)}function Fs(e,n){if(n!==null){let t=n.type;if(t&3)return Mt(n,e);if(t&4)return dg(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Fs(e,r);{let i=e[n.index];return St(i)?dg(-1,i):yt(i)}}else{if(t&128)return Fs(e,n.next);if(t&32)return zg(n,e)()||yt(e[n.index]);{let r=JD(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Zn(e[$e]);return Fs(i,r)}else return Fs(e,n.next)}}}return null}function JD(e,n){if(n!==null){let r=e[$e][He],i=n.projection;return r.projection[i]}return null}function dg(e,n){let t=ge+e+1;if(t<n.length){let r=n[t],i=r[N].firstChild;if(i!==null)return Fs(r,i)}return n[nr]}function Qg(e,n,t,r,i,o,s){for(;t!=null;){let a=r[An];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&n===0&&(c&&io(yt(c),r),t.flags|=2),!Ql(t))if(l&8)Qg(e,n,t.child,r,i,o,!1),no(n,e,a,i,c,t,o,r);else if(l&32){let u=zg(t,r),d;for(;d=u();)no(n,e,a,i,d,t,o,r);no(n,e,a,i,c,t,o,r)}else l&16?eb(e,n,r,t,i,o):no(n,e,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function eu(e,n,t,r,i,o){Qg(t,r,e.firstChild,n,i,o,!1)}function L0(e,n,t){let r=n[de],i=ZD(e,t,n),o=t.parent||n[He],s=XD(o,t,n);eb(r,0,n,t,i,s)}function eb(e,n,t,r,i,o){let s=t[$e],c=s[He].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];no(n,e,t[An],i,u,r,o,t)}else{let l=c,u=s[Ce];ED(r)&&(l.flags|=128),Qg(e,n,l,u,i,o,!0)}}function j0(e,n,t,r,i,o,s){let a=r[nr],c=yt(r);a!==c&&no(n,e,t,o,a,i,s);for(let l=ge;l<r.length;l++){let u=r[l];eu(u[N],u,e,n,o,a)}}function B0(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ct.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ct.Important),e.setStyle(t,r,i,o))}}function tb(e,n,t,r,i){let o=an(),s=r&2;try{ir(-1),s&&n.length>ve&&WD(e,n,ve,!1);let a=s?J.TemplateUpdateStart:J.TemplateCreateStart;re(a,i,t),t(r,i)}finally{ir(o);let a=s?J.TemplateUpdateEnd:J.TemplateCreateEnd;re(a,i,t)}}function tu(e,n,t){q0(e,n,t),(t.flags&64)===64&&Y0(e,n,t)}function nu(e,n,t=Mt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function U0(e,n,t,r){let o=r.get(MD,SD)||t===Pt.ShadowDom||t===Pt.ExperimentalIsolatedShadowDom,s=e.selectRootElement(n,o);return V0(s),s}function V0(e){H0(e)}var H0=()=>null;function $0(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function z0(e,n,t,r,i,o){let s=n[N];if(Zg(e,s,n,t,r)){rr(e)&&G0(n,e.index);return}e.type&3&&(t=$0(t)),W0(e,n,t,r,i,o)}function W0(e,n,t,r,i,o){if(e.type&3){let s=Mt(e,n);r=o!=null?o(r,e.value||"",t):r,i.setProperty(s,t,r)}else e.type&12}function G0(e,n){let t=_t(n,e);t[O]&16||(t[O]|=64)}function q0(e,n,t){let r=t.directiveStart,i=t.directiveEnd;rr(t)&&D0(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||xl(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Bs(n,e,s,t);if(io(c,n),o!==null&&X0(n,s-r,c,a,t,o),on(a)){let l=_t(t.index,n);l[me]=Bs(n,e,s,t)}}}function Y0(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=fw();try{ir(o);for(let a=r;a<i;a++){let c=e.data[a],l=n[a];ll(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Q0(c,l)}}finally{ir(-1),ll(s)}}function Q0(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Kg(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];HD(n,o.selectors,!1)&&(r??=[],on(o)?r.unshift(o):r.push(o))}return r}function K0(e,n,t,r,i,o){let s=Mt(e,n);Z0(n[de],s,o,e.value,t,r,i)}function Z0(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?zr(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function X0(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];ug(r,t,c,l)}}function nb(e,n,t,r,i){let o=ve+t,s=n[N],a=i(s,n,e,r,t);n[o]=a,Xi(e,!0);let c=e.type===2;return c?(FD(n[de],a,e),(JE()===0||Qi(e))&&io(a,n),ew()):io(a,n),hl()&&(!c||!Ql(e))&&Yg(s,n,a,e),e}function rb(e){let n=e;return Uh()?Vh():(n=n.parent,Xi(n,!1)),n}function J0(e,n){let t=e[An];if(!t)return;let r;try{r=t.get(at,null)}catch{r=null}r?.(n)}function Zg(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=n.data[l];ug(d,t[l],u,i),a=!0}if(o)for(let c of o){let l=t[c],u=n.data[c];ug(u,l,r,i),a=!0}return a}function eA(e,n){let t=_t(n,e),r=t[N];tA(r,t);let i=t[Tt];i!==null&&t[Wr]===null&&(t[Wr]=ND(i,t[An])),re(J.ComponentStart);try{Xg(r,t,t[me])}finally{re(J.ComponentEnd,t[me])}}function tA(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Xg(e,n,t){dl(n);try{let r=e.viewQuery;r!==null&&lg(1,r,t);let i=e.template;i!==null&&tb(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[nn]?.finishViewCreation(e),e.staticContentQueries&&RD(e,n),e.staticViewQueries&&lg(2,e.viewQuery,t);let o=e.components;o!==null&&nA(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[O]&=-5,fl()}}function nA(e,n){for(let t=0;t<n.length;t++)eA(e,n[t])}function qs(e,n,t,r){let i=x(null);try{let o=n.tView,a=e[O]&4096?4096:16,c=Hg(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[n.index];c[tr]=l;let u=e[nn];return u!==null&&(c[nn]=u.createEmbeddedView(o)),Xg(o,c,t),c}finally{x(i)}}function oo(e,n){return!n||n.firstChild===null||ED(e)}function Us(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(yt(o)),St(o)&&ib(o,r);let s=t.type;if(s&8)Us(e,n,t.child,r);else if(s&32){let a=zg(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=JD(n,t);if(Array.isArray(a))r.push(...a);else{let c=Zn(n[$e]);Us(c[N],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ib(e,n){for(let t=ge;t<e.length;t++){let r=e[t],i=r[N].firstChild;i!==null&&Us(r[N],r,i,n)}e[nr]!==e[Tt]&&n.push(e[nr])}function ob(e){if(e[Yr]!==null){for(let n of e[Yr])n.impl.addSequence(n);e[Yr].length=0}}var sb=[];function rA(e){return e[st]??iA(e)}function iA(e){let n=sb.pop()??Object.create(sA);return n.lView=e,n}function oA(e){e.lView[st]!==e&&(e.lView=null,sb.push(e))}var sA=q(E({},ss),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Zi(e.lView)},consumerOnSignalRead(){this.lView[st]=this}});function aA(e){let n=e[st]??Object.create(cA);return n.lView=e,n}var cA=q(E({},ss),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Zn(e.lView);for(;n&&!ab(n[N]);)n=Zn(n);n&&Ph(n)},consumerOnSignalRead(){this.lView[st]=this}});function ab(e){return e.type!==2}function cb(e){if(e[Ss]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Ss])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[O]&8192)}}var lA=100;function lb(e,n=0){let r=e[tn].rendererFactory,i=!1;i||r.begin?.();try{uA(e,n)}finally{i||r.end?.()}}function uA(e,n){let t=Hh();try{$h(!0),fg(e,n);let r=0;for(;Rs(e);){if(r===lA)throw new C(103,!1);r++,fg(e,1)}}finally{$h(t)}}function dA(e,n,t,r){if(Zr(n))return;let i=n[O],o=!1,s=!1;dl(n);let a=!0,c=null,l=null;o||(ab(e)?(l=rA(n),c=cs(l)):vc()===null?(a=!1,l=aA(n),c=cs(l)):n[st]&&(ls(n[st]),n[st]=null));try{Oh(n),lw(e.bindingStartIndex),t!==null&&tb(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Il(n,h,null)}else{let h=e.preOrderHooks;h!==null&&Tl(n,h,0,null),Yp(n,0)}if(s||fA(n),cb(n),ub(n,0),e.contentQueries!==null&&RD(e,n),!o)if(u){let h=e.contentCheckHooks;h!==null&&Il(n,h)}else{let h=e.contentHooks;h!==null&&Tl(n,h,1),Yp(n,1)}pA(e,n);let d=e.components;d!==null&&fb(n,d,0);let f=e.viewQuery;if(f!==null&&lg(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&Il(n,h)}else{let h=e.viewHooks;h!==null&&Tl(n,h,2),Yp(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[il]){for(let h of n[il])h();n[il]=null}o||(ob(n),n[O]&=-73)}catch(u){throw o||Zi(n),u}finally{l!==null&&(yc(l,c),a&&oA(l)),fl()}}function ub(e,n){for(let t=DD(e);t!==null;t=bD(t))for(let r=ge;r<t.length;r++){let i=t[r];db(i,n)}}function fA(e){for(let n=DD(e);n!==null;n=bD(n)){if(!(n[O]&2))continue;let t=n[Kr];for(let r=0;r<t.length;r++){let i=t[r];Ph(i)}}}function hA(e,n,t){re(J.ComponentStart);let r=_t(n,e);try{db(r,t)}finally{re(J.ComponentEnd,r[me])}}function db(e,n){ol(e)&&fg(e,n)}function fg(e,n){let r=e[N],i=e[O],o=e[st],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&_c(o)),s||=!1,o&&(o.dirty=!1),e[O]&=-9217,s)dA(r,e,r.template,e[me]);else if(i&8192){let a=x(null);try{cb(e),ub(e,1);let c=r.components;c!==null&&fb(e,c,1),ob(e)}finally{x(a)}}}function fb(e,n,t){for(let r=0;r<n.length;r++)hA(e,n[r],t)}function pA(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ir(~i);else{let o=i,s=t[++r],a=t[++r];dw(s,o);let c=n[o];re(J.HostBindingsUpdateStart,c);try{a(2,c)}finally{re(J.HostBindingsUpdateEnd,c)}}}}finally{ir(-1)}}function Jg(e,n){let t=Hh()?64:1088;for(e[tn].changeDetectionScheduler?.notify(n);e;){e[O]|=t;let r=Zn(e);if(Ki(e)&&!r)return e;e=r}return null}function hb(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function pb(e,n){let t=ge+n;if(t<e.length)return e[t]}function Ys(e,n,t,r=!0){let i=n[N];if(gA(i,n,e,t),r){let s=dg(t,e),a=n[de],c=a.parentNode(e[nr]);c!==null&&N0(i,e[He],a,n,c,s)}let o=n[Wr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gb(e,n){let t=Vs(e,n);return t!==void 0&&Jl(t[N],t),t}function Vs(e,n){if(e.length<=ge)return;let t=ge+n,r=e[t];if(r){let i=r[tr];i!==null&&i!==e&&qg(i,r),n>0&&(e[t-1][vt]=r[vt]);let o=Cs(e,ge+n);M0(r[N],r);let s=o[nn];s!==null&&s.detachView(o[N]),r[Ce]=null,r[vt]=null,r[O]&=-129}return r}function gA(e,n,t,r){let i=ge+r,o=t.length;r>0&&(t[i-1][vt]=n),r<o-ge?(n[vt]=t[i],Eh(t,ge+r,n)):(t.push(n),n[vt]=null),n[Ce]=t;let s=n[tr];s!==null&&t!==s&&mb(s,n);let a=n[nn];a!==null&&a.insertView(e),sl(n),n[O]|=128}function mb(e,n){let t=e[Kr],r=n[Ce];if(rn(r))e[O]|=2;else{let i=r[Ce][$e];n[$e]!==i&&(e[O]|=2)}t===null?e[Kr]=[n]:t.push(n)}var ar=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[N];return Us(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[me]}set context(n){this._lView[me]=n}get destroyed(){return Zr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ce];if(St(n)){let t=n[Ms],r=t?t.indexOf(this):-1;r>-1&&(Vs(n,r),Cs(t,r))}this._attachedToViewContainer=!1}Jl(this._lView[N],this._lView)}onDestroy(n){kh(this._lView,n)}markForCheck(){Jg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){sl(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,lb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Ki(this._lView),t=this._lView[tr];t!==null&&!n&&qg(t,this._lView),KD(this._lView[N],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=n;let t=Ki(this._lView),r=this._lView[tr];r!==null&&!t&&mb(r,this._lView),sl(this._lView)}};var cr=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=mA;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=qs(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ar(o)}}return e})();function mA(){return ru(ke(),P())}function ru(e,n){return e.type&4?new cr(n,e,lo(e,n)):null}function Qs(e,n,t,r,i){let o=e.data[n];if(o===null)o=vA(e,n,t,r,i),uw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=sw();o.injectorIndex=s===null?-1:s.injectorIndex}return Xi(o,!0),o}function vA(e,n,t,r,i){let o=Bh(),s=Uh(),a=s?o:o&&o.parent,c=e.data[n]=_A(e,a,t,n,r,i);return yA(e,c,o,s),c}function yA(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function _A(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return jh()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function EA(e){let n=e[Nh]??[],r=e[Ce][de],i=[];for(let o of n)o.data[TD]!==void 0?i.push(o):wA(o,r);e[Nh]=i}function wA(e,n){let t=0,r=e.firstChild;if(r){let i=e.data[ID];for(;t<i;){let o=r.nextSibling;kD(n,r,!1),r=o,t++}}}var DA=()=>null,bA=()=>null;function Ll(e,n){return DA(e,n)}function vb(e,n,t){return bA(e,n,t)}var yb=class{},iu=class{},hg=class{resolveComponentFactory(n){throw new C(917,!1)}},fo=class{static NULL=new hg},ii=class{},kn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>CA()}return e})();function CA(){let e=P(),n=ke(),t=_t(n.index,e);return(rn(t)?t:e)[de]}var _b=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>null})}return e})();var Ml={},pg=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,Ml,r);return i!==Ml||t===Ml?i:this.parentInjector.get(n,t,r)}};function Vw(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Kc(i,a);else if(o==2){let c=a,l=n[++s];r=Kc(r,c+": "+l+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function b(e,n=0){let t=P();if(t===null)return m(e,n);let r=ke();return vD(r,t,Oe(e),n)}function em(){let e="invalid";throw new Error(e)}function Eb(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}SA(e,n,t,a,o,c,l)}o!==null&&r!==null&&IA(t,r,o)}function IA(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new C(-301,!1);r.push(n[i],o)}}function TA(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function SA(e,n,t,r,i,o,s){let a=r.length,c=null;for(let f=0;f<a;f++){let h=r[f];c===null&&on(h)&&(c=h,TA(e,t,f)),sg(xl(t,n),e,h.type)}OA(t,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=zD(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(t.mergedAttrs=js(t.mergedAttrs,h.hostAttrs),NA(e,t,n,d,h),xA(d,h,i),s!==null&&s.has(h)){let[y,_]=s.get(h);t.directiveToIndex.set(h.type,[d,y+t.directiveStart,_+t.directiveStart])}else(o===null||!o.has(h))&&t.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}MA(e,t,o)}function MA(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))Hw(0,n,i,r),Hw(1,n,i,r),zw(n,r,!1);else{let o=t.get(i);$w(0,n,o,r),$w(1,n,o,r),zw(n,r,!0)}}}function Hw(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),wb(n,o)}}function $w(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),wb(n,s)}}function wb(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function zw(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Ug(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function NA(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=Ur(i.type,!0)),s=new ni(o,on(i),b,null);e.blueprint[r]=s,t[r]=s,RA(e,n,r,zD(e,t,i.hostVars,We),i)}function RA(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;AA(s)!=a&&s.push(a),s.push(t,r,o)}}function AA(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function xA(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;on(n)&&(t[""]=e)}}function OA(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function tm(e,n,t,r,i,o,s,a){let c=n[N],l=c.consts,u=sn(l,s),d=Qs(c,e,t,r,u);return o&&Eb(c,n,d,sn(l,a),i),d.mergedAttrs=js(d.mergedAttrs,d.attrs),d.attrs!==null&&Vw(d,d.attrs,!1),d.mergedAttrs!==null&&Vw(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function nm(e,n){cD(e,n),Rh(n)&&e.queries.elementEnd(n)}function rm(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function ou(e,n,t){return e[n]=t}function PA(e,n){return e[n]}function kt(e,n,t){if(t===We)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function im(e,n,t,r){let i=kt(e,n,t);return kt(e,n+1,r)||i}function kA(e,n,t,r,i){let o=im(e,n,t,r);return kt(e,n+2,i)||o}function Zp(e,n,t){return function r(i){let o=rr(e)?_t(e.index,n):n;Jg(o,5);let s=n[me],a=Ww(n,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=Ww(n,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Ww(e,n,t,r){let i=x(null);try{return re(J.OutputStart,n,t),t(r)!==!1}catch(o){return J0(e,o),!1}finally{re(J.OutputEnd,n,t),x(i)}}function FA(e,n,t,r,i,o,s,a){let c=Qi(e),l=!1,u=null;if(!r&&c&&(u=jA(n,t,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=Mt(e,t),f=r?r(d):d;WR(t,f,o,a);let h=i.listen(f,o,a);if(!LA(o)){let p=r?y=>r(yt(y[e.index])):e.index;Db(p,n,t,o,a,h,!1)}}return l}function LA(e){return e.startsWith("animation")||e.startsWith("transition")}function jA(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[qi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Db(e,n,t,r,i,o,s){let a=n.firstCreatePass?Lh(n):null,c=Fh(t),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function Gw(e,n,t,r,i,o){let s=n[t],a=n[N],l=a.data[t].outputs[r],d=s[l].subscribe(o);Db(e.index,a,n,i,o,d,!0)}var gg=Symbol("BINDING");var jl=class extends fo{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Rn(n);return new oi(t,this.ngModule)}};function BA(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&Zl.SignalBased)!==0};return i&&(o.transform=i),o})}function UA(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function VA(e,n,t){let r=n instanceof pe?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new pg(t,r):t}function HA(e){let n=e.get(ii,null);if(n===null)throw new C(407,!1);let t=e.get(_b,null),r=e.get(Mn,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function $A(e,n){let t=bb(e);return OD(n,t,t==="svg"?Ah:t==="math"?GE:null)}function bb(e){return(e.selectors[0][0]||"div").toLowerCase()}var oi=class extends iu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=BA(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=UA(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=y0(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,s){re(J.DynamicComponentStart);let a=x(null);try{let c=this.componentDef,l=zA(r,c,s,o),u=VA(c,i||this.ngModule,n),d=HA(u),f=d.rendererFactory.createRenderer(null,c),h=r?U0(f,r,c.encapsulation,u):$A(c,f),p=s?.some(qw)||o?.some(I=>typeof I!="function"&&I.bindings.some(qw)),y=Hg(null,l,null,512|$D(c),null,null,d,f,u,null,ND(h,u,!0));y[ve]=h,dl(y);let _=null;try{let I=tm(ve,y,2,"#host",()=>l.directiveRegistry,!0,0);FD(f,h,I),io(h,y),tu(l,y,I),Lg(l,I,y),nm(l,I),t!==void 0&&GA(I,this.ngContentSelectors,t),_=_t(I.index,y),y[me]=_[me],Xg(l,y,null)}catch(I){throw _!==null&&cg(_),cg(y),I}finally{re(J.DynamicComponentEnd),fl()}return new Bl(this.componentType,y,!!p)}finally{x(a)}}};function zA(e,n,t,r){let i=e?["ng-version","21.0.8"]:_0(n.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[gg].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[gg].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[n];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=mh(d);c.push(f)}return Vg(0,null,WA(o,s),1,a,c,null,null,null,[i],null)}function WA(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function qw(e){let n=e[gg].kind;return n==="input"||n==="twoWay"}var Bl=class extends yb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ns(t[N],ve),this.location=lo(this._tNode,t),this.instance=_t(this._tNode.index,t)[me],this.hostView=this.changeDetectorRef=new ar(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=Zg(r,i[N],i,n,t);this.previousInputValues.set(n,t);let s=_t(r.index,i);Jg(s,1)}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function GA(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var dn=(()=>{class e{static __NG_ELEMENT_ID__=qA}return e})();function qA(){let e=ke();return Ib(e,P())}var YA=dn,Cb=class extends YA{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return lo(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){let n=Og(this._hostTNode,this._hostLView);if(dD(n)){let t=Al(n,this._hostLView),r=Rl(n),i=t[N].data[r+8];return new ti(i,t)}else return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Yw(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-ge}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ll(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,oo(this._hostTNode,s)),a}createComponent(n,t,r,i,o,s,a){let c=n&&!mR(n),l;if(c)l=t;else{let _=t||{};l=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef,s=_.directives,a=_.bindings}let u=c?n:new oi(Rn(n)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let I=(c?d:this.parentInjector).get(pe,null);I&&(o=I)}let f=Rn(u.componentType??{}),h=Ll(this._lContainer,f?.id??null),p=h?.firstChild??null,y=u.create(d,i,p,o,s,a);return this.insertImpl(y.hostView,l,oo(this._hostTNode,h)),y}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(QE(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=i[Ce],l=new Cb(c,c[He],c[Ce]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Ys(s,i,o,r),n.attachToViewContainerRef(),Eh(Xp(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Yw(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Vs(this._lContainer,t);r&&(Cs(Xp(this._lContainer),t),Jl(r[N],r))}detach(n){let t=this._adjustIndex(n,-1),r=Vs(this._lContainer,t);return r&&Cs(Xp(this._lContainer),t)!=null?new ar(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Yw(e){return e[Ms]}function Xp(e){return e[Ms]||(e[Ms]=[])}function Ib(e,n){let t,r=n[e.index];return St(r)?t=r:(t=hb(r,n,null,e),n[e.index]=t,$g(n,t)),KA(t,n,e,r),new Cb(t,e,n)}function QA(e,n){let t=e[de],r=t.createComment(""),i=Mt(n,e),o=t.parentNode(i);return kl(t,o,r,t.nextSibling(i),!1),r}var KA=JA,ZA=()=>!1;function XA(e,n,t){return ZA(e,n,t)}function JA(e,n,t,r){if(e[nr])return;let i;t.type&8?i=yt(r):i=QA(n,t),e[nr]=i}var mg=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},vg=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)om(n,t).matches!==null&&this.queries[t].setDirty()}},Ul=class{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=ax(n):this.predicate=n}},yg=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},_g=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,t,ex(t,o)),this.matchTNodeWithReadOption(n,t,Sl(t,n,o,!1,!1))}else r===cr?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Sl(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ie||i===dn||i===cr&&t.type&4)this.addMatch(t.index,-2);else{let o=Sl(t,n,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function ex(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function tx(e,n){return e.type&11?lo(e,n):e.type&4?ru(e,n):null}function nx(e,n,t,r){return t===-1?tx(n,e):t===-2?rx(e,n,r):Bs(e,e[N],t,n)}function rx(e,n,t){if(t===ie)return lo(n,e);if(t===cr)return ru(n,e);if(t===dn)return Ib(n,e)}function Tb(e,n,t,r){let i=n[nn].queries[r];if(i.matches===null){let o=e.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(nx(n,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Eg(e,n,t,r){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let s=Tb(e,n,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=n[-c];for(let d=ge;d<u.length;d++){let f=u[d];f[tr]===f[Ce]&&Eg(f[N],f,l,r)}if(u[Kr]!==null){let d=u[Kr];for(let f=0;f<d.length;f++){let h=d[f];Eg(h[N],h,l,r)}}}}}return r}function ix(e,n){return e[nn].queries[n].queryList}function Sb(e,n,t){let r=new Ol((t&4)===4);return XE(e,n,r,r.destroy),(n[nn]??=new vg).queries.push(new mg(r))-1}function ox(e,n,t){let r=Ee();return r.firstCreatePass&&(Mb(r,new Ul(e,n,t),-1),(n&2)===2&&(r.staticViewQueries=!0)),Sb(r,P(),n)}function sx(e,n,t,r){let i=Ee();if(i.firstCreatePass){let o=ke();Mb(i,new Ul(n,t,r),o.index),cx(i,e),(t&2)===2&&(i.staticContentQueries=!0)}return Sb(i,P(),t)}function ax(e){return e.split(",").map(n=>n.trim())}function Mb(e,n,t){e.queries===null&&(e.queries=new yg),e.queries.track(new _g(n,t))}function cx(e,n){let t=e.contentQueries||(e.contentQueries=[]),r=t.length?t[t.length-1]:-1;n!==r&&t.push(e.queries.length-1,n)}function om(e,n){return e.queries.getByIndex(n)}function lx(e,n){let t=e[N],r=om(t,n);return r.crossesNgTemplate?Eg(t,e,n,[]):Tb(t,e,r,n)}var wg=new Map,ux=new Set;function Nb(e){return z(this,null,function*(){let n=wg;wg=new Map;let t=new Map;function r(o){let s=t.get(o);if(s)return s;let a=e(o).then(c=>dx(o,c));return t.set(o,a),a}let i=Array.from(n).map(a=>z(null,[a],function*([o,s]){if(s.styleUrl&&s.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");let c=[];s.templateUrl&&c.push(r(s.templateUrl).then(f=>{s.template=f}));let l=typeof s.styles=="string"?[s.styles]:s.styles??[];s.styles=l;let{styleUrl:u,styleUrls:d}=s;if(u&&(d=[u],s.styleUrl=void 0),d?.length){let f=Promise.all(d.map(h=>r(h))).then(h=>{l.push(...h),s.styleUrls=void 0});c.push(f)}yield Promise.all(c),ux.delete(o)}));yield Promise.all(i)})}function Rb(){return wg.size===0}function dx(e,n){return z(this,null,function*(){if(typeof n=="string")return n;if(n.status!==void 0&&n.status!==200)throw new C(918,!1);return n.text()})}var si=class{},su=class{};var Hs=class extends si{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new jl(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=gh(n);this._bootstrapComponents=UD(o.bootstrap),this._r3Injector=Yh(n,t,[{provide:si,useValue:this},{provide:fo,useValue:this.componentFactoryResolver},...r],Sn(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},$s=class extends su{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Hs(this.moduleType,n,[])}};function Ab(e,n,t){return new Hs(e,n,t,!1)}var Vl=class extends si{injector;componentFactoryResolver=new jl(this);instance=null;constructor(n){super();let t=new Hr([...n.providers,{provide:si,useValue:this},{provide:fo,useValue:this.componentFactoryResolver}],n.parent||Ts(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function ho(e,n,t=null){return new Vl({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var fx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=bh(!1,t.type),i=r.length>0?ho([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(m(pe))})}return e})();function ci(e){return ao(()=>{let n=xb(e),t=q(E({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Pg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(fx).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Pt.Emulated,styles:e.styles||Ue,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Ft("NgStandalone"),Ob(t);let r=e.dependencies;return t.directiveDefs=Qw(r,hx),t.pipeDefs=Qw(r,xE),t.id=mx(t),t})}function hx(e){return Rn(e)||mh(e)}function ae(e){return ao(()=>({type:e.type,bootstrap:e.bootstrap||Ue,declarations:e.declarations||Ue,imports:e.imports||Ue,exports:e.exports||Ue,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function px(e,n){if(e==null)return Xn;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Zl.None,c=null),t[o]=[r,a,c],n[o]=s}return t}function gx(e){if(e==null)return Xn;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function ce(e){return ao(()=>{let n=xb(e);return Ob(n),n})}function xb(e){let n={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Xn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ue,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:px(e.inputs,n),outputs:gx(e.outputs),debugInfo:null}}function Ob(e){e.features?.forEach(n=>n(e))}function Qw(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let i of t){let o=n(i);o!==null&&r.push(o)}return r}:null}function mx(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function vx(e){return Object.getPrototypeOf(e.prototype).constructor}function fn(e){let n=vx(e.type),t=!0,r=[e];for(;n;){let i;if(on(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new C(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=Jp(e.inputs),s.declaredInputs=Jp(e.declaredInputs),s.outputs=Jp(e.outputs);let a=i.hostBindings;a&&Dx(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Ex(e,c),l&&wx(e,l),yx(e,i),AE(e.outputs,i.outputs),on(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===fn&&(t=!1)}}n=Object.getPrototypeOf(n)}_x(r)}function yx(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function _x(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=js(i.hostAttrs,t=js(t,i.hostAttrs))}}function Jp(e){return e===Xn?{}:e===Ue?[]:e}function Ex(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function wx(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function Dx(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function Pb(e,n,t,r,i,o,s,a){if(t.firstCreatePass){e.mergedAttrs=js(e.mergedAttrs,e.attrs);let u=e.tView=Vg(2,e,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),u.queries=t.queries.embeddedTView(e))}a&&(e.flags|=a),Xi(e,!1);let c=Cx(t,n,e,r);hl()&&Yg(t,n,c,e),io(c,n);let l=hb(c,n,c,e);n[r+ve]=l,$g(n,l),XA(l,e,n)}function bx(e,n,t,r,i,o,s,a,c,l,u){let d=t+ve,f;return n.firstCreatePass?(f=Qs(n,d,4,s||null,a||null),al()&&Eb(n,e,f,sn(n.consts,l),Kg),cD(n,f)):f=n.data[d],Pb(f,e,n,t,r,i,o,c),Qi(f)&&tu(n,e,f),l!=null&&nu(e,f,u),f}function zs(e,n,t,r,i,o,s,a,c,l,u){let d=t+ve,f;if(n.firstCreatePass){if(f=Qs(n,d,4,s||null,a||null),l!=null){let h=sn(n.consts,l);f.localNames=[];for(let p=0;p<h.length;p+=2)f.localNames.push(h[p],-1)}}else f=n.data[d];return Pb(f,e,n,t,r,i,o,c),l!=null&&nu(e,f,u),f}function Ks(e,n,t,r,i,o,s,a){let c=P(),l=Ee(),u=sn(l.consts,o);return bx(c,l,e,n,t,r,i,u,void 0,s,a),Ks}var Cx=Ix;function Ix(e,n,t,r){return xs(!0),n[de].createComment("")}var sm=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var au=new w(""),cu=new w(""),Zs=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,Th()&&(this._destroyRef=g(cn,{optional:!0})??void 0),am||(Fb(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{B.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||e)(m(B),m(kb),m(cu))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),kb=(()=>{class e{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return am?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Fb(e){am=e}var am;function po(e){return!!e&&typeof e.then=="function"}function cm(e){return!!e&&typeof e.subscribe=="function"}var lm=new w("");function lu(e){return er([{provide:lm,multi:!0,useValue:e}])}var um=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=g(lm,{optional:!0})??[];injector=g(Ve);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ne(this.injector,i);if(po(o))t.push(o);else if(cm(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uu=new w("");function Lb(){Ef(()=>{let e="";throw new C(600,e)})}function jb(e){return e.isBoundToModule}var Tx=10;function dm(e,n){return Array.isArray(n)?n.reduce(dm,e):E(E({},e),n)}var Fn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(at);afterRenderManager=g(Wg);zonelessEnabled=g(eo);rootEffectScheduler=g(ep);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Q;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(ln);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(M(t=>!t))}constructor(){g(Pn,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=g(pe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ve.NULL){return this._injector.get(B).run(()=>{re(J.BootstrapComponentStart);let s=t instanceof iu;if(!this._injector.get(um).done){let p="";throw new C(405,p)}let c;s?c=t:c=this._injector.get(fo).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=jb(c)?void 0:this._injector.get(si),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get(au,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Ls(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),re(J.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){re(J.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Xl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw re(J.ChangeDetectionEnd),new C(101,!1);let t=x(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,x(t),this.afterTick.next(),re(J.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ii,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Tx;){re(J.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{re(J.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Rs(i))continue;let o=r&&!this.zonelessEnabled?0:1;lb(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Rs(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ls(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(uu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ls(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new C(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ls(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function ur(e,n,t,r){let i=P(),o=Ji();if(kt(i,o,n)){let s=Ee(),a=qh();K0(a,i,e,n,t,r)}return ur}var VG=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Dg=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),i=Math.max(n,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n))}};function eg(e,n,t,r,i){return e===t&&Object.is(n,r)?1:Object.is(i(e,n),i(t,r))?-1:0}function Sx(e,n,t,r){let i,o,s=0,a=e.length-1,c=void 0;if(Array.isArray(n)){x(r);let l=n.length-1;for(x(null);s<=a&&s<=l;){let u=e.at(s),d=n[s],f=eg(s,u,s,d,t);if(f!==0){f<0&&e.updateValue(s,d),s++;continue}let h=e.at(a),p=n[l],y=eg(a,h,l,p,t);if(y!==0){y<0&&e.updateValue(a,p),a--,l--;continue}let _=t(s,u),I=t(a,h),Y=t(s,d);if(Object.is(Y,I)){let H=t(l,p);Object.is(H,_)?(e.swap(s,a),e.updateValue(a,p),l--,a--):e.move(a,s),e.updateValue(s,d),s++;continue}if(i??=new Hl,o??=Zw(e,s,a,t),bg(e,i,s,Y))e.updateValue(s,d),s++,a++;else if(o.has(Y))i.set(_,e.detach(s)),a--;else{let H=e.create(s,n[s]);e.attach(s,H),s++,a++}}for(;s<=l;)Kw(e,i,t,s,n[s]),s++}else if(n!=null){x(r);let l=n[Symbol.iterator]();x(null);let u=l.next();for(;!u.done&&s<=a;){let d=e.at(s),f=u.value,h=eg(s,d,s,f,t);if(h!==0)h<0&&e.updateValue(s,f),s++,u=l.next();else{i??=new Hl,o??=Zw(e,s,a,t);let p=t(s,f);if(bg(e,i,s,p))e.updateValue(s,f),s++,a++,u=l.next();else if(!o.has(p))e.attach(s,e.create(s,f)),s++,a++,u=l.next();else{let y=t(s,d);i.set(y,e.detach(s)),a--}}}for(;!u.done;)Kw(e,i,t,e.length,u.value),u=l.next()}for(;s<=a;)e.destroy(e.detach(a--));i?.forEach(l=>{e.destroy(l)})}function bg(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function Kw(e,n,t,r,i){if(bg(e,n,r,t(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function Zw(e,n,t,r){let i=new Set;for(let o=n;o<=t;o++)i.add(r(o,e.at(o)));return i}var Hl=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,t)}}};function Mx(e,n,t,r,i,o,s,a){Ft("NgControlFlow");let c=P(),l=Ee(),u=sn(l.consts,o);return zs(c,l,e,n,t,r,i,u,256,s,a),fm}function fm(e,n,t,r,i,o,s,a){Ft("NgControlFlow");let c=P(),l=Ee(),u=sn(l.consts,o);return zs(c,l,e,n,t,r,i,u,512,s,a),fm}function Nx(e,n){Ft("NgControlFlow");let t=P(),r=Ji(),i=t[r]!==We?t[r]:-1,o=i!==-1?$l(t,ve+i):void 0,s=0;if(kt(t,r,e)){let a=x(null);try{if(o!==void 0&&gb(o,s),e!==-1){let c=ve+e,l=$l(t,c),u=Sg(t[N],c),d=vb(l,u,t),f=qs(t,u,n,{dehydratedView:d});Ys(l,f,s,oo(u,d))}}finally{x(a)}}else if(o!==void 0){let a=pb(o,s);a!==void 0&&(a[me]=n)}}var Cg=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ge}};function Rx(e,n){return n}var Ig=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function Ax(e,n,t,r,i,o,s,a,c,l,u,d,f){Ft("NgControlFlow");let h=P(),p=Ee(),y=c!==void 0,_=P(),I=a?s.bind(_[$e][me]):s,Y=new Ig(y,I);_[ve+e]=Y,zs(h,p,e+1,n,t,r,i,sn(p.consts,o),256),y&&zs(h,p,e+2,c,l,u,d,sn(p.consts,f),512)}var Tg=class extends Dg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-ge}at(n){return this.getLView(n)[me].$implicit}attach(n,t){let r=t[Wr];this.needsIndexUpdate||=n!==this.length,Ys(this.lContainer,t,n,oo(this.templateTNode,r)),Ox(this.lContainer,n)}detach(n){return this.needsIndexUpdate||=n!==this.length-1,Px(this.lContainer,n),kx(this.lContainer,n)}create(n,t){let r=Ll(this.lContainer,this.templateTNode.tView.ssrId);return qs(this.hostLView,this.templateTNode,new Cg(this.lContainer,t,n),{dehydratedView:r})}destroy(n){Jl(n[N],n)}updateValue(n,t){this.getLView(n)[me].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[me].$index=n}getLView(n){return Fx(this.lContainer,n)}};function xx(e){let n=x(null),t=an();try{let r=P(),i=r[N],o=r[t],s=t+1,a=$l(r,s);if(o.liveCollection===void 0){let l=Sg(i,s);o.liveCollection=new Tg(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(Sx(c,e,o.trackByFn,n),c.updateIndexes(),o.hasEmptyBlock){let l=Ji(),u=c.length===0;if(kt(r,l,u)){let d=t+2,f=$l(r,d);if(u){let h=Sg(i,d),p=vb(f,h,r),y=qs(r,h,void 0,{dehydratedView:p});Ys(f,y,0,oo(h,p))}else i.firstUpdatePass&&EA(f),gb(f,0)}}}finally{x(n)}}function $l(e,n){return e[n]}function Ox(e,n){if(e.length<=ge)return;let t=ge+n,r=e[t],i=r?r[Qr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[An];T0(o,i),ri.delete(r[xn]),i.detachedLeaveAnimationFns=void 0}}function Px(e,n){if(e.length<=ge)return;let t=ge+n,r=e[t],i=r?r[Qr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function kx(e,n){return Vs(e,n)}function Fx(e,n){return pb(e,n)}function Sg(e,n){return Ns(e,n)}function dr(e,n,t){let r=P(),i=Ji();if(kt(r,i,n)){let o=Ee(),s=qh();z0(s,r,e,n,r[de],t)}return dr}function Mg(e,n,t,r,i){Zg(n,e,t,i?"class":"style",r)}function fr(e,n,t,r){let i=P(),o=i[N],s=e+ve,a=o.firstCreatePass?tm(s,i,2,n,Kg,al(),t,r):o.data[s];if(nb(a,i,e,n,Lx),Qi(a)){let c=i[N];tu(c,i,a),Lg(c,a,i)}return r!=null&&nu(i,a),fr}function hr(){let e=Ee(),n=ke(),t=rb(n);return e.firstCreatePass&&nm(e,t),nw(t)&&rw(),tw(),t.classesWithoutHost!=null&&DR(t)&&Mg(e,t,P(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&bR(t)&&Mg(e,t,P(),t.stylesWithoutHost,!1),hr}function Ln(e,n,t,r){return fr(e,n,t,r),hr(),Ln}var Lx=(e,n,t,r,i)=>(xs(!0),OD(n[de],r,_w()));function Xs(e,n,t){let r=P(),i=r[N],o=e+ve,s=i.firstCreatePass?tm(o,r,8,"ng-container",Kg,al(),n,t):i.data[o];if(nb(s,r,e,"ng-container",jx),Qi(s)){let a=r[N];tu(a,r,s),Lg(a,s,r)}return t!=null&&nu(r,s),Xs}function Js(){let e=Ee(),n=ke(),t=rb(n);return e.firstCreatePass&&nm(e,t),Js}function Bb(e,n,t){return Xs(e,n,t),Js(),Bb}var jx=(e,n,t,r,i)=>(xs(!0),t0(n[de],""));function Bx(){return P()}var ea="en-US";var Ux=ea;function Ub(e){typeof e=="string"&&(Ux=e.toLowerCase().replace(/_/g,"-"))}function go(e,n,t){let r=P(),i=Ee(),o=ke();return Vx(i,r,r[de],o,e,n,t),go}function Vx(e,n,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Zp(r,n,o),FA(r,e,n,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=Zp(r,n,o),Gw(r,n,f,h,i,c)}if(l&&l.length)for(let d of l)c??=Zp(r,n,o),Gw(r,n,d,i,i,c)}}function ta(e=1){return vw(e)}function Hx(e,n){let t=null,r=h0(e);for(let i=0;i<n.length;i++){let o=n[i];if(o==="*"){t=i;continue}if(r===null?HD(e,o,!0):m0(r,o))return i}return t}function hm(e){let n=P()[$e][He];if(!n.projection){let t=e?e.length:1,r=n.projection=BE(t,null),i=r.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=e?Hx(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function pm(e,n=0,t,r,i,o){let s=P(),a=Ee(),c=r?e+1:null;c!==null&&zs(s,a,c,r,i,o,null,t);let l=Qs(a,ve+e,16,null,t||null);l.projection===null&&(l.projection=n),Vh();let d=!s[Wr]||jh();s[$e][He].projection[l.projection]===null&&c!==null?$x(s,a,c):d&&!Ql(l)&&L0(a,s,l)}function $x(e,n,t){let r=ve+t,i=n.data[r],o=e[r],s=Ll(o,i.tView.ssrId),a=qs(e,i,void 0,{dehydratedView:s});Ys(o,a,0,oo(i,s))}function na(e,n,t,r){return sx(e,n,t,r),na}function mo(e,n,t){return ox(e,n,t),mo}function Lt(e){let n=P(),t=Ee(),r=zh();ul(r+1);let i=om(t,r);if(e.dirty&&YE(n)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=lx(n,r);e.reset(o,FR),e.notifyOnChanges()}return!0}return!1}function jt(){return ix(P(),zh())}function zx(e){let n=aw();return qE(n,ve+e)}function bl(e,n){return e<<17|n<<2}function ai(e){return e>>17&32767}function Wx(e){return(e&2)==2}function Gx(e,n){return e&131071|n<<17}function Ng(e){return e|2}function so(e){return(e&131068)>>2}function tg(e,n){return e&-131069|n<<2}function qx(e){return(e&1)===1}function Rg(e){return e|1}function Yx(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=ai(s),c=so(s);e[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Gi(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let f=ai(e[a+1]);e[r+1]=bl(f,a),f!==0&&(e[f+1]=tg(e[f+1],r)),e[a+1]=Gx(e[a+1],r)}else e[r+1]=bl(a,0),a!==0&&(e[a+1]=tg(e[a+1],r)),a=r;else e[r+1]=bl(c,0),a===0?a=r:e[c+1]=tg(e[c+1],r),c=r;l&&(e[r+1]=Ng(e[r+1])),Xw(e,u,r,!0),Xw(e,u,r,!1),Qx(n,u,e,r,o),s=bl(a,c),o?n.classBindings=s:n.styleBindings=s}function Qx(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Gi(o,n)>=0&&(t[r+1]=Rg(t[r+1]))}function Xw(e,n,t,r){let i=e[t+1],o=n===null,s=r?ai(i):so(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];Kx(c,n)&&(a=!0,e[s+1]=r?Rg(l):Ng(l)),s=r?ai(l):so(l)}a&&(e[t+1]=r?Ng(i):Rg(i))}function Kx(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Gi(e,n)>=0:!1}var Ot={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zx(e){return e.substring(Ot.key,Ot.keyEnd)}function Xx(e){return Jx(e),Vb(e,Hb(e,0,Ot.textEnd))}function Vb(e,n){let t=Ot.textEnd;return t===n?-1:(n=Ot.keyEnd=eO(e,Ot.key=n,t),Hb(e,n,t))}function Jx(e){Ot.key=0,Ot.keyEnd=0,Ot.value=0,Ot.valueEnd=0,Ot.textEnd=e.length}function Hb(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function eO(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function vo(e,n){return nO(e,n,null,!0),vo}function yo(e){rO(lO,tO,e,!0)}function tO(e,n){for(let t=Xx(n);t>=0;t=Vb(n,t))nl(e,Zx(n),!0)}function nO(e,n,t,r){let i=P(),o=Ee(),s=cl(2);if(o.firstUpdatePass&&zb(o,e,s,r),n!==We&&kt(i,s,n)){let a=o.data[an()];Wb(o,a,i,i[de],e,i[s+1]=dO(n,t),r,s)}}function rO(e,n,t,r){let i=Ee(),o=cl(2);i.firstUpdatePass&&zb(i,null,o,r);let s=P();if(t!==We&&kt(s,o,t)){let a=i.data[an()];if(Gb(a,r)&&!$b(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Kc(c,t||"")),Mg(i,a,s,t,r)}else uO(i,a,s,s[de],s[o+1],s[o+1]=cO(e,n,t),r,o)}}function $b(e,n){return n>=e.expandoStartIndex}function zb(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[an()],s=$b(e,t);Gb(o,r)&&n===null&&!s&&(n=!1),n=iO(i,o,n,r),Yx(i,o,n,t,s,r)}}function iO(e,n,t,r){let i=hw(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=ng(null,e,n,t,r),t=Ws(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=ng(i,e,n,t,r),o===null){let c=oO(e,n,r);c!==void 0&&Array.isArray(c)&&(c=ng(null,e,n,c[1],r),c=Ws(c,n.attrs,r),sO(e,n,r,c))}else o=aO(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function oO(e,n,t){let r=t?n.classBindings:n.styleBindings;if(so(r)!==0)return e[ai(r)]}function sO(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[ai(i)]=r}function aO(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ws(r,s,t)}return Ws(r,n.attrs,t)}function ng(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=Ws(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Ws(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),nl(e,s,t?!0:n[++o]))}return e===void 0?null:e}function cO(e,n,t){if(t==null||t==="")return Ue;let r=[],i=uo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&n(r,i);return r}function lO(e,n,t){let r=String(n);r!==""&&!r.includes(" ")&&nl(e,r,t)}function uO(e,n,t,r,i,o,s,a){i===We&&(i=Ue);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=c<i.length?i[c+1]:void 0,h=l<o.length?o[l+1]:void 0,p=null,y;u===d?(c+=2,l+=2,f!==h&&(p=d,y=h)):d===null||u!==null&&u<d?(c+=2,p=u):(l+=2,p=d,y=h),p!==null&&Wb(e,n,t,r,p,y,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function Wb(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let c=e.data,l=c[a+1],u=qx(l)?Jw(c,n,t,i,so(l),s):void 0;if(!zl(u)){zl(o)||Wx(l)&&(o=Jw(c,null,t,i,a,s));let d=xh(an(),t);B0(r,s,d,i,o)}}function Jw(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=t[i+1];f===We&&(f=d?Ue:void 0);let h=d?rl(f,r):u===r?f:void 0;if(l&&!zl(h)&&(h=rl(c,r)),zl(h)&&(a=h,s))return a;let p=e[i+1];i=s?ai(p):so(p)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=rl(c,r))}return a}function zl(e){return e!==void 0}function dO(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Sn(uo(e)))),e}function Gb(e,n){return(e.flags&(n?8:16))!==0}function fO(e,n=""){let t=P(),r=Ee(),i=e+ve,o=r.firstCreatePass?Qs(r,i,1,n,null):r.data[i],s=hO(r,t,o,n,e);t[i]=s,hl()&&Yg(r,t,s,o),Xi(o,!1)}var hO=(e,n,t,r,i)=>(xs(!0),JR(n[de],r));function qb(e,n,t,r=""){return kt(e,Ji(),t)?n+zr(t)+r:We}function pO(e,n,t,r,i,o=""){let s=cw(),a=im(e,s,t,i);return cl(2),a?n+zr(t)+r+zr(i)+o:We}function Yb(e){return gm("",e),Yb}function gm(e,n,t){let r=P(),i=qb(r,e,n,t);return i!==We&&Kb(r,an(),i),gm}function Qb(e,n,t,r,i){let o=P(),s=pO(o,e,n,t,r,i);return s!==We&&Kb(o,an(),s),Qb}function Kb(e,n,t){let r=xh(n,e);e0(e[de],r,t)}function _o(e,n,t=""){return qb(P(),e,n,t)}function eD(e,n,t){let r=Ee();r.firstCreatePass&&Zb(n,r.data,r.blueprint,on(e),t)}function Zb(e,n,t,r,i){if(e=Oe(e),Array.isArray(e))for(let o=0;o<e.length;o++)Zb(e[o],n,t,r,i);else{let o=Ee(),s=P(),a=ke(),c=Vr(e)?e:Oe(e.provide),l=Ih(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Vr(e)||!e.multi){let h=new ni(l,i,b,null),p=ig(c,n,i?u:u+f,d);p===-1?(sg(xl(a,s),o,c),rg(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[p]=h,s[p]=h)}else{let h=ig(c,n,u+f,d),p=ig(c,n,u,u+f),y=h>=0&&t[h],_=p>=0&&t[p];if(i&&!_||!i&&!y){sg(xl(a,s),o,c);let I=vO(i?mO:gO,t.length,i,r,l,e);!i&&_&&(t[p].providerFactory=I),rg(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(I),s.push(I)}else{let I=Xb(t[i?p:h],l,!i&&r);rg(o,e,h>-1?h:p,I)}!i&&r&&_&&t[p].componentProviders++}}}function rg(e,n,t,r){let i=Vr(n),o=zE(n);if(i||o){let c=(o?Oe(n.useClass):n).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function Xb(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function ig(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function gO(e,n,t,r,i){return Ag(this.multi,[])}function mO(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Bs(r,r[N],this.providerFactory.index,i);s=c.slice(0,a),Ag(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Ag(o,s);return s}function Ag(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function vO(e,n,t,r,i,o){let s=new ni(e,t,b,null);return s.multi=[],s.index=n,s.componentProviders=0,Xb(s,i,r&&!t),s}function ra(e,n){return t=>{t.providersResolver=(r,i)=>eD(r,i?i(e):e,!1),n&&(t.viewProvidersResolver=(r,i)=>eD(r,i?i(n):n,!0))}}function yO(e,n){let t=As()+e,r=P();return r[t]===We?ou(r,t,n()):PA(r,t)}function _O(e,n,t){return DO(P(),As(),e,n,t)}function EO(e,n,t,r){return bO(P(),As(),e,n,t,r)}function wO(e,n,t,r,i){return CO(P(),As(),e,n,t,r,i)}function mm(e,n){let t=e[n];return t===We?void 0:t}function DO(e,n,t,r,i,o){let s=n+t;return kt(e,s,i)?ou(e,s+1,o?r.call(o,i):r(i)):mm(e,s+1)}function bO(e,n,t,r,i,o,s){let a=n+t;return im(e,a,i,o)?ou(e,a+2,s?r.call(s,i,o):r(i,o)):mm(e,a+2)}function CO(e,n,t,r,i,o,s,a){let c=n+t;return kA(e,c,i,o,s)?ou(e,c+3,a?r.call(a,i,o,s):r(i,o,s)):mm(e,c+3)}function IO(e,n){return ru(e,n)}var Cl=null;function Jb(e){Cl!==null&&(e.defaultEncapsulation!==Cl.defaultEncapsulation||e.preserveWhitespaces!==Cl.preserveWhitespaces)||(Cl=e)}var Wl=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},vm=(()=>{class e{compileModuleSync(t){return new $s(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=gh(t),o=UD(i.declarations).reduce((s,a)=>{let c=Rn(a);return c&&s.push(new oi(c)),s},[]);return new Wl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eC=new w("");var tC=(()=>{class e{applicationErrorHandler=g(at);appRef=g(Fn);taskService=g(ln);ngZone=g(B);zonelessEnabled=g(eo);tracing=g(Pn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new j;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ws):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(gl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Zh:Kh;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ws+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Zh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nC(){return[{provide:Mn,useExisting:tC},{provide:B,useClass:Ds},{provide:eo,useValue:!0}]}function TO(){return typeof $localize<"u"&&$localize.locale||ea}var du=new w("",{factory:()=>g(du,{optional:!0,skipSelf:!0})||TO()});function SO(e,n){return Ec(e,n?.equal)}var cC=Symbol("InputSignalNode#UNSET"),BO=q(E({},wc),{transformFn:void 0,applyValueToInputSignal(e,n){us(e,n)}});function lC(e,n){let t=Object.create(BO);t.value=e,t.transformFn=n?.transform;function r(){if(as(t),t.value===cC){let i=null;throw new C(-950,i)}return t.value}return r[Ze]=t,r}var fu=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>Gs(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function rC(e,n){return lC(e,n)}function UO(e){return lC(cC,e)}var uC=(rC.required=UO,rC);function VO(e,n,t){let r=new $s(t);return Promise.resolve(r)}function iC(e){for(let n=e.length-1;n>=0;n--)if(e[n]!==void 0)return e[n]}var HO=(()=>{class e{zone=g(B);changeDetectionScheduler=g(Mn);applicationRef=g(Fn);applicationErrorHandler=g(at);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$O=new w("",{factory:()=>!1});function zO({ngZoneFactory:e,scheduleInRootZone:n}){return e??=()=>new B(q(E({},dC()),{scheduleInRootZone:n})),[{provide:eo,useValue:!1},{provide:B,useFactory:e},{provide:Jn,multi:!0,useFactory:()=>{let t=g(HO,{optional:!0});return()=>t.initialize()}},{provide:Jn,multi:!0,useFactory:()=>{let t=g(WO);return()=>{t.initialize()}}},{provide:gl,useValue:n??Qh}]}function BY(e){let n=e?.scheduleInRootZone,t=zO({ngZoneFactory:()=>{let r=dC(e);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&Ft("NgZone_CoalesceEvent"),new B(r)},scheduleInRootZone:n});return er([{provide:$O,useValue:!0},t])}function dC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var WO=(()=>{class e{subscription=new j;initialized=!1;zone=g(B);pendingTasks=g(ln);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{B.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{B.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hu=new w(""),GO=new w("");function ia(e){return!e.moduleRef}function qO(e){let n=ia(e)?e.r3Injector:e.moduleRef.injector,t=n.get(B);return t.run(()=>{ia(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(at),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ia(e)){let o=()=>n.destroy(),s=e.platformInjector.get(hu);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(hu);s.add(o),e.moduleRef.onDestroy(()=>{Ls(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return QO(r,t,()=>{let o=n.get(ln),s=o.add(),a=n.get(um);return a.runInitializers(),a.donePromise.then(()=>{let c=n.get(du,ea);if(Ub(c||ea),!n.get(GO,!0))return ia(e)?n.get(Fn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ia(e)){let u=n.get(Fn);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return fC?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var fC;function oC(){fC=YO}function YO(e,n){let t=e.injector.get(Fn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new C(-403,!1);n.push(e)}function QO(e,n,t){try{let r=t();return po(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var hC=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){let i=[nC(),...r?.applicationProviders??[],Dw],o=Ab(t.moduleType,this.injector,i);return oC(),qO({moduleRef:o,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=dm({},r);return oC(),VO(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(hu,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(m(Ve))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),wm=null;function KO(e){if(bm())throw new C(400,!1);Lb(),wm=e;let n=e.get(hC);return JO(e),n}function Dm(e,n,t=[]){let r=`Platform: ${n}`,i=new w(r);return(o=[])=>{let s=bm();if(!s){let a=[...t,...o,{provide:i,useValue:!0}];s=e?.(a)??KO(ZO(a,r))}return XO(i)}}function ZO(e=[],n){return Ve.create({name:n,providers:[{provide:Is,useValue:"platform"},{provide:hu,useValue:new Set([()=>wm=null])},...e]})}function XO(e){let n=bm();if(!n)throw new C(-401,!1);return n}function bm(){return wm?.get(hC)??null}function JO(e){let n=e.get(ql,null);Ne(e,()=>{n?.forEach(t=>t())})}function Cm(){return!1}var li=(()=>{class e{static __NG_ELEMENT_ID__=eP}return e})();function eP(e){return tP(ke(),P(),(e&16)===16)}function tP(e,n,t){if(rr(e)&&!t){let r=_t(e.index,n);return new ar(r,r)}else if(e.type&175){let r=n[$e];return new ar(r,n)}return null}var ym=class{constructor(){}supports(n){return n instanceof Map||rm(n)}create(){return new _m}},_m=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let t;for(t=this._mapHead;t!==null;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||rm(n)))throw new C(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){let r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){let i=this._records.get(n);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Em(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}},Em=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function sC(){return new Im([new ym])}var Im=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:sC});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:()=>{let r=g(e,{optional:!0,skipSelf:!0});return e.create(t,r||sC())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new C(901,!1)}}return e})();var pC=Dm(null,"core",[]),gC=(()=>{class e{constructor(t){}static \u0275fac=function(r){return new(r||e)(m(Fn))};static \u0275mod=ae({type:e});static \u0275inj=oe({})}return e})();function oa(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function mC(e){let n=Rn(e);if(!n)return null;let t=new oi(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var vC=null;function hn(){return vC}function Tm(e){vC??=e}var sa=class{},pr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(yC),providedIn:"platform"})}return e})(),Sm=new w(""),yC=(()=>{class e extends pr{_location;_history;_doc=g(W);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hn().getBaseHref(this._doc)}onPopState(t){let r=hn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=hn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function pu(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function _C(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Bt(e){return e&&e[0]!=="?"?`?${e}`:e}var Ut=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(mu),providedIn:"root"})}return e})(),gu=new w(""),mu=(()=>{class e extends Ut{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(W).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return pu(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Bt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Bt(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Bt(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(m(pr),m(gu,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gr=(()=>{class e{_subject=new Q;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=iP(_C(EC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Bt(r))}normalize(t){return e.stripTrailingSlash(rP(this._basePath,EC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Bt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Bt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Bt;static joinWithSlash=pu;static stripTrailingSlash=_C;static \u0275fac=function(r){return new(r||e)(m(Ut))};static \u0275prov=D({token:e,factory:()=>nP(),providedIn:"root"})}return e})();function nP(){return new gr(m(Ut))}function rP(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function EC(e){return e.replace(/\/index.html$/,"")}function iP(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Nm=(()=>{class e extends Ut{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=pu(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Bt(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Bt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(m(pr),m(gu,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();var Mm=/\s+/,wC=[],oP=(()=>{class e{_ngEl;_renderer;initialClasses=wC;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Mm):wC}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Mm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Mm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(b(ie),b(kn))};static \u0275dir=ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Rm=(()=>{class e{_viewContainer;_context=new vu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){DC(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){DC(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(b(dn),b(cr))};static \u0275dir=ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),vu=class{$implicit=null;ngIf=null};function DC(e,n){if(e&&!e.createEmbeddedView)throw new C(2020,!1)}var sP=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:ct.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||e)(b(ie),b(Im),b(kn))};static \u0275dir=ce({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})(),aP=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||e)(b(dn))};static \u0275dir=ce({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[On]})}return e})();var aa=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ae({type:e});static \u0275inj=oe({})}return e})();function ca(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var ui=class{};var xm="browser",lP="server";function yu(e){return e===xm}function bC(e){return e===lP}var CC=(()=>{class e{static \u0275prov=D({token:e,providedIn:"root",factory:()=>new Am(g(W),window)})}return e})(),Am=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(q(E({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let r=uP(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(Nn(2400,!1))}}scrollToElement(n,t){let r=n.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(q(E({},t),{left:i-s[0],top:o-s[1]}))}};function uP(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var la=class{_doc;constructor(n){this._doc=n}manager},_u=(()=>{class e extends la{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(m(W))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Du=new w(""),Fm=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof _u));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof _u);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(m(Du),m(B))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Om="ng-app-id";function TC(e){for(let n of e)n.remove()}function SC(e,n){let t=n.createElement("style");return t.textContent=e,t}function dP(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Om}="${n}"],link[${Om}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Om),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function km(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Lm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,dP(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,SC);r?.forEach(i=>this.addUsage(i,this.external,km))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(TC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])TC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,SC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,km(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(m(W),m(Gl),m(Yl,8),m(ze))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),Pm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jm=/%COMP%/g;var NC="%COMP%",fP=`_nghost-${NC}`,hP=`_ngcontent-${NC}`,pP=!0,gP=new w("",{factory:()=>pP});function mP(e){return hP.replace(jm,e)}function vP(e){return fP.replace(jm,e)}function RC(e,n){return n.map(t=>t.replace(jm,e))}var Bm=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,c=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new ua(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof wu?i.applyToHost(t):i instanceof da&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case Pt.Emulated:o=new wu(c,l,r,this.appId,u,s,a,d);break;case Pt.ShadowDom:return new Eu(c,t,r,s,a,this.nonce,d,l);case Pt.ExperimentalIsolatedShadowDom:return new Eu(c,t,r,s,a,this.nonce,d);default:o=new da(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(m(Fm),m(Lm),m(Gl),m(gP),m(W),m(B),m(Yl),m(Pn,8))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),ua=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Pm[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(MC(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(MC(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new C(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Pm[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Pm[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(ct.DashCase|ct.Important)?n.style.setProperty(t,r,i&ct.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&ct.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=hn().getGlobalEventTarget(this.doc,n),!n))throw new C(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function MC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Eu=class extends ua{hostEl;sharedStylesHost;shadowRoot;constructor(n,t,r,i,o,s,a,c){super(n,i,o,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=RC(r.id,l);for(let d of l){let f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=d,this.shadowRoot.appendChild(f)}let u=r.getExternalStyles?.();if(u)for(let d of u){let f=km(d,i);s&&f.setAttribute("nonce",s),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},da=class extends ua{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?RC(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ri.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wu=class extends da{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(n,t,r,o,s,a,c,l),this.contentAttr=mP(l),this.hostAttr=vP(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var bu=class e extends sa{supportsDOMEvents=!0;static makeCurrent(){Tm(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=yP();return t==null?null:_P(t)}resetBaseElement(){fa=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return ca(document.cookie,n)}},fa=null;function yP(){return fa=fa||document.head.querySelector("base"),fa?fa.getAttribute("href"):null}function _P(e){return new URL(e,document.baseURI).pathname}var Cu=class{addToWindow(n){ot.getAngularTestability=(r,i=!0)=>{let o=n.findTestabilityInTree(r,i);if(o==null)throw new C(5103,!1);return o},ot.getAllAngularTestabilities=()=>n.getAllTestabilities(),ot.getAllAngularRootElements=()=>n.getAllRootElements();let t=r=>{let i=ot.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};ot.frameworkStabilizers||(ot.frameworkStabilizers=[]),ot.frameworkStabilizers.push(t)}findTestabilityInTree(n,t,r){if(t==null)return null;let i=n.getTestability(t);return i??(r?hn().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},EP=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),AC=["alt","control","meta","shift"],wP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},xC=(()=>{class e extends la{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),AC.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=wP[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),AC.forEach(s=>{if(s!==i){let a=DP[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(m(W))};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function bP(){bu.makeCurrent()}function CP(){return new en}function IP(){return kg(document),document}var TP=[{provide:ze,useValue:xm},{provide:ql,useValue:bP,multi:!0},{provide:W,useFactory:IP}],SP=Dm(pC,"browser",TP);var MP=[{provide:cu,useClass:Cu},{provide:au,useClass:Zs},{provide:Zs,useClass:Zs}],NP=[{provide:Is,useValue:"root"},{provide:en,useFactory:CP},{provide:Du,useClass:_u,multi:!0},{provide:Du,useClass:xC,multi:!0},Bm,Lm,Fm,{provide:ii,useExisting:Bm},{provide:ui,useClass:EP},[]],RP=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ae({type:e});static \u0275inj=oe({providers:[...NP,...MP],imports:[aa,gC]})}return e})();var mr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Tu=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}},Su=class{encodeKey(n){return OC(n)}encodeValue(n){return OC(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function AP(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var xP=/%(\d[a-f0-9])/gi,OP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OC(e){return encodeURIComponent(e).replace(xP,(n,t)=>OP[t]??n)}function Iu(e){return`${e}`}var jn=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Su,n.fromString){if(n.fromObject)throw new C(2805,!1);this.map=AP(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(Iu):[Iu(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Iu(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(Iu(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};function PP(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function PC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function kC(e){return typeof Blob<"u"&&e instanceof Blob}function FC(e){return typeof FormData<"u"&&e instanceof FormData}function kP(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var LC="Content-Type",jC="Accept",UC="text/plain",VC="application/json",FP=`${VC}, ${UC}, */*`,Eo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(PP(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new C(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new mr,this.context??=new Tu,!this.params)this.params=new jn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||PC(this.body)||kC(this.body)||FC(this.body)||kP(this.body)?this.body:this.body instanceof jn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||FC(this.body)?null:kC(this.body)?this.body.type||null:PC(this.body)?null:typeof this.body=="string"?UC:this.body instanceof jn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?VC:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,c=n.mode||this.mode,l=n.redirect||this.redirect,u=n.credentials||this.credentials,d=n.referrer||this.referrer,f=n.integrity||this.integrity,h=n.referrerPolicy||this.referrerPolicy,p=n.transferCache??this.transferCache,y=n.timeout??this.timeout,_=n.body!==void 0?n.body:this.body,I=n.withCredentials??this.withCredentials,Y=n.reportProgress??this.reportProgress,H=n.headers||this.headers,te=n.params||this.params,nt=n.context??this.context;return n.setHeaders!==void 0&&(H=Object.keys(n.setHeaders).reduce((ns,Or)=>ns.set(Or,n.setHeaders[Or]),H)),n.setParams&&(te=Object.keys(n.setParams).reduce((ns,Or)=>ns.set(Or,n.setParams[Or]),te)),new e(t,r,_,{params:te,headers:H,context:nt,reportProgress:Y,responseType:i,withCredentials:I,transferCache:p,keepalive:o,cache:a,priority:s,timeout:y,mode:c,redirect:l,credentials:u,referrer:d,integrity:f,referrerPolicy:h})}},di=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(di||{}),Do=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(n,t=200,r="OK"){this.headers=n.headers||new mr,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.responseType=n.responseType,this.ok=this.status>=200&&this.status<300}},Mu=class e extends Do{constructor(n={}){super(n)}type=di.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},ha=class e extends Do{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=di.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected,responseType:n.responseType??this.responseType})}},wo=class extends Do{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},LP=200,jP=204;var BP=new w("");var UP=/^\)\]\}',?\n/;var Vm=(()=>{class e{xhrFactory;tracingService=g(Pn,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new C(-2800,!1);let r=this.xhrFactory;return S(null).pipe(X(()=>new T(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((_,I)=>s.setRequestHeader(_,I.join(","))),t.headers.has(jC)||s.setRequestHeader(jC,FP),!t.headers.has(LC)){let _=t.detectContentTypeHeader();_!==null&&s.setRequestHeader(LC,_)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let _=t.responseType.toLowerCase();s.responseType=_!=="json"?_:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let _=s.statusText||"OK",I=new mr(s.getAllResponseHeaders()),Y=s.responseURL||t.url;return c=new Mu({headers:I,status:s.status,statusText:_,url:Y}),c},u=this.maybePropagateTrace(()=>{let{headers:_,status:I,statusText:Y,url:H}=l(),te=null;I!==jP&&(te=typeof s.response>"u"?s.responseText:s.response),I===0&&(I=te?LP:0);let nt=I>=200&&I<300;if(t.responseType==="json"&&typeof te=="string"){let ns=te;te=te.replace(UP,"");try{te=te!==""?JSON.parse(te):null}catch(Or){te=ns,nt&&(nt=!1,te={error:Or,text:te})}}nt?(o.next(new ha({body:te,headers:_,status:I,statusText:Y,url:H||void 0})),o.complete()):o.error(new wo({error:te,headers:_,status:I,statusText:Y,url:H||void 0}))}),d=this.maybePropagateTrace(_=>{let{url:I}=l(),Y=new wo({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(Y)}),f=d;t.timeout&&(f=this.maybePropagateTrace(_=>{let{url:I}=l(),Y=new wo({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:I||void 0});o.error(Y)}));let h=!1,p=this.maybePropagateTrace(_=>{h||(o.next(l()),h=!0);let I={type:di.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(I.total=_.total),t.responseType==="text"&&s.responseText&&(I.partialText=s.responseText),o.next(I)}),y=this.maybePropagateTrace(_=>{let I={type:di.UploadProgress,loaded:_.loaded};_.lengthComputable&&(I.total=_.total),o.next(I)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",f),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:di.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",f),t.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(m(ui))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HC(e,n){return n(e)}function VP(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}function HP(e,n,t){return(r,i)=>Ne(t,()=>n(r,o=>e(o,i)))}var $C=new w(""),Hm=new w("",{factory:()=>[]}),zC=new w(""),$m=new w("",{factory:()=>!0});function $P(){let e=null;return(n,t)=>{e===null&&(e=(g($C,{optional:!0})??[]).reduceRight(VP,HC));let r=g(Os);if(g($m)){let o=r.add();return e(n,t).pipe(sr(o))}else return e(n,t)}}var zm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=m(Vm),i},providedIn:"root"})}return e})();var Nu=(()=>{class e{backend;injector;chain=null;pendingTasks=g(Os);contributeToStability=g($m);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Hm),...this.injector.get(zC,[])]));this.chain=r.reduceRight((i,o)=>HP(i,o,this.injector),HC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(sr(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(m(zm),m(pe))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=m(Nu),i},providedIn:"root"})}return e})();function Um(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var WC=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Eo)o=t;else{let c;i.headers instanceof mr?c=i.headers:c=new mr(i.headers);let l;i.params&&(i.params instanceof jn?l=i.params:l=new jn({fromObject:i.params})),o=new Eo(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=S(o).pipe(or(c=>this.handler.handle(c)));if(t instanceof Eo||i.observe==="events")return s;let a=s.pipe(Me(c=>c instanceof ha));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(M(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new C(2806,!1);return c.body}));case"blob":return a.pipe(M(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new C(2807,!1);return c.body}));case"text":return a.pipe(M(c=>{if(c.body!==null&&typeof c.body!="string")throw new C(2808,!1);return c.body}));case"json":default:return a.pipe(M(c=>c.body))}case"response":return a;default:throw new C(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new jn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Um(i,r))}post(t,r,i={}){return this.request("POST",t,Um(i,r))}put(t,r,i={}){return this.request("PUT",t,Um(i,r))}static \u0275fac=function(r){return new(r||e)(m(Wm))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var zP=new w("",{factory:()=>!0}),WP="XSRF-TOKEN",GP=new w("",{factory:()=>WP}),qP="X-XSRF-TOKEN",YP=new w("",{providedIn:"root",factory:()=>qP}),QP=(()=>{class e{cookieName=g(GP);doc=g(W);lastCookieString="";lastToken=null;parseCount=0;getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ca(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),GC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=m(QP),i},providedIn:"root"})}return e})();function KP(e,n){if(!g(zP)||e.method==="GET"||e.method==="HEAD")return n(e);try{let i=g(pr).href,{origin:o}=new URL(i),{origin:s}=new URL(e.url,o);if(o!==s)return n(e)}catch{return n(e)}let t=g(GC).getToken(),r=g(YP);return t!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,t)})),n(e)}var Gm=(function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e})(Gm||{});function ZP(e,n){return{\u0275kind:e,\u0275providers:n}}function XP(...e){let n=[WC,Nu,{provide:Wm,useExisting:Nu},{provide:zm,useFactory:()=>g(BP,{optional:!0})??g(Vm)},{provide:Hm,useValue:KP,multi:!0}];for(let t of e)n.push(...t.\u0275providers);return er(n)}var BC=new w("");function JP(){return ZP(Gm.LegacyInterceptors,[{provide:BC,useFactory:$P},{provide:Hm,useExisting:BC,multi:!0}])}var qC=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(m(W))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var k="primary",Ca=Symbol("RouteTitle"),Zm=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function gi(e){return new Zm(e)}function nI(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ku(e){return new Promise((n,t)=>{e.pipe(At()).subscribe({next:r=>n(r),error:r=>t(r)})})}function tk(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!pn(e[t],n[t]))return!1;return!0}function pn(e,n){let t=e?Xm(e):void 0,r=n?Xm(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!rI(e[i],n[i]))return!1;return!0}function Xm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function rI(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function iI(e){return e.length>0?e[e.length-1]:null}function mi(e){return Fc(e)?e:po(e)?ue(Promise.resolve(e)):S(e)}function oI(e){return Fc(e)?ku(e):Promise.resolve(e)}var nk={exact:aI,subset:cI},sI={exact:rk,subset:ik,ignored:()=>!0};function YC(e,n,t){return nk[t.paths](e.root,n.root,t.matrixParams)&&sI[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function rk(e,n){return pn(e,n)}function aI(e,n,t){if(!hi(e.segments,n.segments)||!xu(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!aI(e.children[r],n.children[r],t))return!1;return!0}function ik(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>rI(e[t],n[t]))}function cI(e,n,t){return lI(e,n,n.segments,t)}function lI(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!hi(i,t)||n.hasChildren()||!xu(i,t,r))}else if(e.segments.length===t.length){if(!hi(e.segments,t)||!xu(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!cI(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!hi(e.segments,i)||!xu(e.segments,i,r)||!e.children[k]?!1:lI(e.children[k],n,o,r)}}function xu(e,n,t){return n.every((r,i)=>sI[t](e[i].parameters,r.parameters))}var Ht=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ee([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=gi(this.queryParams),this._queryParamMap}toString(){return ak.serialize(this)}},ee=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ou(this)}},vr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=gi(this.parameters),this._parameterMap}toString(){return dI(this)}};function ok(e,n){return hi(e,n)&&e.every((t,r)=>pn(t.parameters,n[r].parameters))}function hi(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function sk(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===k&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==k&&(t=t.concat(n(i,r)))}),t}var vi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>new Bn,providedIn:"root"})}return e})(),Bn=class{parse(n){let t=new ev(n);return new Ht(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${pa(n.root,!0)}`,r=uk(n.queryParams),i=typeof n.fragment=="string"?`#${ck(n.fragment)}`:"";return`${t}${r}${i}`}},ak=new Bn;function Ou(e){return e.segments.map(n=>dI(n)).join("/")}function pa(e,n){if(!e.hasChildren())return Ou(e);if(n){let t=e.children[k]?pa(e.children[k],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==k&&r.push(`${i}:${pa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=sk(e,(r,i)=>i===k?[pa(e.children[k],!1)]:[`${i}:${pa(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[k]!=null?`${Ou(e)}/${t[0]}`:`${Ou(e)}/(${t.join("//")})`}}function uI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ru(e){return uI(e).replace(/%3B/gi,";")}function ck(e){return encodeURI(e)}function Jm(e){return uI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pu(e){return decodeURIComponent(e)}function QC(e){return Pu(e.replace(/\+/g,"%20"))}function dI(e){return`${Jm(e.path)}${lk(e.parameters)}`}function lk(e){return Object.entries(e).map(([n,t])=>`;${Jm(n)}=${Jm(t)}`).join("")}function uk(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ru(t)}=${Ru(i)}`).join("&"):`${Ru(t)}=${Ru(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var dk=/^[^\/()?;#]+/;function qm(e){let n=e.match(dk);return n?n[0]:""}var fk=/^[^\/()?;=#]+/;function hk(e){let n=e.match(fk);return n?n[0]:""}var pk=/^[^=?&#]+/;function gk(e){let n=e.match(pk);return n?n[0]:""}var mk=/^[^&#]+/;function vk(e){let n=e.match(mk);return n?n[0]:""}var ev=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[k]=new ee(n,t)),r}parseSegment(){let n=qm(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(n),new vr(Pu(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=hk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=qm(this.remaining);i&&(r=i,this.capture(r))}n[Pu(t)]=Pu(r)}parseQueryParam(n){let t=gk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=vk(this.remaining);s&&(r=s,this.capture(r))}let i=QC(t),o=QC(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=k);let s=this.parseChildren();t[o??k]=Object.keys(s).length===1&&s[k]?s[k]:new ee([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new C(4011,!1)}};function fI(e){return e.segments.length>0?new ee([],{[k]:e}):e}function hI(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=hI(i);if(r===k&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ee(e.segments,n);return yk(t)}function yk(e){if(e.numberOfChildren===1&&e.children[k]){let n=e.children[k];return new ee(e.segments.concat(n.segments),n.children)}return e}function yr(e){return e instanceof Ht}function pI(e,n,t=null,r=null,i=new Bn){let o=gI(e);return mI(o,n,t,r,i)}function gI(e){let n;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new ee(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=fI(r);return n??i}function mI(e,n,t,r,i){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Ym(o,o,o,t,r,i);let s=_k(n);if(s.toRoot())return Ym(o,o,new ee([],{}),t,r,i);let a=Ek(s,o,e),c=a.processChildren?ma(a.segmentGroup,a.index,s.commands):yI(a.segmentGroup,a.index,s.commands);return Ym(o,a.segmentGroup,c,t,r,i)}function Fu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ya(e){return typeof e=="object"&&e!=null&&e.outlets}function KC(e,n,t){e||="\u0275";let r=new Ht;return r.queryParams={[e]:n},t.parse(t.serialize(r)).queryParams[e]}function Ym(e,n,t,r,i,o){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(d=>KC(l,d,o)):KC(l,u,o);let a;e===n?a=t:a=vI(e,n,t);let c=fI(hI(a));return new Ht(c,s,i)}function vI(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=vI(o,n,t)}),new ee(e.segments,r)}var Lu=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Fu(r[0]))throw new C(4003,!1);let i=r.find(ya);if(i&&i!==iI(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _k(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Lu(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Lu(t,n,r)}var Co=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function Ek(e,n,t){if(e.isAbsolute)return new Co(n,!0,0);if(!t)return new Co(n,!1,NaN);if(t.parent===null)return new Co(t,!0,0);let r=Fu(e.commands[0])?0:1,i=t.segments.length-1+r;return wk(t,i,e.numberOfDoubleDots)}function wk(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Co(r,!1,i-o)}function Dk(e){return ya(e[0])?e[0].outlets:{[k]:e}}function yI(e,n,t){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return ma(e,n,t);let r=bk(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ee(e.segments.slice(0,r.pathIndex),{});return o.children[k]=new ee(e.segments.slice(r.pathIndex),e.children),ma(o,0,i)}else return r.match&&i.length===0?new ee(e.segments,{}):r.match&&!e.hasChildren()?tv(e,n,t):r.match?ma(e,0,i):tv(e,n,t)}function ma(e,n,t){if(t.length===0)return new ee(e.segments,{});{let r=Dk(t),i={};if(Object.keys(r).some(o=>o!==k)&&e.children[k]&&e.numberOfChildren===1&&e.children[k].segments.length===0){let o=ma(e.children[k],n,t);return new ee(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=yI(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ee(e.segments,i)}}function bk(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(ya(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!XC(c,l,s))return o;r+=2}else{if(!XC(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tv(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(ya(o)){let c=Ck(o.outlets);return new ee(r,c)}if(i===0&&Fu(t[0])){let c=e.segments[n];r.push(new vr(c.path,ZC(t[0]))),i++;continue}let s=ya(o)?o.outlets[k]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Fu(a)?(r.push(new vr(s,ZC(a))),i+=2):(r.push(new vr(s,{})),i++)}return new ee(r,{})}function Ck(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=tv(new ee([],{}),0,r))}),n}function ZC(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function XC(e,n,t){return e==t.path&&pn(n,t.parameters)}var Io="imperative",Ie=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Ie||{}),ut=class{id;url;constructor(n,t){this.id=n,this.url=t}},_r=class extends ut{type=Ie.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Et=class extends ut{urlAfterRedirects;type=Ie.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ge=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Ge||{}),So=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(So||{}),gn=class extends ut{reason;code;type=Ie.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mn=class extends ut{reason;code;type=Ie.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},Mo=class extends ut{error;target;type=Ie.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_a=class extends ut{urlAfterRedirects;state;type=Ie.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ju=class extends ut{urlAfterRedirects;state;type=Ie.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bu=class extends ut{urlAfterRedirects;state;shouldActivate;type=Ie.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Uu=class extends ut{urlAfterRedirects;state;type=Ie.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vu=class extends ut{urlAfterRedirects;state;type=Ie.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hu=class{route;type=Ie.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$u=class{route;type=Ie.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zu=class{snapshot;type=Ie.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wu=class{snapshot;type=Ie.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gu=class{snapshot;type=Ie.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qu=class{snapshot;type=Ie.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},No=class{routerEvent;position;anchor;type=Ie.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Ea=class{},Ro=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function Ik(e){return!(e instanceof Ea)&&!(e instanceof Ro)}function Tk(e,n){return e.providers&&!e._injector&&(e._injector=ho(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Vt(e){return e.outlet||k}function Sk(e,n){let t=e.filter(r=>Vt(r)===n);return t.push(...e.filter(r=>Vt(r)!==n)),t}function Oo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Yu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Oo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new yi(this.rootInjector)}},yi=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Yu(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(m(pe))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qu=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=nv(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=nv(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=rv(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return rv(n,this._root).map(t=>t.value)}};function nv(e,n){if(e===n.value)return n;for(let t of n.children){let r=nv(e,t);if(r)return r}return null}function rv(e,n){if(e===n.value)return[n];for(let t of n.children){let r=rv(e,t);if(r.length)return r.unshift(n),r}return[]}var lt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function bo(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var wa=class extends Qu{snapshot;constructor(n,t){super(n),this.snapshot=t,lv(this,n)}toString(){return this.snapshot.toString()}};function _I(e){let n=Mk(e),t=new De([new vr("",{})]),r=new De({}),i=new De({}),o=new De({}),s=new De(""),a=new Un(t,r,o,s,i,k,e,n.root);return a.snapshot=n.root,new wa(new lt(a,[]),n)}function Mk(e){let n={},t={},r={},o=new pi([],n,r,"",t,k,e,null,{});return new Da("",new lt(o,[]))}var Un=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(M(l=>l[Ca]))??S(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(M(n=>gi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(M(n=>gi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ku(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:E(E({},n.params),e.params),data:E(E({},n.data),e.data),resolve:E(E(E(E({},e.data),n.data),i?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},i&&wI(i)&&(r.resolve[Ca]=i.title),r}var pi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ca]}constructor(n,t,r,i,o,s,a,c,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=gi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=gi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Da=class extends Qu{url;constructor(n,t){super(t),this.url=n,lv(this,t)}toString(){return EI(this._root)}};function lv(e,n){n.value._routerState=e,n.children.forEach(t=>lv(e,t))}function EI(e){let n=e.children.length>0?` { ${e.children.map(EI).join(", ")} } `:"";return`${e.value}${n}`}function Qm(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,pn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),pn(n.params,t.params)||e.paramsSubject.next(t.params),tk(n.url,t.url)||e.urlSubject.next(t.url),pn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function iv(e,n){let t=pn(e.params,n.params)&&ok(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||iv(e.parent,n.parent))}function wI(e){return typeof e.title=="string"||e.title===null}var DI=new w(""),uv=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=k;activateEvents=new _e;deactivateEvents=new _e;attachEvents=new _e;detachEvents=new _e;routerOutletData=uC();parentContexts=g(yi);location=g(dn);changeDetector=g(li);inputBinder=g(Ia,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ov(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[On]})}return e})(),ov=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Un?this.route:n===yi?this.childContexts:n===DI?this.outletData:this.parent.get(n,t)}},Ia=new w(""),dv=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Hc([r.queryParams,r.params,r.data]).pipe(X(([o,s,a],c)=>(a=E(E(E({},o),s),a),c===0?S(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=mC(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})(),fv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ci({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ln(0,"router-outlet")},dependencies:[uv],encapsulation:2})}return e})();function hv(e){let n=e.children&&e.children.map(hv),t=n?q(E({},e),{children:n}):E({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==k&&(t.component=fv),t}function Nk(e,n,t){let r=ba(e,n._root,t?t._root:void 0);return new wa(r,n)}function ba(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=Rk(e,n,t);return new lt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ba(e,a)),s}}let r=Ak(n.value),i=n.children.map(o=>ba(e,o));return new lt(r,i)}}function Rk(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ba(e,r,i);return ba(e,r)})}function Ak(e){return new Un(new De(e.url),new De(e.params),new De(e.queryParams),new De(e.fragment),new De(e.data),e.outlet,e.component,e)}var Ao=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},bI="ngNavigationCancelingError";function Zu(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=yr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=CI(!1,Ge.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function CI(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[bI]=!0,t.cancellationCode=n,t}function xk(e){return II(e)&&yr(e.url)}function II(e){return!!e&&e[bI]}var Ok=(e,n,t,r)=>M(i=>(new sv(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),sv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Qm(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=bo(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=bo(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=bo(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=bo(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qu(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Wu(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Qm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qm(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Xu=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},To=class{component;route;constructor(n,t){this.component=n,this.route=t}};function Pk(e,n,t){let r=e._root,i=n?n._root:null;return ga(r,i,t,[r.value])}function kk(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Po(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!lh(e)?e:n.get(e):r}function ga(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=bo(n);return e.children.forEach(s=>{Fk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>va(a,t.getContext(s),i)),i}function Fk(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Lk(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Xu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ga(e,n,a?a.children:null,r,i):ga(e,n,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new To(a.outlet.component,s))}else s&&va(n,a,i),i.canActivateChecks.push(new Xu(r)),o.component?ga(e,null,a?a.children:null,r,i):ga(e,null,t,r,i);return i}function Lk(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!hi(e.url,n.url);case"pathParamsOrQueryParamsChange":return!hi(e.url,n.url)||!pn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iv(e,n)||!pn(e.queryParams,n.queryParams);case"paramsChange":default:return!iv(e,n)}}function va(e,n,t){let r=bo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?va(s,n.children.getContext(o),t):va(s,null,t):va(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new To(n.outlet.component,i)):t.canDeactivateChecks.push(new To(null,i)):t.canDeactivateChecks.push(new To(null,i))}function Ta(e){return typeof e=="function"}function jk(e){return typeof e=="boolean"}function Bk(e){return e&&Ta(e.canLoad)}function Uk(e){return e&&Ta(e.canActivate)}function Vk(e){return e&&Ta(e.canActivateChild)}function Hk(e){return e&&Ta(e.canDeactivate)}function $k(e){return e&&Ta(e.canMatch)}function TI(e){return e instanceof Fr||e?.name==="EmptyError"}var Au=Symbol("INITIAL_VALUE");function xo(){return X(e=>Hc(e.map(n=>n.pipe(Rt(1),Pp(Au)))).pipe(M(n=>{for(let t of n)if(t!==!0){if(t===Au)return Au;if(t===!1||zk(t))return t}return!0}),Me(n=>n!==Au),Rt(1)))}function zk(e){return yr(e)||e instanceof Ao}function SI(e){return e.aborted?S(void 0).pipe(Rt(1)):new T(n=>{let t=()=>{n.next(),n.complete()};return e.addEventListener("abort",t),()=>e.removeEventListener("abort",t)})}function MI(e){return Fe(SI(e))}function Wk(e,n){return Se(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?S(q(E({},t),{guardsResult:!0})):Gk(s,r,i,e).pipe(Se(a=>a&&jk(a)?qk(r,o,e,n):S(a)),M(a=>q(E({},t),{guardsResult:a})))})}function Gk(e,n,t,r){return ue(e).pipe(Se(i=>Xk(i.component,i.route,t,n,r)),At(i=>i!==!0,!0))}function qk(e,n,t,r){return ue(n).pipe(or(i=>$i(Qk(i.route.parent,r),Yk(i.route,r),Zk(e,i.path,t),Kk(e,i.route,t))),At(i=>i!==!0,!0))}function Yk(e,n){return e!==null&&n&&n(new Gu(e)),S(!0)}function Qk(e,n){return e!==null&&n&&n(new zu(e)),S(!0)}function Kk(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let i=r.map(o=>ms(()=>{let s=Oo(n)??t,a=Po(o,s),c=Uk(a)?a.canActivate(n,e):Ne(s,()=>a(n,e));return mi(c).pipe(At())}));return S(i).pipe(xo())}function Zk(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>kk(s)).filter(s=>s!==null).map(s=>ms(()=>{let a=s.guards.map(c=>{let l=Oo(s.node)??t,u=Po(c,l),d=Vk(u)?u.canActivateChild(r,e):Ne(l,()=>u(r,e));return mi(d).pipe(At())});return S(a).pipe(xo())}));return S(o).pipe(xo())}function Xk(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let s=o.map(a=>{let c=Oo(n)??i,l=Po(a,c),u=Hk(l)?l.canDeactivate(e,n,t,r):Ne(c,()=>l(e,n,t,r));return mi(u).pipe(At())});return S(s).pipe(xo())}function Jk(e,n,t,r,i){let o=n.canLoad;if(o===void 0||o.length===0)return S(!0);let s=o.map(a=>{let c=Po(a,e),l=Bk(c)?c.canLoad(n,t):Ne(e,()=>c(n,t)),u=mi(l);return i?u.pipe(MI(i)):u});return S(s).pipe(xo(),NI(r))}function NI(e){return Cf(G(n=>{if(typeof n!="boolean")throw Zu(e,n)}),M(n=>n===!0))}function eF(e,n,t,r,i){let o=n.canMatch;if(!o||o.length===0)return S(!0);let s=o.map(a=>{let c=Po(a,e),l=$k(c)?c.canMatch(n,t):Ne(e,()=>c(n,t)),u=mi(l);return i?u.pipe(MI(i)):u});return S(s).pipe(xo(),NI(r))}var fi=class RI extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,RI.prototype)}},av=class AI extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,AI.prototype)}};function tF(e){throw new C(4e3,!1)}function nF(e){throw CI(!1,Ge.GuardRejected)}var rF=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){return z(this,null,function*(){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[k])throw tF(`${n.redirectTo}`);i=i.children[k]}})}applyRedirectCommands(n,t,r,i,o){return z(this,null,function*(){let s=yield iF(t,i,o);if(s instanceof Ht)throw new av(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new av(a);return a})}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new Ht(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new ee(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function iF(e,n,t){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=n;return ku(mi(Ne(t,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d}))))}var cv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oF(e,n,t,r,i,o){let s=xI(e,n,t);return s.matched?(r=Tk(n,r),eF(r,n,t,i,o).pipe(M(a=>a===!0?s:E({},cv)))):S(s)}function xI(e,n,t){if(n.path==="**")return sF(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?E({},cv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||nI)(t,e,n);if(!i)return E({},cv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function sF(e){return{matched:!0,parameters:e.length>0?iI(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function JC(e,n,t,r){return t.length>0&&lF(e,t,r)?{segmentGroup:new ee(n,cF(r,new ee(t,e.children))),slicedSegments:[]}:t.length===0&&uF(e,t,r)?{segmentGroup:new ee(e.segments,aF(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:t}}function aF(e,n,t,r){let i={};for(let o of t)if(ed(e,n,o)&&!r[Vt(o)]){let s=new ee([],{});i[Vt(o)]=s}return E(E({},r),i)}function cF(e,n){let t={};t[k]=n;for(let r of e)if(r.path===""&&Vt(r)!==k){let i=new ee([],{});t[Vt(r)]=i}return t}function lF(e,n,t){return t.some(r=>ed(e,n,r)&&Vt(r)!==k)}function uF(e,n,t){return t.some(r=>ed(e,n,r))}function ed(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function dF(e,n,t){return n.length===0&&!e.children[t]}var fF=class{};function hF(e,n,t,r,i,o,s="emptyOnly",a){return z(this,null,function*(){return new gF(e,n,t,r,i,s,o,a).recognize()})}var pF=31,gF=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a,c){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new rF(this.urlSerializer,this.urlTree)}noMatchError(n){return new C(4002,`'${n.segmentGroup}'`)}recognize(){return z(this,null,function*(){let n=JC(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=yield this.match(n),i=new lt(r,t),o=new Da("",i),s=pI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(n){return z(this,null,function*(){let t=new pi([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),k,this.rootComponentType,null,{});try{return{children:yield this.processSegmentGroup(this.injector,this.config,n,k,t),rootSnapshot:t}}catch(r){if(r instanceof av)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fi?this.noMatchError(r):r}})}processSegmentGroup(n,t,r,i,o){return z(this,null,function*(){if(r.segments.length===0&&r.hasChildren())return this.processChildren(n,t,r,o);let s=yield this.processSegment(n,t,r,r.segments,i,!0,o);return s instanceof lt?[s]:[]})}processChildren(n,t,r,i){return z(this,null,function*(){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],u=Sk(t,c),d=yield this.processSegmentGroup(n,u,l,c,i);s.push(...d)}let a=OI(s);return mF(a),a})}processSegment(n,t,r,i,o,s,a){return z(this,null,function*(){for(let c of t)try{return yield this.processSegmentAgainstRoute(c._injector??n,t,c,r,i,o,s,a)}catch(l){if(l instanceof fi||TI(l))continue;throw l}if(dF(r,i,o))return new fF;throw new fi(r)})}processSegmentAgainstRoute(n,t,r,i,o,s,a,c){return z(this,null,function*(){if(Vt(r)!==s&&(s===k||!ed(i,o,r)))throw new fi(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,c);throw new fi(i)})}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){return z(this,null,function*(){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=xI(t,i,o);if(!c)throw new fi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pF&&(this.allowRedirects=!1));let h=new pi(o,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,eI(i),Vt(i),i.component??i._loadedComponent??null,i,tI(i)),p=Ku(h,a,this.paramsInheritanceStrategy);if(h.params=Object.freeze(p.params),h.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let y=yield this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,n),_=yield this.applyRedirects.lineralizeSegments(i,y);return this.processSegment(n,r,t,_.concat(f),s,!1,a)})}matchSegmentAgainstRoute(n,t,r,i,o,s){return z(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=yield ku(oF(t,r,i,n,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new fi(t);n=r._injector??n;let{routes:c}=yield this.getChildConfig(n,r,i),l=r._loadedInjector??n,{parameters:u,consumedSegments:d,remainingSegments:f}=a,h=new pi(d,u,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,eI(r),Vt(r),r.component??r._loadedComponent??null,r,tI(r)),p=Ku(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let{segmentGroup:y,slicedSegments:_}=JC(t,d,f,c);if(_.length===0&&y.hasChildren()){let H=yield this.processChildren(l,c,y,h);return new lt(h,H)}if(c.length===0&&_.length===0)return new lt(h,[]);let I=Vt(r)===o,Y=yield this.processSegment(l,c,y,_,I?k:o,!0,h);return new lt(h,Y instanceof lt?[Y]:[])})}getChildConfig(n,t,r){return z(this,null,function*(){if(t.children)return{routes:t.children,injector:n};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield ku(Jk(n,t,r,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(n,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw nF(t)}return{routes:[],injector:n}})}};function mF(e){e.sort((n,t)=>n.value.outlet===k?-1:t.value.outlet===k?1:n.value.outlet.localeCompare(t.value.outlet))}function vF(e){let n=e.value.routeConfig;return n&&n.path===""}function OI(e){let n=[],t=new Set;for(let r of e){if(!vF(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=OI(r.children);n.push(new lt(r.value,i))}return n.filter(r=>!t.has(r))}function eI(e){return e.data||{}}function tI(e){return e.resolve||{}}var yF=new w("",{factory:()=>hF});function _F(e,n,t,r,i,o,s){let a=e.get(yF);return Se(c=>S(c).pipe(X(l=>a(e,n,t,r,l.extractedUrl,i,o,s)),M(({state:l,tree:u})=>q(E({},c),{targetSnapshot:l,urlAfterRedirects:u}))))}function EF(e,n){return Se(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return S(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of PI(c))s.add(l);let a=0;return ue(s).pipe(or(c=>o.has(c)?wF(c,r,e,n):(c.data=Ku(c,c.parent,e).resolve,S(void 0))),G(()=>a++),vl(1),Se(c=>a===s.size?S(t):rt))})}function PI(e){let n=e.children.map(t=>PI(t)).flat();return[e,...n]}function wF(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!wI(i)&&(o[Ca]=i.title),ms(()=>(e.data=Ku(e,e.parent,t).resolve,DF(o,e,n,r).pipe(M(s=>(e._resolvedData=s,e.data=E(E({},e.data),s),null)))))}function DF(e,n,t,r){let i=Xm(e);if(i.length===0)return S({});let o={};return ue(i).pipe(Se(s=>bF(e[s],n,t,r).pipe(At(),G(a=>{if(a instanceof Ao)throw Zu(new Bn,a);o[s]=a}))),vl(1),M(()=>o),Ps(s=>TI(s)?rt:hs(s)))}function bF(e,n,t,r){let i=Oo(n)??r,o=Po(e,i),s=o.resolve?o.resolve(n,t):Ne(i,()=>o(n,t));return mi(s)}function Km(e){return X(n=>{let t=e(n);return t?ue(t).pipe(M(()=>n)):S(n)})}var pv=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===k);return r}getResolvedTitleForRoute(t){return t.data[Ca]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(kI),providedIn:"root"})}return e})(),kI=(()=>{class e extends pv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(m(qC))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Er=new w("",{factory:()=>({})}),ko=new w(""),td=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(vm);loadComponent(t,r){return z(this,null,function*(){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=z(this,null,function*(){try{let o=yield oI(Ne(t,()=>r.loadComponent())),s=yield jI(LI(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}});return this.componentLoaders.set(r,i),i})}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=z(this,null,function*(){try{let o=yield FI(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}});return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FI(e,n,t,r){return z(this,null,function*(){let i=yield oI(Ne(t,()=>e.loadChildren())),o=yield jI(LI(i)),s;o instanceof su||Array.isArray(o)?s=o:s=yield n.compileModuleAsync(o),r&&r(e);let a,c,l=!1;return Array.isArray(s)?(c=s,l=!0):(a=s.create(t).injector,c=a.get(ko,[],{optional:!0,self:!0}).flat()),{routes:c.map(hv),injector:a}})}function CF(e){return e&&typeof e=="object"&&"default"in e}function LI(e){return CF(e)?e.default:e}function jI(e){return z(this,null,function*(){return e})}var nd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(IF),providedIn:"root"})}return e})(),IF=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gv=new w(""),mv=new w("");function BI(e,n,t){let r=e.get(mv),i=e.get(W);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),TF(e)));a.updateCallbackDone.catch(l=>{}),a.ready.catch(l=>{}),a.finished.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&Ne(e,()=>c({transition:a,from:n,to:t})),s}function TF(e){return new Promise(n=>{Gg({read:()=>setTimeout(n)},{injector:e})})}var SF=()=>{},vv=new w(""),rd=(()=>{class e{currentNavigation=Xr(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Xr(null);events=new Q;transitionAbortWithErrorSubject=new Q;configLoader=g(td);environmentInjector=g(pe);destroyRef=g(cn);urlSerializer=g(vi);rootContexts=g(yi);location=g(gr);inputBindingEnabled=g(Ia,{optional:!0})!==null;titleStrategy=g(pv);options=g(Er,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(nd);createViewTransition=g(gv,{optional:!0});navigationErrorHandler=g(vv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>S(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Hu(i)),r=i=>this.events.next(new $u(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Nt(()=>{this.transitions?.next(q(E({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new De(null),this.transitions.pipe(Me(r=>r!==null),X(r=>{let i=!1,o=new AbortController;return S(r).pipe(X(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ge.SupersededByNewNavigation),rt;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?q(E({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&l!=="reload")return this.events.next(new mn(s.id,this.urlSerializer.serialize(s.rawUrl),"",So.IgnoredSameUrlNavigation)),s.resolve(!1),rt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return S(s).pipe(X(u=>(this.events.next(new _r(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?rt:Promise.resolve(u))),_F(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),G(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let d=new _a(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:f,restoredState:h,extras:p}=s,y=new _r(u,this.urlSerializer.serialize(d),f,h);this.events.next(y);let _=_I(this.rootComponentType).snapshot;return this.currentTransition=r=q(E({},s),{targetSnapshot:_,urlAfterRedirects:d,extras:q(E({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(I=>(I.finalUrl=d,I)),S(r)}else return this.events.next(new mn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",So.IgnoredByUrlHandlingStrategy)),s.resolve(!1),rt}),G(s=>{let a=new ju(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),M(s=>(this.currentTransition=r=q(E({},s),{guards:Pk(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Wk(this.environmentInjector,s=>this.events.next(s)),G(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Zu(this.urlSerializer,s.guardsResult);let a=new Bu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Me(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ge.GuardRejected),!1)),Km(s=>{if(s.guards.canActivateChecks.length!==0)return S(s).pipe(G(a=>{let c=new Uu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),X(a=>{let c=!1;return S(a).pipe(EF(this.paramsInheritanceStrategy,this.environmentInjector),G({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Ge.NoDataFromResolver)}}))}),G(a=>{let c=new Vu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Km(s=>{let a=l=>{let u=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let d=Oo(l)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,l.routeConfig).then(f=>{l.component=f}))}for(let d of l.children)u.push(...a(d));return u},c=a(s.targetSnapshot.root);return c.length===0?S(s):ue(Promise.all(c).then(()=>s))}),Km(()=>this.afterPreactivation()),X(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ue(c).pipe(M(()=>r)):S(r)}),M(s=>{let a=Nk(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=q(E({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),G(()=>{this.events.next(new Ea)}),Ok(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Rt(1),Fe(SI(o.signal).pipe(Me(()=>!i&&!r.targetRouterState),G(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Ge.Aborted)}))),G({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=SF,a)),this.lastSuccessfulNavigation.set(Nt(this.currentNavigation)),this.events.next(new Et(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Fe(this.transitionAbortWithErrorSubject.pipe(G(s=>{throw s}))),sr(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Ge.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ps(s=>{if(this.destroyed)return r.resolve(!1),rt;if(i=!0,II(s))this.events.next(new gn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),xk(s)?this.events.next(new Ro(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Mo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ne(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Ao){let{message:l,cancellationCode:u}=Zu(this.urlSerializer,c);this.events.next(new gn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Ro(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return rt}))}))}cancelNavigationTransition(t,r,i){let o=new gn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Nt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MF(e){return e!==Io}var UI=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(NF),providedIn:"root"})}return e})(),Ju=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},NF=(()=>{class e extends Ju{static \u0275fac=(()=>{let t;return function(i){return(t||(t=co(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yv=(()=>{class e{urlSerializer=g(vi);options=g(Er,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(gr);urlHandlingStrategy=g(nd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ht;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Ht?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=_I(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:()=>g(VI),providedIn:"root"})}return e})(),VI=(()=>{class e extends yv{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof _r?this.updateStateMemento():t instanceof mn?this.commitTransition(r):t instanceof _a?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ea?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof gn&&t.code!==Ge.SupersededByNewNavigation&&t.code!==Ge.Redirect?this.restoreHistory(r):t instanceof Mo?this.restoreHistory(r,!0):t instanceof Et&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=E(E({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=E(E({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=co(e)))(i||e)}})();static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function id(e,n){e.events.pipe(Me(t=>t instanceof Et||t instanceof gn||t instanceof Mo||t instanceof mn),M(t=>t instanceof Et||t instanceof mn?0:(t instanceof gn?t.code===Ge.Redirect||t.code===Ge.SupersededByNewNavigation:!1)?2:1),Me(t=>t!==2),Rt(1)).subscribe(()=>{n()})}var RF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(sm);stateManager=g(yv);options=g(Er,{optional:!0})||{};pendingTasks=g(ln);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(rd);urlSerializer=g(vi);location=g(gr);urlHandlingStrategy=g(nd);injector=g(pe);_events=new Q;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(UI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(ko,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(Ia,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new j;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Nt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof gn&&r.code!==Ge.Redirect&&r.code!==Ge.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Et)this.navigated=!0;else if(r instanceof Ro){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||MF(i.source)},s);this.scheduleNavigation(a,Io,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Ik(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Io,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(at)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Nt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=gI(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return mI(d,t,u,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=yr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Io,null,r)}navigate(t,r={skipLocationChange:!1}){return xF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Nn(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},RF):r===!1?i=E({},AF):i=r,yr(t))return YC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return YC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return id(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xF(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new C(4008,!1)}var HI=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Xr(null);get href(){return Nt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Q;applicationErrorHandler=g(at);options=g(Er,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(g(new fu("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(t=>{t instanceof Et&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(yr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:yr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(b(Vn),b(Un),Gs("tabindex"),b(kn),b(ie),b(Ut))};static \u0275dir=ce({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&go("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ur("href",i.reactiveHref(),Bg)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",oa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",oa],replaceUrl:[2,"replaceUrl","replaceUrl",oa],routerLink:"routerLink"},features:[On]})}return e})();var Sa=class{};var $I=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Me(t=>t instanceof Et),or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ho(o.providers,t,""));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ue(i).pipe(Kn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=ue(this.loader.loadChildren(t,r)):i=S(null);let o=i.pipe(Se(s=>s===null?S(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return ue([o,s]).pipe(Kn())}else return o})}static \u0275fac=function(r){return new(r||e)(m(Vn),m(pe),m(Sa),m(td))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zI=new w(""),OF=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Io;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _r?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Et?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof mn&&t.code===So.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof No))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>z(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new No(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){em()};static \u0275prov=D({token:e,factory:e.\u0275fac})}return e})();function PF(){return g(Vn).routerState.root}function Ma(e,n){return{\u0275kind:e,\u0275providers:n}}function kF(){let e=g(Ve);return n=>{let t=e.get(Fn);if(n!==t.components[0])return;let r=e.get(Vn),i=e.get(WI);e.get(Ev)===1&&r.initialNavigation(),e.get(YI,null,{optional:!0})?.setUpPreloading(),e.get(zI,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var WI=new w("",{factory:()=>new Q}),Ev=new w("",{factory:()=>1});function GI(){let e=[{provide:Fg,useValue:!0},{provide:Ev,useValue:0},lu(()=>{let n=g(Ve);return n.get(Sm,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Vn),o=n.get(WI);id(i,()=>{r(!0)}),n.get(rd).afterPreactivation=()=>(r(!0),o.closed?S(void 0):o),i.initialNavigation()}))})];return Ma(2,e)}function qI(){let e=[lu(()=>{g(Vn).setUpLocationChangeListener()}),{provide:Ev,useValue:2}];return Ma(3,e)}var YI=new w("");function QI(e){return Ma(0,[{provide:YI,useExisting:$I},{provide:Sa,useExisting:e}])}function KI(){return Ma(8,[dv,{provide:Ia,useExisting:dv}])}function ZI(e){Ft("NgRouterViewTransitions");let n=[{provide:gv,useValue:BI},{provide:mv,useValue:E({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ma(9,n)}var XI=[gr,{provide:vi,useClass:Bn},Vn,yi,{provide:Un,useFactory:PF},td,[]],FF=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[XI,[],{provide:ko,multi:!0,useValue:t},[],r?.errorHandler?{provide:vv,useValue:r.errorHandler}:[],{provide:Er,useValue:r||{}},r?.useHash?jF():BF(),LF(),r?.preloadingStrategy?QI(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?UF(r):[],r?.bindToComponentInputs?KI().\u0275providers:[],r?.enableViewTransitions?ZI().\u0275providers:[],VF()]}}static forChild(t){return{ngModule:e,providers:[{provide:ko,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ae({type:e});static \u0275inj=oe({})}return e})();function LF(){return{provide:zI,useFactory:()=>{let e=g(CC),n=g(B),t=g(Er),r=g(rd),i=g(vi);return t.scrollOffset&&e.setOffset(t.scrollOffset),new OF(i,r,e,n,t)}}}function jF(){return{provide:Ut,useClass:Nm}}function BF(){return{provide:Ut,useClass:mu}}function UF(e){return[e.initialNavigation==="disabled"?qI().\u0275providers:[],e.initialNavigation==="enabledBlocking"?GI().\u0275providers:[]]}var _v=new w("");function VF(){return[{provide:_v,useFactory:kF},{provide:uu,multi:!0,useExisting:_v}]}var RZ={production:!0,demoCreds:!0,firebase:{apiKey:"AIzaSyBz8v3EAcJiqrHCcLkCxigtl4qzYxfsZdo",authDomain:"chat-on-angular-bac4e.firebaseapp.com",databaseURL:"https://chat-on-angular-bac4e-default-rtdb.firebaseio.com",projectId:"chat-on-angular-bac4e",storageBucket:"chat-on-angular-bac4e.appspot.com",messagingSenderId:"882958560471",appId:"1:882958560471:web:5b7f9d475a421e7c8d1492",measurementId:"G-TD6VDFVVH1"},customer:{email:"coatestfirebase@gmail.com",password:"123123"},formspreeApiUrl:"https://formspree.io/f/xvoybjvl"};var HF="firebase",$F="10.14.1";Gn(HF,$F,"app");var Ei=new jr("ANGULARFIRE2_VERSION");var zF=(e,n)=>{let t=n?[n]:X_(),r=[];return t.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},_i=class{constructor(){return zF(WF)}},WF="app-check";function wv(){}var od=class{zone;delegate;constructor(n,t=Mc){this.zone=n,this.delegate=t}now(){return this.delegate.now()}schedule(n,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{n.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Dv=class{zone;task=null;constructor(n){this.zone=n}call(n,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wv,{},wv,wv)),t.pipe(G({next:r,complete:r,error:r})).subscribe(n).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},sd=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new od(Zone.current)),this.insideAngular=t.run(()=>new od(Zone.current,Ui)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||e)(m(B))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function GF(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function Hn(e){return qF(GF())(e)}function qF(e){return function(t){return t=t.lift(new Dv(e.ngZone)),t.pipe(ei(e.outsideAngular),Yn(e.insideAngular))}}var YF="firebase",QF="10.14.1";Be.registerVersion(YF,QF,"app-compat");var KF=["ngOnDestroy"],tT=(e,n,t,r={})=>new Proxy(e,{get:(i,o)=>t.runOutsideAngular(()=>{if(e[o])return r?.spy?.get&&r.spy.get(o,e[o]),e[o];if(KF.indexOf(o)>-1)return()=>{};let s=n.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>t.run(()=>l)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{let d=u?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,d),d})})})});var ad=class{constructor(n){return n}},Fo=new w("angularfire2.app.options"),Lo=new w("angularfire2.app.name");function Na(e,n,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let s=Be.apps.filter(a=>a&&a.name===i.name)[0]||n.runOutsideAngular(()=>Be.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;ZF("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ad(s)}var ZF=(e,...n)=>{Cm()&&typeof console<"u"&&console[e](...n)},XF={provide:ad,useFactory:Na,deps:[Fo,B,[new xg,Lo]]},YZ=(()=>{class e{static initializeApp(t,r){return{ngModule:e,providers:[{provide:Fo,useValue:t},{provide:Lo,useValue:r}]}}constructor(t){Be.registerVersion("angularfire",Ei.full,"core"),Be.registerVersion("angularfire",Ei.full,"app-compat"),Be.registerVersion("angular",ah.full,t.toString())}static \u0275fac=function(r){return new(r||e)(m(ze))};static \u0275mod=ae({type:e});static \u0275inj=oe({providers:[XF]})}return e})();function cd(e,n,t,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return JF(i,s)||(eT("error",`${n} was already initialized on the ${t} Firebase App with different settings.${eL?" You may need to reload as Firebase is not HMR aware.":""}`),eT("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([e,a,i]),a}}function JF(e,n){try{return e.toString()===n.toString()}catch{return e===n}}var eL=typeof module<"u"&&!!module.hot,eT=(e,...n)=>{Cm()&&typeof console<"u"&&console[e](...n)};globalThis.\u0275AngularfireInstanceCache||=[];var rL=new Map,iL={activated:!1,tokenObservers:[]},oL={initialized:!1,enabled:!1};function $t(e){return rL.get(e)||Object.assign({},iL)}function sT(){return oL}var sL="https://content-firebaseappcheck.googleapis.com/v1";var aL="exchangeDebugToken",nT={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},i7=1440*60*1e3;var Cv=class{constructor(n,t,r,i,o){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){return z(this,null,function*(){this.stop();try{this.pending=new Te,this.pending.promise.catch(t=>{}),yield cL(this.getNextRun(n)),this.pending.resolve(),yield this.pending.promise,this.pending=new Te,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function cL(e){return new Promise(n=>{setTimeout(n,e)})}var lL={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},wr=new z_("appCheck","AppCheck",lL);function aT(e){if(!$t(e).activated)throw wr.create("use-before-activation",{appName:e.name})}function cT(r,i){return z(this,arguments,function*({url:e,body:n},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(n),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw wr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw wr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw wr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function lT(e,n){let{projectId:t,appId:r,apiKey:i}=e.options;return{url:`${sL}/projects/${t}/apps/${r}:${aL}?key=${i}`,body:{debug_token:n}}}var uL="firebase-app-check-database",dL=1,Iv="firebase-app-check-store";var ld=null;function fL(){return ld||(ld=new Promise((e,n)=>{try{let t=indexedDB.open(uL,dL);t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{var i;n(wr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Iv,{keyPath:"compositeKey"})}}}catch(t){n(wr.create("storage-open",{originalErrorMessage:t?.message}))}}),ld)}function hL(e,n){return pL(gL(e),n)}function pL(e,n){return z(this,null,function*(){let r=(yield fL()).transaction(Iv,"readwrite"),o=r.objectStore(Iv).put({compositeKey:e,value:n});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(wr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function gL(e){return`${e.options.appId}-${e.name}`}var Tv=new xi("@firebase/app-check");function bv(e,n){return $_()?hL(e,n).catch(t=>{Tv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function uT(){return sT().enabled}function dT(){return z(this,null,function*(){let e=sT();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var mL={error:"UNKNOWN_ERROR"};function vL(e){return dc.encodeString(JSON.stringify(e),!1)}function Sv(e,n=!1){return z(this,null,function*(){let t=e.app;aT(t);let r=$t(t),i=r.token,o;if(i&&!Ra(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(Ra(c)?i=c:yield bv(t,void 0))}if(!n&&i&&Ra(i))return{token:i.token};let s=!1;if(uT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cT(lT(t,yield dT()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield bv(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield $t(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Tv.warn(c.message):Tv.error(c),o=c}let a;return i?o?Ra(i)?a={token:i.token,internalError:o}:a=iT(o):(a={token:i.token},r.token=i,yield bv(t,i)):a=iT(o),s&&wL(t,a),a})}function yL(e){return z(this,null,function*(){let n=e.app;aT(n);let{provider:t}=$t(n);if(uT()){let r=yield dT(),{token:i}=yield cT(lT(n,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function _L(e,n,t,r){let{app:i}=e,o=$t(i),s={next:t,error:r,type:n};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ra(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),rT(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>rT(e))}function fT(e,n){let t=$t(e),r=t.tokenObservers.filter(i=>i.next!==n);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function rT(e){let{app:n}=e,t=$t(n),r=t.tokenRefresher;r||(r=EL(e),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function EL(e){let{app:n}=e;return new Cv(()=>z(null,null,function*(){let t=$t(n),r;if(t.token?r=yield Sv(e,!0):r=yield Sv(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=$t(n);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},nT.RETRIAL_MIN_WAIT,nT.RETRIAL_MAX_WAIT)}function wL(e,n){let t=$t(e).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&n.error!=null?r.error(n.error):r.next(n)}catch{}}function Ra(e){return e.expireTimeMillis-Date.now()>0}function iT(e){return{token:vL(mL),error:e}}var Mv=class{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:n}=$t(this.app);for(let t of n)fT(this.app,t.next);return Promise.resolve()}};function DL(e,n){return new Mv(e,n)}function bL(e){return{getToken:n=>Sv(e,n),getLimitedUseToken:()=>yL(e),addTokenListener:n=>_L(e,"INTERNAL",n),removeTokenListener:n=>fT(e.app,n)}}var CL="@firebase/app-check",IL="0.8.8";var TL="app-check",oT="app-check-internal";function SL(){os(new Dn(TL,e=>{let n=e.getProvider("app").getImmediate(),t=e.getProvider("heartbeat");return DL(n,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,t)=>{e.getProvider(oT).initialize()})),os(new Dn(oT,e=>{let n=e.getProvider("app-check").getImmediate();return bL(n)},"PUBLIC").setInstantiationMode("EXPLICIT")),Gn(CL,IL)}SL();var ML=["localhost","0.0.0.0","127.0.0.1"],m7=typeof window<"u"&&ML.includes(window.location.hostname);var Nv=new w("angularfire2.auth.use-emulator"),Rv=new w("angularfire2.auth.settings"),Av=new w("angularfire2.auth.tenant-id"),xv=new w("angularfire2.auth.langugage-code"),Ov=new w("angularfire2.auth.use-device-language"),Pv=new w("angularfire.auth.persistence"),kv=(e,n,t,r,i,o,s,a)=>cd(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let c=n.runOutsideAngular(()=>e.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[t,r,i,o,s,a]),Fv=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,o,s,a,c,l,u,d,f,h){let p=new Q,y=S(void 0).pipe(Yn(s.outsideAngular),X(()=>o.runOutsideAngular(()=>import("./chunk-WYAXSNYR.js"))),M(()=>Na(t,o,r)),M(_=>kv(_,o,a,l,u,d,c,f)),yl({bufferSize:1,refCount:!1}));if(bC(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=S(null);else{y.pipe(At()).subscribe();let _=y.pipe(X(H=>H.getRedirectResult().then(te=>te,()=>null)),Hn,yl({bufferSize:1,refCount:!1})),I=y.pipe(X(H=>new T(te=>({unsubscribe:o.runOutsideAngular(()=>H.onAuthStateChanged(nt=>te.next(nt),nt=>te.error(nt),()=>te.complete()))})))),Y=y.pipe(X(H=>new T(te=>({unsubscribe:o.runOutsideAngular(()=>H.onIdTokenChanged(nt=>te.next(nt),nt=>te.error(nt),()=>te.complete()))}))));this.authState=_.pipe(El(I),ei(s.outsideAngular),Yn(s.insideAngular)),this.user=_.pipe(El(Y),ei(s.outsideAngular),Yn(s.insideAngular)),this.idToken=this.user.pipe(X(H=>H?ue(H.getIdToken()):S(null))),this.idTokenResult=this.user.pipe(X(H=>H?ue(H.getIdTokenResult()):S(null))),this.credential=tt(_,p,this.authState.pipe(Me(H=>!H))).pipe(M(H=>H?.user?H:null),ei(s.outsideAngular),Yn(s.insideAngular))}return tT(this,y,o,{spy:{apply:(_,I,Y)=>{(_.startsWith("signIn")||_.startsWith("createUser"))&&Y.then(H=>p.next(H))}}})}static \u0275fac=function(r){return new(r||e)(m(Fo),m(Lo,8),m(ze),m(B),m(sd),m(Nv,8),m(Rv,8),m(Av,8),m(xv,8),m(Ov,8),m(Pv,8),m(_i,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),x7=(()=>{class e{constructor(){Be.registerVersion("angularfire",Ei.full,"auth-compat")}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ae({type:e});static \u0275inj=oe({providers:[Fv]})}return e})();var pT="@firebase/database",gT="1.0.8";var Yy="";function Qy(e){Yy=e}var zv=class{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,t){t==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),ye(t))}get(n){let t=this.domStorage_.getItem(this.prefixedName_(n));return t==null?null:fc(t)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}};var Wv=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,t){t==null?delete this.cache_[n]:this.cache_[n]=t}get(n){return gt(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}};var GT=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new zv(n)}}catch{}return new Wv},Di=GT("localStorage"),Gv=GT("sessionStorage");var Vo=new xi("@firebase/database"),qT=(function(){let e=1;return function(){return e++}})(),YT=function(e){let n=Q_(e),t=new Y_;t.update(n);let r=t.digest();return dc.encodeByteArray(r)},ec=function(...e){let n="";for(let t=0;t<e.length;t++){let r=e[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=ec.apply(null,r):typeof r=="object"?n+=ye(r):n+=r,n+=" "}return n},bi=null,mT=!0,QT=function(e,n){v(!n||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Vo.logLevel=K_.VERBOSE,bi=Vo.log.bind(Vo),n&&Gv.set("logging_enabled",!0)):typeof e=="function"?bi=e:(bi=null,Gv.remove("logging_enabled"))},Ae=function(...e){if(mT===!0&&(mT=!1,bi===null&&Gv.get("logging_enabled")===!0&&QT(!0)),bi){let n=ec.apply(null,e);bi(n)}},tc=function(e){return function(...n){Ae(e,...n)}},qv=function(...e){let n="FIREBASE INTERNAL ERROR: "+ec(...e);Vo.error(n)},_n=function(...e){let n=`FIREBASE FATAL ERROR: ${ec(...e)}`;throw Vo.error(n),new Error(n)},Le=function(...e){let n="FIREBASE WARNING: "+ec(...e);Vo.warn(n)},RL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Le("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ld=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},AL=function(e){if(qt()||document.readyState==="complete")e();else{let n=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}n||(n=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Ir="[MIN_NAME]",$n="[MAX_NAME]",Ii=function(e,n){if(e===n)return 0;if(e===Ir||n===$n)return-1;if(n===Ir||e===$n)return 1;{let t=vT(e),r=vT(n);return t!==null?r!==null?t-r===0?e.length-n.length:t-r:-1:r!==null?1:e<n?-1:1}},xL=function(e,n){return e===n?0:e<n?-1:1},Aa=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+ye(n))},Ky=function(e){if(typeof e!="object"||e===null)return ye(e);let n=[];for(let r in e)n.push(r);n.sort();let t="{";for(let r=0;r<n.length;r++)r!==0&&(t+=","),t+=ye(n[r]),t+=":",t+=Ky(e[n[r]]);return t+="}",t},KT=function(e,n){let t=e.length;if(t<=n)return[e];let r=[];for(let i=0;i<t;i+=n)i+n>t?r.push(e.substring(i,t)):r.push(e.substring(i,i+n));return r};function xe(e,n){for(let t in e)e.hasOwnProperty(t)&&n(t,e[t])}var ZT=function(e){v(!Ld(e),"Invalid JSON number");let n=11,t=52,r=(1<<n-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(e/Math.pow(2,1-r-t))));let l=[];for(c=t;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=n;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},OL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},PL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kL(e,n){let t="Unknown Error";e==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?t="Client doesn't have permission to access the desired data.":e==="unavailable"&&(t="The service is unavailable");let r=new Error(e+" at "+n._path.toString()+": "+t);return r.code=e.toUpperCase(),r}var FL=new RegExp("^-?(0*)\\d{1,10}$"),LL=-2147483648,jL=2147483647,vT=function(e){if(FL.test(e)){let n=Number(e);if(n>=LL&&n<=jL)return n}return null},Ko=function(e){try{e()}catch(n){setTimeout(()=>{let t=n.stack||"";throw Le("Exception was thrown by user callback.",t),n},Math.floor(0))}},BL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ka=function(e,n){let t=setTimeout(e,n);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var Yv=class{constructor(n,t){this.appName_=n,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(t,r):t(null)},0)})}addTokenChangeListener(n){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){Le(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Qv=class{constructor(n,t,r){this.appName_=n,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(t=>t&&t.code==="auth/token-not-initialized"?(Ae("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(t,r):t(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(t=>t.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(t=>t.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Le(n)}},Fa=(()=>{class e{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),dd="5",XT="v",JT="s",eS="r",tS="f",nS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rS="ls",iS="p",Kv="ac",oS="websocket",sS="long_polling";var fd=class{constructor(n,t,r,i,o=!1,s="",a=!1,c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Di.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Di.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){let n=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${t}`}};function UL(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function aS(e,n,t){v(typeof n=="string","typeof type must == string"),v(typeof t=="object","typeof params must == object");let r;if(n===oS)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(n===sS)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);UL(e)&&(t.ns=e.namespace);let i=[];return xe(t,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Zv=class{constructor(){this.counters_={}}incrementCounter(n,t=1){gt(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=t}get(){return U_(this.counters_)}};var Lv={},jv={};function Zy(e){let n=e.toString();return Lv[n]||(Lv[n]=new Zv),Lv[n]}function VL(e,n){let t=e.toString();return jv[t]||(jv[t]=n()),jv[t]}var Xv=class{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,t){this.closeAfterResponse=n,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,t){for(this.pendingResponses[n]=t;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ko(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var yT="start",HL="close",$L="pLPCommand",zL="pRTLPCB",cS="id",lS="pw",uS="ser",WL="cb",GL="seg",qL="ts",YL="d",QL="dframe",dS=1870,fS=30,KL=dS-fS,ZL=25e3,XL=3e4,Ua=class e{constructor(n,t,r,i,o,s,a){this.connId=n,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tc(n),this.stats_=Zy(t),this.urlFn=c=>(this.appCheckToken&&(c[Kv]=this.appCheckToken),aS(t,sS,c))}open(n,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Xv(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(XL)),AL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jv((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===yT)this.id=a,this.password=c;else if(s===HL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[yT]="t",r[uS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[WL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[XT]=dd,this.transportSessionId&&(r[JT]=this.transportSessionId),this.lastSessionId&&(r[rS]=this.lastSessionId),this.applicationId&&(r[iS]=this.applicationId),this.appCheckToken&&(r[Kv]=this.appCheckToken),typeof location<"u"&&location.hostname&&nS.test(location.hostname)&&(r[eS]=tS);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return qt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!OL()&&!PL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){let t=ye(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let r=B_(t),i=KT(r,KL);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(n,t){if(qt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[QL]="t",r[cS]=n,r[lS]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){let t=ye(n).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},Jv=class e{constructor(n,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,qt())this.commandCB=n,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=qT(),window[$L+this.uniqueCallbackIdentifier]=n,window[zL+this.uniqueCallbackIdentifier]=t,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ae("frame writing exception"),a.stack&&Ae(a.stack),Ae(a)}}}static createIFrame_(){let n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ae("No IE domain setting required")}catch{let r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,t){for(this.myID=n,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let n={};n[cS]=this.myID,n[lS]=this.myPW,n[uS]=this.currentSerial;let t=this.urlFn(n),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fS+r.length<=dS;){let s=this.pendingSegs.shift();r=r+"&"+GL+i+"="+s.seg+"&"+qL+i+"="+s.ts+"&"+YL+i+"="+s.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(n,t,r){this.pendingSegs.push({seg:n,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,t){this.outstandingRequests.add(t);let r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(ZL)),o=()=>{clearTimeout(i),r()};this.addTag(n,o)}addTag(n,t){qt()?this.doNodeLongPoll(n,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Ae("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var JL=16384,e1=45e3,hd=null;typeof MozWebSocket<"u"?hd=MozWebSocket:typeof WebSocket<"u"&&(hd=WebSocket);var Bo=(()=>{class e{constructor(t,r,i,o,s,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tc(this.connId),this.stats_=Zy(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,s){let a={};return a[XT]=dd,!qt()&&typeof location<"u"&&location.hostname&&nS.test(location.hostname)&&(a[eS]=tS),r&&(a[JT]=r),i&&(a[rS]=i),o&&(a[Kv]=o),s&&(a[iS]=s),aS(t,oS,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Di.set("previous_websocket_failure",!0);try{let i;if(qt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${dd}/${Yy}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new hd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&hd!==null&&!e.forceDisallow_}static previouslyFailed(){return Di.isInMemoryStorage||Di.get("previous_websocket_failure")===!0}markConnectionHealthy(){Di.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=fc(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(v(this.frames===null,"We already have a frame buffer"),t.length<=6){let r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();let r=ye(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=KT(r,JL);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(e1))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),hS=(()=>{class e{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ua,Bo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){let r=Bo&&Bo.isAvailable(),i=r&&!Bo.previouslyFailed();if(t.webSocketOnly&&(r||Le("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Bo];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),t1=6e4,n1=5e3,r1=10*1024,i1=100*1024,Bv="t",_T="d",o1="s",ET="r",s1="e",wT="o",DT="a",bT="n",CT="p",a1="h",ey=class{constructor(n,t,r,i,o,s,a,c,l,u){this.id=n,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tc("c:"+this.id+":"),this.transportManager_=new hS(t),this.log_("Connection created"),this.start_()}start_(){let n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));let i=n.healthyTimeout||0;i>0&&(this.healthyTimeout_=ka(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>i1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>r1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return t=>{n===this.conn_?this.onConnectionLost_(t):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return t=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(t):n===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(n){let t={t:"d",d:n};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Bv in n){let t=n[Bv];t===DT?this.upgradeIfSecondaryHealthy_():t===ET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===wT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){let t=Aa("t",n),r=Aa("d",n);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:CT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){let t=Aa("t",n),r=Aa("d",n);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){let t=Aa(Bv,n);if(_T in n){let r=n[_T];if(t===a1){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===bT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===o1?this.onConnectionShutdown_(r):t===ET?this.onReset_(r):t===s1?qv("Server Error: "+r):t===wT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qv("Unknown control packet command: "+t)}}onHandshake_(n){let t=n.ts,r=n.v,i=n.h;this.sessionId=n.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),dd!==r&&Le("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),ka(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(t1))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,t){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ka(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(n1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:CT,d:{}}}))}onSecondaryConnectionLost_(){let n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Di.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var pd=class{put(n,t,r,i){}merge(n,t,r,i){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,t,r){}onDisconnectMerge(n,t,r){}onDisconnectCancel(n,t){}reportStats(n){}};var gd=class{constructor(n){this.allowedEvents_=n,this.listeners_={},v(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...t){if(Array.isArray(this.listeners_[n])){let r=[...this.listeners_[n]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(n,t,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:t,context:r});let i=this.getInitialEvent(n);i&&t.apply(r,i)}off(n,t,r){this.validateEventType_(n);let i=this.listeners_[n]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(n){v(this.allowedEvents_.find(t=>t===n),"Unknown event: "+n)}};var md=class e extends gd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!af()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(n){return v(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}};var IT=32,TT=768,Z=class{constructor(n,t){if(t===void 0){this.pieces_=n.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=t}toString(){let n="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(n+="/"+this.pieces_[t]);return n||"/"}};function K(){return new Z("")}function U(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Tr(e){return e.pieces_.length-e.pieceNum_}function se(e){let n=e.pieceNum_;return n<e.pieces_.length&&n++,new Z(e.pieces_,n)}function Xy(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function c1(e){let n="";for(let t=e.pieceNum_;t<e.pieces_.length;t++)e.pieces_[t]!==""&&(n+="/"+encodeURIComponent(String(e.pieces_[t])));return n||"/"}function Va(e,n=0){return e.pieces_.slice(e.pieceNum_+n)}function pS(e){if(e.pieceNum_>=e.pieces_.length)return null;let n=[];for(let t=e.pieceNum_;t<e.pieces_.length-1;t++)n.push(e.pieces_[t]);return new Z(n,0)}function fe(e,n){let t=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);if(n instanceof Z)for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);else{let r=n.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Z(t,0)}function V(e){return e.pieceNum_>=e.pieces_.length}function qe(e,n){let t=U(e),r=U(n);if(t===null)return n;if(t===r)return qe(se(e),se(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function l1(e,n){let t=Va(e,0),r=Va(n,0);for(let i=0;i<t.length&&i<r.length;i++){let o=Ii(t[i],r[i]);if(o!==0)return o}return t.length===r.length?0:t.length<r.length?-1:1}function Jy(e,n){if(Tr(e)!==Tr(n))return!1;for(let t=e.pieceNum_,r=n.pieceNum_;t<=e.pieces_.length;t++,r++)if(e.pieces_[t]!==n.pieces_[r])return!1;return!0}function wt(e,n){let t=e.pieceNum_,r=n.pieceNum_;if(Tr(e)>Tr(n))return!1;for(;t<e.pieces_.length;){if(e.pieces_[t]!==n.pieces_[r])return!1;++t,++r}return!0}var ty=class{constructor(n,t){this.errorPrefix_=t,this.parts_=Va(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=is(this.parts_[r]);gS(this)}};function u1(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=is(n),gS(e)}function d1(e){let n=e.parts_.pop();e.byteLength_-=is(n),e.parts_.length>0&&(e.byteLength_-=1)}function gS(e){if(e.byteLength_>TT)throw new Error(e.errorPrefix_+"has a key path longer than "+TT+" bytes ("+e.byteLength_+").");if(e.parts_.length>IT)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+IT+") or object contains a cycle "+wi(e))}function wi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var ny=class e extends gd{constructor(){super(["visible"]);let n,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new e}getInitialEvent(n){return v(n==="visible","Unknown event type: "+n),[this.visible_]}};var xa=1e3,f1=300*1e3,ST=30*1e3,h1=1.3,p1=3e4,g1="server_kill",MT=3,e_=(()=>{class e extends pd{constructor(t,r,i,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=tc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xa,this.maxReconnectDelay_=f1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!qt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ny.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&md.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){let o=++this.requestNumber_,s={r:o,a:t,b:r};this.log_(ye(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();let r=new Te,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(t,r,i,o){this.initConnection_();let s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){let r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){let r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&gt(t,"w")){let i=Wn(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Le(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||G_(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ST)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,r=W_(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let r=t.s,i=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){let i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),v(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);let s={p:t},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(t){let r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){let r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ye(t));let r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):qv("Unrecognized action received from server: "+ye(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>p1&&(this.reconnectDelay_=xa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*h1)}this.onConnectStatus_(!1)}establishConnection_(){return z(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){v(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ae("getToken() completed but was canceled"):(Ae("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new ey(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,p=>{Le(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(g1)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Le(f),l())}}})}interrupt(t){Ae("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ae("Resuming connection for reason: "+t),delete this.interruptReasons_[t],hc(this.interruptReasons_)&&(this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;r?i=r.map(s=>Ky(s)).join("$"):i="default";let o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){let i=new Z(t).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){Ae("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=MT&&(this.reconnectDelay_=ST,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ae("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=MT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},r="js";qt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),t["sdk."+r+"."+Yy.replace(/\./g,"-")]=1,af()?t["framework.cordova"]=1:H_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=md.getInstance().currentlyOnline();return hc(this.interruptReasons_)&&t}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),$=class e{constructor(n,t){this.name=n,this.node=t}static Wrap(n,t){return new e(n,t)}};var Ho=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,t){let r=new $(Ir,n),i=new $(Ir,t);return this.compare(r,i)!==0}minPost(){return $.MIN}};var ud,vd=class extends Ho{static get __EMPTY_NODE(){return ud}static set __EMPTY_NODE(n){ud=n}compare(n,t){return Ii(n.name,t.name)}isDefinedOn(n){throw Ai("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,t){return!1}minPost(){return $.MIN}maxPost(){return new $($n,ud)}makePost(n,t){return v(typeof n=="string","KeyIndex indexValue must always be a string."),new $(n,ud)}toString(){return".key"}},yn=new vd;var Uo=class{constructor(n,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!n.isEmpty();)if(n=n,s=t?r(n.key,t):1,i&&(s*=-1),s<0)this.isReverse_?n=n.left:n=n.right;else if(s===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(n.key,n.value):t={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}},zt=(()=>{class e{constructor(t,r,i,o,s){this.key=t,this.value=r,this.color=i??e.RED,this.left=o??Dt.EMPTY_NODE,this.right=s??Dt.EMPTY_NODE}copy(t,r,i,o,s){return new e(t??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this,s=i(t,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(t,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(t,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),ry=class{copy(n,t,r,i,o){return this}insert(n,t,r){return new zt(n,t,null)}remove(n,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Dt=class e{constructor(n,t=e.EMPTY_NODE){this.comparator_=n,this.root_=t}insert(n,t){return new e(this.comparator_,this.root_.insert(n,t,this.comparator_).copy(null,null,zt.BLACK,null,null))}remove(n){return new e(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,zt.BLACK,null,null))}get(n){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(n,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(n){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(n,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Uo(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,t){return new Uo(this.root_,n,this.comparator_,!1,t)}getReverseIteratorFrom(n,t){return new Uo(this.root_,n,this.comparator_,!0,t)}getReverseIterator(n){return new Uo(this.root_,null,this.comparator_,!0,n)}};Dt.EMPTY_NODE=new ry;function m1(e,n){return Ii(e.name,n.name)}function t_(e,n){return Ii(e,n)}var iy;function v1(e){iy=e}var mS=function(e){return typeof e=="number"?"number:"+ZT(e):"string:"+e},vS=function(e){if(e.isLeafNode()){let n=e.val();v(typeof n=="string"||typeof n=="number"||typeof n=="object"&&gt(n,".sv"),"Priority must be a string or number.")}else v(e===iy||e.isEmpty(),"priority of unexpected type.");v(e===iy||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var NT,$o=(()=>{class e{constructor(t,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vS(this.priorityNode_)}static set __childrenNodeConstructor(t){NT=t}static get __childrenNodeConstructor(){return NT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return V(t)?this:U(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){let i=U(t);return i===null?r:r.isEmpty()&&i!==".priority"?this:(v(i!==".priority"||Tr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+mS(this.priorityNode_.val())+":");let r=typeof this.value_;t+=r+":",r==="number"?t+=ZT(this.value_):t+=this.value_,this.lazyHash_=YT(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(v(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let r=typeof t.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return v(o>=0,"Unknown leaf type: "+r),v(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),yS,_S;function y1(e){yS=e}function _1(e){_S=e}var oy=class extends Ho{compare(n,t){let r=n.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return o===0?Ii(n.name,t.name):o}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,t){return!n.getPriority().equals(t.getPriority())}minPost(){return $.MIN}maxPost(){return new $($n,new $o("[PRIORITY-POST]",_S))}makePost(n,t){let r=yS(n);return new $(t,new $o("[PRIORITY-POST]",r))}toString(){return".priority"}},le=new oy;var E1=Math.log(2),sy=class{constructor(n){let t=o=>parseInt(Math.log(o)/E1,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=t(n+1),this.current_=this.count-1;let i=r(this.count);this.bits_=n+1&i}nextBitIsOne(){let n=!(this.bits_&1<<this.current_);return this.current_--,n}},yd=function(e,n,t,r){e.sort(n);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=t?t(d):d,new zt(f,d.node,zt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),y=i(h+1,l);return d=e[h],f=t?t(d):d,new zt(f,d.node,zt.BLACK,p,y)}},o=function(c){let l=null,u=null,d=e.length,f=function(p,y){let _=d-p,I=d;d-=p;let Y=i(_+1,I),H=e[_],te=t?t(H):H;h(new zt(te,H.node,y,null,Y))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let y=c.nextBitIsOne(),_=Math.pow(2,c.count-(p+1));y?f(_,zt.BLACK):(f(_,zt.BLACK),f(_,zt.RED))}return u},s=new sy(e.length),a=o(s);return new Dt(r||n,a)};var Uv,jo={},zo=class e{constructor(n,t){this.indexes_=n,this.indexSet_=t}static get Default(){return v(jo&&le,"ChildrenNode.ts has not been loaded"),Uv=Uv||new e({".priority":jo},{".priority":le}),Uv}get(n){let t=Wn(this.indexes_,n);if(!t)throw new Error("No index defined for "+n);return t instanceof Dt?t:null}hasIndex(n){return gt(this.indexSet_,n.toString())}addIndex(n,t){v(n!==yn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=t.getIterator($.Wrap),s=o.getNext();for(;s;)i=i||n.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=yd(r,n.getCompare()):a=jo;let c=n.toString(),l=Object.assign({},this.indexSet_);l[c]=n;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(n,t){let r=rs(this.indexes_,(i,o)=>{let s=Wn(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),i===jo)if(s.isDefinedOn(n.node)){let a=[],c=t.getIterator($.Wrap),l=c.getNext();for(;l;)l.name!==n.name&&a.push(l),l=c.getNext();return a.push(n),yd(a,s.getCompare())}else return jo;else{let a=t.get(n.name),c=i;return a&&(c=c.remove(new $(n.name,a))),c.insert(n,n.node)}});return new e(r,this.indexSet_)}removeFromIndexes(n,t){let r=rs(this.indexes_,i=>{if(i===jo)return i;{let o=t.get(n.name);return o?i.remove(new $(n.name,o)):i}});return new e(r,this.indexSet_)}};var Oa,F=(()=>{class e{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&vS(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Oa||(Oa=new e(new Dt(t_),null,zo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Oa}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let r=this.children_.get(t);return r===null?Oa:r}}getChild(t){let r=U(t);return r===null?this:this.getImmediateChild(r).getChild(se(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(v(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{let i=new $(t,r),o,s;r.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Oa:this.priorityNode_;return new e(o,a,s)}}updateChild(t,r){let i=U(t);if(i===null)return r;{v(U(t)!==".priority"||Tr(t)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(se(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(le,(a,c)=>{r[a]=c.val(t),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+mS(this.getPriority().val())+":"),this.forEachChild(le,(r,i)=>{let o=i.hash();o!==""&&(t+=":"+r+":"+o)}),this.lazyHash_=t===""?"":YT(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new $(t,r));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){let r=this.getFirstChildName(t);return r?new $(r,this.children_.get(r)):null}getLastChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){let r=this.getLastChildName(t);return r?new $(r,this.children_.get(r)):null}forEachChild(t,r){let i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{let o=this.children_.getIteratorFrom(t.name,$.Wrap),s=o.peek();for(;s!=null&&r.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{let o=this.children_.getReverseIteratorFrom(t.name,$.Wrap),s=o.peek();for(;s!=null&&r.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===nc?-1:0}withIndex(t){if(t===yn||this.indexMap_.hasIndex(t))return this;{let r=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===yn||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(le),o=r.getIterator(le),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===yn?null:this.indexMap_.get(t.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),ay=class extends F{constructor(){super(new Dt(t_),F.EMPTY_NODE,zo.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return F.EMPTY_NODE}isEmpty(){return!1}},nc=new ay;Object.defineProperties($,{MIN:{value:new $(Ir,F.EMPTY_NODE)},MAX:{value:new $($n,nc)}});vd.__EMPTY_NODE=F.EMPTY_NODE;$o.__childrenNodeConstructor=F;v1(nc);_1(nc);var w1=!0;function he(e,n=null){if(e===null)return F.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(n=e[".priority"]),v(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let t=e;return new $o(t,he(n))}if(!(e instanceof Array)&&w1){let t=[],r=!1;if(xe(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=he(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new $(s,c)))}}),t.length===0)return F.EMPTY_NODE;let o=yd(t,m1,s=>s.name,t_);if(r){let s=yd(t,le.getCompare());return new F(o,he(n),new zo({".priority":s},{".priority":le}))}else return new F(o,he(n),zo.Default)}else{let t=F.EMPTY_NODE;return xe(e,(r,i)=>{if(gt(e,r)&&r.substring(0,1)!=="."){let o=he(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(he(n))}}y1(he);var Ha=class extends Ho{constructor(n){super(),this.indexPath_=n,v(!V(n)&&U(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,t){let r=this.extractChild(n.node),i=this.extractChild(t.node),o=r.compareTo(i);return o===0?Ii(n.name,t.name):o}makePost(n,t){let r=he(n),i=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new $(t,i)}maxPost(){let n=F.EMPTY_NODE.updateChild(this.indexPath_,nc);return new $($n,n)}toString(){return Va(this.indexPath_,0).join("/")}};var cy=class extends Ho{compare(n,t){let r=n.node.compareTo(t.node);return r===0?Ii(n.name,t.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,t){return!n.equals(t)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(n,t){let r=he(n);return new $(t,r)}toString(){return".value"}},n_=new cy;function ES(e){return{type:"value",snapshotNode:e}}function Wo(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function $a(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function za(e,n,t){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:t}}function D1(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}var Wa=class{constructor(n){this.index_=n}updateChild(n,t,r,i,o,s){v(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=n.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?n.hasChild(t)?s.trackChildChange($a(t,a)):v(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Wo(t,r)):s.trackChildChange(za(t,r,a))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(n,t,r){return r!=null&&(n.isLeafNode()||n.forEachChild(le,(i,o)=>{t.hasChild(i)||r.trackChildChange($a(i,o))}),t.isLeafNode()||t.forEachChild(le,(i,o)=>{if(n.hasChild(i)){let s=n.getImmediateChild(i);s.equals(o)||r.trackChildChange(za(i,o,s))}else r.trackChildChange(Wo(i,o))})),t.withIndex(this.index_)}updatePriority(n,t){return n.isEmpty()?F.EMPTY_NODE:n.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var _d=class e{constructor(n){this.indexedFilter_=new Wa(n.getIndex()),this.index_=n.getIndex(),this.startPost_=e.getStartPost_(n),this.endPost_=e.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return t&&r}updateChild(n,t,r,i,o,s){return this.matches(new $(t,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(n,t,r,i,o,s)}updateFullNode(n,t,r){t.isLeafNode()&&(t=F.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(F.EMPTY_NODE);let o=this;return t.forEachChild(le,(s,a)=>{o.matches(new $(s,a))||(i=i.updateImmediateChild(s,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,i,r)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){let t=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),t)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){let t=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),t)}else return n.getIndex().maxPost()}};var ly=class{constructor(n){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{let r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new _d(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,t,r,i,o,s){return this.rangedFilter_.matches(new $(t,r))||(r=F.EMPTY_NODE),n.getImmediateChild(t).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,t,r,i,o,s):this.fullLimitUpdateChild_(n,t,r,o,s)}updateFullNode(n,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=F.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(F.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,i,r)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,t,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=n;v(a.numChildren()===this.limit_,"");let c=new $(t,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(t)){let d=a.getImmediateChild(t),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===t||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(za(t,r,d)),a.updateImmediateChild(t,r);{o?.trackChildChange($a(t,d));let y=a.updateImmediateChild(t,F.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Wo(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?n:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange($a(l.name,l.node)),o.trackChildChange(Wo(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(l.name,F.EMPTY_NODE)):n}};var Ga=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ir}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$n}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===le}copy(){let n=new e;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}};function b1(e){return e.loadsAllData()?new Wa(e.getIndex()):e.hasLimit()?new ly(e):new _d(e)}function C1(e,n){let t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="l",t}function I1(e,n){let t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="r",t}function uy(e,n,t){let r=e.copy();return r.startSet_=!0,n===void 0&&(n=null),r.indexStartValue_=n,t!=null?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function T1(e,n,t){let r;return e.index_===yn||t?r=uy(e,n,t):r=uy(e,n,$n),r.startAfterSet_=!0,r}function dy(e,n,t){let r=e.copy();return r.endSet_=!0,n===void 0&&(n=null),r.indexEndValue_=n,t!==void 0?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function S1(e,n,t){let r;return e.index_===yn||t?r=dy(e,n,t):r=dy(e,n,Ir),r.endBeforeSet_=!0,r}function jd(e,n){let t=e.copy();return t.index_=n,t}function RT(e){let n={};if(e.isDefault())return n;let t;if(e.index_===le?t="$priority":e.index_===n_?t="$value":e.index_===yn?t="$key":(v(e.index_ instanceof Ha,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=ye(t),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";n[r]=ye(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+ye(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";n[r]=ye(e.indexEndValue_),e.endNameSet_&&(n[r]+=","+ye(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function AT(e){let n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_),n.sin=!e.startAfterSet_),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_),n.ein=!e.endBeforeSet_),e.limitSet_){n.l=e.limit_;let t=e.viewFrom_;t===""&&(e.isViewFromLeft()?t="l":t="r"),n.vf=t}return e.index_!==le&&(n.i=e.index_.toString()),n}var fy=class e extends pd{constructor(n,t,r,i){super(),this.repoInfo_=n,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=tc("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,t){return t!==void 0?"tag$"+t:(v(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,t,r,i){let o=n._path.toString();this.log_("Listen called for "+o+" "+n._queryIdentifier);let s=e.getListenId_(n,r),a={};this.listens_[s]=a;let c=RT(n._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Wn(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(n,t){let r=e.getListenId_(n,t);delete this.listens_[r]}get(n){let t=RT(n._queryParams),r=n._path.toString(),i=new Te;return this.restRequest_(r+".json",t,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(n){}restRequest_(n,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+q_(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=fc(a.responseText)}catch{Le("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Le("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var hy=class{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,t){this.rootNode_=this.rootNode_.updateChild(n,t)}};function Ed(){return{value:null,children:new Map}}function Zo(e,n,t){if(V(n))e.value=t,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(n,t);else{let r=U(n);e.children.has(r)||e.children.set(r,Ed());let i=e.children.get(r);n=se(n),Zo(i,n,t)}}function py(e,n){if(V(n))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let t=e.value;return e.value=null,t.forEachChild(le,(r,i)=>{Zo(e,new Z(r),i)}),py(e,n)}}else if(e.children.size>0){let t=U(n);return n=se(n),e.children.has(t)&&py(e.children.get(t),n)&&e.children.delete(t),e.children.size===0}else return!0}function gy(e,n,t){e.value!==null?t(n,e.value):M1(e,(r,i)=>{let o=new Z(n.toString()+"/"+r);gy(i,o,t)})}function M1(e,n){e.children.forEach((t,r)=>{n(r,t)})}var my=class{constructor(n){this.collection_=n,this.last_=null}get(){let n=this.collection_.get(),t=Object.assign({},n);return this.last_&&xe(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=n,t}};var xT=10*1e3,N1=30*1e3,R1=300*1e3,vy=class{constructor(n,t){this.server_=t,this.statsToReport_={},this.statsListener_=new my(n);let r=xT+(N1-xT)*Math.random();ka(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let n=this.statsListener_.get(),t={},r=!1;xe(n,(i,o)=>{o>0&&gt(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),ka(this.reportStats_.bind(this),Math.floor(Math.random()*2*R1))}};var vn=(function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e})(vn||{});function r_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function i_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function o_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var yy=class e{constructor(n,t,r){this.path=n,this.affectedTree=t,this.revert=r,this.type=vn.ACK_USER_WRITE,this.source=r_()}operationForChild(n){if(V(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new Z(n));return new e(K(),t,this.revert)}}else return v(U(this.path)===n,"operationForChild called for unrelated child."),new e(se(this.path),this.affectedTree,this.revert)}};var wd=class e{constructor(n,t){this.source=n,this.path=t,this.type=vn.LISTEN_COMPLETE}operationForChild(n){return V(this.path)?new e(this.source,K()):new e(this.source,se(this.path))}};var Go=class e{constructor(n,t,r){this.source=n,this.path=t,this.snap=r,this.type=vn.OVERWRITE}operationForChild(n){return V(this.path)?new e(this.source,K(),this.snap.getImmediateChild(n)):new e(this.source,se(this.path),this.snap)}};var qa=class e{constructor(n,t,r){this.source=n,this.path=t,this.children=r,this.type=vn.MERGE}operationForChild(n){if(V(this.path)){let t=this.children.subtree(new Z(n));return t.isEmpty()?null:t.value?new Go(this.source,K(),t.value):new e(this.source,K(),t)}else return v(U(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new e(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var En=class{constructor(n,t,r){this.node_=n,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(V(n))return this.isFullyInitialized()&&!this.filtered_;let t=U(n);return this.isCompleteForChild(t)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}};var _y=class{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}};function A1(e,n,t,r){let i=[],o=[];return n.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(D1(s.childName,s.snapshotNode))}),Pa(e,i,"child_removed",n,r,t),Pa(e,i,"child_added",n,r,t),Pa(e,i,"child_moved",o,r,t),Pa(e,i,"child_changed",n,r,t),Pa(e,i,"value",n,r,t),i}function Pa(e,n,t,r,i,o){let s=r.filter(a=>a.type===t);s.sort((a,c)=>O1(e,a,c)),s.forEach(a=>{let c=x1(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&n.push(l.createEvent(c,e.query_))})})}function x1(e,n,t){return n.type==="value"||n.type==="child_removed"||(n.prevName=t.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}function O1(e,n,t){if(n.childName==null||t.childName==null)throw Ai("Should only compare child_ events.");let r=new $(n.childName,n.snapshotNode),i=new $(t.childName,t.snapshotNode);return e.index_.compare(r,i)}function Bd(e,n){return{eventCache:e,serverCache:n}}function La(e,n,t,r){return Bd(new En(n,t,r),e.serverCache)}function wS(e,n,t,r){return Bd(e.eventCache,new En(n,t,r))}function Dd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ci(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Vv,P1=()=>(Vv||(Vv=new Dt(xL)),Vv),Ye=class e{constructor(n,t=P1()){this.value=n,this.children=t}static fromObject(n){let t=new e(null);return xe(n,(r,i)=>{t=t.set(new Z(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,t){if(this.value!=null&&t(this.value))return{path:K(),value:this.value};if(V(n))return null;{let r=U(n),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(se(n),t);return o!=null?{path:fe(new Z(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(V(n))return this;{let t=U(n),r=this.children.get(t);return r!==null?r.subtree(se(n)):new e(null)}}set(n,t){if(V(n))return new e(t,this.children);{let r=U(n),o=(this.children.get(r)||new e(null)).set(se(n),t),s=this.children.insert(r,o);return new e(this.value,s)}}remove(n){if(V(n))return this.children.isEmpty()?new e(null):new e(null,this.children);{let t=U(n),r=this.children.get(t);if(r){let i=r.remove(se(n)),o;return i.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(n){if(V(n))return this.value;{let t=U(n),r=this.children.get(t);return r?r.get(se(n)):null}}setTree(n,t){if(V(n))return t;{let r=U(n),o=(this.children.get(r)||new e(null)).setTree(se(n),t),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(n){return this.fold_(K(),n)}fold_(n,t){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(fe(n,i),t)}),t(n,this.value,r)}findOnPath(n,t){return this.findOnPath_(n,K(),t)}findOnPath_(n,t,r){let i=this.value?r(t,this.value):!1;if(i)return i;if(V(n))return null;{let o=U(n),s=this.children.get(o);return s?s.findOnPath_(se(n),fe(t,o),r):null}}foreachOnPath(n,t){return this.foreachOnPath_(n,K(),t)}foreachOnPath_(n,t,r){if(V(n))return this;{this.value&&r(t,this.value);let i=U(n),o=this.children.get(i);return o?o.foreachOnPath_(se(n),fe(t,i),r):new e(null)}}foreach(n){this.foreach_(K(),n)}foreach_(n,t){this.children.inorderTraversal((r,i)=>{i.foreach_(fe(n,r),t)}),this.value&&t(n,this.value)}foreachChild(n){this.children.inorderTraversal((t,r)=>{r.value&&n(t,r.value)})}};var Wt=class e{constructor(n){this.writeTree_=n}static empty(){return new e(new Ye(null))}};function ja(e,n,t){if(V(n))return new Wt(new Ye(t));{let r=e.writeTree_.findRootMostValueAndPath(n);if(r!=null){let i=r.path,o=r.value,s=qe(i,n);return o=o.updateChild(s,t),new Wt(e.writeTree_.set(i,o))}else{let i=new Ye(t),o=e.writeTree_.setTree(n,i);return new Wt(o)}}}function Ey(e,n,t){let r=e;return xe(t,(i,o)=>{r=ja(r,fe(n,i),o)}),r}function OT(e,n){if(V(n))return Wt.empty();{let t=e.writeTree_.setTree(n,new Ye(null));return new Wt(t)}}function wy(e,n){return Ti(e,n)!=null}function Ti(e,n){let t=e.writeTree_.findRootMostValueAndPath(n);return t!=null?e.writeTree_.get(t.path).getChild(qe(t.path,n)):null}function PT(e){let n=[],t=e.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(le,(r,i)=>{n.push(new $(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&n.push(new $(r,i.value))}),n}function br(e,n){if(V(n))return e;{let t=Ti(e,n);return t!=null?new Wt(new Ye(t)):new Wt(e.writeTree_.subtree(n))}}function Dy(e){return e.writeTree_.isEmpty()}function qo(e,n){return DS(K(),e.writeTree_,n)}function DS(e,n,t){if(n.value!=null)return t.updateChild(e,n.value);{let r=null;return n.children.inorderTraversal((i,o)=>{i===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):t=DS(fe(e,i),o,t)}),!t.getChild(e).isEmpty()&&r!==null&&(t=t.updateChild(fe(e,".priority"),r)),t}}function Ud(e,n){return TS(n,e)}function k1(e,n,t,r,i){v(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:n,snap:t,writeId:r,visible:i}),i&&(e.visibleWrites=ja(e.visibleWrites,n,t)),e.lastWriteId=r}function F1(e,n,t,r){v(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:t,writeId:r,visible:!0}),e.visibleWrites=Ey(e.visibleWrites,n,t),e.lastWriteId=r}function L1(e,n){for(let t=0;t<e.allWrites.length;t++){let r=e.allWrites[t];if(r.writeId===n)return r}return null}function j1(e,n){let t=e.allWrites.findIndex(a=>a.writeId===n);v(t>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[t];e.allWrites.splice(t,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=t&&B1(a,r.path)?i=!1:wt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return U1(e),!0;if(r.snap)e.visibleWrites=OT(e.visibleWrites,r.path);else{let a=r.children;xe(a,c=>{e.visibleWrites=OT(e.visibleWrites,fe(r.path,c))})}return!0}else return!1}function B1(e,n){if(e.snap)return wt(e.path,n);for(let t in e.children)if(e.children.hasOwnProperty(t)&&wt(fe(e.path,t),n))return!0;return!1}function U1(e){e.visibleWrites=bS(e.allWrites,V1,K()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function V1(e){return e.visible}function bS(e,n,t){let r=Wt.empty();for(let i=0;i<e.length;++i){let o=e[i];if(n(o)){let s=o.path,a;if(o.snap)wt(t,s)?(a=qe(t,s),r=ja(r,a,o.snap)):wt(s,t)&&(a=qe(s,t),r=ja(r,K(),o.snap.getChild(a)));else if(o.children){if(wt(t,s))a=qe(t,s),r=Ey(r,a,o.children);else if(wt(s,t))if(a=qe(s,t),V(a))r=Ey(r,K(),o.children);else{let c=Wn(o.children,U(a));if(c){let l=c.getChild(se(a));r=ja(r,K(),l)}}}else throw Ai("WriteRecord should have .snap or .children")}}return r}function CS(e,n,t,r,i){if(!r&&!i){let o=Ti(e.visibleWrites,n);if(o!=null)return o;{let s=br(e.visibleWrites,n);if(Dy(s))return t;if(t==null&&!wy(s,K()))return null;{let a=t||F.EMPTY_NODE;return qo(s,a)}}}else{let o=br(e.visibleWrites,n);if(!i&&Dy(o))return t;if(!i&&t==null&&!wy(o,K()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(wt(l.path,n)||wt(n,l.path))},a=bS(e.allWrites,s,n),c=t||F.EMPTY_NODE;return qo(a,c)}}}function H1(e,n,t){let r=F.EMPTY_NODE,i=Ti(e.visibleWrites,n);if(i)return i.isLeafNode()||i.forEachChild(le,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(t){let o=br(e.visibleWrites,n);return t.forEachChild(le,(s,a)=>{let c=qo(br(o,new Z(s)),a);r=r.updateImmediateChild(s,c)}),PT(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=br(e.visibleWrites,n);return PT(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function $1(e,n,t,r,i){v(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=fe(n,t);if(wy(e.visibleWrites,o))return null;{let s=br(e.visibleWrites,o);return Dy(s)?i.getChild(t):qo(s,i.getChild(t))}}function z1(e,n,t,r){let i=fe(n,t),o=Ti(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(t)){let s=br(e.visibleWrites,i);return qo(s,r.getNode().getImmediateChild(t))}else return null}function W1(e,n){return Ti(e.visibleWrites,n)}function G1(e,n,t,r,i,o,s){let a,c=br(e.visibleWrites,n),l=Ti(c,K());if(l!=null)a=l;else if(t!=null)a=qo(c,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function q1(){return{visibleWrites:Wt.empty(),allWrites:[],lastWriteId:-1}}function bd(e,n,t,r){return CS(e.writeTree,e.treePath,n,t,r)}function s_(e,n){return H1(e.writeTree,e.treePath,n)}function kT(e,n,t,r){return $1(e.writeTree,e.treePath,n,t,r)}function Cd(e,n){return W1(e.writeTree,fe(e.treePath,n))}function Y1(e,n,t,r,i,o){return G1(e.writeTree,e.treePath,n,t,r,i,o)}function a_(e,n,t){return z1(e.writeTree,e.treePath,n,t)}function IS(e,n){return TS(fe(e.treePath,n),e.writeTree)}function TS(e,n){return{treePath:e,writeTree:n}}var by=class{constructor(){this.changeMap=new Map}trackChildChange(n){let t=n.type,r=n.childName;v(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),v(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(r,za(r,n.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(r,$a(r,i.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(r,Wo(r,n.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(r,za(r,n.snapshotNode,i.oldSnap));else throw Ai("Illegal combination of changes: "+n+" occurred after "+i)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}};var Cy=class{getCompleteChild(n){return null}getChildAfterChild(n,t,r){return null}},SS=new Cy,Ya=class{constructor(n,t,r=null){this.writes_=n,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(n){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(n))return t.getNode().getImmediateChild(n);{let r=this.optCompleteServerCache_!=null?new En(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return a_(this.writes_,n,r)}}getChildAfterChild(n,t,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ci(this.viewCache_),o=Y1(this.writes_,i,t,1,r,n);return o.length===0?null:o[0]}};function Q1(e){return{filter:e}}function K1(e,n){v(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Z1(e,n,t,r,i){let o=new by,s,a;if(t.type===vn.OVERWRITE){let l=t;l.source.fromUser?s=Iy(e,n,l.path,l.snap,r,i,o):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||n.serverCache.isFiltered()&&!V(l.path),s=Id(e,n,l.path,l.snap,r,i,a,o))}else if(t.type===vn.MERGE){let l=t;l.source.fromUser?s=J1(e,n,l.path,l.children,r,i,o):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||n.serverCache.isFiltered(),s=Ty(e,n,l.path,l.children,r,i,a,o))}else if(t.type===vn.ACK_USER_WRITE){let l=t;l.revert?s=nj(e,n,l.path,r,i,o):s=ej(e,n,l.path,l.affectedTree,r,i,o)}else if(t.type===vn.LISTEN_COMPLETE)s=tj(e,n,t.path,r,o);else throw Ai("Unknown operation type: "+t.type);let c=o.getChanges();return X1(n,s,c),{viewCache:s,changes:c}}function X1(e,n,t){let r=n.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Dd(e);(t.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(ES(Dd(n)))}}function MS(e,n,t,r,i,o){let s=n.eventCache;if(Cd(r,t)!=null)return n;{let a,c;if(V(t))if(v(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){let l=Ci(n),u=l instanceof F?l:F.EMPTY_NODE,d=s_(r,u);a=e.filter.updateFullNode(n.eventCache.getNode(),d,o)}else{let l=bd(r,Ci(n));a=e.filter.updateFullNode(n.eventCache.getNode(),l,o)}else{let l=U(t);if(l===".priority"){v(Tr(t)===1,"Can't have a priority with additional path components");let u=s.getNode();c=n.serverCache.getNode();let d=kT(r,t,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=se(t),d;if(s.isCompleteForChild(l)){c=n.serverCache.getNode();let f=kT(r,t,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=a_(r,l,n.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return La(n,a,s.isFullyInitialized()||V(t),e.filter.filtersNodes())}}function Id(e,n,t,r,i,o,s,a){let c=n.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(V(t))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(t,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=U(t);if(!c.isCompleteForPath(t)&&Tr(t)>1)return n;let p=se(t),_=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),_):l=u.updateChild(c.getNode(),h,_,p,SS,null)}let d=wS(n,l,c.isFullyInitialized()||V(t),u.filtersNodes()),f=new Ya(i,d,o);return MS(e,d,t,i,f,a)}function Iy(e,n,t,r,i,o,s){let a=n.eventCache,c,l,u=new Ya(i,n,o);if(V(t))l=e.filter.updateFullNode(n.eventCache.getNode(),r,s),c=La(n,l,!0,e.filter.filtersNodes());else{let d=U(t);if(d===".priority")l=e.filter.updatePriority(n.eventCache.getNode(),r),c=La(n,l,a.isFullyInitialized(),a.isFiltered());else{let f=se(t),h=a.getNode().getImmediateChild(d),p;if(V(f))p=r;else{let y=u.getCompleteChild(d);y!=null?Xy(f)===".priority"&&y.getChild(pS(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=F.EMPTY_NODE}if(h.equals(p))c=n;else{let y=e.filter.updateChild(a.getNode(),d,p,f,u,s);c=La(n,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function FT(e,n){return e.eventCache.isCompleteForChild(n)}function J1(e,n,t,r,i,o,s){let a=n;return r.foreach((c,l)=>{let u=fe(t,c);FT(n,U(u))&&(a=Iy(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=fe(t,c);FT(n,U(u))||(a=Iy(e,a,u,l,i,o,s))}),a}function LT(e,n,t){return t.foreach((r,i)=>{n=n.updateChild(r,i)}),n}function Ty(e,n,t,r,i,o,s,a){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let c=n,l;V(t)?l=r:l=new Ye(null).setTree(t,r);let u=n.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=n.serverCache.getNode().getImmediateChild(d),p=LT(e,h,f);c=Id(e,c,new Z(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!n.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=n.serverCache.getNode().getImmediateChild(d),y=LT(e,p,f);c=Id(e,c,new Z(d),y,i,o,s,a)}}),c}function ej(e,n,t,r,i,o,s){if(Cd(i,t)!=null)return n;let a=n.serverCache.isFiltered(),c=n.serverCache;if(r.value!=null){if(V(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Id(e,n,t,c.getNode().getChild(t),i,o,a,s);if(V(t)){let l=new Ye(null);return c.getNode().forEachChild(yn,(u,d)=>{l=l.set(new Z(u),d)}),Ty(e,n,t,l,i,o,a,s)}else return n}else{let l=new Ye(null);return r.foreach((u,d)=>{let f=fe(t,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Ty(e,n,t,l,i,o,a,s)}}function tj(e,n,t,r,i){let o=n.serverCache,s=wS(n,o.getNode(),o.isFullyInitialized()||V(t),o.isFiltered());return MS(e,s,t,r,SS,i)}function nj(e,n,t,r,i,o){let s;if(Cd(r,t)!=null)return n;{let a=new Ya(r,n,i),c=n.eventCache.getNode(),l;if(V(t)||U(t)===".priority"){let u;if(n.serverCache.isFullyInitialized())u=bd(r,Ci(n));else{let d=n.serverCache.getNode();v(d instanceof F,"serverChildren would be complete if leaf node"),u=s_(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=U(t),d=a_(r,u,n.serverCache);d==null&&n.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,se(t),a,o):n.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,F.EMPTY_NODE,se(t),a,o):l=c,l.isEmpty()&&n.serverCache.isFullyInitialized()&&(s=bd(r,Ci(n)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=n.serverCache.isFullyInitialized()||Cd(r,K())!=null,La(n,l,s,e.filter.filtersNodes())}}var Sy=class{constructor(n,t){this.query_=n,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Wa(r.getIndex()),o=b1(r);this.processor_=Q1(o);let s=t.serverCache,a=t.eventCache,c=i.updateFullNode(F.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(F.EMPTY_NODE,a.getNode(),null),u=new En(c,s.isFullyInitialized(),i.filtersNodes()),d=new En(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Bd(d,u),this.eventGenerator_=new _y(this.query_)}get query(){return this.query_}};function rj(e){return e.viewCache_.serverCache.getNode()}function ij(e){return Dd(e.viewCache_)}function oj(e,n){let t=Ci(e.viewCache_);return t&&(e.query._queryParams.loadsAllData()||!V(n)&&!t.getImmediateChild(U(n)).isEmpty())?t.getChild(n):null}function jT(e){return e.eventRegistrations_.length===0}function sj(e,n){e.eventRegistrations_.push(n)}function BT(e,n,t){let r=[];if(t){v(n==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(t,i);s&&r.push(s)})}if(n){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(n))i.push(s);else if(n.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function UT(e,n,t,r){n.type===vn.MERGE&&n.source.queryId!==null&&(v(Ci(e.viewCache_),"We should always have a full cache before handling merges"),v(Dd(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=Z1(e.processor_,i,n,t,r);return K1(e.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,NS(e,o.changes,o.viewCache.eventCache.getNode(),null)}function aj(e,n){let t=e.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(le,(o,s)=>{r.push(Wo(o,s))}),t.isFullyInitialized()&&r.push(ES(t.getNode())),NS(e,r,t.getNode(),n)}function NS(e,n,t,r){let i=r?[r]:e.eventRegistrations_;return A1(e.eventGenerator_,n,t,i)}var Td,Sd=class{constructor(){this.views=new Map}};function cj(e){v(!Td,"__referenceConstructor has already been defined"),Td=e}function lj(){return v(Td,"Reference.ts has not been loaded"),Td}function uj(e){return e.views.size===0}function c_(e,n,t,r){let i=n.source.queryId;if(i!==null){let o=e.views.get(i);return v(o!=null,"SyncTree gave us an op for an invalid query."),UT(o,n,t,r)}else{let o=[];for(let s of e.views.values())o=o.concat(UT(s,n,t,r));return o}}function RS(e,n,t,r,i){let o=n._queryIdentifier,s=e.views.get(o);if(!s){let a=bd(t,i?r:null),c=!1;a?c=!0:r instanceof F?(a=s_(t,r),c=!1):(a=F.EMPTY_NODE,c=!1);let l=Bd(new En(a,c,!1),new En(r,i,!1));return new Sy(n,l)}return s}function dj(e,n,t,r,i,o){let s=RS(e,n,r,i,o);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,s),sj(s,t),aj(s,t)}function fj(e,n,t,r){let i=n._queryIdentifier,o=[],s=[],a=Sr(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(BT(l,t,r)),jT(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(BT(c,t,r)),jT(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Sr(e)&&o.push(new(lj())(n._repo,n._path)),{removed:o,events:s}}function AS(e){let n=[];for(let t of e.views.values())t.query._queryParams.loadsAllData()||n.push(t);return n}function Cr(e,n){let t=null;for(let r of e.views.values())t=t||oj(r,n);return t}function xS(e,n){if(n._queryParams.loadsAllData())return Vd(e);{let r=n._queryIdentifier;return e.views.get(r)}}function OS(e,n){return xS(e,n)!=null}function Sr(e){return Vd(e)!=null}function Vd(e){for(let n of e.views.values())if(n.query._queryParams.loadsAllData())return n;return null}var Md;function hj(e){v(!Md,"__referenceConstructor has already been defined"),Md=e}function pj(){return v(Md,"Reference.ts has not been loaded"),Md}var gj=1,Nd=class{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ye(null),this.pendingWriteTree_=q1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function l_(e,n,t,r,i){return k1(e.pendingWriteTree_,n,t,r,i),i?Xo(e,new Go(r_(),n,t)):[]}function mj(e,n,t,r){F1(e.pendingWriteTree_,n,t,r);let i=Ye.fromObject(t);return Xo(e,new qa(r_(),n,i))}function Dr(e,n,t=!1){let r=L1(e.pendingWriteTree_,n);if(j1(e.pendingWriteTree_,n)){let o=new Ye(null);return r.snap!=null?o=o.set(K(),!0):xe(r.children,s=>{o=o.set(new Z(s),!0)}),Xo(e,new yy(r.path,o,t))}else return[]}function rc(e,n,t){return Xo(e,new Go(i_(),n,t))}function vj(e,n,t){let r=Ye.fromObject(t);return Xo(e,new qa(i_(),n,r))}function yj(e,n){return Xo(e,new wd(i_(),n))}function _j(e,n,t){let r=u_(e,t);if(r){let i=d_(r),o=i.path,s=i.queryId,a=qe(o,n),c=new wd(o_(s),a);return f_(e,o,c)}else return[]}function Rd(e,n,t,r,i=!1){let o=n._path,s=e.syncPointTree_.get(o),a=[];if(s&&(n._queryIdentifier==="default"||OS(s,n))){let c=fj(s,n,t,r);uj(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Sr(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=Dj(f);for(let p=0;p<h.length;++p){let y=h[p],_=y.query,I=LS(e,y);e.listenProvider_.startListening(Ba(_),Qa(e,_),I.hashFn,I.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(Ba(n),null):l.forEach(f=>{let h=e.queryToTagMap.get($d(f));e.listenProvider_.stopListening(Ba(f),h)}))}bj(e,l)}return a}function PS(e,n,t,r){let i=u_(e,r);if(i!=null){let o=d_(i),s=o.path,a=o.queryId,c=qe(s,n),l=new Go(o_(a),c,t);return f_(e,s,l)}else return[]}function Ej(e,n,t,r){let i=u_(e,r);if(i){let o=d_(i),s=o.path,a=o.queryId,c=qe(s,n),l=Ye.fromObject(t),u=new qa(o_(a),c,l);return f_(e,s,u)}else return[]}function My(e,n,t,r=!1){let i=n._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=qe(f,i);o=o||Cr(h,p),s=s||Sr(h)});let a=e.syncPointTree_.get(i);a?(s=s||Sr(a),o=o||Cr(a,K())):(a=new Sd,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=F.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let y=Cr(p,K());y&&(o=o.updateImmediateChild(h,y))}));let l=OS(a,n);if(!l&&!n._queryParams.loadsAllData()){let f=$d(n);v(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=Cj();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Ud(e.pendingWriteTree_,i),d=dj(a,n,t,u,o,c);if(!l&&!s&&!r){let f=xS(a,n);d=d.concat(Ij(e,n,f))}return d}function Hd(e,n,t){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(n,(s,a)=>{let c=qe(s,n),l=Cr(a,c);if(l)return l});return CS(i,n,o,t,!0)}function wj(e,n){let t=n._path,r=null;e.syncPointTree_.foreachOnPath(t,(l,u)=>{let d=qe(l,t);r=r||Cr(u,d)});let i=e.syncPointTree_.get(t);i?r=r||Cr(i,K()):(i=new Sd,e.syncPointTree_=e.syncPointTree_.set(t,i));let o=r!=null,s=o?new En(r,!0,!1):null,a=Ud(e.pendingWriteTree_,n._path),c=RS(i,n,a,o?s.getNode():F.EMPTY_NODE,o);return ij(c)}function Xo(e,n){return kS(n,e.syncPointTree_,null,Ud(e.pendingWriteTree_,K()))}function kS(e,n,t,r){if(V(e.path))return FS(e,n,t,r);{let i=n.get(K());t==null&&i!=null&&(t=Cr(i,K()));let o=[],s=U(e.path),a=e.operationForChild(s),c=n.children.get(s);if(c&&a){let l=t?t.getImmediateChild(s):null,u=IS(r,s);o=o.concat(kS(a,c,l,u))}return i&&(o=o.concat(c_(i,e,r,t))),o}}function FS(e,n,t,r){let i=n.get(K());t==null&&i!=null&&(t=Cr(i,K()));let o=[];return n.children.inorderTraversal((s,a)=>{let c=t?t.getImmediateChild(s):null,l=IS(r,s),u=e.operationForChild(s);u&&(o=o.concat(FS(u,a,c,l)))}),i&&(o=o.concat(c_(i,e,r,t))),o}function LS(e,n){let t=n.query,r=Qa(e,t);return{hashFn:()=>(rj(n)||F.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?_j(e,t._path,r):yj(e,t._path);{let o=kL(i,t);return Rd(e,t,null,o)}}}}function Qa(e,n){let t=$d(n);return e.queryToTagMap.get(t)}function $d(e){return e._path.toString()+"$"+e._queryIdentifier}function u_(e,n){return e.tagToQueryMap.get(n)}function d_(e){let n=e.indexOf("$");return v(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new Z(e.substr(0,n))}}function f_(e,n,t){let r=e.syncPointTree_.get(n);v(r,"Missing sync point for query tag that we're tracking");let i=Ud(e.pendingWriteTree_,n);return c_(r,t,i,null)}function Dj(e){return e.fold((n,t,r)=>{if(t&&Sr(t))return[Vd(t)];{let i=[];return t&&(i=AS(t)),xe(r,(o,s)=>{i=i.concat(s)}),i}})}function Ba(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(pj())(e._repo,e._path):e}function bj(e,n){for(let t=0;t<n.length;++t){let r=n[t];if(!r._queryParams.loadsAllData()){let i=$d(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function Cj(){return gj++}function Ij(e,n,t){let r=n._path,i=Qa(e,n),o=LS(e,t),s=e.listenProvider_.startListening(Ba(n),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)v(!Sr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!V(l)&&u&&Sr(u))return[Vd(u).query];{let f=[];return u&&(f=f.concat(AS(u).map(h=>h.query))),xe(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(Ba(u),Qa(e,u))}}return s}var Ny=class e{constructor(n){this.node_=n}getImmediateChild(n){let t=this.node_.getImmediateChild(n);return new e(t)}node(){return this.node_}},Ry=class e{constructor(n,t){this.syncTree_=n,this.path_=t}getImmediateChild(n){let t=fe(this.path_,n);return new e(this.syncTree_,t)}node(){return Hd(this.syncTree_,this.path_)}},Tj=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},VT=function(e,n,t){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Sj(e[".sv"],n,t);if(typeof e[".sv"]=="object")return Mj(e[".sv"],n);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Sj=function(e,n,t){switch(e){case"timestamp":return t.timestamp;default:v(!1,"Unexpected server value: "+e)}},Mj=function(e,n,t){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&v(!1,"Unexpected increment value: "+r);let i=n.node();if(v(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},jS=function(e,n,t,r){return p_(n,new Ry(t,e),r)},h_=function(e,n,t){return p_(e,new Ny(n),t)};function p_(e,n,t){let r=e.getPriority().val(),i=VT(r,n.getImmediateChild(".priority"),t),o;if(e.isLeafNode()){let s=e,a=VT(s.getValue(),n,t);return a!==s.getValue()||i!==s.getPriority().val()?new $o(a,he(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new $o(i))),s.forEachChild(le,(a,c)=>{let l=p_(c,n.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Ka=class{constructor(n="",t=null,r={children:{},childCount:0}){this.name=n,this.parent=t,this.node=r}};function zd(e,n){let t=n instanceof Z?n:new Z(n),r=e,i=U(t);for(;i!==null;){let o=Wn(r.node.children,i)||{children:{},childCount:0};r=new Ka(i,r,o),t=se(t),i=U(t)}return r}function Si(e){return e.node.value}function g_(e,n){e.node.value=n,Ay(e)}function BS(e){return e.node.childCount>0}function Nj(e){return Si(e)===void 0&&!BS(e)}function Wd(e,n){xe(e.node.children,(t,r)=>{n(new Ka(t,e,r))})}function US(e,n,t,r){t&&!r&&n(e),Wd(e,i=>{US(i,n,!0,r)}),t&&r&&n(e)}function Rj(e,n,t){let r=t?e:e.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function ic(e){return new Z(e.parent===null?e.name:ic(e.parent)+"/"+e.name)}function Ay(e){e.parent!==null&&Aj(e.parent,e.name,e)}function Aj(e,n,t){let r=Nj(t),i=gt(e.node.children,n);r&&i?(delete e.node.children[n],e.node.childCount--,Ay(e)):!r&&!i&&(e.node.children[n]=t.node,e.node.childCount++,Ay(e))}var xj=/[\[\].#$\/\u0000-\u001F\u007F]/,Oj=/[\[\].#$\u0000-\u001F\u007F]/,Hv=10*1024*1024,Gd=function(e){return typeof e=="string"&&e.length!==0&&!xj.test(e)},VS=function(e){return typeof e=="string"&&e.length!==0&&!Oj.test(e)},Pj=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),VS(e)},Za=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Ld(e)||e&&typeof e=="object"&&gt(e,".sv")},wn=function(e,n,t,r){r&&n===void 0||oc(Ke(e,"value"),n,t)},oc=function(e,n,t){let r=t instanceof Z?new ty(t,e):t;if(n===void 0)throw new Error(e+"contains undefined "+wi(r));if(typeof n=="function")throw new Error(e+"contains a function "+wi(r)+" with contents = "+n.toString());if(Ld(n))throw new Error(e+"contains "+n.toString()+" "+wi(r));if(typeof n=="string"&&n.length>Hv/3&&is(n)>Hv)throw new Error(e+"contains a string greater than "+Hv+" utf8 bytes "+wi(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let i=!1,o=!1;if(xe(n,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Gd(s)))throw new Error(e+" contains an invalid key ("+s+") "+wi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);u1(r,s),oc(e,a,r),d1(r)}),i&&o)throw new Error(e+' contains ".value" child '+wi(r)+" in addition to actual children.")}},kj=function(e,n){let t,r;for(t=0;t<n.length;t++){r=n[t];let o=Va(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Gd(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(l1);let i=null;for(t=0;t<n.length;t++){if(r=n[t],i!==null&&wt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},HS=function(e,n,t,r){if(r&&n===void 0)return;let i=Ke(e,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(i+" must be an object containing the children to replace.");let o=[];xe(n,(s,a)=>{let c=new Z(s);if(oc(i,a,fe(t,c)),Xy(c)===".priority"&&!Za(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),kj(i,o)},m_=function(e,n,t){if(!(t&&n===void 0)){if(Ld(n))throw new Error(Ke(e,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Za(n))throw new Error(Ke(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sc=function(e,n,t,r){if(!(r&&t===void 0)&&!Gd(t))throw new Error(Ke(e,n)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Jo=function(e,n,t,r){if(!(r&&t===void 0)&&!VS(t))throw new Error(Ke(e,n)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Fj=function(e,n,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Jo(e,n,t,r)},dt=function(e,n){if(U(n)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},$S=function(e,n){let t=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Gd(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!Pj(t))throw new Error(Ke(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var xy=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function qd(e,n){let t=null;for(let r=0;r<n.length;r++){let i=n[r],o=i.getPath();t!==null&&!Jy(o,t.path)&&(e.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(i)}t&&e.eventLists_.push(t)}function zS(e,n,t){qd(e,t),WS(e,r=>Jy(r,n))}function ft(e,n,t){qd(e,t),WS(e,r=>wt(r,n)||wt(n,r))}function WS(e,n){e.recursionDepth_++;let t=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;n(o)?(Lj(e.eventLists_[r]),e.eventLists_[r]=null):t=!1}}t&&(e.eventLists_=[]),e.recursionDepth_--}function Lj(e){for(let n=0;n<e.events.length;n++){let t=e.events[n];if(t!==null){e.events[n]=null;let r=t.getEventRunner();bi&&Ae("event: "+t.toString()),Ko(r)}}}var GS="repo_interrupt",jj=25,Oy=class{constructor(n,t,r,i){this.repoInfo_=n,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ed(),this.transactionQueueTree_=new Ka,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Bj(e,n,t){if(e.stats_=Zy(e.repoInfo_),e.forceRestClient_||BL())e.server_=new fy(e.repoInfo_,(r,i,o,s)=>{HT(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>$T(e,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ye(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new e_(e.repoInfo_,n,(r,i,o,s)=>{HT(e,r,i,o,s)},r=>{$T(e,r)},r=>{Uj(e,r)},e.authTokenProvider_,e.appCheckProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=VL(e.repoInfo_,()=>new vy(e.stats_,e.server_)),e.infoData_=new hy,e.infoSyncTree_=new Nd({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=rc(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),v_(e,"connected",!1),e.serverSyncTree_=new Nd({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);ft(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function qS(e){let t=e.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function ac(e){return Tj({timestamp:qS(e)})}function HT(e,n,t,r,i){e.dataUpdateCount++;let o=new Z(n);t=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,t):t;let s=[];if(i)if(r){let c=rs(t,l=>he(l));s=Ej(e.serverSyncTree_,o,c,i)}else{let c=he(t);s=PS(e.serverSyncTree_,o,c,i)}else if(r){let c=rs(t,l=>he(l));s=vj(e.serverSyncTree_,o,c)}else{let c=he(t);s=rc(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Yo(e,o)),ft(e.eventQueue_,a,s)}function $T(e,n){v_(e,"connected",n),n===!1&&$j(e)}function Uj(e,n){xe(n,(t,r)=>{v_(e,t,r)})}function v_(e,n,t){let r=new Z("/.info/"+n),i=he(t);e.infoData_.updateSnapshot(r,i);let o=rc(e.infoSyncTree_,r,i);ft(e.eventQueue_,r,o)}function Yd(e){return e.nextWriteId_++}function Vj(e,n,t){let r=wj(e.serverSyncTree_,n);return r!=null?Promise.resolve(r):e.server_.get(n).then(i=>{let o=he(i).withIndex(n._queryParams.getIndex());My(e.serverSyncTree_,n,t,!0);let s;if(n._queryParams.loadsAllData())s=rc(e.serverSyncTree_,n._path,o);else{let a=Qa(e.serverSyncTree_,n);s=PS(e.serverSyncTree_,n._path,o,a)}return ft(e.eventQueue_,n._path,s),Rd(e.serverSyncTree_,n,t,null,!0),o},i=>(es(e,"get for query "+ye(n)+" failed: "+i),Promise.reject(new Error(i))))}function y_(e,n,t,r,i){es(e,"set",{path:n.toString(),value:t,priority:r});let o=ac(e),s=he(t,r),a=Hd(e.serverSyncTree_,n),c=h_(s,a,o),l=Yd(e),u=l_(e.serverSyncTree_,n,c,l,!0);qd(e.eventQueue_,u),e.server_.put(n.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||Le("set at "+n+" failed: "+f);let y=Dr(e.serverSyncTree_,l,!p);ft(e.eventQueue_,n,y),Mr(e,i,f,h)});let d=E_(e,n);Yo(e,d),ft(e.eventQueue_,d,[])}function Hj(e,n,t,r){es(e,"update",{path:n.toString(),value:t});let i=!0,o=ac(e),s={};if(xe(t,(a,c)=>{i=!1,s[a]=jS(fe(n,a),he(c),e.serverSyncTree_,o)}),i)Ae("update() called with empty data.  Don't do anything."),Mr(e,r,"ok",void 0);else{let a=Yd(e),c=mj(e.serverSyncTree_,n,s,a);qd(e.eventQueue_,c),e.server_.merge(n.toString(),t,(l,u)=>{let d=l==="ok";d||Le("update at "+n+" failed: "+l);let f=Dr(e.serverSyncTree_,a,!d),h=f.length>0?Yo(e,n):n;ft(e.eventQueue_,h,f),Mr(e,r,l,u)}),xe(t,l=>{let u=E_(e,fe(n,l));Yo(e,u)}),ft(e.eventQueue_,n,[])}}function $j(e){es(e,"onDisconnectEvents");let n=ac(e),t=Ed();gy(e.onDisconnect_,K(),(i,o)=>{let s=jS(i,o,e.serverSyncTree_,n);Zo(t,i,s)});let r=[];gy(t,K(),(i,o)=>{r=r.concat(rc(e.serverSyncTree_,i,o));let s=E_(e,i);Yo(e,s)}),e.onDisconnect_=Ed(),ft(e.eventQueue_,K(),r)}function zj(e,n,t){e.server_.onDisconnectCancel(n.toString(),(r,i)=>{r==="ok"&&py(e.onDisconnect_,n),Mr(e,t,r,i)})}function zT(e,n,t,r){let i=he(t);e.server_.onDisconnectPut(n.toString(),i.val(!0),(o,s)=>{o==="ok"&&Zo(e.onDisconnect_,n,i),Mr(e,r,o,s)})}function Wj(e,n,t,r,i){let o=he(t,r);e.server_.onDisconnectPut(n.toString(),o.val(!0),(s,a)=>{s==="ok"&&Zo(e.onDisconnect_,n,o),Mr(e,i,s,a)})}function Gj(e,n,t,r){if(hc(t)){Ae("onDisconnect().update() called with empty data.  Don't do anything."),Mr(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(n.toString(),t,(i,o)=>{i==="ok"&&xe(t,(s,a)=>{let c=he(a);Zo(e.onDisconnect_,fe(n,s),c)}),Mr(e,r,i,o)})}function qj(e,n,t){let r;U(n._path)===".info"?r=My(e.infoSyncTree_,n,t):r=My(e.serverSyncTree_,n,t),zS(e.eventQueue_,n._path,r)}function Py(e,n,t){let r;U(n._path)===".info"?r=Rd(e.infoSyncTree_,n,t):r=Rd(e.serverSyncTree_,n,t),zS(e.eventQueue_,n._path,r)}function YS(e){e.persistentConnection_&&e.persistentConnection_.interrupt(GS)}function Yj(e){e.persistentConnection_&&e.persistentConnection_.resume(GS)}function es(e,...n){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":"),Ae(t,...n)}function Mr(e,n,t,r){n&&Ko(()=>{if(t==="ok")n(null);else{let i=(t||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,n(s)}})}function Qj(e,n,t,r,i,o){es(e,"transaction on "+n);let s={path:n,update:t,onComplete:r,status:null,order:qT(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=__(e,n,void 0);s.currentInputSnapshot=a;let c=s.update(a.val());if(c===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{oc("transaction failed: Data returned ",c,s.path),s.status=0;let l=zd(e.transactionQueueTree_,n),u=Si(l)||[];u.push(s),g_(l,u);let d;typeof c=="object"&&c!==null&&gt(c,".priority")?(d=Wn(c,".priority"),v(Za(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Hd(e.serverSyncTree_,n)||F.EMPTY_NODE).getPriority().val();let f=ac(e),h=he(c,d),p=h_(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=p,s.currentWriteId=Yd(e);let y=l_(e.serverSyncTree_,n,p,s.currentWriteId,s.applyLocally);ft(e.eventQueue_,n,y),Qd(e,e.transactionQueueTree_)}}function __(e,n,t){return Hd(e.serverSyncTree_,n,t)||F.EMPTY_NODE}function Qd(e,n=e.transactionQueueTree_){if(n||Kd(e,n),Si(n)){let t=KS(e,n);v(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&Kj(e,ic(n),t)}else BS(n)&&Wd(n,t=>{Qd(e,t)})}function Kj(e,n,t){let r=t.map(l=>l.currentWriteId),i=__(e,n,r),o=i,s=i.hash();for(let l=0;l<t.length;l++){let u=t[l];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=qe(n,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=n;e.server_.put(c.toString(),a,l=>{es(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<t.length;f++)t[f].status=2,u=u.concat(Dr(e.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&d.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();Kd(e,zd(e.transactionQueueTree_,n)),Qd(e,e.transactionQueueTree_),ft(e.eventQueue_,n,u);for(let f=0;f<d.length;f++)Ko(d[f])}else{if(l==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{Le("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}Yo(e,n)}},s)}function Yo(e,n){let t=QS(e,n),r=ic(t),i=KS(e,t);return Zj(e,i,r),r}function Zj(e,n,t){if(n.length===0)return;let r=[],i=[],s=n.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<n.length;a++){let c=n[a],l=qe(t,c.path),u=!1,d;if(v(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Dr(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=jj)u=!0,d="maxretry",i=i.concat(Dr(e.serverSyncTree_,c.currentWriteId,!0));else{let f=__(e,c.path,s);c.currentInputSnapshot=f;let h=n[a].update(f.val());if(h!==void 0){oc("transaction failed: Data returned ",h,c.path);let p=he(h);typeof h=="object"&&h!=null&&gt(h,".priority")||(p=p.updatePriority(f.getPriority()));let _=c.currentWriteId,I=ac(e),Y=h_(p,f,I);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=Y,c.currentWriteId=Yd(e),s.splice(s.indexOf(_),1),i=i.concat(l_(e.serverSyncTree_,c.path,Y,c.currentWriteId,c.applyLocally)),i=i.concat(Dr(e.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(Dr(e.serverSyncTree_,c.currentWriteId,!0))}ft(e.eventQueue_,t,i),i=[],u&&(n[a].status=2,(function(f){setTimeout(f,Math.floor(0))})(n[a].unwatcher),n[a].onComplete&&(d==="nodata"?r.push(()=>n[a].onComplete(null,!1,n[a].currentInputSnapshot)):r.push(()=>n[a].onComplete(new Error(d),!1,null))))}Kd(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Ko(r[a]);Qd(e,e.transactionQueueTree_)}function QS(e,n){let t,r=e.transactionQueueTree_;for(t=U(n);t!==null&&Si(r)===void 0;)r=zd(r,t),n=se(n),t=U(n);return r}function KS(e,n){let t=[];return ZS(e,n,t),t.sort((r,i)=>r.order-i.order),t}function ZS(e,n,t){let r=Si(n);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Wd(n,i=>{ZS(e,i,t)})}function Kd(e,n){let t=Si(n);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,g_(n,t.length>0?t:void 0)}Wd(n,r=>{Kd(e,r)})}function E_(e,n){let t=ic(QS(e,n)),r=zd(e.transactionQueueTree_,n);return Rj(r,i=>{$v(e,i)}),$v(e,r),US(r,i=>{$v(e,i)}),t}function $v(e,n){let t=Si(n);if(t){let r=[],i=[],o=-1;for(let s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(v(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),i=i.concat(Dr(e.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&r.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?g_(n,void 0):t.length=o+1,ft(e.eventQueue_,ic(n),i);for(let s=0;s<r.length;s++)Ko(r[s])}}function Xj(e){let n="",t=e.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}n+="/"+i}return n}function Jj(e){let n={};e.charAt(0)==="?"&&(e=e.substring(1));for(let t of e.split("&")){if(t.length===0)continue;let r=t.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Le(`Invalid query segment '${t}' in query '${e}'`)}return n}var ky=function(e,n){let t=eB(e),r=t.namespace;t.domain==="firebase.com"&&_n(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&_n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||RL();let i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new fd(t.host,t.secure,r,i,n,"",r!==t.subdomain),path:new Z(t.pathString)}},eB=function(e){let n="",t="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),n=e.substring(0,Math.min(u,d)),u<d&&(i=Xj(e.substring(u,d)));let f=Jj(e.substring(Math.min(e.length,d)));l=n.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(n.substring(l+1),10)):l=n.length;let h=n.slice(0,l);if(h.toLowerCase()==="localhost")t="localhost";else if(h.split(".").length<=2)t=h;else{let p=n.indexOf(".");r=n.substring(0,p).toLowerCase(),t=n.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:n,port:c,domain:t,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var WT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tB=(function(){let e=0,n=[];return function(t){let r=t===e;e=t;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=WT.charAt(t%64),t=Math.floor(t/64);v(t===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&n[i]===63;i--)n[i]=0;n[i]++}else for(i=0;i<12;i++)n[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=WT.charAt(n[i]);return v(s.length===20,"nextPushId: Length should be 20."),s}})();var Ad=class{constructor(n,t,r,i){this.eventType=n,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){let n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ye(this.snapshot.exportVal())}},xd=class{constructor(n,t,r){this.eventRegistration=n,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Xa=class{constructor(n,t){this.snapshotCallback=n,this.cancelCallback=t}onValue(n,t){this.snapshotCallback.call(null,n,t)}onCancel(n){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}};var Od=class{constructor(n,t){this._repo=n,this._path=t}cancel(){let n=new Te;return zj(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){dt("OnDisconnect.remove",this._path);let n=new Te;return zT(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){dt("OnDisconnect.set",this._path),wn("OnDisconnect.set",n,this._path,!1);let t=new Te;return zT(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}setWithPriority(n,t){dt("OnDisconnect.setWithPriority",this._path),wn("OnDisconnect.setWithPriority",n,this._path,!1),m_("OnDisconnect.setWithPriority",t,!1);let r=new Te;return Wj(this._repo,this._path,n,t,r.wrapCallback(()=>{})),r.promise}update(n){dt("OnDisconnect.update",this._path),HS("OnDisconnect.update",n,this._path,!1);let t=new Te;return Gj(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}};var Qe=class e{constructor(n,t,r,i){this._repo=n,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return V(this._path)?null:Xy(this._path)}get ref(){return new ht(this._repo,this._path)}get _queryIdentifier(){let n=AT(this._queryParams),t=Ky(n);return t==="{}"?"default":t}get _queryObject(){return AT(this._queryParams)}isEqual(n){if(n=je(n),!(n instanceof e))return!1;let t=this._repo===n._repo,r=Jy(this._path,n._path),i=this._queryIdentifier===n._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+c1(this._path)}};function Zd(e,n){if(e._orderByCalled===!0)throw new Error(n+": You can't combine multiple orderBy calls.")}function Rr(e){let n=null,t=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(t=e.getIndexEndValue()),e.getIndex()===yn){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ir)throw new Error(r);if(typeof n!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==$n)throw new Error(r);if(typeof t!="string")throw new Error(i)}}else if(e.getIndex()===le){if(n!=null&&!Za(n)||t!=null&&!Za(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v(e.getIndex()instanceof Ha||e.getIndex()===n_,"unknown index type."),n!=null&&typeof n=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xd(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ht=class e extends Qe{constructor(n,t){super(n,t,new Ga,!1)}get parent(){let n=pS(this._path);return n===null?null:new e(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}},Qo=class e{constructor(n,t,r){this._node=n,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){let t=new Z(n),r=Nr(this.ref,n);return new e(this._node.getChild(t),r,le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>n(new e(i,Nr(this.ref,r),le)))}hasChild(n){let t=new Z(n);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function w_(e,n){return e=je(e),e._checkNotDeleted("ref"),n!==void 0?Nr(e._root,n):e._root}function D_(e,n){e=je(e),e._checkNotDeleted("refFromURL");let t=ky(n,e._repo.repoInfo_.nodeAdmin);$S("refFromURL",t);let r=t.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&_n("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),w_(e,t.path.toString())}function Nr(e,n){return e=je(e),U(e._path)===null?Fj("child","path",n,!1):Jo("child","path",n,!1),new ht(e._repo,fe(e._path,n))}function XS(e,n){e=je(e),dt("push",e._path),wn("push",n,e._path,!0);let t=qS(e._repo),r=tB(t),i=Nr(e,r),o=Nr(e,r),s;return n!=null?s=Jd(o,n).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function JS(e){return dt("remove",e._path),Jd(e,null)}function Jd(e,n){e=je(e),dt("set",e._path),wn("set",n,e._path,!1);let t=new Te;return y_(e._repo,e._path,n,null,t.wrapCallback(()=>{})),t.promise}function eM(e,n){e=je(e),dt("setPriority",e._path),m_("setPriority",n,!1);let t=new Te;return y_(e._repo,fe(e._path,".priority"),n,null,t.wrapCallback(()=>{})),t.promise}function tM(e,n,t){if(dt("setWithPriority",e._path),wn("setWithPriority",n,e._path,!1),m_("setWithPriority",t,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let r=new Te;return y_(e._repo,e._path,n,t,r.wrapCallback(()=>{})),r.promise}function nM(e,n){HS("update",n,e._path,!1);let t=new Te;return Hj(e._repo,e._path,n,t.wrapCallback(()=>{})),t.promise}function rM(e){e=je(e);let n=new Xa(()=>{}),t=new Ja(n);return Vj(e._repo,e,t).then(r=>new Qo(r,new ht(e._repo,e._path),e._queryParams.getIndex()))}var Ja=class e{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,t){let r=t._queryParams.getIndex();return new Ad("value",this,new Qo(n.snapshotNode,new ht(t._repo,t._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new xd(this,n,t):null}matches(n){return n instanceof e?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Pd=class e{constructor(n,t){this.eventType=n,this.callbackContext=t}respondsTo(n){let t=n==="children_added"?"child_added":n;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new xd(this,n,t):null}createEvent(n,t){v(n.childName!=null,"Child events should have a childName.");let r=Nr(new ht(t._repo,t._path),n.childName),i=t._queryParams.getIndex();return new Ad(n.type,this,new Qo(n.snapshotNode,r,i),n.prevName)}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof e?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function cc(e,n,t,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=t,l=(u,d)=>{Py(e._repo,e,a),c(u,d)};l.userCallback=t.userCallback,l.context=t.context,t=l}let s=new Xa(t,o||void 0),a=n==="value"?new Ja(s):new Pd(n,s);return qj(e._repo,e,a),()=>Py(e._repo,e,a)}function ef(e,n,t,r){return cc(e,"value",n,t,r)}function b_(e,n,t,r){return cc(e,"child_added",n,t,r)}function C_(e,n,t,r){return cc(e,"child_changed",n,t,r)}function I_(e,n,t,r){return cc(e,"child_moved",n,t,r)}function T_(e,n,t,r){return cc(e,"child_removed",n,t,r)}function S_(e,n,t){let r=null,i=t?new Xa(t):null;n==="value"?r=new Ja(i):n&&(r=new Pd(n,i)),Py(e._repo,e,r)}var pt=class{},kd=class extends pt{constructor(n,t){super(),this._value=n,this._key=t,this.type="endAt"}_apply(n){wn("endAt",this._value,n._path,!0);let t=dy(n._queryParams,this._value,this._key);if(Xd(t),Rr(t),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qe(n._repo,n._path,t,n._orderByCalled)}};function iM(e,n){return sc("endAt","key",n,!0),new kd(e,n)}var Fy=class extends pt{constructor(n,t){super(),this._value=n,this._key=t,this.type="endBefore"}_apply(n){wn("endBefore",this._value,n._path,!1);let t=S1(n._queryParams,this._value,this._key);if(Xd(t),Rr(t),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qe(n._repo,n._path,t,n._orderByCalled)}};function oM(e,n){return sc("endBefore","key",n,!0),new Fy(e,n)}var Fd=class extends pt{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAt"}_apply(n){wn("startAt",this._value,n._path,!0);let t=uy(n._queryParams,this._value,this._key);if(Xd(t),Rr(t),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qe(n._repo,n._path,t,n._orderByCalled)}};function sM(e=null,n){return sc("startAt","key",n,!0),new Fd(e,n)}var Ly=class extends pt{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAfter"}_apply(n){wn("startAfter",this._value,n._path,!1);let t=T1(n._queryParams,this._value,this._key);if(Xd(t),Rr(t),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qe(n._repo,n._path,t,n._orderByCalled)}};function aM(e,n){return sc("startAfter","key",n,!0),new Ly(e,n)}var jy=class extends pt{constructor(n){super(),this._limit=n,this.type="limitToFirst"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qe(n._repo,n._path,C1(n._queryParams,this._limit),n._orderByCalled)}};function cM(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jy(e)}var By=class extends pt{constructor(n){super(),this._limit=n,this.type="limitToLast"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qe(n._repo,n._path,I1(n._queryParams,this._limit),n._orderByCalled)}};function lM(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new By(e)}var Uy=class extends pt{constructor(n){super(),this._path=n,this.type="orderByChild"}_apply(n){Zd(n,"orderByChild");let t=new Z(this._path);if(V(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new Ha(t),i=jd(n._queryParams,r);return Rr(i),new Qe(n._repo,n._path,i,!0)}};function uM(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Jo("orderByChild","path",e,!1),new Uy(e)}var Vy=class extends pt{constructor(){super(...arguments),this.type="orderByKey"}_apply(n){Zd(n,"orderByKey");let t=jd(n._queryParams,yn);return Rr(t),new Qe(n._repo,n._path,t,!0)}};function dM(){return new Vy}var Hy=class extends pt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(n){Zd(n,"orderByPriority");let t=jd(n._queryParams,le);return Rr(t),new Qe(n._repo,n._path,t,!0)}};function fM(){return new Hy}var $y=class extends pt{constructor(){super(...arguments),this.type="orderByValue"}_apply(n){Zd(n,"orderByValue");let t=jd(n._queryParams,n_);return Rr(t),new Qe(n._repo,n._path,t,!0)}};function hM(){return new $y}var zy=class extends pt{constructor(n,t){super(),this._value=n,this._key=t,this.type="equalTo"}_apply(n){if(wn("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new kd(this._value,this._key)._apply(new Fd(this._value,this._key)._apply(n))}};function pM(e,n){return sc("equalTo","key",n,!0),new zy(e,n)}function bt(e,...n){let t=je(e);for(let r of n)t=r._apply(t);return t}cj(ht);hj(ht);var nB="FIREBASE_DATABASE_EMULATOR_HOST",Wy={},rB=!1;function iB(e,n,t,r){e.repoInfo_=new fd(`${n}:${t}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function M_(e,n,t,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||_n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ae("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=ky(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[nB]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=ky(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Fa(Fa.OWNER):new Qv(e.name,e.options,n);$S("Invalid Firebase Database URL",s),V(s.path)||_n("Database URL must point to the root of a Firebase Database (not including a child path).");let d=sB(a,e,u,new Yv(e.name,t));return new Gy(d,e)}function oB(e,n){let t=Wy[n];(!t||t[e.key]!==e)&&_n(`Database ${n}(${e.repoInfo_}) has already been deleted.`),YS(e),delete t[e.key]}function sB(e,n,t,r){let i=Wy[n.name];i||(i={},Wy[n.name]=i);let o=i[e.toURLString()];return o&&_n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Oy(e,rB,t,r),i[e.toURLString()]=o,o}var Gy=class{constructor(n,t){this._repoInternal=n,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Bj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ht(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&_n("Cannot call "+n+" on a deleted database.")}};function gM(){hS.IS_TRANSPORT_INITIALIZED&&Le("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function mM(){gM(),Ua.forceDisallow()}function vM(){gM(),Bo.forceDisallow(),Ua.forceAllow()}function yM(e,n,t,r={}){e=je(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&_n("Cannot call useEmulator() after instance has already been initialized.");let i=e._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&_n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Fa(Fa.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:V_(r.mockUserToken,e.app.options.projectId);o=new Fa(s)}iB(i,n,t,o)}function _M(e){e=je(e),e._checkNotDeleted("goOffline"),YS(e._repo)}function EM(e){e=je(e),e._checkNotDeleted("goOnline"),Yj(e._repo)}function wM(e,n){QT(e,n)}function aB(e){Qy(Z_),os(new Dn("database",(n,{instanceIdentifier:t})=>{let r=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return M_(r,i,o,t)},"PUBLIC").setMultipleInstances(!0)),Gn(pT,gT,e),Gn(pT,gT,"esm2017")}var cB={".sv":"timestamp"};function DM(){return cB}function bM(e){return{".sv":{increment:e}}}var qy=class{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function CM(e,n,t){var r;if(e=je(e),dt("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let i=(r=t?.applyLocally)!==null&&r!==void 0?r:!0,o=new Te,s=(c,l,u)=>{let d=null;c?o.reject(c):(d=new Qo(u,new ht(e._repo,e._path),le),o.resolve(new qy(l,d)))},a=ef(e,()=>{});return Qj(e._repo,e._path,n,s,a,i),o.promise}e_.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)};e_.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)};aB();var lB="@firebase/database-compat",uB="1.0.8";var dB=new xi("@firebase/database-compat"),IM=function(e){let n="FIREBASE WARNING: "+e;dB.warn(n)};var fB=function(e,n,t,r){if(!(r&&t===void 0)&&typeof t!="boolean")throw new Error(Ke(e,n)+"must be a boolean.")},hB=function(e,n,t){if(!(t&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ke(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var N_=class{constructor(n){this._delegate=n}cancel(n){R("OnDisconnect.cancel",0,1,arguments.length),we("OnDisconnect.cancel","onComplete",n,!0);let t=this._delegate.cancel();return n&&t.then(()=>n(null),r=>n(r)),t}remove(n){R("OnDisconnect.remove",0,1,arguments.length),we("OnDisconnect.remove","onComplete",n,!0);let t=this._delegate.remove();return n&&t.then(()=>n(null),r=>n(r)),t}set(n,t){R("OnDisconnect.set",1,2,arguments.length),we("OnDisconnect.set","onComplete",t,!0);let r=this._delegate.set(n);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(n,t,r){R("OnDisconnect.setWithPriority",2,3,arguments.length),we("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(n,t);return r&&i.then(()=>r(null),o=>r(o)),i}update(n,t){if(R("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){let i={};for(let o=0;o<n.length;++o)i[""+o]=n[o];n=i,IM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}we("OnDisconnect.update","onComplete",t,!0);let r=this._delegate.update(n);return t&&r.then(()=>t(null),i=>t(i)),r}};var R_=class{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return R("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Mi=class e{constructor(n,t){this._database=n,this._delegate=t}val(){return R("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return R("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return R("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return R("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return R("DataSnapshot.child",0,1,arguments.length),n=String(n),Jo("DataSnapshot.child","path",n,!1),new e(this._database,this._delegate.child(n))}hasChild(n){return R("DataSnapshot.hasChild",1,1,arguments.length),Jo("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return R("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return R("DataSnapshot.forEach",1,1,arguments.length),we("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(t=>n(new e(this._database,t)))}hasChildren(){return R("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return R("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return R("DataSnapshot.ref",0,0,arguments.length),new zn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},tf=class e{constructor(n,t){this.database=n,this._delegate=t}on(n,t,r,i){var o;R("Query.on",2,4,arguments.length),we("Query.on","callback",t,!1);let s=e.getCancelAndContextArgs_("Query.on",r,i),a=(l,u)=>{t.call(s.context,new Mi(this.database,l),u)};a.userCallback=t,a.context=s.context;let c=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(n){case"value":return ef(this._delegate,a,c),t;case"child_added":return b_(this._delegate,a,c),t;case"child_removed":return T_(this._delegate,a,c),t;case"child_changed":return C_(this._delegate,a,c),t;case"child_moved":return I_(this._delegate,a,c),t;default:throw new Error(Ke("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,t,r){if(R("Query.off",0,3,arguments.length),hB("Query.off",n,!0),we("Query.off","callback",t,!0),cf("Query.off","context",r,!0),t){let i=()=>{};i.userCallback=t,i.context=r,S_(this._delegate,n,i)}else S_(this._delegate,n)}get(){return rM(this._delegate).then(n=>new Mi(this.database,n))}once(n,t,r,i){R("Query.once",1,4,arguments.length),we("Query.once","callback",t,!0);let o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Te,a=(l,u)=>{let d=new Mi(this.database,l);t&&t.call(o.context,d,u),s.resolve(d)};a.userCallback=t,a.context=o.context;let c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(n){case"value":ef(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":b_(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":T_(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":C_(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":I_(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error(Ke("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(n){return R("Query.limitToFirst",1,1,arguments.length),new e(this.database,bt(this._delegate,cM(n)))}limitToLast(n){return R("Query.limitToLast",1,1,arguments.length),new e(this.database,bt(this._delegate,lM(n)))}orderByChild(n){return R("Query.orderByChild",1,1,arguments.length),new e(this.database,bt(this._delegate,uM(n)))}orderByKey(){return R("Query.orderByKey",0,0,arguments.length),new e(this.database,bt(this._delegate,dM()))}orderByPriority(){return R("Query.orderByPriority",0,0,arguments.length),new e(this.database,bt(this._delegate,fM()))}orderByValue(){return R("Query.orderByValue",0,0,arguments.length),new e(this.database,bt(this._delegate,hM()))}startAt(n=null,t){return R("Query.startAt",0,2,arguments.length),new e(this.database,bt(this._delegate,sM(n,t)))}startAfter(n=null,t){return R("Query.startAfter",0,2,arguments.length),new e(this.database,bt(this._delegate,aM(n,t)))}endAt(n=null,t){return R("Query.endAt",0,2,arguments.length),new e(this.database,bt(this._delegate,iM(n,t)))}endBefore(n=null,t){return R("Query.endBefore",0,2,arguments.length),new e(this.database,bt(this._delegate,oM(n,t)))}equalTo(n,t){return R("Query.equalTo",1,2,arguments.length),new e(this.database,bt(this._delegate,pM(n,t)))}toString(){return R("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return R("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if(R("Query.isEqual",1,1,arguments.length),!(n instanceof e)){let t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,t,r){let i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,we(n,"cancel",i.cancel,!0),i.context=r,cf(n,"context",i.context,!0);else if(t)if(typeof t=="object"&&t!==null)i.context=t;else if(typeof t=="function")i.cancel=t;else throw new Error(Ke(n,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new zn(this.database,new ht(this._delegate._repo,this._delegate._path))}},zn=class e extends tf{constructor(n,t){super(n,new Qe(t._repo,t._path,new Ga,!1)),this.database=n,this._delegate=t}getKey(){return R("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return R("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,Nr(this._delegate,n))}getParent(){R("Reference.parent",0,0,arguments.length);let n=this._delegate.parent;return n?new e(this.database,n):null}getRoot(){return R("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(n,t){R("Reference.set",1,2,arguments.length),we("Reference.set","onComplete",t,!0);let r=Jd(this._delegate,n);return t&&r.then(()=>t(null),i=>t(i)),r}update(n,t){if(R("Reference.update",1,2,arguments.length),Array.isArray(n)){let i={};for(let o=0;o<n.length;++o)i[""+o]=n[o];n=i,IM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}dt("Reference.update",this._delegate._path),we("Reference.update","onComplete",t,!0);let r=nM(this._delegate,n);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(n,t,r){R("Reference.setWithPriority",2,3,arguments.length),we("Reference.setWithPriority","onComplete",r,!0);let i=tM(this._delegate,n,t);return r&&i.then(()=>r(null),o=>r(o)),i}remove(n){R("Reference.remove",0,1,arguments.length),we("Reference.remove","onComplete",n,!0);let t=JS(this._delegate);return n&&t.then(()=>n(null),r=>n(r)),t}transaction(n,t,r){R("Reference.transaction",1,3,arguments.length),we("Reference.transaction","transactionUpdate",n,!1),we("Reference.transaction","onComplete",t,!0),fB("Reference.transaction","applyLocally",r,!0);let i=CM(this._delegate,n,{applyLocally:r}).then(o=>new R_(o.committed,new Mi(this.database,o.snapshot)));return t&&i.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),i}setPriority(n,t){R("Reference.setPriority",1,2,arguments.length),we("Reference.setPriority","onComplete",t,!0);let r=eM(this._delegate,n);return t&&r.then(()=>t(null),i=>t(i)),r}push(n,t){R("Reference.push",0,2,arguments.length),we("Reference.push","onComplete",t,!0);let r=XS(this._delegate,n),i=r.then(s=>new e(this.database,s));t&&i.then(()=>t(null),s=>t(s));let o=new e(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return dt("Reference.onDisconnect",this._delegate._path),new N_(new Od(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Ni=class{constructor(n,t){this._delegate=n,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:mM,forceLongPolling:vM}}useEmulator(n,t,r={}){yM(this._delegate,n,t,r)}ref(n){if(R("database.ref",0,1,arguments.length),n instanceof zn){let t=D_(this._delegate,n.toString());return new zn(this,t)}else{let t=w_(this._delegate,n);return new zn(this,t)}}refFromURL(n){R("database.refFromURL",1,1,arguments.length);let r=D_(this._delegate,n);return new zn(this,r)}goOffline(){return R("database.goOffline",0,0,arguments.length),_M(this._delegate)}goOnline(){return R("database.goOnline",0,0,arguments.length),EM(this._delegate)}};Ni.ServerValue={TIMESTAMP:DM(),increment:e=>bM(e)};function pB({app:e,url:n,version:t,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){Qy(t);let a=new lf("database-standalone"),c=new pc("auth-internal",a);c.setComponent(new Dn("auth-internal",()=>r,"PRIVATE"));let l;return i&&(l=new pc("app-check-internal",a),l.setComponent(new Dn("app-check-internal",()=>i,"PRIVATE"))),{instance:new Ni(M_(e,c,l,n,s),e),namespace:o}}var gB=Object.freeze({__proto__:null,initStandalone:pB});var mB=Ni.ServerValue;function vB(e){e.INTERNAL.registerComponent(new Dn("database-compat",(n,{instanceIdentifier:t})=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("database").getImmediate({identifier:t});return new Ni(i,r)},"PUBLIC").setServiceProps({Reference:zn,Query:tf,Database:Ni,DataSnapshot:Mi,enableLogging:wM,INTERNAL:gB,ServerValue:mB}).setMultipleInstances(!0)),e.registerVersion(lB,uB)}vB(Be);function lc(e,n,t="on",r=Ui){return new T(i=>{let o=null;return o=e[t](n,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),t==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),t==="on"?{unsubscribe(){o!=null&&e.off(n,o)}}:{unsubscribe(){}}}).pipe(M(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:n,payload:o,prevKey:s,key:a}}),Rp())}function yB(e){return typeof e=="string"}function _B(e){return typeof e.exportVal=="function"}function RM(e){return e==null}function AM(e){return typeof e.set=="function"}function TM(e,n){return AM(n)?n:e.ref(n)}function xM(e,n){if(yB(e))return n.stringCase();if(AM(e))return n.firebaseCase();if(_B(e))return n.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function OM(e){return(RM(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function PM(e,n,t){n=OM(n);let r=n.map(i=>lc(e,i,"on",t));return tt(...r)}function EB(e,n,t){let r=PM(e,n).pipe(ks((i,o)=>[...i,o],[]));return DB(e,r,t)}function wB(e,n){return lc(e,"value","on",n).pipe(M(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}function DB(e,n,t){return wB(e,t).pipe(qp(n),M(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Op(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),M(i=>i.actions))}function SM(e,n){return function(r,i){return xM(r,{stringCase:()=>e.child(r)[n](i),firebaseCase:()=>r[n](i),snapshotCase:()=>r.ref[n](i)})}}function bB(e){return function(t){return t?xM(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function CB(e,n,t){return lc(e,"value","once",t).pipe(X(r=>{let i=[S(r)];return n.forEach(o=>i.push(lc(e,o,"on",t))),tt(...i).pipe(ks(TB,[]))}),Jr())}function kM(e,n){let t=e.length;for(let r=0;r<t;r++)if(e[r].payload.key===n)return r;return-1}function IB(e,n){if(RM(n))return 0;{let t=kM(e,n);return t===-1?e.length:t+1}}function TB(e,n){let{payload:t,prevKey:r,key:i}=n,o=kM(e,i),s=IB(e,r);switch(n.type){case"value":if(n.payload?.exists()){let a=null;n.payload.forEach(c=>{let l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,e=[...e,l],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==r&&(e=e.filter(c=>c.payload.key!==t.key),e.splice(s,0,n));else{if(r==null)return[n,...e];e=e.slice(),e.splice(s,0,n)}return e;case"child_removed":return e.filter(a=>a.payload.key!==t.key);case"child_changed":return e.map(a=>a.payload.key===i?n:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function MM(e,n,t){return n=OM(n),CB(e,n,t)}function SB(e,n){let t=n.schedulers.outsideAngular,r=n.schedulers.ngZone.run(()=>e.ref);return{query:e,update:SM(r,"update"),set:SM(r,"set"),push:i=>r.push(i),remove:bB(r),snapshotChanges(i){return MM(e,i,t).pipe(Hn)},stateChanges(i){return PM(e,i,t).pipe(Hn)},auditTrail(i){return EB(e,i,t).pipe(Hn)},valueChanges(i,o){return MM(e,i,t).pipe(M(a=>a.map(c=>o&&o.idField?q(E({},c.payload.val()),{[o.idField]:c.key}):c.payload.val())),Hn)}}}function NM(e,n){return function(){return lc(e,"value","on",n)}}function MB(e,n){return{query:e,snapshotChanges(){return NM(e,n.schedulers.outsideAngular)().pipe(Hn)},update(t){return e.ref.update(t)},set(t){return e.ref.set(t)},remove(){return e.ref.remove()},valueChanges(){return NM(e,n.schedulers.outsideAngular)().pipe(Hn,M(r=>r.payload.exists()?r.payload.val():null))}}}var NB=new w("angularfire2.realtimeDatabaseURL"),RB=new w("angularfire2.database.use-emulator"),AB=(()=>{class e{schedulers;database;constructor(t,r,i,o,s,a,c,l,u,d,f,h,p,y,_){this.schedulers=a;let I=c,Y=Na(t,s,r);l&&kv(Y,s,u,f,h,p,d,y),this.database=cd(`${Y.name}.database.${i}`,"AngularFireDatabase",Y.name,()=>{let H=s.runOutsideAngular(()=>Y.database(i||void 0));return I&&H.useEmulator(...I),H},[I])}list(t,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>TM(this.database,t)),o=i;return r&&(o=r(i)),SB(o,this)}object(t){let r=this.schedulers.ngZone.runOutsideAngular(()=>TM(this.database,t));return MB(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||e)(m(Fo),m(Lo,8),m(NB,8),m(ze),m(B),m(sd),m(RB,8),m(Fv,8),m(Nv,8),m(Rv,8),m(Av,8),m(xv,8),m(Ov,8),m(Pv,8),m(_i,8))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),sX=(()=>{class e{constructor(){Be.registerVersion("angularfire",Ei.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ae({type:e});static \u0275inj=oe({providers:[AB]})}return e})();var xB=new w("cdk-dir-doc",{providedIn:"root",factory:OB});function OB(){return g(W)}var PB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function kB(e){let n=e?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?PB.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var A_=(()=>{class e{constructor(t){if(this.value="ltr",this.change=new _e,t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=kB(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||e)(m(xB,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var FM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ae({type:e})}static{this.\u0275inj=oe({})}}return e})();var LM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ae({type:e})}static{this.\u0275inj=oe({})}}return e})();var x_;try{x_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{x_=!1}var ts=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?yu(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||x_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(m(ze))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ae({type:e})}static{this.\u0275inj=oe({})}}return e})();var nf;function rf(){if(typeof document!="object"||!document)return 0;if(nf==null){let e=document.createElement("div"),n=e.style;e.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";let t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",e.appendChild(t),document.body.appendChild(e),nf=0,e.scrollLeft===0&&(e.scrollLeft=1,nf=e.scrollLeft===0?1:2),e.remove()}return nf}function Ar(e){return e!=null&&`${e}`!="false"}function O_(e,n=0){return jB(e)?Number(e):n}function jB(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function BM(e){return e instanceof ie?e.nativeElement:e}var BB=4,UB=.001,VB=1e-7,HB=10,uc=11,of=1/(uc-1),$B=typeof Float32Array=="function";function UM(e,n){return 1-3*n+3*e}function VM(e,n){return 3*n-6*e}function HM(e){return 3*e}function sf(e,n,t){return((UM(n,t)*e+VM(n,t))*e+HM(n))*e}function $M(e,n,t){return 3*UM(n,t)*e*e+2*VM(n,t)*e+HM(n)}function zB(e,n,t,r,i){let o,s,a=0;do s=n+(t-n)/2,o=sf(s,r,i)-e,o>0?t=s:n=s;while(Math.abs(o)>VB&&++a<HB);return s}function WB(e,n,t,r){for(let i=0;i<BB;++i){let o=$M(n,t,r);if(o===0)return n;let s=sf(n,t,r)-e;n-=s/o}return n}function GB(e){return e}function qB(e,n,t,r){if(!(0<=e&&e<=1&&0<=t&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&t===r)return GB;let i=$B?new Float32Array(uc):new Array(uc);for(let s=0;s<uc;++s)i[s]=sf(s*of,e,t);function o(s){let a=0,c=1,l=uc-1;for(;c!==l&&i[c]<=s;++c)a+=of;--c;let u=(s-i[c])/(i[c+1]-i[c]),d=a+u*of,f=$M(d,e,t);return f>=UB?WB(s,d,e,t):f===0?d:zB(s,a,a+of,e,t)}return function(a){return a===0?0:a===1?1:sf(o(a),n,r)}}var YB=new w("SMOOTH_SCROLL_OPTIONS"),zM=(()=>{class e{get _w(){return this._document.defaultView}get _now(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now}constructor(t,r,i){this._document=t,this._platform=r,this._onGoingScrolls=new Map,this._defaultOptions=E({duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1}},i)}_scrollElement(t,r,i){t.scrollLeft=r,t.scrollTop=i}_getElement(t,r){return typeof t=="string"?(r||this._document).querySelector(t):BM(t)}_initSmoothScroll(t){return this._onGoingScrolls.has(t)&&this._onGoingScrolls.get(t).next(),this._onGoingScrolls.set(t,new Q).get(t)}_isFinished(t,r,i){return t.currentX!==t.x||t.currentY!==t.y?!0:(r.next(),i(),!1)}_interrupted(t,r){return tt(be(t,"wheel",{passive:!0,capture:!0}),be(t,"touchmove",{passive:!0,capture:!0}),r).pipe(Rt(1))}_destroy(t,r){r.complete(),this._onGoingScrolls.delete(t)}_step(t){return new T(r=>{let i=(this._now()-t.startTime)/t.duration;i=i>1?1:i;let o=t.easing(i);t.currentX=t.startX+(t.x-t.startX)*o,t.currentY=t.startY+(t.y-t.startY)*o,this._scrollElement(t.scrollable,t.currentX,t.currentY),gs.schedule(()=>r.next(t))})}_applyScrollToOptions(t,r){if(!r.duration)return this._scrollElement(t,r.left,r.top),Promise.resolve();let i=this._initSmoothScroll(t),o={scrollable:t,startTime:this._now(),startX:t.scrollLeft,startY:t.scrollTop,x:r.left==null?t.scrollLeft:~~r.left,y:r.top==null?t.scrollTop:~~r.top,duration:r.duration,easing:qB(r.easing.x1,r.easing.y1,r.easing.x2,r.easing.y2)};return new Promise(s=>{S(null).pipe(_p(()=>this._step(o).pipe(Hp(a=>this._isFinished(a,i,s)))),Fe(this._interrupted(t,i)),sr(()=>this._destroy(t,i))).subscribe()})}scrollTo(t,r){if(yu(this._platform)){let i=this._getElement(t),o=getComputedStyle(i).direction==="rtl",s=rf(),a=q(E(E({},this._defaultOptions),r),{left:r.left==null?o?r.end:r.start:r.left,right:r.right==null?o?r.start:r.end:r.right});return a.bottom!=null&&(a.top=i.scrollHeight-i.clientHeight-a.bottom),o&&s!==0?(a.left!=null&&(a.right=i.scrollWidth-i.clientWidth-a.left),s===2?a.left=a.right:s===1&&(a.left=a.right?-a.right:a.right)):a.right!=null&&(a.left=i.scrollWidth-i.clientWidth-a.right),this._applyScrollToOptions(i,a)}return Promise.resolve()}scrollToElement(t,r,i={}){let o=this._getElement(t),s=this._getElement(r,o),a=q(E({},i),{left:s.offsetLeft+(i.left||0),top:s.offsetTop+(i.top||0)});return s?this.scrollTo(o,a):Promise.resolve()}static{this.\u0275fac=function(r){return new(r||e)(m(W),m(ze),m(YB,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var WM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ae({type:e})}static{this.\u0275inj=oe({})}}return e})();var KB=["scrollbarY"],ZB=["scrollbarX"],XB=["*"];function JB(e,n){if(e&1&&Ln(0,"scrollbar-x",null,0),e&2){let t=ta(2);ur("scrollable",t.state.isHorizontallyScrollable)("fit",t.state.verticalUsed)}}function eU(e,n){if(e&1&&Ln(0,"scrollbar-y",null,1),e&2){let t=ta(2);ur("scrollable",t.state.isVerticallyScrollable)("fit",t.state.horizontalUsed)}}function tU(e,n){if(e&1&&(Xs(0),Ks(1,JB,2,2,"scrollbar-x",5)(2,eU,2,2,"scrollbar-y",5),Js()),e&2){let t=ta();lr(),dr("ngIf",t.state.horizontalUsed),lr(),dr("ngIf",t.state.verticalUsed)}}function QM(e){return G(()=>{e.onselectstart=()=>!1})}function KM(e){return G(()=>{e.onselectstart=null})}function xr(){return G(e=>e.stopPropagation())}function P_(e,n){return e.clientX>=n.left&&e.clientX<=n.left+n.width&&e.clientY>=n.top&&e.clientY<=n.top+n.height}var k_=(()=>{class e{get clientHeight(){return this.nativeElement.clientHeight}get clientWidth(){return this.nativeElement.clientWidth}get scrollHeight(){return this.nativeElement.scrollHeight}get scrollWidth(){return this.nativeElement.scrollWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get scrollMaxX(){return this.scrollWidth-this.clientWidth}get scrollMaxY(){return this.scrollHeight-this.clientHeight}get contentHeight(){return this.contentWrapperElement?.clientHeight||0}get contentWidth(){return this.contentWrapperElement?.clientWidth||0}constructor(t){this.viewPort=t,this.nativeElement=t.nativeElement}activatePointerEvents(t,r){this.hovered=new T(i=>{let o=be(this.nativeElement,"mousemove",{passive:!0}),s=t?o:o.pipe(xr()),a=be(this.nativeElement,"mouseleave",{passive:!0}).pipe(M(()=>!1));tt(s,a).pipe(G(c=>i.next(c)),Fe(r)).subscribe()}),this.clicked=new T(i=>{let o=be(this.nativeElement,"mousedown",{passive:!0}).pipe(G(a=>i.next(a))),s=be(this.nativeElement,"mouseup",{passive:!0}).pipe(G(()=>i.next(!1)));o.pipe(X(()=>s),Fe(r)).subscribe()})}setAsWrapper(){this.nativeElement.className="ng-native-scrollbar-hider ng-scroll-layer",this.nativeElement.firstElementChild&&(this.nativeElement.firstElementChild.className="ng-scroll-layer")}setAsViewport(t){this.nativeElement.className=`ng-native-scrollbar-hider ng-scroll-viewport ${t}`,this.nativeElement.firstElementChild&&(this.contentWrapperElement=this.nativeElement.firstElementChild,this.contentWrapperElement.classList.add("ng-scroll-content"))}scrollYTo(t){this.nativeElement.scrollTop=t}scrollXTo(t){this.nativeElement.scrollLeft=t}static{this.\u0275fac=function(r){return new(r||e)(b(ie))}}static{this.\u0275dir=ce({type:e,selectors:[["","scrollViewport",""]],standalone:!1})}}return e})(),Gt=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ce({type:e,standalone:!1})}}return e})(),ZM=new w("NG_SCROLLBAR_OPTIONS"),GM={viewClass:"",trackClass:"",thumbClass:"",track:"vertical",appearance:"compact",visibility:"native",position:"native",pointerEventsMethod:"viewport",trackClickScrollDuration:300,minThumbSize:20,windowResizeDebounce:0,sensorDebounce:0,scrollAuditTime:0,viewportPropagateMouseMove:!0,autoHeightDisabled:!0,autoWidthDisabled:!0,sensorDisabled:!1,pointerEventsDisabled:!1},XM=(()=>{class e{constructor(t){this.globalOptions=t?E(E({},GM),t):GM,this.rtlScrollAxisType=rf()}static{this.\u0275fac=function(r){return new(r||e)(m(ZM,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),nU=(()=>{class e{constructor(t,r,i){this.document=t,this.manager=r,this.platform=i,this._scrollbarSize=new De(this.getNativeScrollbarSize()),this.scrollbarSize=this._scrollbarSize.asObservable(),i.isBrowser&&be(this.document.defaultView,"resize",{passive:!0}).pipe(ml(this.manager.globalOptions.windowResizeDebounce),M(()=>this.getNativeScrollbarSize()),Jr(),G(o=>this._scrollbarSize.next(o))).subscribe()}getNativeScrollbarSize(){if(!this.platform.isBrowser)return 0;if(this.platform.IOS)return 6;let t=this.document.createElement("div");t.className="ng-scrollbar-measure",t.style.left="0px",t.style.overflow="scroll",t.style.position="fixed",t.style.top="-9999px",this.document.body.appendChild(t);let r=t.getBoundingClientRect().right;return this.document.body.removeChild(t),r}static{this.\u0275fac=function(r){return new(r||e)(m(W),m(XM),m(ts))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rU=(()=>{class e{constructor(t,r,i){this.renderer=r,this.hideNativeScrollbar=i,this._subscriber=j.EMPTY,this._subscriber=i.scrollbarSize.subscribe(o=>{this.renderer.setStyle(t.nativeElement,"--native-scrollbar-size",`-${o}px`,ct.DashCase)})}ngOnDestroy(){this._subscriber.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)(b(ie),b(kn),b(nU))}}static{this.\u0275dir=ce({type:e,selectors:[["","hideNativeScrollbar",""]],standalone:!1})}}return e})(),iU=(()=>{class e{constructor(t){this.el=t}set ngAttr(t){for(let[r,i]of Object.entries(t))this.el.nativeElement.setAttribute(r,i)}static{this.\u0275fac=function(r){return new(r||e)(b(ie))}}static{this.\u0275dir=ce({type:e,selectors:[["","ngAttr",""]],inputs:{ngAttr:"ngAttr"},standalone:!1})}}return e})(),oU=(()=>{class e{get debounce(){return this._debounce}set debounce(t){this._debounce=O_(t),this._subscribe()}get disabled(){return this._disabled}set disabled(t){this._disabled=Ar(t),this._disabled?this._unsubscribe():this._subscribe()}constructor(t,r,i){if(this.zone=t,this.platform=r,this.scrollbar=i,this._disabled=!1,this._currentSubscription=null,this.event=new _e,!i)throw new Error("[NgScrollbar Resize Sensor Directive]: Host element must be an NgScrollbar component.")}ngAfterContentInit(){!this._currentSubscription&&!this._disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){if(this._unsubscribe(),this.platform.isBrowser){let t=new T(r=>{this._resizeObserver=new ResizeObserver(i=>r.next(i)),this._resizeObserver.observe(this.scrollbar.viewport.nativeElement),this.scrollbar.viewport.contentWrapperElement&&this._resizeObserver.observe(this.scrollbar.viewport.contentWrapperElement)});this.zone.runOutsideAngular(()=>{this._currentSubscription=(this._debounce?t.pipe(ml(this._debounce)):t).subscribe(this.event)})}}_unsubscribe(){this._resizeObserver?.disconnect(),this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)(b(B),b(ts),b(Gt))}}static{this.\u0275dir=ce({type:e,selectors:[["","resizeSensor",""]],inputs:{debounce:[0,"sensorDebounce","debounce"],disabled:[0,"sensorDisabled","disabled"]},outputs:{event:"resizeSensor"},standalone:!1})}}return e})(),j_=(()=>{class e{get clicked(){let t=be(this.trackElement,"mousedown",{passive:!0}).pipe(xr(),QM(this.document)),r=be(this.document,"mouseup",{passive:!0}).pipe(xr(),KM(this.document),X(()=>rt));return tt(t,r)}get clientRect(){return this.trackElement.getBoundingClientRect()}constructor(t,r,i){this.cmp=t,this.trackElement=r,this.document=i}onTrackClicked(t,r,i){return S(t).pipe(to(this.pageProperty),M(o=>(o-this.offset-r/2)/this.size*i),G(o=>{this.cmp.scrollTo(q(E({},this.mapToScrollToOption(o)),{duration:O_(this.cmp.trackClickScrollDuration)}))}))}static{this.\u0275fac=function(r){return new(r||e)(b(Gt),b(HTMLElement),b(Document))}}static{this.\u0275dir=ce({type:e,standalone:!1})}}return e})(),F_=(()=>{class e extends j_{get pageProperty(){return"pageX"}get offset(){return this.clientRect.left}get size(){return this.trackElement.clientWidth}constructor(t,r,i){super(t,r.nativeElement,i),this.cmp=t,this.document=i}mapToScrollToOption(t){return{left:t}}static{this.\u0275fac=function(r){return new(r||e)(b(Gt),b(ie),b(W))}}static{this.\u0275dir=ce({type:e,selectors:[["","scrollbarTrackX",""]],standalone:!1,features:[fn]})}}return e})(),L_=(()=>{class e extends j_{get pageProperty(){return"pageY"}get offset(){return this.clientRect.top}get size(){return this.trackElement.clientHeight}constructor(t,r,i){super(t,r.nativeElement,i),this.cmp=t,this.document=i}mapToScrollToOption(t){return{top:t}}static{this.\u0275fac=function(r){return new(r||e)(b(Gt),b(ie),b(W))}}static{this.\u0275dir=ce({type:e,selectors:[["","scrollbarTrackY",""]],standalone:!1,features:[fn]})}}return e})(),JM=(()=>{class e{get trackMax(){return this.track.size-this.size}get clientRect(){return this.thumbElement.getBoundingClientRect()}get clicked(){return be(this.thumbElement,"mousedown",{passive:!0}).pipe(xr())}constructor(t,r,i,o){this.cmp=t,this.track=r,this.thumbElement=i,this.document=o,this._dragging=new Q,this.dragging=this._dragging.pipe(Jr())}update(){let t=sU(this.track.size,this.viewportScrollSize,this.cmp.minThumbSize),r=aU(this.viewportScrollOffset,this.viewportScrollMax,this.trackMax);gs.schedule(()=>this.updateStyles(this.handleDirection(r,this.trackMax),t))}dragged(t){let r,i,o=S(t).pipe(QM(this.document),G(()=>{r=this.trackMax,i=this.viewportScrollMax,this.setDragging(!0)})),s=be(this.document,"mousemove",{capture:!0,passive:!0}).pipe(xr()),a=be(this.document,"mouseup",{capture:!0}).pipe(xr(),KM(this.document),G(()=>this.setDragging(!1)));return o.pipe(to(this.pageProperty),M(c=>c-this.dragStartOffset),Se(c=>s.pipe(to(this.clientProperty),M(l=>l-this.track.offset),M(l=>i*(l-c)/r),M(l=>this.handleDrag(l,i)),G(l=>this.scrollTo(l)),Fe(a))))}static{this.\u0275fac=function(r){return new(r||e)(b(Gt),b(j_),b(HTMLElement),b(Document))}}static{this.\u0275dir=ce({type:e,outputs:{dragging:"dragging"},standalone:!1})}}return e})();function sU(e,n,t){let i=e/n*e;return Math.max(~~i,t)}function aU(e,n,t){return e*t/n}var qM=(()=>{class e extends JM{get clientProperty(){return"clientX"}get pageProperty(){return"pageX"}get viewportScrollSize(){return this.cmp.viewport.scrollWidth}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get dragStartOffset(){return this.clientRect.left+this.document.defaultView.pageXOffset||0}get size(){return this.thumbElement.clientWidth}constructor(t,r,i,o,s){super(t,r,i.nativeElement,o),this.cmp=t,this.track=r,this.element=i,this.document=o,this.dir=s}updateStyles(t,r){this.thumbElement.style.width=`${r}px`,this.thumbElement.style.transform=`translate3d(${t}px, 0, 0)`}handleDrag(t,r){if(this.dir.value==="rtl"){if(this.cmp.manager.rtlScrollAxisType===1)return t-r;if(this.cmp.manager.rtlScrollAxisType===2)return r-t}return t}handleDirection(t,r){if(this.dir.value==="rtl"){if(this.cmp.manager.rtlScrollAxisType===2)return-t;if(this.cmp.manager.rtlScrollAxisType===0)return t-r}return t}setDragging(t){this.cmp.setDragging({horizontalDragging:t})}scrollTo(t){this.cmp.viewport.scrollXTo(t)}static{this.\u0275fac=function(r){return new(r||e)(b(Gt),b(F_),b(ie),b(W),b(A_))}}static{this.\u0275dir=ce({type:e,selectors:[["","scrollbarThumbX",""]],standalone:!1,features:[fn]})}}return e})(),YM=(()=>{class e extends JM{get pageProperty(){return"pageY"}get viewportScrollSize(){return this.cmp.viewport.scrollHeight}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get clientProperty(){return"clientY"}get dragStartOffset(){return this.clientRect.top+this.document.defaultView.pageYOffset||0}get size(){return this.thumbElement.clientHeight}constructor(t,r,i,o){super(t,r,i.nativeElement,o),this.cmp=t,this.track=r,this.element=i,this.document=o}updateStyles(t,r){this.thumbElement.style.height=`${r}px`,this.thumbElement.style.transform=`translate3d(0px, ${t}px, 0)`}handleDrag(t){return t}handleDirection(t){return t}setDragging(t){this.cmp.setDragging({verticalDragging:t})}scrollTo(t){this.cmp.viewport.scrollYTo(t)}static{this.\u0275fac=function(r){return new(r||e)(b(Gt),b(L_),b(ie),b(W))}}static{this.\u0275dir=ce({type:e,selectors:[["","scrollbarThumbY",""]],standalone:!1,features:[fn]})}}return e})(),eN=(()=>{class e{constructor(t,r,i,o,s){this.el=t,this.cmp=r,this.platform=i,this.document=o,this.zone=s,this.destroyed=new Q}activatePointerEvents(){let t,r,i;return this.cmp.pointerEventsMethod==="viewport"?(this.viewportTrackClicked=new Q,this.viewportThumbClicked=new Q,this.cmp.viewport.activatePointerEvents(this.cmp.viewportPropagateMouseMove,this.destroyed),t=this.viewportThumbClicked,r=this.viewportTrackClicked,i=this.cmp.viewport.hovered.pipe(M(o=>o?P_(o,this.el.getBoundingClientRect()):!1),Jr(),G(o=>this.document.onselectstart=o?()=>!1:null)),this.cmp.viewport.clicked.pipe(G(o=>{o?P_(o,this.thumb.clientRect)?this.viewportThumbClicked.next(o):P_(o,this.track.clientRect)&&(this.cmp.setClicked(!0),this.viewportTrackClicked.next(o)):this.cmp.setClicked(!1)}),Fe(this.destroyed)).subscribe()):(t=this.thumb.clicked,r=this.track.clicked,i=this.hovered),tt(i.pipe(G(o=>this.setHovered(o))),t.pipe(X(o=>this.thumb.dragged(o))),r.pipe(X(o=>this.track.onTrackClicked(o,this.thumb.size,this.viewportScrollSize))))}get hovered(){let t=be(this.el,"mouseenter",{passive:!0}).pipe(xr(),M(()=>!0)),r=be(this.el,"mouseleave",{passive:!0}).pipe(xr(),M(()=>!1));return tt(t,r)}ngOnInit(){this.zone.runOutsideAngular(()=>{!(this.platform.IOS||this.platform.ANDROID)&&!this.cmp.pointerEventsDisabled&&this.activatePointerEvents().pipe(Fe(this.destroyed)).subscribe(),tt(this.cmp.scrolled,this.cmp.updated).pipe(G(()=>this.thumb?.update()),Fe(this.destroyed)).subscribe()})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete(),this.viewportThumbClicked&&this.viewportTrackClicked&&(this.viewportTrackClicked.complete(),this.viewportThumbClicked.complete())}static{this.\u0275fac=function(r){return new(r||e)(b(HTMLElement),b(Gt),b(ts),b(Document),b(B))}}static{this.\u0275dir=ce({type:e,standalone:!1})}}return e})(),cU=(()=>{class e extends eN{get viewportScrollSize(){return this.cmp.viewport.scrollHeight}constructor(t,r,i,o,s){super(t.nativeElement,r,i,o,s),this.cmp=r,this.platform=i,this.document=o,this.zone=s}setHovered(t){this.cmp.setHovered({verticalHovered:t})}static{this.\u0275fac=function(r){return new(r||e)(b(ie),b(Gt),b(ts),b(W),b(B))}}static{this.\u0275cmp=ci({type:e,selectors:[["scrollbar-y"]],viewQuery:function(r,i){if(r&1&&mo(L_,7)(YM,7),r&2){let o;Lt(o=jt())&&(i.track=o.first),Lt(o=jt())&&(i.thumb=o.first)}},hostVars:2,hostBindings:function(r,i){r&2&&vo("scrollbar-control",!0)},standalone:!1,features:[fn],decls:2,vars:6,consts:[["scrollbarTrackY",""],["scrollbarThumbY",""]],template:function(r,i){r&1&&(fr(0,"div",0),Ln(1,"div",1),hr()),r&2&&(yo(_o("ng-scrollbar-track ",i.cmp.trackClass)),lr(),yo(_o("ng-scrollbar-thumb ",i.cmp.thumbClass)))},dependencies:[YM,L_],styles:[".ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}  .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control{left:unset;right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}"],changeDetection:0})}}return e})(),lU=(()=>{class e extends eN{get viewportScrollSize(){return this.cmp.viewport.scrollWidth}constructor(t,r,i,o,s){super(t.nativeElement,r,i,o,s),this.cmp=r,this.platform=i,this.document=o,this.zone=s}setHovered(t){this.cmp.setHovered({horizontalHovered:t})}static{this.\u0275fac=function(r){return new(r||e)(b(ie),b(Gt),b(ts),b(W),b(B))}}static{this.\u0275cmp=ci({type:e,selectors:[["scrollbar-x"]],viewQuery:function(r,i){if(r&1&&mo(F_,7)(qM,7),r&2){let o;Lt(o=jt())&&(i.track=o.first),Lt(o=jt())&&(i.thumb=o.first)}},hostVars:2,hostBindings:function(r,i){r&2&&vo("scrollbar-control",!0)},standalone:!1,features:[fn],decls:2,vars:6,consts:[["scrollbarTrackX",""],["scrollbarThumbX",""]],template:function(r,i){r&1&&(fr(0,"div",0),Ln(1,"div",1),hr()),r&2&&(yo(_o("ng-scrollbar-track ",i.cmp.trackClass)),lr(),yo(_o("ng-scrollbar-thumb ",i.cmp.thumbClass)))},dependencies:[qM,F_],styles:[".ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}  .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:unset}  .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}"],changeDetection:0})}}return e})(),iJ=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=Ar(t)}get sensorDisabled(){return this._sensorDisabled}set sensorDisabled(t){this._sensorDisabled=Ar(t)}get pointerEventsDisabled(){return this._pointerEventsDisabled}set pointerEventsDisabled(t){this._pointerEventsDisabled=Ar(t)}get viewportPropagateMouseMove(){return this._viewportPropagateMouseMove}set viewportPropagateMouseMove(t){this._viewportPropagateMouseMove=Ar(t)}get autoHeightDisabled(){return this._autoHeightDisabled}set autoHeightDisabled(t){this._autoHeightDisabled=Ar(t)}get autoWidthDisabled(){return this._autoWidthDisabled}set autoWidthDisabled(t){this._autoWidthDisabled=Ar(t)}get nativeElement(){return this.el.nativeElement}constructor(t,r,i,o,s,a){this.el=t,this.zone=r,this.changeDetectorRef=i,this.dir=o,this.smoothScroll=s,this.manager=a,this._disabled=!1,this._sensorDisabled=this.manager.globalOptions.sensorDisabled,this._pointerEventsDisabled=this.manager.globalOptions.pointerEventsDisabled,this._autoHeightDisabled=this.manager.globalOptions.autoHeightDisabled,this._autoWidthDisabled=this.manager.globalOptions.autoWidthDisabled,this._viewportPropagateMouseMove=this.manager.globalOptions.viewportPropagateMouseMove,this.viewClass=this.manager.globalOptions.viewClass,this.trackClass=this.manager.globalOptions.trackClass,this.thumbClass=this.manager.globalOptions.thumbClass,this.minThumbSize=this.manager.globalOptions.minThumbSize,this.trackClickScrollDuration=this.manager.globalOptions.trackClickScrollDuration,this.pointerEventsMethod=this.manager.globalOptions.pointerEventsMethod,this.track=this.manager.globalOptions.track,this.visibility=this.manager.globalOptions.visibility,this.appearance=this.manager.globalOptions.appearance,this.position=this.manager.globalOptions.position,this.sensorDebounce=this.manager.globalOptions.sensorDebounce,this.scrollAuditTime=this.manager.globalOptions.scrollAuditTime,this.updated=new _e,this.state={},this.destroyed=new Q}updateState(){let t=!1,r=!1,i=!1,o=!1;(this.track==="all"||this.track==="vertical")&&(i=this.viewport.scrollHeight>this.viewport.clientHeight,t=this.visibility==="always"||i),(this.track==="all"||this.track==="horizontal")&&(o=this.viewport.scrollWidth>this.viewport.clientWidth,r=this.visibility==="always"||o),this.setState({position:this.position,track:this.track,appearance:this.appearance,visibility:this.visibility,deactivated:this.disabled,dir:this.dir.value,pointerEventsMethod:this.pointerEventsMethod,verticalUsed:t,horizontalUsed:r,isVerticallyScrollable:i,isHorizontallyScrollable:o})}setState(t){this.state=E(E({},this.state),t),this.changeDetectorRef.detectChanges()}getScrolledByDirection(t){let r;return this.scrolled.pipe(G(i=>r=i),to("target",t),Np(),Me(([i,o])=>i!==o),M(()=>r))}setHovered(t){this.zone.run(()=>this.setState(E({},t)))}setDragging(t){this.zone.run(()=>this.setState(E({},t)))}setClicked(t){this.zone.run(()=>this.setState({scrollbarClicked:t}))}ngOnInit(){this.zone.runOutsideAngular(()=>{this.customViewPort?(this.viewport=this.customViewPort,this.defaultViewPort.setAsWrapper()):this.viewport=this.defaultViewPort,this.viewport.setAsViewport(this.viewClass);let t=be(this.viewport.nativeElement,"scroll",{passive:!0});t=this.scrollAuditTime?t.pipe(rp(this.scrollAuditTime)):t,this.scrolled=t.pipe(Fe(this.destroyed)),this.verticalScrolled=this.getScrolledByDirection("scrollTop"),this.horizontalScrolled=this.getScrolledByDirection("scrollLeft")})}ngOnChanges(t){this.viewport&&this.update()}ngAfterViewInit(){this.update(),this.dir.change.pipe(G(()=>this.update()),Fe(this.destroyed)).subscribe()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}update(){this.autoHeightDisabled||this.updateHeight(),this.autoWidthDisabled||this.updateWidth(),this.updateState(),this.updated.next()}scrollTo(t){return this.smoothScroll.scrollTo(this.viewport.nativeElement,t)}scrollToElement(t,r){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,t,r)}updateHeight(){this.appearance==="standard"&&this.scrollbarX?this.nativeElement.style.height=`${this.viewport.contentHeight+this.scrollbarX.nativeElement.clientHeight}px`:this.nativeElement.style.height=`${this.viewport.contentHeight}px`}updateWidth(){this.appearance==="standard"&&this.scrollbarY?this.nativeElement.style.width=`${this.viewport.contentWidth+this.scrollbarY.nativeElement.clientWidth}px`:this.nativeElement.style.width=`${this.viewport.contentWidth}px`}static{this.\u0275fac=function(r){return new(r||e)(b(ie),b(B),b(li),b(A_),b(zM),b(XM))}}static{this.\u0275cmp=ci({type:e,selectors:[["ng-scrollbar"]],contentQueries:function(r,i,o){if(r&1&&na(o,k_,7),r&2){let s;Lt(s=jt())&&(i.customViewPort=s.first)}},viewQuery:function(r,i){if(r&1&&mo(KB,5,ie)(ZB,5,ie)(k_,7),r&2){let o;Lt(o=jt())&&(i.scrollbarY=o.first),Lt(o=jt())&&(i.scrollbarX=o.first),Lt(o=jt())&&(i.defaultViewPort=o.first)}},hostVars:2,hostBindings:function(r,i){r&2&&vo("ng-scrollbar",!0)},inputs:{disabled:"disabled",sensorDisabled:"sensorDisabled",pointerEventsDisabled:"pointerEventsDisabled",viewportPropagateMouseMove:"viewportPropagateMouseMove",autoHeightDisabled:"autoHeightDisabled",autoWidthDisabled:"autoWidthDisabled",viewClass:"viewClass",trackClass:"trackClass",thumbClass:"thumbClass",minThumbSize:"minThumbSize",trackClickScrollDuration:"trackClickScrollDuration",pointerEventsMethod:"pointerEventsMethod",track:"track",visibility:"visibility",appearance:"appearance",position:"position",sensorDebounce:"sensorDebounce",scrollAuditTime:"scrollAuditTime"},outputs:{updated:"updated"},exportAs:["ngScrollbar"],standalone:!1,features:[ra([{provide:Gt,useExisting:e}]),On],ngContentSelectors:XB,decls:6,vars:4,consts:[["scrollbarX",""],["scrollbarY",""],[1,"ng-scrollbar-wrapper",3,"ngAttr"],[1,"ng-scroll-viewport-wrapper",3,"resizeSensor","sensorDebounce","sensorDisabled"],["scrollViewport","","hideNativeScrollbar",""],[4,"ngIf"]],template:function(r,i){r&1&&(hm(),fr(0,"div",2)(1,"div",3),go("resizeSensor",function(){return i.update()}),fr(2,"div",4)(3,"div"),pm(4),hr()()(),Ks(5,tU,3,2,"ng-container",5),hr()),r&2&&(dr("ngAttr",i.state),lr(),dr("sensorDebounce",i.sensorDebounce)("sensorDisabled",i.sensorDisabled),lr(4),dr("ngIf",!i.disabled))},dependencies:[Rm,k_,rU,iU,oU,cU,lU],styles:[".ng-scrollbar-measure{scrollbar-width:none;-ms-overflow-style:none}  .ng-scrollbar-measure::-webkit-scrollbar{display:none}[_nghost-%COMP%]{--scrollbar-border-radius: 7px;--scrollbar-padding: 4px;--scrollbar-track-color: transparent;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-size: 5px;--scrollbar-hover-size: var(--scrollbar-size);--scrollbar-overscroll-behavior: initial;--scrollbar-transition-duration: .4s;--scrollbar-transition-delay: .8s;--scrollbar-thumb-transition: height ease-out .15s, width ease-out .15s;--scrollbar-track-transition: height ease-out .15s, width ease-out .15s;display:block;position:relative;height:100%;max-height:100%;max-width:100%;box-sizing:content-box!important}[_nghost-%COMP%] > .ng-scrollbar-wrapper[_ngcontent-%COMP%]{--scrollbar-total-size: calc(var(--scrollbar-size) + var(--scrollbar-padding) * 2);--vertical-scrollbar-size: var(--scrollbar-size);--horizontal-scrollbar-size: var(--scrollbar-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalDragging=true][_ngcontent-%COMP%]{--vertical-scrollbar-size: var(--scrollbar-hover-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalDragging=true][_ngcontent-%COMP%]{--horizontal-scrollbar-size: var(--scrollbar-hover-size);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:0;bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:var(--scrollbar-total-size);bottom:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport::-webkit-scrollbar{display:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{bottom:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{left:0;right:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{right:0;left:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%] > .scrollbar-control[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:var(--scrollbar-transition-duration);transition-delay:var(--scrollbar-transition-delay)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:hover > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:active > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:focus > .scrollbar-control[_ngcontent-%COMP%]{opacity:1;transition-duration:var(--scrollbar-transition-duration);transition-delay:0ms}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow:auto}.ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{overflow:hidden}.ng-scroll-viewport[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;contain:strict;will-change:scroll-position;overscroll-behavior:var(--scrollbar-overscroll-behavior)}  .ng-scroll-content{display:inline-block;min-width:100%}.ng-scrollbar-wrapper[_ngcontent-%COMP%], .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], .ng-scroll-layer[_ngcontent-%COMP%],   .ng-scroll-viewport{position:absolute;inset:0}",".ng-scrollbar-wrapper[pointerEventsMethod=viewport]>.scrollbar-control{pointer-events:none}  .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}  .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:var(--scrollbar-track-transition)}  .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}  .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:var(--scrollbar-track-transition);cursor:default}  .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:var(--scrollbar-thumb-transition)}"],changeDetection:0})}}return e})(),oJ=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ZM,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ae({type:e})}static{this.\u0275inj=oe({imports:[aa,FM,LM,jM,WM]})}}return e})();var Ri=(function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e})(Ri||{}),cJ="*";function lJ(e,n){return{type:Ri.Trigger,name:e,definitions:n,options:{}}}function uJ(e,n=null){return{type:Ri.Animate,styles:n,timings:e}}function dJ(e,n=null){return{type:Ri.Sequence,steps:e,options:n}}function fJ(e){return{type:Ri.Style,styles:e,offset:null}}function hJ(e){return{type:Ri.Keyframes,steps:e}}function pJ(e,n,t=null){return{type:Ri.Transition,expr:e,animation:n,options:t}}var tN=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(n=0,t=0){this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let t=n=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},nN=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(n){this.players=n;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let t=n*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let n=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let t=n=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},gJ="!";export{T as a,Q as b,De as c,Mc as d,hs as e,Yn as f,M as g,ue as h,EN as i,C as j,Zc as k,D as l,oe as m,w as n,m as o,g as p,iw as q,ow as r,yw as s,W as t,cn as u,_e as v,B as w,Xr as x,Nt as y,Ps as z,Jr as A,At as B,ks as C,to as D,Fe as E,G as F,qp as G,gR as H,On as I,co as J,ie as K,$R as L,a0 as M,lr as N,ii as O,kn as P,b as Q,ci as R,ae as S,ce as T,fn as U,Ks as V,po as W,Mx as X,Nx as Y,Rx as Z,Ax as _,xx as $,dr as aa,fr as ba,hr as ca,Ln as da,Bb as ea,Bx as fa,go as ga,ta as ha,mo as ia,Lt as ja,jt as ka,zx as la,vo as ma,yo as na,fO as oa,Yb as pa,gm as qa,Qb as ra,_o as sa,ra as ta,yO as ua,_O as va,EO as wa,wO as xa,IO as ya,SO as za,BY as Aa,Cm as Ba,hn as Ca,oP as Da,sP as Ea,aP as Fa,aa as Ga,Bm as Ha,SP as Ia,RP as Ja,WC as Ka,XP as La,JP as Ma,Et as Na,Un as Oa,uv as Pa,Vn as Qa,HI as Ra,FF as Sa,Ri as Ta,cJ as Ua,lJ as Va,uJ as Wa,dJ as Xa,fJ as Ya,hJ as Za,pJ as _a,tN as $a,nN as ab,gJ as bb,YZ as cb,RZ as db,Fv as eb,x7 as fb,AB as gb,sX as hb,iJ as ib,oJ as jb};
