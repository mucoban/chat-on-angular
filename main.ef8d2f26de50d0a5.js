"use strict";(self.webpackChunkchat_on_angular=self.webpackChunkchat_on_angular||[]).push([[179],{6217:(At,Be,U)=>{U.d(Be,{nm:()=>Qi});var h=U(8405);U(2223),U(259);var Je=U(5861),et=U(6881),bt=U(4859),Pt=U(2090),pt=U(1877);const yt=new Map,Y={activated:!1,tokenObservers:[]},_t={initialized:!1,enabled:!1};function on(De){return yt.get(De)||Object.assign({},Y)}function Jn(){return _t}const tr="https://content-firebaseappcheck.googleapis.com/v1",br="exchangeDebugToken",vr={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class kt{constructor(re,me,Re,tt,Qe){if(this.operation=re,this.retryPolicy=me,this.getWaitDuration=Re,this.lowerBound=tt,this.upperBound=Qe,this.pending=null,this.nextErrorWaitInterval=tt,tt>Qe)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(re){var me=this;return(0,Je.Z)(function*(){me.stop();try{me.pending=new Pt.BH,yield function It(De){return new Promise(re=>{setTimeout(re,De)})}(me.getNextRun(re)),me.pending.resolve(),yield me.pending.promise,me.pending=new Pt.BH,yield me.operation(),me.pending.resolve(),yield me.pending.promise,me.process(!0).catch(()=>{})}catch(Re){me.retryPolicy(Re)?me.process(!1).catch(()=>{}):me.stop()}})()}getNextRun(re){if(re)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const me=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),me}}}const Gt=new Pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Vt(De){if(!on(De).activated)throw Gt.create("use-before-activation",{appName:De.name})}function Gn(De,re){return xn.apply(this,arguments)}function xn(){return(xn=(0,Je.Z)(function*({url:De,body:re},me){const Re={"Content-Type":"application/json"},tt=me.getImmediate({optional:!0});if(tt){const ht=yield tt.getHeartbeatsHeader();ht&&(Re["X-Firebase-Client"]=ht)}const Qe={method:"POST",body:JSON.stringify(re),headers:Re};let tn,jn;try{tn=yield fetch(De,Qe)}catch(ht){throw Gt.create("fetch-network-error",{originalErrorMessage:ht?.message})}if(200!==tn.status)throw Gt.create("fetch-status-error",{httpStatus:tn.status});try{jn=yield tn.json()}catch(ht){throw Gt.create("fetch-parse-error",{originalErrorMessage:ht?.message})}const jt=jn.ttl.match(/^([\d.]+)(s)$/);if(!jt||!jt[2]||isNaN(Number(jt[1])))throw Gt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${jn.ttl}`});const fi=1e3*Number(jt[1]),$n=Date.now();return{token:jn.token,expireTimeMillis:$n+fi,issuedAtTimeMillis:$n}})).apply(this,arguments)}function Sr(De,re){const{projectId:me,appId:Re,apiKey:tt}=De.options;return{url:`${tr}/projects/${me}/apps/${Re}:${br}?key=${tt}`,body:{debug_token:re}}}const Kn="firebase-app-check-database",nt=1,St="firebase-app-check-store";let Mt=null;function dr(){return(dr=(0,Je.Z)(function*(De,re){const Re=(yield function rr(){return Mt||(Mt=new Promise((De,re)=>{try{const me=indexedDB.open(Kn,nt);me.onsuccess=Re=>{De(Re.target.result)},me.onerror=Re=>{var tt;re(Gt.create("storage-open",{originalErrorMessage:null===(tt=Re.target.error)||void 0===tt?void 0:tt.message}))},me.onupgradeneeded=Re=>{0===Re.oldVersion&&Re.target.result.createObjectStore(St,{keyPath:"compositeKey"})}}catch(me){re(Gt.create("storage-open",{originalErrorMessage:me?.message}))}}),Mt)}()).transaction(St,"readwrite"),Qe=Re.objectStore(St).put({compositeKey:De,value:re});return new Promise((tn,jn)=>{Qe.onsuccess=jt=>{tn()},Re.onerror=jt=>{var fi;jn(Gt.create("storage-set",{originalErrorMessage:null===(fi=jt.target.error)||void 0===fi?void 0:fi.message}))}})})).apply(this,arguments)}const an=new pt.Yd("@firebase/app-check");function Er(De,re){return(0,Pt.hl)()?function mn(De,re){return function ft(De,re){return dr.apply(this,arguments)}(function In(De){return`${De.options.appId}-${De.name}`}(De),re)}(De,re).catch(me=>{an.warn(`Failed to write token to IndexedDB. Error: ${me}`)}):Promise.resolve()}function mr(){return Jn().enabled}function _n(){return On.apply(this,arguments)}function On(){return(On=(0,Je.Z)(function*(){const De=Jn();if(De.enabled&&De.token)return De.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Rn={error:"UNKNOWN_ERROR"};function xr(De){return Pt.US.encodeString(JSON.stringify(De),!1)}function en(De){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,Je.Z)(function*(De,re=!1){const me=De.app;Vt(me);const Re=on(me);let Qe,tt=Re.token;if(tt&&!X(tt)&&(Re.token=void 0,tt=void 0),!tt){const jt=yield Re.cachedTokenPromise;jt&&(X(jt)?tt=jt:yield Er(me,void 0))}if(!re&&tt&&X(tt))return{token:tt.token};let jn,tn=!1;if(mr()){Re.exchangeTokenPromise||(Re.exchangeTokenPromise=Gn(Sr(me,yield _n()),De.heartbeatServiceProvider).finally(()=>{Re.exchangeTokenPromise=void 0}),tn=!0);const jt=yield Re.exchangeTokenPromise;return yield Er(me,jt),Re.token=jt,{token:jt.token}}try{Re.exchangeTokenPromise||(Re.exchangeTokenPromise=Re.provider.getToken().finally(()=>{Re.exchangeTokenPromise=void 0}),tn=!0),tt=yield on(me).exchangeTokenPromise}catch(jt){"appCheck/throttled"===jt.code?an.warn(jt.message):an.error(jt),Qe=jt}return tt?Qe?jn=X(tt)?{token:tt.token,internalError:Qe}:Te(Qe):(jn={token:tt.token},Re.token=tt,yield Er(me,tt)):jn=Te(Qe),tn&&function W(De,re){const me=on(De).tokenObservers;for(const Re of me)try{"EXTERNAL"===Re.type&&null!=re.error?Re.error(re.error):Re.next(re)}catch{}}(me,jn),jn})).apply(this,arguments)}function Gr(De){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,Je.Z)(function*(De){const re=De.app;Vt(re);const{provider:me}=on(re);if(mr()){const Re=yield _n(),{token:tt}=yield Gn(Sr(re,Re),De.heartbeatServiceProvider);return{token:tt}}{const{token:Re}=yield me.getToken();return{token:Re}}})).apply(this,arguments)}function _e(De,re){const me=on(De),Re=me.tokenObservers.filter(tt=>tt.next!==re);0===Re.length&&me.tokenRefresher&&me.tokenRefresher.isRunning()&&me.tokenRefresher.stop(),me.tokenObservers=Re}function $(De){const{app:re}=De,me=on(re);let Re=me.tokenRefresher;Re||(Re=function G(De){const{app:re}=De;return new kt((0,Je.Z)(function*(){let Re;if(Re=on(re).token?yield en(De,!0):yield en(De),Re.error)throw Re.error;if(Re.internalError)throw Re.internalError}),()=>!0,()=>{const me=on(re);if(me.token){let Re=me.token.issuedAtTimeMillis+.5*(me.token.expireTimeMillis-me.token.issuedAtTimeMillis)+3e5;return Re=Math.min(Re,me.token.expireTimeMillis-3e5),Math.max(0,Re-Date.now())}return 0},vr.RETRIAL_MIN_WAIT,vr.RETRIAL_MAX_WAIT)}(De),me.tokenRefresher=Re),!Re.isRunning()&&me.isTokenAutoRefreshEnabled&&Re.start()}function X(De){return De.expireTimeMillis-Date.now()>0}function Te(De){return{token:xr(Rn),error:De}}class Ve{constructor(re,me){this.app=re,this.heartbeatServiceProvider=me}_delete(){const{tokenObservers:re}=on(this.app);for(const me of re)_e(this.app,me.next);return Promise.resolve()}}const Yi="app-check-internal";!function Ui(){(0,et._registerComponent)(new bt.wA("app-check",De=>function gt(De,re){return new Ve(De,re)}(De.getProvider("app").getImmediate(),De.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((De,re,me)=>{De.getProvider(Yi).initialize()})),(0,et._registerComponent)(new bt.wA(Yi,De=>function Jt(De){return{getToken:re=>en(De,re),getLimitedUseToken:()=>Gr(De),addTokenListener:re=>function Cr(De,re,me,Re){const{app:tt}=De,Qe=on(tt);if(Qe.tokenObservers=[...Qe.tokenObservers,{next:me,error:Re,type:re}],Qe.token&&X(Qe.token)){const jn=Qe.token;Promise.resolve().then(()=>{me({token:jn.token}),$(De)}).catch(()=>{})}Qe.cachedTokenPromise.then(()=>$(De))}(De,"INTERNAL",re),removeTokenListener:re=>_e(De.app,re)}}(De.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,et.registerVersion)("@firebase/app-check","0.8.0")}();class Qi{constructor(){return(0,h.vb)("app-check")}}typeof window<"u"&&window},4941:(At,Be,U)=>{U.d(Be,{zQ:()=>br,ww:()=>vr,rT:()=>Jn,f7:()=>lr,L6:()=>on,_Q:()=>Nr,lh:()=>tr,Qv:()=>_t,nw:()=>Mr});var h=U(2223),J=U(8929),Q=U(1086),Ce=U(6498),oe=U(5254),ie=U(6787),Ie=U(2102),ge=U(7545),ye=U(4850),se=U(341),ce=U(2654),le=U(5279),xe=U(5283);class Ye extends J.xQ{constructor(kt=Number.POSITIVE_INFINITY,It=Number.POSITIVE_INFINITY,cn){super(),this.scheduler=cn,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=kt<1?1:kt,this._windowTime=It<1?1:It,It===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(kt){if(!this.isStopped){const It=this._events;It.push(kt),It.length>this._bufferSize&&It.shift()}super.next(kt)}nextTimeWindow(kt){this.isStopped||(this._events.push(new Bt(this._getNow(),kt)),this._trimBufferThenGetEvents()),super.next(kt)}_subscribe(kt){const It=this._infiniteTimeWindow,cn=It?this._events:this._trimBufferThenGetEvents(),Gt=this.scheduler,gn=cn.length;let Vt;if(this.closed)throw new le.N;if(this.isStopped||this.hasError?Vt=ce.w.EMPTY:(this.observers.push(kt),Vt=new xe.W(this,kt)),Gt&&kt.add(kt=new Ie.ht(kt,Gt)),It)for(let An=0;An<gn&&!kt.closed;An++)kt.next(cn[An]);else for(let An=0;An<gn&&!kt.closed;An++)kt.next(cn[An].value);return this.hasError?kt.error(this.thrownError):this.isStopped&&kt.complete(),Vt}_getNow(){return(this.scheduler||se.c).now()}_trimBufferThenGetEvents(){const kt=this._getNow(),It=this._bufferSize,cn=this._windowTime,Gt=this._events,gn=Gt.length;let Vt=0;for(;Vt<gn&&!(kt-Gt[Vt].time<cn);)Vt++;return gn>It&&(Vt=Math.max(Vt,gn-It)),Vt>0&&Gt.splice(0,Vt),Gt}}class Bt{constructor(kt,It){this.time=kt,this.value=It}}function dt(ln,kt,It){let cn;return cn=ln&&"object"==typeof ln?ln:{bufferSize:ln,windowTime:kt,refCount:!1,scheduler:It},Gt=>Gt.lift(function Fe({bufferSize:ln=Number.POSITIVE_INFINITY,windowTime:kt=Number.POSITIVE_INFINITY,refCount:It,scheduler:cn}){let Gt,Vt,gn=0,An=!1,fn=!1;return function(xn){let Dn;gn++,!Gt||An?(An=!1,Gt=new Ye(ln,kt,cn),Dn=Gt.subscribe(this),Vt=xn.subscribe({next(nn){Gt.next(nn)},error(nn){An=!0,Gt.error(nn)},complete(){fn=!0,Vt=void 0,Gt.complete()}}),fn&&(Vt=void 0)):Dn=Gt.subscribe(this),this.add(()=>{gn--,Dn.unsubscribe(),Dn=void 0,Vt&&!fn&&It&&0===gn&&(Vt.unsubscribe(),Vt=void 0,Gt=void 0)})}}(cn))}var lt=U(7224);function He(ln,kt){return kt?(0,ge.w)(()=>ln,kt):(0,ge.w)(()=>ln)}var Ge=U(2899),Je=U(2198),et=U(8405),bt=U(2011),Pt=U(4755),pt=U(6217),yt=U(9260);const _t=new h.OlP("angularfire2.auth.use-emulator"),on=new h.OlP("angularfire2.auth.settings"),Nr=new h.OlP("angularfire2.auth.tenant-id"),Jn=new h.OlP("angularfire2.auth.langugage-code"),tr=new h.OlP("angularfire2.auth.use-device-language"),lr=new h.OlP("angularfire.auth.persistence"),Mr=(ln,kt,It,cn,Gt,gn,Vt,An)=>(0,bt.cc)(`${ln.name}.auth`,"AngularFireAuth",ln.name,()=>{const fn=kt.runOutsideAngular(()=>ln.auth());if(It&&fn.useEmulator(...It),cn&&(fn.tenantId=cn),fn.languageCode=Gt,gn&&fn.useDeviceLanguage(),Vt)for(const[Gn,xn]of Object.entries(Vt))fn.settings[Gn]=xn;return An&&fn.setPersistence(An),fn},[It,cn,Gt,gn,Vt,An]);let br=(()=>{class ln{constructor(It,cn,Gt,gn,Vt,An,fn,Gn,xn,Dn,nn,Sr){const Kn=new J.xQ,nt=(0,Q.of)(void 0).pipe((0,Ie.QV)(Vt.outsideAngular),(0,ge.w)(()=>gn.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,8073)))),(0,ye.U)(()=>(0,bt.on)(It,gn,cn)),(0,ye.U)(St=>Mr(St,gn,An,Gn,xn,Dn,fn,nn)),dt({bufferSize:1,refCount:!1}));if((0,Pt.PM)(Gt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Q.of)(null);else{nt.pipe((0,lt.P)()).subscribe();const Mn=nt.pipe((0,ge.w)(Pn=>Pn.getRedirectResult().then(mn=>mn,()=>null)),et.iC,dt({bufferSize:1,refCount:!1})),Mt=nt.pipe((0,ge.w)(Pn=>new Ce.y(mn=>({unsubscribe:gn.runOutsideAngular(()=>Pn.onAuthStateChanged(Xt=>mn.next(Xt),Xt=>mn.error(Xt),()=>mn.complete()))})))),rr=nt.pipe((0,ge.w)(Pn=>new Ce.y(mn=>({unsubscribe:gn.runOutsideAngular(()=>Pn.onIdTokenChanged(Xt=>mn.next(Xt),Xt=>mn.error(Xt),()=>mn.complete()))}))));this.authState=Mn.pipe(He(Mt),(0,Ge.R)(Vt.outsideAngular),(0,Ie.QV)(Vt.insideAngular)),this.user=Mn.pipe(He(rr),(0,Ge.R)(Vt.outsideAngular),(0,Ie.QV)(Vt.insideAngular)),this.idToken=this.user.pipe((0,ge.w)(Pn=>Pn?(0,oe.D)(Pn.getIdToken()):(0,Q.of)(null))),this.idTokenResult=this.user.pipe((0,ge.w)(Pn=>Pn?(0,oe.D)(Pn.getIdTokenResult()):(0,Q.of)(null))),this.credential=(0,ie.T)(Mn,Kn,this.authState.pipe((0,Je.h)(Pn=>!Pn))).pipe((0,ye.U)(Pn=>Pn?.user?Pn:null),(0,Ge.R)(Vt.outsideAngular),(0,Ie.QV)(Vt.insideAngular))}return(0,bt.pX)(this,nt,gn,{spy:{apply:(St,Mn,Mt)=>{(St.startsWith("signIn")||St.startsWith("createUser"))&&Mt.then(rr=>Kn.next(rr))}}})}}return ln.\u0275fac=function(It){return new(It||ln)(h.LFG(bt.Dh),h.LFG(bt.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(et.HU),h.LFG(_t,8),h.LFG(on,8),h.LFG(Nr,8),h.LFG(Jn,8),h.LFG(tr,8),h.LFG(lr,8),h.LFG(pt.nm,8))},ln.\u0275prov=h.Yz7({token:ln,factory:ln.\u0275fac,providedIn:"any"}),ln})(),vr=(()=>{class ln{constructor(){yt.Z.registerVersion("angularfire",et.q4.full,"auth-compat")}}return ln.\u0275fac=function(It){return new(It||ln)},ln.\u0275mod=h.oAB({type:ln}),ln.\u0275inj=h.cJS({providers:[br]}),ln})()},7525:(At,Be,U)=>{U.d(Be,{KQ:()=>Fh,JS:()=>Zd});var h=U(2223),J=U(353),Q=U(6498),Ce=U(1086),oe=U(6787),ie=U(4850),Ie=U(2474),ge=U(7545),ye=U(2014),se=U(5778),ce=U(826),le=U(448);class Ye{constructor(i,s){this.observables=i,this.project=s}call(i,s){return s.subscribe(new Bt(i,this.observables,this.project))}}class Bt extends ce.L{constructor(i,s,d){super(i),this.observables=s,this.project=d,this.toRespond=[];const y=s.length;this.values=new Array(y);for(let S=0;S<y;S++)this.toRespond.push(S);for(let S=0;S<y;S++)this.add((0,le.D)(this,s[S],void 0,S))}notifyNext(i,s,d){this.values[d]=s;const y=this.toRespond;if(y.length>0){const S=y.indexOf(d);-1!==S&&y.splice(S,1)}}notifyComplete(){}_next(i){if(0===this.toRespond.length){const s=[i,...this.values];this.project?this._tryProject(s):this.destination.next(s)}}_tryProject(i){let s;try{s=this.project.apply(this,i)}catch(d){return void this.destination.error(d)}this.destination.next(s)}}var dt=U(3489);class lt{constructor(i){this.predicate=i}call(i,s){return s.subscribe(new He(i,this.predicate))}}class He extends dt.L{constructor(i,s){super(i),this.predicate=s,this.skipping=!0,this.index=0}_next(i){const s=this.destination;this.skipping&&this.tryCallPredicate(i),this.skipping||s.next(i)}tryCallPredicate(i){try{const s=this.predicate(i,this.index++);this.skipping=!!s}catch(s){this.destination.error(s)}}}var Ge=U(8405),Je=U(2011),bt=(U(8073),U(3942)),Pt=U(4859),pt=U(5861),yt=U(6881),Y=U(2090),_t=U(1877);const on="@firebase/database";let Jn="";function tr(l){Jn=l}class lr{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,s){null==s?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,Y.Wl)(s))}get(i){const s=this.domStorage_.getItem(this.prefixedName_(i));return null==s?null:(0,Y.cI)(s)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class Mr{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,s){null==s?delete this.cache_[i]:this.cache_[i]=s}get(i){return(0,Y.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const br=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const i=window[l];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new lr(i)}}catch{}return new Mr},vr=br("localStorage"),ln=br("sessionStorage"),kt=new _t.Yd("@firebase/database"),It=function(){let l=1;return function(){return l++}}(),cn=function(l){const i=(0,Y.dS)(l),s=new Y.gQ;s.update(i);const d=s.digest();return Y.US.encodeByteArray(d)},Gt=function(...l){let i="";for(let s=0;s<l.length;s++){const d=l[s];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?i+=Gt.apply(null,d):i+="object"==typeof d?(0,Y.Wl)(d):d,i+=" "}return i};let gn=null,Vt=!0;const An=function(l,i){(0,Y.hu)(!i||!0===l||!1===l,"Can't turn on custom loggers persistently."),!0===l?(kt.logLevel=_t.in.VERBOSE,gn=kt.log.bind(kt),i&&ln.set("logging_enabled",!0)):"function"==typeof l?gn=l:(gn=null,ln.remove("logging_enabled"))},fn=function(...l){if(!0===Vt&&(Vt=!1,null===gn&&!0===ln.get("logging_enabled")&&An(!0)),gn){const i=Gt.apply(null,l);gn(i)}},Gn=function(l){return function(...i){fn(l,...i)}},xn=function(...l){const i="FIREBASE INTERNAL ERROR: "+Gt(...l);kt.error(i)},Dn=function(...l){const i=`FIREBASE FATAL ERROR: ${Gt(...l)}`;throw kt.error(i),new Error(i)},nn=function(...l){const i="FIREBASE WARNING: "+Gt(...l);kt.warn(i)},Kn=function(l){return"number"==typeof l&&(l!=l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},St="[MIN_NAME]",Mn="[MAX_NAME]",Mt=function(l,i){if(l===i)return 0;if(l===St||i===Mn)return-1;if(i===St||l===Mn)return 1;{const s=Bn(l),d=Bn(i);return null!==s?null!==d?s-d==0?l.length-i.length:s-d:-1:null!==d?1:l<i?-1:1}},rr=function(l,i){return l===i?0:l<i?-1:1},Pn=function(l,i){if(i&&l in i)return i[l];throw new Error("Missing required key ("+l+") in object: "+(0,Y.Wl)(i))},mn=function(l){if("object"!=typeof l||null===l)return(0,Y.Wl)(l);const i=[];for(const d in l)i.push(d);i.sort();let s="{";for(let d=0;d<i.length;d++)0!==d&&(s+=","),s+=(0,Y.Wl)(i[d]),s+=":",s+=mn(l[i[d]]);return s+="}",s},Xt=function(l,i){const s=l.length;if(s<=i)return[l];const d=[];for(let y=0;y<s;y+=i)d.push(l.substring(y,y+i>s?s:y+i));return d};function wt(l,i){for(const s in l)l.hasOwnProperty(s)&&i(s,l[s])}const ft=function(l){(0,Y.hu)(!Kn(l),"Invalid JSON number");const d=1023;let y,S,O,Z,de;0===l?(S=0,O=0,y=1/l==-1/0?1:0):(y=l<0,(l=Math.abs(l))>=Math.pow(2,1-d)?(Z=Math.min(Math.floor(Math.log(l)/Math.LN2),d),S=Z+d,O=Math.round(l*Math.pow(2,52-Z)-Math.pow(2,52))):(S=0,O=Math.round(l/Math.pow(2,-1074))));const we=[];for(de=52;de;de-=1)we.push(O%2?1:0),O=Math.floor(O/2);for(de=11;de;de-=1)we.push(S%2?1:0),S=Math.floor(S/2);we.push(y?1:0),we.reverse();const Ke=we.join("");let Ze="";for(de=0;de<64;de+=8){let at=parseInt(Ke.substr(de,8),2).toString(16);1===at.length&&(at="0"+at),Ze+=at}return Ze.toLowerCase()},In=new RegExp("^-?(0*)\\d{1,10}$"),Bn=function(l){if(In.test(l)){const i=Number(l);if(i>=-2147483648&&i<=2147483647)return i}return null},Er=function(l){try{l()}catch(i){setTimeout(()=>{throw nn("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},Pr=function(l,i){const s=setTimeout(l,i);return"number"==typeof s&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):"object"==typeof s&&s.unref&&s.unref(),s};class mr{constructor(i,s){this.appName_=i,this.appCheckProvider=s,this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(d=>this.appCheck=d)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((s,d)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(s,d):s(null)},0)})}addTokenChangeListener(i){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(d=>d.addTokenListener(i))}notifyForInvalidToken(){nn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _n{constructor(i,s,d){this.appName_=i,this.firebaseOptions_=s,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(y=>this.auth_=y)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(s=>s&&"auth/token-not-initialized"===s.code?(fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,d)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(s,d):s(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(s=>s.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(s=>s.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nn(i)}}let On=(()=>{class l{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return l.OWNER="owner",l})();const Gr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$="websocket",G="long_polling";class W{constructor(i,s,d,y,S=!1,O="",Z=!1,de=!1){this.secure=s,this.namespace=d,this.webSocketOnly=y,this.nodeAdmin=S,this.persistenceKey=O,this.includeNamespaceInQueryParams=Z,this.isUsingEmulator=de,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vr.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&vr.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Te(l,i,s){let d;if((0,Y.hu)("string"==typeof i,"typeof type must == string"),(0,Y.hu)("object"==typeof s,"typeof params must == object"),i===$)d=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else{if(i!==G)throw new Error("Unknown connection type: "+i);d=(l.secure?"https://":"http://")+l.internalHost+"/.lp?"}(function X(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams})(l)&&(s.ns=l.namespace);const y=[];return wt(s,(S,O)=>{y.push(S+"="+O)}),d+y.join("&")}class Ve{constructor(){this.counters_={}}incrementCounter(i,s=1){(0,Y.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=s}get(){return(0,Y.p$)(this.counters_)}}const gt={},Jt={};function rn(l){const i=l.toString();return gt[i]||(gt[i]=new Ve),gt[i]}class Zt{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,s){this.closeAfterResponse=i,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,s){for(this.pendingResponses[i]=s;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let y=0;y<d.length;++y)d[y]&&Er(()=>{this.onMessage_(d[y])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Kr{constructor(i,s,d,y,S,O,Z){this.connId=i,this.repoInfo=s,this.applicationId=d,this.appCheckToken=y,this.authToken=S,this.transportSessionId=O,this.lastSessionId=Z,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gn(i),this.stats_=rn(s),this.urlFn=de=>(this.appCheckToken&&(de.ac=this.appCheckToken),Te(s,G,de))}open(i,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new Zt(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(l){if((0,Y.Yr)()||"complete"===document.readyState)l();else{let i=!1;const s=function(){document.body?i||(i=!0,l()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ts((...S)=>{const[O,Z,de,we,Ke]=S;if(this.incrementIncomingBytes_(S),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===O)this.id=Z,this.password=de;else{if("close"!==O)throw new Error("Unrecognized command received: "+O);Z?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Z,()=>{this.onClosed_()})):this.onClosed_()}},(...S)=>{const[O,Z]=S;this.incrementIncomingBytes_(S),this.myPacketOrderer.handleResponse(O,Z)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v="5",this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Gr.test(location.hostname)&&(d.r="f");const y=this.urlFn(d);this.log_("Connecting via long-poll to "+y),this.scriptTagHolder.addTag(y,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kr.forceAllow_=!0}static forceDisallow(){Kr.forceDisallow_=!0}static isAvailable(){return!((0,Y.Yr)()||!Kr.forceAllow_&&(Kr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const s=(0,Y.Wl)(i);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const d=(0,Y.h$)(s),y=Xt(d,1840);for(let S=0;S<y.length;S++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,y.length,y[S]),this.curSegmentNum++}addDisconnectPingFrame(i,s){if((0,Y.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=i,d.pw=s,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const s=(0,Y.Wl)(i).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Ts{constructor(i,s,d,y){if(this.onDisconnect=d,this.urlFn=y,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Y.Yr)())this.commandCB=i,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=It(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=Ts.createIFrame_();let S="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(S='<script>document.domain="'+document.domain+'";<\/script>');const O="<html><body>"+S+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(O),this.myIFrame.doc.close()}catch(Z){fn("frame writing exception"),Z.stack&&fn(Z.stack),fn(Z)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||fn("No IE domain setting required")}catch{const d=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,s){for(this.myID=i,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let s=this.urlFn(i),d="",y=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const O=this.pendingSegs.shift();d=d+"&seg"+y+"="+O.seg+"&ts"+y+"="+O.ts+"&d"+y+"="+O.d,y++}return s+=d,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(i,s,d){this.pendingSegs.push({seg:i,ts:s,d}),this.alive&&this.newRequest_()}addLongPollTag_(i,s){this.outstandingRequests.add(s);const d=()=>{this.outstandingRequests.delete(s),this.newRequest_()},y=setTimeout(d,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(y),d()})}addTag(i,s){(0,Y.Yr)()?this.doNodeLongPoll(i,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=i,d.onload=d.onreadystatechange=function(){const y=d.readyState;(!y||"loaded"===y||"complete"===y)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),s())},d.onerror=()=>{fn("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch{}},Math.floor(1))}}let Fi=null;typeof MozWebSocket<"u"?Fi=MozWebSocket:typeof WebSocket<"u"&&(Fi=WebSocket);let vi=(()=>{class l{constructor(s,d,y,S,O,Z,de){this.connId=s,this.applicationId=y,this.appCheckToken=S,this.authToken=O,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gn(this.connId),this.stats_=rn(d),this.connURL=l.connectionURL_(d,Z,de,S,y),this.nodeAdmin=d.nodeAdmin}static connectionURL_(s,d,y,S,O){const Z={v:"5"};return!(0,Y.Yr)()&&typeof location<"u"&&location.hostname&&Gr.test(location.hostname)&&(Z.r="f"),d&&(Z.s=d),y&&(Z.ls=y),S&&(Z.ac=S),O&&(Z.p=O),Te(s,$,Z)}open(s,d){this.onDisconnect=d,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vr.set("previous_websocket_failure",!0);try{let y;if((0,Y.Yr)()){y={headers:{"User-Agent":`Firebase/5/${Jn}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(y.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(y.headers["X-Firebase-AppCheck"]=this.appCheckToken);const O=process.env,Z=0===this.connURL.indexOf("wss://")?O.HTTPS_PROXY||O.https_proxy:O.HTTP_PROXY||O.http_proxy;Z&&(y.proxy={origin:Z})}this.mySock=new Fi(this.connURL,[],y)}catch(y){this.log_("Error instantiating WebSocket.");const S=y.message||y.data;return S&&this.log_(S),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=y=>{this.handleIncomingFrame(y)},this.mySock.onerror=y=>{this.log_("WebSocket error.  Closing connection.");const S=y.message||y.data;S&&this.log_(S),this.onClosed_()}}start(){}static forceDisallow(){l.forceDisallow_=!0}static isAvailable(){let s=!1;if(typeof navigator<"u"&&navigator.userAgent){const y=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);y&&y.length>1&&parseFloat(y[1])<4.4&&(s=!0)}return!s&&null!==Fi&&!l.forceDisallow_}static previouslyFailed(){return vr.isInMemoryStorage||!0===vr.get("previous_websocket_failure")}markConnectionHealthy(){vr.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const y=(0,Y.cI)(d);this.onMessage(y)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,Y.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const d=Number(s);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const d=s.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const y=this.extractFrameCount_(d);null!==y&&this.appendFrame_(y)}}send(s){this.resetKeepAlive();const d=(0,Y.Wl)(s);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const y=Xt(d,16384);y.length>1&&this.sendString_(String(y.length));for(let S=0;S<y.length;S++)this.sendString_(y[S])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return l.responsesRequiredToBeHealthy=2,l.healthyTimeout=3e4,l})(),Yi=(()=>{class l{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[Kr,vi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const d=vi&&vi.isAvailable();let y=d&&!vi.previouslyFailed();if(s.webSocketOnly&&(d||nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),y=!0),y)this.transports_=[vi];else{const S=this.transports_=[];for(const O of l.ALL_TRANSPORTS)O&&O.isAvailable()&&S.push(O);l.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return l.globalTransportInitialized_=!1,l})();class Ji{constructor(i,s,d,y,S,O,Z,de,we,Ke){this.id=i,this.repoInfo_=s,this.applicationId_=d,this.appCheckToken_=y,this.authToken_=S,this.onMessage_=O,this.onReady_=Z,this.onDisconnect_=de,this.onKill_=we,this.lastSessionId=Ke,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gn("c:"+this.id+":"),this.transportManager_=new Yi(s),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,d)},Math.floor(0));const y=i.healthyTimeout||0;y>0&&(this.healthyTimeout_=Pr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(y)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return s=>{i===this.conn_?this.onConnectionLost_(s):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return s=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(s):i===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const s=i.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const s=Pn("t",i),d=Pn("d",i);if("c"===s)this.onSecondaryControl_(d);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const s=Pn("t",i),d=Pn("d",i);"c"===s?this.onControl_(d):"d"===s&&this.onDataMessage_(d)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const s=Pn("t",i);if("d"in i){const d=i.d;if("h"===s){const y=Object.assign({},d);this.repoInfo_.isUsingEmulator&&(y.h=this.repoInfo_.host),this.onHandshake_(y)}else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let y=0;y<this.pendingDataMessages.length;++y)this.onDataMessage_(this.pendingDataMessages[y]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(d):"r"===s?this.onReset_(d):"e"===s?xn("Server Error: "+d):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xn("Unknown control packet command: "+s)}}onHandshake_(i){const s=i.ts,d=i.v,y=i.h;this.sessionId=i.s,this.repoInfo_.host=y,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==d&&nn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,d),Pr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,s){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Yr{put(i,s,d,y){}merge(i,s,d,y){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,s,d){}onDisconnectMerge(i,s,d){}onDisconnectCancel(i,s){}reportStats(i){}}class vs{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,Y.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...s){if(Array.isArray(this.listeners_[i])){const d=[...this.listeners_[i]];for(let y=0;y<d.length;y++)d[y].callback.apply(d[y].context,s)}}on(i,s,d){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:s,context:d});const y=this.getInitialEvent(i);y&&s.apply(d,y)}off(i,s,d){this.validateEventType_(i);const y=this.listeners_[i]||[];for(let S=0;S<y.length;S++)if(y[S].callback===s&&(!d||d===y[S].context))return void y.splice(S,1)}validateEventType_(i){(0,Y.hu)(this.allowedEvents_.find(s=>s===i),"Unknown event: "+i)}}class xs extends vs{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Y.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xs}getInitialEvent(i){return(0,Y.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class re{constructor(i,s){if(void 0===s){this.pieces_=i.split("/");let d=0;for(let y=0;y<this.pieces_.length;y++)this.pieces_[y].length>0&&(this.pieces_[d]=this.pieces_[y],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=s}toString(){let i="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(i+="/"+this.pieces_[s]);return i||"/"}}function me(){return new re("")}function Re(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function tt(l){return l.pieces_.length-l.pieceNum_}function Qe(l){let i=l.pieceNum_;return i<l.pieces_.length&&i++,new re(l.pieces_,i)}function tn(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function jt(l,i=0){return l.pieces_.slice(l.pieceNum_+i)}function fi(l){if(l.pieceNum_>=l.pieces_.length)return null;const i=[];for(let s=l.pieceNum_;s<l.pieces_.length-1;s++)i.push(l.pieces_[s]);return new re(i,0)}function $n(l,i){const s=[];for(let d=l.pieceNum_;d<l.pieces_.length;d++)s.push(l.pieces_[d]);if(i instanceof re)for(let d=i.pieceNum_;d<i.pieces_.length;d++)s.push(i.pieces_[d]);else{const d=i.split("/");for(let y=0;y<d.length;y++)d[y].length>0&&s.push(d[y])}return new re(s,0)}function ht(l){return l.pieceNum_>=l.pieces_.length}function yr(l,i){const s=Re(l),d=Re(i);if(null===s)return i;if(s===d)return yr(Qe(l),Qe(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+l+")")}function Ai(l,i){const s=jt(l,0),d=jt(i,0);for(let y=0;y<s.length&&y<d.length;y++){const S=Mt(s[y],d[y]);if(0!==S)return S}return s.length===d.length?0:s.length<d.length?-1:1}function Jr(l,i){if(tt(l)!==tt(i))return!1;for(let s=l.pieceNum_,d=i.pieceNum_;s<=l.pieces_.length;s++,d++)if(l.pieces_[s]!==i.pieces_[d])return!1;return!0}function zn(l,i){let s=l.pieceNum_,d=i.pieceNum_;if(tt(l)>tt(i))return!1;for(;s<l.pieces_.length;){if(l.pieces_[s]!==i.pieces_[d])return!1;++s,++d}return!0}class os{constructor(i,s){this.errorPrefix_=s,this.parts_=jt(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,Y.ug)(this.parts_[d]);Bi(this)}}function Bi(l){if(l.byteLength_>768)throw new Error(l.errorPrefix_+"has a key path longer than 768 bytes ("+l.byteLength_+").");if(l.parts_.length>32)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+wi(l))}function wi(l){return 0===l.parts_.length?"":"in property '"+l.parts_.join(".")+"'"}class bi extends vs{constructor(){let i,s;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const d=!document[i];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new bi}getInitialEvent(i){return(0,Y.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const ei=1e3;let vt,fe=(()=>{class l extends Yr{constructor(s,d,y,S,O,Z,de,we){if(super(),this.repoInfo_=s,this.applicationId_=d,this.onDataUpdate_=y,this.onConnectStatus_=S,this.onServerInfoUpdate_=O,this.authTokenProvider_=Z,this.appCheckTokenProvider_=de,this.authOverride_=we,this.id=l.nextPersistentConnectionId_++,this.log_=Gn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ei,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,we&&!(0,Y.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bi.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&xs.getInstance().on("online",this.onOnline_,this)}sendRequest(s,d,y){const S=++this.requestNumber_,O={r:S,a:s,b:d};this.log_((0,Y.Wl)(O)),(0,Y.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(O),y&&(this.requestCBHash_[S]=y)}get(s){this.initConnection_();const d=new Y.BH,S={action:"g",request:{p:s._path.toString(),q:s._queryObject},onComplete:Z=>{const de=Z.d;"ok"===Z.s?d.resolve(de):d.reject(de)}};return this.outstandingGets_.push(S),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),d.promise}listen(s,d,y,S){this.initConnection_();const O=s._queryIdentifier,Z=s._path.toString();this.log_("Listen called for "+Z+" "+O),this.listens.has(Z)||this.listens.set(Z,new Map),(0,Y.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Y.hu)(!this.listens.get(Z).has(O),"listen() called twice for same path/queryId.");const de={onComplete:S,hashFn:d,query:s,tag:y};this.listens.get(Z).set(O,de),this.connected_&&this.sendListen_(de)}sendGet_(s){const d=this.outstandingGets_[s];this.sendRequest("g",d.request,y=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(y)})}sendListen_(s){const d=s.query,y=d._path.toString(),S=d._queryIdentifier;this.log_("Listen on "+y+" for "+S);const O={p:y};s.tag&&(O.q=d._queryObject,O.t=s.tag),O.h=s.hashFn(),this.sendRequest("q",O,de=>{const we=de.d,Ke=de.s;l.warnOnListenWarnings_(we,d),(this.listens.get(y)&&this.listens.get(y).get(S))===s&&(this.log_("listen response",de),"ok"!==Ke&&this.removeListen_(y,S),s.onComplete&&s.onComplete(Ke,we))})}static warnOnListenWarnings_(s,d){if(s&&"object"==typeof s&&(0,Y.r3)(s,"w")){const y=(0,Y.DV)(s,"w");if(Array.isArray(y)&&~y.indexOf("no_index")){const S='".indexOn": "'+d._queryParams.getIndex().toString()+'"',O=d._path.toString();nn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${S} at ${O} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,Y.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,d=(0,Y.w9)(s)?"auth":"gauth",y={cred:s};null===this.authOverride_?y.noauth=!0:"object"==typeof this.authOverride_&&(y.authvar=this.authOverride_),this.sendRequest(d,y,S=>{const O=S.s,Z=S.d||"error";this.authToken_===s&&("ok"===O?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(O,Z))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const d=s.s,y=s.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,y)})}unlisten(s,d){const y=s._path.toString(),S=s._queryIdentifier;this.log_("Unlisten called for "+y+" "+S),(0,Y.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(y,S)&&this.connected_&&this.sendUnlisten_(y,S,s._queryObject,d)}sendUnlisten_(s,d,y,S){this.log_("Unlisten on "+s+" for "+d);const O={p:s};S&&(O.q=y,O.t=S),this.sendRequest("n",O)}onDisconnectPut(s,d,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,d,y):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:d,onComplete:y})}onDisconnectMerge(s,d,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,d,y):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:d,onComplete:y})}onDisconnectCancel(s,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,d):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(s,d,y,S){const O={p:d,d:y};this.log_("onDisconnect "+s,O),this.sendRequest(s,O,Z=>{S&&setTimeout(()=>{S(Z.s,Z.d)},Math.floor(0))})}put(s,d,y,S){this.putInternal("p",s,d,y,S)}merge(s,d,y,S){this.putInternal("m",s,d,y,S)}putInternal(s,d,y,S,O){this.initConnection_();const Z={p:d,d:y};void 0!==O&&(Z.h=O),this.outstandingPuts_.push({action:s,request:Z,onComplete:S}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(s){const d=this.outstandingPuts_[s].action,y=this.outstandingPuts_[s].request,S=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(d,y,O=>{this.log_(d+" response",O),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),S&&S(O.s,O.d)})}reportStats(s){if(this.connected_){const d={c:s};this.log_("reportStats",d),this.sendRequest("s",d,y=>{"ok"!==y.s&&this.log_("reportStats","Error sending stats: "+y.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,Y.Wl)(s));const d=s.r,y=this.requestCBHash_[d];y&&(delete this.requestCBHash_[d],y(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,d){this.log_("handleServerMessage",s,d),"d"===s?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===s?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===s?this.onListenRevoked_(d.p,d.q):"ac"===s?this.onAuthRevoked_(d.s,d.d):"apc"===s?this.onAppCheckRevoked_(d.s,d.d):"sd"===s?this.onSecurityDebugPacket_(d):xn("Unrecognized action received from server: "+(0,Y.Wl)(s)+"\nAre you using the latest client?")}onReady_(s,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,Y.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ei,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=ei,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ei),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-s);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,pt.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const d=s.onDataMessage_.bind(s),y=s.onReady_.bind(s),S=s.onRealtimeDisconnect_.bind(s),O=s.id+":"+l.nextConnectionId_++,Z=s.lastSessionId;let de=!1,we=null;const Ke=function(){we?we.close():(de=!0,S())};s.realtime_={close:Ke,sendRequest:function(Ht){(0,Y.hu)(we,"sendRequest call when we're not connected not allowed."),we.sendRequest(Ht)}};const at=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[Ht,pn]=yield Promise.all([s.authTokenProvider_.getToken(at),s.appCheckTokenProvider_.getToken(at)]);de?fn("getToken() completed but was canceled"):(fn("getToken() completed. Creating connection."),s.authToken_=Ht&&Ht.accessToken,s.appCheckToken_=pn&&pn.token,we=new Ji(O,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,d,y,S,jr=>{nn(jr+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},Z))}catch(Ht){s.log_("Failed to get token: "+Ht),de||(s.repoInfo_.nodeAdmin&&nn(Ht),Ke())}}})()}interrupt(s){fn("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){fn("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,Y.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ei,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const d=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const d=this.outstandingPuts_[s];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,d){let y;y=d?d.map(O=>mn(O)).join("$"):"default";const S=this.removeListen_(s,y);S&&S.onComplete&&S.onComplete("permission_denied")}removeListen_(s,d){const y=new re(s).toString();let S;if(this.listens.has(y)){const O=this.listens.get(y);S=O.get(d),O.delete(d),0===O.size&&this.listens.delete(y)}else S=void 0;return S}onAuthRevoked_(s,d){fn("Auth token revoked: "+s+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,d){fn("App check token revoked: "+s+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const d of s.values())this.sendListen_(d);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let d="js";(0,Y.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+d+"."+Jn.replace(/\./g,"-")]=1,(0,Y.uI)()?s["framework.cordova"]=1:(0,Y.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=xs.getInstance().currentlyOnline();return(0,Y.xb)(this.interruptReasons_)&&s}}return l.nextPersistentConnectionId_=0,l.nextConnectionId_=0,l})();class ve{constructor(i,s){this.name=i,this.node=s}static Wrap(i,s){return new ve(i,s)}}class qe{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,s){const d=new ve(St,i),y=new ve(St,s);return 0!==this.compare(d,y)}minPost(){return ve.MIN}}class Ft extends qe{static get __EMPTY_NODE(){return vt}static set __EMPTY_NODE(i){vt=i}compare(i,s){return Mt(i.name,s.name)}isDefinedOn(i){throw(0,Y.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,s){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Mn,vt)}makePost(i,s){return(0,Y.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new ve(i,vt)}toString(){return".key"}}const Qn=new Ft;class fr{constructor(i,s,d,y,S=null){this.isReverse_=y,this.resultGenerator_=S,this.nodeStack_=[];let O=1;for(;!i.isEmpty();)if(O=s?d(i.key,s):1,y&&(O*=-1),O<0)i=this.isReverse_?i.left:i.right;else{if(0===O){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,i=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let ri,pr=(()=>{class l{constructor(s,d,y,S,O){this.key=s,this.value=d,this.color=y??l.RED,this.left=S??ir.EMPTY_NODE,this.right=O??ir.EMPTY_NODE}copy(s,d,y,S,O){return new l(s??this.key,d??this.value,y??this.color,S??this.left,O??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,d,y){let S=this;const O=y(s,S.key);return S=O<0?S.copy(null,null,null,S.left.insert(s,d,y),null):0===O?S.copy(null,d,null,null,null):S.copy(null,null,null,null,S.right.insert(s,d,y)),S.fixUp_()}removeMin_(){if(this.left.isEmpty())return ir.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,d){let y,S;if(y=this,d(s,y.key)<0)!y.left.isEmpty()&&!y.left.isRed_()&&!y.left.left.isRed_()&&(y=y.moveRedLeft_()),y=y.copy(null,null,null,y.left.remove(s,d),null);else{if(y.left.isRed_()&&(y=y.rotateRight_()),!y.right.isEmpty()&&!y.right.isRed_()&&!y.right.left.isRed_()&&(y=y.moveRedRight_()),0===d(s,y.key)){if(y.right.isEmpty())return ir.EMPTY_NODE;S=y.right.min_(),y=y.copy(S.key,S.value,null,null,y.right.removeMin_())}y=y.copy(null,null,null,null,y.right.remove(s,d))}return y.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,l.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,l.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,d)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return l.RED=!0,l.BLACK=!1,l})();class ir{constructor(i,s=ir.EMPTY_NODE){this.comparator_=i,this.root_=s}insert(i,s){return new ir(this.comparator_,this.root_.insert(i,s,this.comparator_).copy(null,null,pr.BLACK,null,null))}remove(i){return new ir(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,pr.BLACK,null,null))}get(i){let s,d=this.root_;for(;!d.isEmpty();){if(s=this.comparator_(i,d.key),0===s)return d.value;s<0?d=d.left:s>0&&(d=d.right)}return null}getPredecessorKey(i){let s,d=this.root_,y=null;for(;!d.isEmpty();){if(s=this.comparator_(i,d.key),0===s){if(d.left.isEmpty())return y?y.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}s<0?d=d.left:s>0&&(y=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new fr(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,s){return new fr(this.root_,i,this.comparator_,!1,s)}getReverseIteratorFrom(i,s){return new fr(this.root_,i,this.comparator_,!0,s)}getReverseIterator(i){return new fr(this.root_,null,this.comparator_,!0,i)}}function ts(l,i){return Mt(l.name,i.name)}function kr(l,i){return Mt(l,i)}ir.EMPTY_NODE=new class Vi{copy(i,s,d,y,S){return this}insert(i,s,d){return new pr(i,s,null)}remove(i,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const fo=function(l){return"number"==typeof l?"number:"+ft(l):"string:"+l},Ks=function(l){if(l.isLeafNode()){const i=l.val();(0,Y.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,Y.r3)(i,".sv"),"Priority must be a string or number.")}else(0,Y.hu)(l===ri||l.isEmpty(),"priority of unexpected type.");(0,Y.hu)(l===ri||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ys,Zs,aa,as=(()=>{class l{constructor(s,d=l.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=d,this.lazyHash_=null,(0,Y.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ks(this.priorityNode_)}static set __childrenNodeConstructor(s){Ys=s}static get __childrenNodeConstructor(){return Ys}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new l(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return ht(s)?this:".priority"===Re(s)?this.priorityNode_:l.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,d){return null}updateImmediateChild(s,d){return".priority"===s?this.updatePriority(d):d.isEmpty()&&".priority"!==s?this:l.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,d).updatePriority(this.priorityNode_)}updateChild(s,d){const y=Re(s);return null===y?d:d.isEmpty()&&".priority"!==y?this:((0,Y.hu)(".priority"!==y||1===tt(s),".priority must be the last token in a path"),this.updateImmediateChild(y,l.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(s),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,d){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+fo(this.priorityNode_.val())+":");const d=typeof this.value_;s+=d+":",s+="number"===d?ft(this.value_):this.value_,this.lazyHash_=cn(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===l.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof l.__childrenNodeConstructor?-1:((0,Y.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const d=typeof s.value_,y=typeof this.value_,S=l.VALUE_TYPE_ORDER.indexOf(d),O=l.VALUE_TYPE_ORDER.indexOf(y);return(0,Y.hu)(S>=0,"Unknown leaf type: "+d),(0,Y.hu)(O>=0,"Unknown leaf type: "+y),S===O?"object"===y?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:O-S}withIndex(){return this}isIndexed(){return!0}equals(s){return s===this||!!s.isLeafNode()&&(this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_))}}return l.VALUE_TYPE_ORDER=["object","boolean","number","string"],l})();const gr=new class qs extends qe{compare(i,s){const d=i.node.getPriority(),y=s.node.getPriority(),S=d.compareTo(y);return 0===S?Mt(i.name,s.name):S}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,s){return!i.getPriority().equals(s.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Mn,new as("[PRIORITY-POST]",aa))}makePost(i,s){const d=Zs(i);return new ve(s,new as("[PRIORITY-POST]",d))}toString(){return".priority"}},ks=Math.log(2);class Qs{constructor(i){this.count=parseInt(Math.log(i+1)/ks,10),this.current_=this.count-1;const y=(S=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&y}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Ao=function(l,i,s,d){l.sort(i);const y=function(de,we){const Ke=we-de;let Ze,at;if(0===Ke)return null;if(1===Ke)return Ze=l[de],at=s?s(Ze):Ze,new pr(at,Ze.node,pr.BLACK,null,null);{const Ht=parseInt(Ke/2,10)+de,pn=y(de,Ht),jr=y(Ht+1,we);return Ze=l[Ht],at=s?s(Ze):Ze,new pr(at,Ze.node,pr.BLACK,pn,jr)}},Z=function(de){let we=null,Ke=null,Ze=l.length;const at=function(pn,jr){const Ws=Ze-pn,Ia=Ze;Ze-=pn;const ol=y(Ws+1,Ia),Nc=l[Ws],Uh=s?s(Nc):Nc;Ht(new pr(Uh,Nc.node,jr,null,ol))},Ht=function(pn){we?(we.left=pn,we=pn):(Ke=pn,we=pn)};for(let pn=0;pn<de.count;++pn){const jr=de.nextBitIsOne(),Ws=Math.pow(2,de.count-(pn+1));jr?at(Ws,pr.BLACK):(at(Ws,pr.BLACK),at(Ws,pr.RED))}return Ke}(new Qs(l.length));return new ir(d||i,Z)};let Ls;const gi={};class mi{constructor(i,s){this.indexes_=i,this.indexSet_=s}static get Default(){return(0,Y.hu)(gi&&gr,"ChildrenNode.ts has not been loaded"),Ls=Ls||new mi({".priority":gi},{".priority":gr}),Ls}get(i){const s=(0,Y.DV)(this.indexes_,i);if(!s)throw new Error("No index defined for "+i);return s instanceof ir?s:null}hasIndex(i){return(0,Y.r3)(this.indexSet_,i.toString())}addIndex(i,s){(0,Y.hu)(i!==Qn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let y=!1;const S=s.getIterator(ve.Wrap);let Z,O=S.getNext();for(;O;)y=y||i.isDefinedOn(O.node),d.push(O),O=S.getNext();Z=y?Ao(d,i.getCompare()):gi;const de=i.toString(),we=Object.assign({},this.indexSet_);we[de]=i;const Ke=Object.assign({},this.indexes_);return Ke[de]=Z,new mi(Ke,we)}addToIndexes(i,s){const d=(0,Y.UI)(this.indexes_,(y,S)=>{const O=(0,Y.DV)(this.indexSet_,S);if((0,Y.hu)(O,"Missing index implementation for "+S),y===gi){if(O.isDefinedOn(i.node)){const Z=[],de=s.getIterator(ve.Wrap);let we=de.getNext();for(;we;)we.name!==i.name&&Z.push(we),we=de.getNext();return Z.push(i),Ao(Z,O.getCompare())}return gi}{const Z=s.get(i.name);let de=y;return Z&&(de=de.remove(new ve(i.name,Z))),de.insert(i,i.node)}});return new mi(d,this.indexSet_)}removeFromIndexes(i,s){const d=(0,Y.UI)(this.indexes_,y=>{if(y===gi)return y;{const S=s.get(i.name);return S?y.remove(new ve(i.name,S)):y}});return new mi(d,this.indexSet_)}}let Ci,dn=(()=>{class l{constructor(s,d,y){this.children_=s,this.priorityNode_=d,this.indexMap_=y,this.lazyHash_=null,this.priorityNode_&&Ks(this.priorityNode_),this.children_.isEmpty()&&(0,Y.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ci||(Ci=new l(new ir(kr),null,mi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ci}updatePriority(s){return this.children_.isEmpty()?this:new l(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const d=this.children_.get(s);return null===d?Ci:d}}getChild(s){const d=Re(s);return null===d?this:this.getImmediateChild(d).getChild(Qe(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,d){if((0,Y.hu)(d,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(d);{const y=new ve(s,d);let S,O;d.isEmpty()?(S=this.children_.remove(s),O=this.indexMap_.removeFromIndexes(y,this.children_)):(S=this.children_.insert(s,d),O=this.indexMap_.addToIndexes(y,this.children_));const Z=S.isEmpty()?Ci:this.priorityNode_;return new l(S,Z,O)}}updateChild(s,d){const y=Re(s);if(null===y)return d;{(0,Y.hu)(".priority"!==Re(s)||1===tt(s),".priority must be the last token in a path");const S=this.getImmediateChild(y).updateChild(Qe(s),d);return this.updateImmediateChild(y,S)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const d={};let y=0,S=0,O=!0;if(this.forEachChild(gr,(Z,de)=>{d[Z]=de.val(s),y++,O&&l.INTEGER_REGEXP_.test(Z)?S=Math.max(S,Number(Z)):O=!1}),!s&&O&&S<2*y){const Z=[];for(const de in d)Z[de]=d[de];return Z}return s&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+fo(this.getPriority().val())+":"),this.forEachChild(gr,(d,y)=>{const S=y.hash();""!==S&&(s+=":"+d+":"+S)}),this.lazyHash_=""===s?"":cn(s)}return this.lazyHash_}getPredecessorChildName(s,d,y){const S=this.resolveIndex_(y);if(S){const O=S.getPredecessorKey(new ve(s,d));return O?O.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const d=this.resolveIndex_(s);if(d){const y=d.minKey();return y&&y.name}return this.children_.minKey()}getFirstChild(s){const d=this.getFirstChildName(s);return d?new ve(d,this.children_.get(d)):null}getLastChildName(s){const d=this.resolveIndex_(s);if(d){const y=d.maxKey();return y&&y.name}return this.children_.maxKey()}getLastChild(s){const d=this.getLastChildName(s);return d?new ve(d,this.children_.get(d)):null}forEachChild(s,d){const y=this.resolveIndex_(s);return y?y.inorderTraversal(S=>d(S.name,S.node)):this.children_.inorderTraversal(d)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,d){const y=this.resolveIndex_(d);if(y)return y.getIteratorFrom(s,S=>S);{const S=this.children_.getIteratorFrom(s.name,ve.Wrap);let O=S.peek();for(;null!=O&&d.compare(O,s)<0;)S.getNext(),O=S.peek();return S}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,d){const y=this.resolveIndex_(d);if(y)return y.getReverseIteratorFrom(s,S=>S);{const S=this.children_.getReverseIteratorFrom(s.name,ve.Wrap);let O=S.peek();for(;null!=O&&d.compare(O,s)>0;)S.getNext(),O=S.peek();return S}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===Xs?-1:0}withIndex(s){if(s===Qn||this.indexMap_.hasIndex(s))return this;{const d=this.indexMap_.addIndex(s,this.children_);return new l(this.children_,this.priorityNode_,d)}}isIndexed(s){return s===Qn||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const d=s;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const y=this.getIterator(gr),S=d.getIterator(gr);let O=y.getNext(),Z=S.getNext();for(;O&&Z;){if(O.name!==Z.name||!O.node.equals(Z.node))return!1;O=y.getNext(),Z=S.getNext()}return null===O&&null===Z}return!1}return!1}}resolveIndex_(s){return s===Qn?null:this.indexMap_.get(s.toString())}}return l.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,l})();const Xs=new class no extends dn{constructor(){super(new ir(kr),dn.EMPTY_NODE,mi.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return dn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ve,{MIN:{value:new ve(St,dn.EMPTY_NODE)},MAX:{value:new ve(Mn,Xs)}}),Ft.__EMPTY_NODE=dn.EMPTY_NODE,as.__childrenNodeConstructor=dn,function oa(l){ri=l}(Xs),function Mi(l){aa=l}(Xs);const As=!0;function sr(l,i=null){if(null===l)return dn.EMPTY_NODE;if("object"==typeof l&&".priority"in l&&(i=l[".priority"]),(0,Y.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof l&&".value"in l&&null!==l[".value"]&&(l=l[".value"]),"object"!=typeof l||".sv"in l)return new as(l,sr(i));if(l instanceof Array||!As){let s=dn.EMPTY_NODE;return wt(l,(d,y)=>{if((0,Y.r3)(l,d)&&"."!==d.substring(0,1)){const S=sr(y);(S.isLeafNode()||!S.isEmpty())&&(s=s.updateImmediateChild(d,S))}}),s.updatePriority(sr(i))}{const s=[];let d=!1;if(wt(l,(O,Z)=>{if("."!==O.substring(0,1)){const de=sr(Z);de.isEmpty()||(d=d||!de.getPriority().isEmpty(),s.push(new ve(O,de)))}}),0===s.length)return dn.EMPTY_NODE;const S=Ao(s,ts,O=>O.name,kr);if(d){const O=Ao(s,gr.getCompare());return new dn(S,sr(i),new mi({".priority":O},{".priority":gr}))}return new dn(S,sr(i),mi.Default)}}!function To(l){Zs=l}(sr);class Fs extends qe{constructor(i){super(),this.indexPath_=i,(0,Y.hu)(!ht(i)&&".priority"!==Re(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,s){const d=this.extractChild(i.node),y=this.extractChild(s.node),S=d.compareTo(y);return 0===S?Mt(i.name,s.name):S}makePost(i,s){const d=sr(i),y=dn.EMPTY_NODE.updateChild(this.indexPath_,d);return new ve(s,y)}maxPost(){const i=dn.EMPTY_NODE.updateChild(this.indexPath_,Xs);return new ve(Mn,i)}toString(){return jt(this.indexPath_,0).join("/")}}const po=new class Ir extends qe{compare(i,s){const d=i.node.compareTo(s.node);return 0===d?Mt(i.name,s.name):d}isDefinedOn(i){return!0}indexedValueChanged(i,s){return!i.equals(s)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(i,s){const d=sr(i);return new ve(s,d)}toString(){return".value"}};function go(l){return{type:"value",snapshotNode:l}}function Us(l,i){return{type:"child_added",snapshotNode:i,childName:l}}function Or(l,i){return{type:"child_removed",snapshotNode:i,childName:l}}function Hi(l,i,s){return{type:"child_changed",snapshotNode:i,childName:l,oldSnap:s}}class Di{constructor(i){this.index_=i}updateChild(i,s,d,y,S,O){(0,Y.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Z=i.getImmediateChild(s);return Z.getChild(y).equals(d.getChild(y))&&Z.isEmpty()===d.isEmpty()||(null!=O&&(d.isEmpty()?i.hasChild(s)?O.trackChildChange(Or(s,Z)):(0,Y.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Z.isEmpty()?O.trackChildChange(Us(s,d)):O.trackChildChange(Hi(s,d,Z))),i.isLeafNode()&&d.isEmpty())?i:i.updateImmediateChild(s,d).withIndex(this.index_)}updateFullNode(i,s,d){return null!=d&&(i.isLeafNode()||i.forEachChild(gr,(y,S)=>{s.hasChild(y)||d.trackChildChange(Or(y,S))}),s.isLeafNode()||s.forEachChild(gr,(y,S)=>{if(i.hasChild(y)){const O=i.getImmediateChild(y);O.equals(S)||d.trackChildChange(Hi(y,S,O))}else d.trackChildChange(Us(y,S))})),s.withIndex(this.index_)}updatePriority(i,s){return i.isEmpty()?dn.EMPTY_NODE:i.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ls{constructor(i){this.indexedFilter_=new Di(i.getIndex()),this.index_=i.getIndex(),this.startPost_=ls.getStartPost_(i),this.endPost_=ls.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,d=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return s&&d}updateChild(i,s,d,y,S,O){return this.matches(new ve(s,d))||(d=dn.EMPTY_NODE),this.indexedFilter_.updateChild(i,s,d,y,S,O)}updateFullNode(i,s,d){s.isLeafNode()&&(s=dn.EMPTY_NODE);let y=s.withIndex(this.index_);y=y.updatePriority(dn.EMPTY_NODE);const S=this;return s.forEachChild(gr,(O,Z)=>{S.matches(new ve(O,Z))||(y=y.updateImmediateChild(O,dn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,y,d)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const s=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),s)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const s=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),s)}return i.getIndex().maxPost()}}class Wr{constructor(i){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const d=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?d<=0:d<0},this.withinEndPost=s=>{const d=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?d<=0:d<0},this.rangedFilter_=new ls(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,s,d,y,S,O){return this.rangedFilter_.matches(new ve(s,d))||(d=dn.EMPTY_NODE),i.getImmediateChild(s).equals(d)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,s,d,y,S,O):this.fullLimitUpdateChild_(i,s,d,S,O)}updateFullNode(i,s,d){let y;if(s.isLeafNode()||s.isEmpty())y=dn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let S;y=dn.EMPTY_NODE.withIndex(this.index_),S=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let O=0;for(;S.hasNext()&&O<this.limit_;){const Z=S.getNext();if(this.withinDirectionalStart(Z)){if(!this.withinDirectionalEnd(Z))break;y=y.updateImmediateChild(Z.name,Z.node),O++}}}else{let S;y=s.withIndex(this.index_),y=y.updatePriority(dn.EMPTY_NODE),S=this.reverse_?y.getReverseIterator(this.index_):y.getIterator(this.index_);let O=0;for(;S.hasNext();){const Z=S.getNext();O<this.limit_&&this.withinDirectionalStart(Z)&&this.withinDirectionalEnd(Z)?O++:y=y.updateImmediateChild(Z.name,dn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,y,d)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,s,d,y,S){let O;if(this.reverse_){const Ze=this.index_.getCompare();O=(at,Ht)=>Ze(Ht,at)}else O=this.index_.getCompare();const Z=i;(0,Y.hu)(Z.numChildren()===this.limit_,"");const de=new ve(s,d),we=this.reverse_?Z.getFirstChild(this.index_):Z.getLastChild(this.index_),Ke=this.rangedFilter_.matches(de);if(Z.hasChild(s)){const Ze=Z.getImmediateChild(s);let at=y.getChildAfterChild(this.index_,we,this.reverse_);for(;null!=at&&(at.name===s||Z.hasChild(at.name));)at=y.getChildAfterChild(this.index_,at,this.reverse_);const Ht=null==at?1:O(at,de);if(Ke&&!d.isEmpty()&&Ht>=0)return S?.trackChildChange(Hi(s,d,Ze)),Z.updateImmediateChild(s,d);{S?.trackChildChange(Or(s,Ze));const jr=Z.updateImmediateChild(s,dn.EMPTY_NODE);return null!=at&&this.rangedFilter_.matches(at)?(S?.trackChildChange(Us(at.name,at.node)),jr.updateImmediateChild(at.name,at.node)):jr}}return d.isEmpty()?i:Ke&&O(we,de)>=0?(null!=S&&(S.trackChildChange(Or(we.name,we.node)),S.trackChildChange(Us(s,d))),Z.updateImmediateChild(s,d).updateImmediateChild(we.name,dn.EMPTY_NODE)):i}}class cs{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Y.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:St}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Y.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Y.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gr}copy(){const i=new cs;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function us(l,i,s){const d=l.copy();return d.startSet_=!0,void 0===i&&(i=null),d.indexStartValue_=i,null!=s?(d.startNameSet_=!0,d.indexStartName_=s):(d.startNameSet_=!1,d.indexStartName_=""),d}function so(l,i,s){const d=l.copy();return d.endSet_=!0,void 0===i&&(i=null),d.indexEndValue_=i,void 0!==s?(d.endNameSet_=!0,d.indexEndName_=s):(d.endNameSet_=!1,d.indexEndName_=""),d}function _(l,i){const s=l.copy();return s.index_=i,s}function E(l){const i={};if(l.isDefault())return i;let s;if(l.index_===gr?s="$priority":l.index_===po?s="$value":l.index_===Qn?s="$key":((0,Y.hu)(l.index_ instanceof Fs,"Unrecognized index type!"),s=l.index_.toString()),i.orderBy=(0,Y.Wl)(s),l.startSet_){const d=l.startAfterSet_?"startAfter":"startAt";i[d]=(0,Y.Wl)(l.indexStartValue_),l.startNameSet_&&(i[d]+=","+(0,Y.Wl)(l.indexStartName_))}if(l.endSet_){const d=l.endBeforeSet_?"endBefore":"endAt";i[d]=(0,Y.Wl)(l.indexEndValue_),l.endNameSet_&&(i[d]+=","+(0,Y.Wl)(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?i.limitToFirst=l.limit_:i.limitToLast=l.limit_),i}function R(l){const i={};if(l.startSet_&&(i.sp=l.indexStartValue_,l.startNameSet_&&(i.sn=l.indexStartName_),i.sin=!l.startAfterSet_),l.endSet_&&(i.ep=l.indexEndValue_,l.endNameSet_&&(i.en=l.indexEndName_),i.ein=!l.endBeforeSet_),l.limitSet_){i.l=l.limit_;let s=l.viewFrom_;""===s&&(s=l.isViewFromLeft()?"l":"r"),i.vf=s}return l.index_!==gr&&(i.i=l.index_.toString()),i}class V extends Yr{constructor(i,s,d,y){super(),this.repoInfo_=i,this.onDataUpdate_=s,this.authTokenProvider_=d,this.appCheckTokenProvider_=y,this.log_=Gn("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,s){return void 0!==s?"tag$"+s:((0,Y.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,s,d,y){const S=i._path.toString();this.log_("Listen called for "+S+" "+i._queryIdentifier);const O=V.getListenId_(i,d),Z={};this.listens_[O]=Z;const de=E(i._queryParams);this.restRequest_(S+".json",de,(we,Ke)=>{let Ze=Ke;if(404===we&&(Ze=null,we=null),null===we&&this.onDataUpdate_(S,Ze,!1,d),(0,Y.DV)(this.listens_,O)===Z){let at;at=we?401===we?"permission_denied":"rest_error:"+we:"ok",y(at,null)}})}unlisten(i,s){const d=V.getListenId_(i,s);delete this.listens_[d]}get(i){const s=E(i._queryParams),d=i._path.toString(),y=new Y.BH;return this.restRequest_(d+".json",s,(S,O)=>{let Z=O;404===S&&(Z=null,S=null),null===S?(this.onDataUpdate_(d,Z,!1,null),y.resolve(Z)):y.reject(new Error(Z))}),y.promise}refreshAuthToken(i){}restRequest_(i,s={},d){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([y,S])=>{y&&y.accessToken&&(s.auth=y.accessToken),S&&S.token&&(s.ac=S.token);const O=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,Y.xO)(s);this.log_("Sending REST request for "+O);const Z=new XMLHttpRequest;Z.onreadystatechange=()=>{if(d&&4===Z.readyState){this.log_("REST Response for "+O+" received. status:",Z.status,"response:",Z.responseText);let de=null;if(Z.status>=200&&Z.status<300){try{de=(0,Y.cI)(Z.responseText)}catch{nn("Failed to parse JSON response for "+O+": "+Z.responseText)}d(null,de)}else 401!==Z.status&&404!==Z.status&&nn("Got unsuccessful REST response for "+O+" Status: "+Z.status),d(Z.status);d=null}},Z.open("GET",O,!0),Z.send()})}}class ne{constructor(){this.rootNode_=dn.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,s){this.rootNode_=this.rootNode_.updateChild(i,s)}}function Ee(){return{value:null,children:new Map}}function be(l,i,s){if(ht(i))l.value=s,l.children.clear();else if(null!==l.value)l.value=l.value.updateChild(i,s);else{const d=Re(i);l.children.has(d)||l.children.set(d,Ee()),be(l.children.get(d),i=Qe(i),s)}}function Ue(l,i){if(ht(i))return l.value=null,l.children.clear(),!0;if(null!==l.value){if(l.value.isLeafNode())return!1;{const s=l.value;return l.value=null,s.forEachChild(gr,(d,y)=>{be(l,new re(d),y)}),Ue(l,i)}}if(l.children.size>0){const s=Re(i);return i=Qe(i),l.children.has(s)&&Ue(l.children.get(s),i)&&l.children.delete(s),0===l.children.size}return!0}function je(l,i,s){null!==l.value?s(i,l.value):function Rt(l,i){l.children.forEach((s,d)=>{i(d,s)})}(l,(d,y)=>{je(y,new re(i.toString()+"/"+d),s)})}class Ot{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),s=Object.assign({},i);return this.last_&&wt(this.last_,(d,y)=>{s[d]=s[d]-y}),this.last_=i,s}}class hn{constructor(i,s){this.server_=s,this.statsToReport_={},this.statsListener_=new Ot(i);const d=1e4+2e4*Math.random();Pr(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const i=this.statsListener_.get(),s={};let d=!1;wt(i,(y,S)=>{S>0&&(0,Y.r3)(this.statsToReport_,y)&&(s[y]=S,d=!0)}),d&&this.server_.reportStats(s),Pr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var En=(()=>((En=En||{})[En.OVERWRITE=0]="OVERWRITE",En[En.MERGE=1]="MERGE",En[En.ACK_USER_WRITE=2]="ACK_USER_WRITE",En[En.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",En))();function Zr(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}class or{constructor(i,s,d){this.path=i,this.affectedTree=s,this.revert=d,this.type=En.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(ht(this.path)){if(null!=this.affectedTree.value)return(0,Y.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new re(i));return new or(me(),s,this.revert)}}return(0,Y.hu)(Re(this.path)===i,"operationForChild called for unrelated child."),new or(Qe(this.path),this.affectedTree,this.revert)}}class Gi{constructor(i,s){this.source=i,this.path=s,this.type=En.LISTEN_COMPLETE}operationForChild(i){return ht(this.path)?new Gi(this.source,me()):new Gi(this.source,Qe(this.path))}}class ii{constructor(i,s,d){this.source=i,this.path=s,this.snap=d,this.type=En.OVERWRITE}operationForChild(i){return ht(this.path)?new ii(this.source,me(),this.snap.getImmediateChild(i)):new ii(this.source,Qe(this.path),this.snap)}}class Cn{constructor(i,s,d){this.source=i,this.path=s,this.children=d,this.type=En.MERGE}operationForChild(i){if(ht(this.path)){const s=this.children.subtree(new re(i));return s.isEmpty()?null:s.value?new ii(this.source,me(),s.value):new Cn(this.source,me(),s)}return(0,Y.hu)(Re(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new Cn(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class si{constructor(i,s,d){this.node_=i,this.fullyInitialized_=s,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(ht(i))return this.isFullyInitialized()&&!this.filtered_;const s=Re(i);return this.isCompleteForChild(s)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class ji{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function Es(l,i,s,d,y,S){const O=d.filter(Z=>Z.type===s);O.sort((Z,de)=>function Ri(l,i,s){if(null==i.childName||null==s.childName)throw(0,Y.g5)("Should only compare child_ events.");const d=new ve(i.childName,i.snapshotNode),y=new ve(s.childName,s.snapshotNode);return l.index_.compare(d,y)}(l,Z,de)),O.forEach(Z=>{const de=function Js(l,i,s){return"value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,l.index_)),i}(l,Z,S);y.forEach(we=>{we.respondsTo(Z.type)&&i.push(we.createEvent(de,l.query_))})})}function qr(l,i){return{eventCache:l,serverCache:i}}function ws(l,i,s,d){return qr(new si(i,s,d),l.serverCache)}function C(l,i,s,d){return qr(l.eventCache,new si(i,s,d))}function N(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function T(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}let H;class Pe{constructor(i,s=(()=>(H||(H=new ir(rr)),H))()){this.value=i,this.children=s}static fromObject(i){let s=new Pe(null);return wt(i,(d,y)=>{s=s.set(new re(d),y)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,s){if(null!=this.value&&s(this.value))return{path:me(),value:this.value};if(ht(i))return null;{const d=Re(i),y=this.children.get(d);if(null!==y){const S=y.findRootMostMatchingPathAndValue(Qe(i),s);return null!=S?{path:$n(new re(d),S.path),value:S.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(ht(i))return this;{const s=Re(i),d=this.children.get(s);return null!==d?d.subtree(Qe(i)):new Pe(null)}}set(i,s){if(ht(i))return new Pe(s,this.children);{const d=Re(i),S=(this.children.get(d)||new Pe(null)).set(Qe(i),s),O=this.children.insert(d,S);return new Pe(this.value,O)}}remove(i){if(ht(i))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const s=Re(i),d=this.children.get(s);if(d){const y=d.remove(Qe(i));let S;return S=y.isEmpty()?this.children.remove(s):this.children.insert(s,y),null===this.value&&S.isEmpty()?new Pe(null):new Pe(this.value,S)}return this}}get(i){if(ht(i))return this.value;{const s=Re(i),d=this.children.get(s);return d?d.get(Qe(i)):null}}setTree(i,s){if(ht(i))return s;{const d=Re(i),S=(this.children.get(d)||new Pe(null)).setTree(Qe(i),s);let O;return O=S.isEmpty()?this.children.remove(d):this.children.insert(d,S),new Pe(this.value,O)}}fold(i){return this.fold_(me(),i)}fold_(i,s){const d={};return this.children.inorderTraversal((y,S)=>{d[y]=S.fold_($n(i,y),s)}),s(i,this.value,d)}findOnPath(i,s){return this.findOnPath_(i,me(),s)}findOnPath_(i,s,d){const y=!!this.value&&d(s,this.value);if(y)return y;if(ht(i))return null;{const S=Re(i),O=this.children.get(S);return O?O.findOnPath_(Qe(i),$n(s,S),d):null}}foreachOnPath(i,s){return this.foreachOnPath_(i,me(),s)}foreachOnPath_(i,s,d){if(ht(i))return this;{this.value&&d(s,this.value);const y=Re(i),S=this.children.get(y);return S?S.foreachOnPath_(Qe(i),$n(s,y),d):new Pe(null)}}foreach(i){this.foreach_(me(),i)}foreach_(i,s){this.children.inorderTraversal((d,y)=>{y.foreach_($n(i,d),s)}),this.value&&s(i,this.value)}foreachChild(i){this.children.inorderTraversal((s,d)=>{d.value&&i(s,d.value)})}}class $e{constructor(i){this.writeTree_=i}static empty(){return new $e(new Pe(null))}}function Et(l,i,s){if(ht(i))return new $e(new Pe(s));{const d=l.writeTree_.findRootMostValueAndPath(i);if(null!=d){const y=d.path;let S=d.value;const O=yr(y,i);return S=S.updateChild(O,s),new $e(l.writeTree_.set(y,S))}{const y=new Pe(s),S=l.writeTree_.setTree(i,y);return new $e(S)}}}function sn(l,i,s){let d=l;return wt(s,(y,S)=>{d=Et(d,$n(i,y),S)}),d}function Ct(l,i){if(ht(i))return $e.empty();{const s=l.writeTree_.setTree(i,new Pe(null));return new $e(s)}}function Xn(l,i){return null!=$t(l,i)}function $t(l,i){const s=l.writeTree_.findRootMostValueAndPath(i);return null!=s?l.writeTree_.get(s.path).getChild(yr(s.path,i)):null}function cr(l){const i=[],s=l.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(gr,(d,y)=>{i.push(new ve(d,y))}):l.writeTree_.children.inorderTraversal((d,y)=>{null!=y.value&&i.push(new ve(d,y.value))}),i}function wn(l,i){if(ht(i))return l;{const s=$t(l,i);return new $e(null!=s?new Pe(s):l.writeTree_.subtree(i))}}function Ar(l){return l.writeTree_.isEmpty()}function ti(l,i){return Ii(me(),l.writeTree_,i)}function Ii(l,i,s){if(null!=i.value)return s.updateChild(l,i.value);{let d=null;return i.children.inorderTraversal((y,S)=>{".priority"===y?((0,Y.hu)(null!==S.value,"Priority writes must always be leaf nodes"),d=S.value):s=Ii($n(l,y),S,s)}),!s.getChild(l).isEmpty()&&null!==d&&(s=s.updateChild($n(l,".priority"),d)),s}}function Bs(l,i){return eo(i,l)}function st(l,i){if(l.snap)return zn(l.path,i);for(const s in l.children)if(l.children.hasOwnProperty(s)&&zn($n(l.path,s),i))return!0;return!1}function dl(l){return l.visible}function $a(l,i,s){let d=$e.empty();for(let y=0;y<l.length;++y){const S=l[y];if(i(S)){const O=S.path;let Z;if(S.snap)zn(s,O)?(Z=yr(s,O),d=Et(d,Z,S.snap)):zn(O,s)&&(Z=yr(O,s),d=Et(d,me(),S.snap.getChild(Z)));else{if(!S.children)throw(0,Y.g5)("WriteRecord should have .snap or .children");if(zn(s,O))Z=yr(s,O),d=sn(d,Z,S.children);else if(zn(O,s))if(Z=yr(O,s),ht(Z))d=sn(d,me(),S.children);else{const de=(0,Y.DV)(S.children,Re(Z));if(de){const we=de.getChild(Qe(Z));d=Et(d,me(),we)}}}}}return d}function Oi(l,i,s,d,y){if(d||y){const S=wn(l.visibleWrites,i);return!y&&Ar(S)?s:y||null!=s||Xn(S,me())?ti($a(l.allWrites,function(we){return(we.visible||y)&&(!d||!~d.indexOf(we.writeId))&&(zn(we.path,i)||zn(i,we.path))},i),s||dn.EMPTY_NODE):null}{const S=$t(l.visibleWrites,i);if(null!=S)return S;{const O=wn(l.visibleWrites,i);return Ar(O)?s:null!=s||Xn(O,me())?ti(O,s||dn.EMPTY_NODE):null}}}function hc(l,i,s,d){return Oi(l.writeTree,l.treePath,i,s,d)}function Ta(l,i){return function ns(l,i,s){let d=dn.EMPTY_NODE;const y=$t(l.visibleWrites,i);if(y)return y.isLeafNode()||y.forEachChild(gr,(S,O)=>{d=d.updateImmediateChild(S,O)}),d;if(s){const S=wn(l.visibleWrites,i);return s.forEachChild(gr,(O,Z)=>{const de=ti(wn(S,new re(O)),Z);d=d.updateImmediateChild(O,de)}),cr(S).forEach(O=>{d=d.updateImmediateChild(O.name,O.node)}),d}return cr(wn(l.visibleWrites,i)).forEach(O=>{d=d.updateImmediateChild(O.name,O.node)}),d}(l.writeTree,l.treePath,i)}function ds(l,i,s,d){return function Vo(l,i,s,d,y){(0,Y.hu)(d||y,"Either existingEventSnap or existingServerSnap must exist");const S=$n(i,s);if(Xn(l.visibleWrites,S))return null;{const O=wn(l.visibleWrites,S);return Ar(O)?y.getChild(s):ti(O,y.getChild(s))}}(l.writeTree,l.treePath,i,s,d)}function Ps(l,i){return function la(l,i){return $t(l.visibleWrites,i)}(l.writeTree,$n(l.treePath,i))}function bs(l,i,s){return function Ms(l,i,s,d){const y=$n(i,s),S=$t(l.visibleWrites,y);return null!=S?S:d.isCompleteForChild(s)?ti(wn(l.visibleWrites,y),d.getNode().getImmediateChild(s)):null}(l.writeTree,l.treePath,i,s)}function Cs(l,i){return eo($n(l.treePath,i),l.writeTree)}function eo(l,i){return{treePath:l,writeTree:i}}class hl{constructor(){this.changeMap=new Map}trackChildChange(i){const s=i.type,d=i.childName;(0,Y.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,Y.hu)(".priority"!==d,"Only non-priority child changes can be tracked.");const y=this.changeMap.get(d);if(y){const S=y.type;if("child_added"===s&&"child_removed"===S)this.changeMap.set(d,Hi(d,i.snapshotNode,y.snapshotNode));else if("child_removed"===s&&"child_added"===S)this.changeMap.delete(d);else if("child_removed"===s&&"child_changed"===S)this.changeMap.set(d,Or(d,y.oldSnap));else if("child_changed"===s&&"child_added"===S)this.changeMap.set(d,Us(d,i.snapshotNode));else{if("child_changed"!==s||"child_changed"!==S)throw(0,Y.g5)("Illegal combination of changes: "+i+" occurred after "+y);this.changeMap.set(d,Hi(d,i.snapshotNode,y.oldSnap))}}else this.changeMap.set(d,i)}getChanges(){return Array.from(this.changeMap.values())}}const $i=new class fl{getCompleteChild(i){return null}getChildAfterChild(i,s,d){return null}};class Aa{constructor(i,s,d=null){this.writes_=i,this.viewCache_=s,this.optCompleteServerCache_=d}getCompleteChild(i){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(i))return s.getNode().getImmediateChild(i);{const d=null!=this.optCompleteServerCache_?new si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bs(this.writes_,i,d)}}getChildAfterChild(i,s,d){const y=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:T(this.viewCache_),S=function _o(l,i,s,d,y,S){return function za(l,i,s,d,y,S,O){let Z;const de=wn(l.visibleWrites,i),we=$t(de,me());if(null!=we)Z=we;else{if(null==s)return[];Z=ti(de,s)}if(Z=Z.withIndex(O),Z.isEmpty()||Z.isLeafNode())return[];{const Ke=[],Ze=O.getCompare(),at=S?Z.getReverseIteratorFrom(d,O):Z.getIteratorFrom(d,O);let Ht=at.getNext();for(;Ht&&Ke.length<y;)0!==Ze(Ht,d)&&Ke.push(Ht),Ht=at.getNext();return Ke}}(l.writeTree,l.treePath,i,s,d,y,S)}(this.writes_,y,s,1,d,i);return 0===S.length?null:S[0]}}function Ho(l,i,s,d,y,S){const O=i.eventCache;if(null!=Ps(d,s))return i;{let Z,de;if(ht(s))if((0,Y.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const we=T(i),Ze=Ta(d,we instanceof dn?we:dn.EMPTY_NODE);Z=l.filter.updateFullNode(i.eventCache.getNode(),Ze,S)}else{const we=hc(d,T(i));Z=l.filter.updateFullNode(i.eventCache.getNode(),we,S)}else{const we=Re(s);if(".priority"===we){(0,Y.hu)(1===tt(s),"Can't have a priority with additional path components");const Ke=O.getNode();de=i.serverCache.getNode();const Ze=ds(d,s,Ke,de);Z=null!=Ze?l.filter.updatePriority(Ke,Ze):O.getNode()}else{const Ke=Qe(s);let Ze;if(O.isCompleteForChild(we)){de=i.serverCache.getNode();const at=ds(d,s,O.getNode(),de);Ze=null!=at?O.getNode().getImmediateChild(we).updateChild(Ke,at):O.getNode().getImmediateChild(we)}else Ze=bs(d,we,i.serverCache);Z=null!=Ze?l.filter.updateChild(O.getNode(),we,Ze,Ke,y,S):O.getNode()}}return ws(i,Z,O.isFullyInitialized()||ht(s),l.filter.filtersNodes())}}function jo(l,i,s,d,y,S,O,Z){const de=i.serverCache;let we;const Ke=O?l.filter:l.filter.getIndexedFilter();if(ht(s))we=Ke.updateFullNode(de.getNode(),d,null);else if(Ke.filtersNodes()&&!de.isFiltered()){const Ht=de.getNode().updateChild(s,d);we=Ke.updateFullNode(de.getNode(),Ht,null)}else{const Ht=Re(s);if(!de.isCompleteForPath(s)&&tt(s)>1)return i;const pn=Qe(s),Ws=de.getNode().getImmediateChild(Ht).updateChild(pn,d);we=".priority"===Ht?Ke.updatePriority(de.getNode(),Ws):Ke.updateChild(de.getNode(),Ht,Ws,pn,$i,null)}const Ze=C(i,we,de.isFullyInitialized()||ht(s),Ke.filtersNodes());return Ho(l,Ze,s,y,new Aa(y,Ze,S),Z)}function ua(l,i,s,d,y,S,O){const Z=i.eventCache;let de,we;const Ke=new Aa(y,i,S);if(ht(s))we=l.filter.updateFullNode(i.eventCache.getNode(),d,O),de=ws(i,we,!0,l.filter.filtersNodes());else{const Ze=Re(s);if(".priority"===Ze)we=l.filter.updatePriority(i.eventCache.getNode(),d),de=ws(i,we,Z.isFullyInitialized(),Z.isFiltered());else{const at=Qe(s),Ht=Z.getNode().getImmediateChild(Ze);let pn;if(ht(at))pn=d;else{const jr=Ke.getCompleteChild(Ze);pn=null!=jr?".priority"===tn(at)&&jr.getChild(fi(at)).isEmpty()?jr:jr.updateChild(at,d):dn.EMPTY_NODE}de=Ht.equals(pn)?i:ws(i,l.filter.updateChild(Z.getNode(),Ze,pn,at,Ke,O),Z.isFullyInitialized(),l.filter.filtersNodes())}}return de}function da(l,i){return l.eventCache.isCompleteForChild(i)}function Wa(l,i,s){return s.foreach((d,y)=>{i=i.updateChild(d,y)}),i}function Mo(l,i,s,d,y,S,O,Z){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let we,de=i;we=ht(s)?d:new Pe(null).setTree(s,d);const Ke=i.serverCache.getNode();return we.children.inorderTraversal((Ze,at)=>{if(Ke.hasChild(Ze)){const pn=Wa(0,i.serverCache.getNode().getImmediateChild(Ze),at);de=jo(l,de,new re(Ze),pn,y,S,O,Z)}}),we.children.inorderTraversal((Ze,at)=>{const Ht=!i.serverCache.isCompleteForChild(Ze)&&null===at.value;if(!Ke.hasChild(Ze)&&!Ht){const jr=Wa(0,i.serverCache.getNode().getImmediateChild(Ze),at);de=jo(l,de,new re(Ze),jr,y,S,O,Z)}}),de}class Ro{constructor(i,s){this.query_=i,this.eventRegistrations_=[];const d=this.query_._queryParams,y=new Di(d.getIndex()),S=function mo(l){return l.loadsAllData()?new Di(l.getIndex()):l.hasLimit()?new Wr(l):new ls(l)}(d);this.processor_=function Ni(l){return{filter:l}}(S);const O=s.serverCache,Z=s.eventCache,de=y.updateFullNode(dn.EMPTY_NODE,O.getNode(),null),we=S.updateFullNode(dn.EMPTY_NODE,Z.getNode(),null),Ke=new si(de,O.isFullyInitialized(),y.filtersNodes()),Ze=new si(we,Z.isFullyInitialized(),S.filtersNodes());this.viewCache_=qr(Ze,Ke),this.eventGenerator_=new ji(this.query_)}get query(){return this.query_}}function _i(l,i){const s=T(l.viewCache_);return s&&(l.query._queryParams.loadsAllData()||!ht(i)&&!s.getImmediateChild(Re(i)).isEmpty())?s.getChild(i):null}function gl(l){return 0===l.eventRegistrations_.length}function Ga(l,i,s){const d=[];if(s){(0,Y.hu)(null==i,"A cancel should cancel all event registrations.");const y=l.query._path;l.eventRegistrations_.forEach(S=>{const O=S.createCancelEvent(s,y);O&&d.push(O)})}if(i){let y=[];for(let S=0;S<l.eventRegistrations_.length;++S){const O=l.eventRegistrations_[S];if(O.matches(i)){if(i.hasAnyCallback()){y=y.concat(l.eventRegistrations_.slice(S+1));break}}else y.push(O)}l.eventRegistrations_=y}else l.eventRegistrations_=[];return d}function Oo(l,i,s,d){i.type===En.MERGE&&null!==i.source.queryId&&((0,Y.hu)(T(l.viewCache_),"We should always have a full cache before handling merges"),(0,Y.hu)(N(l.viewCache_),"Missing event cache, even though we have a server cache"));const y=l.viewCache_,S=function yo(l,i,s,d,y){const S=new hl;let O,Z;if(s.type===En.OVERWRITE){const we=s;we.source.fromUser?O=ua(l,i,we.path,we.snap,d,y,S):((0,Y.hu)(we.source.fromServer,"Unknown source."),Z=we.source.tagged||i.serverCache.isFiltered()&&!ht(we.path),O=jo(l,i,we.path,we.snap,d,y,Z,S))}else if(s.type===En.MERGE){const we=s;we.source.fromUser?O=function Vl(l,i,s,d,y,S,O){let Z=i;return d.foreach((de,we)=>{const Ke=$n(s,de);da(i,Re(Ke))&&(Z=ua(l,Z,Ke,we,y,S,O))}),d.foreach((de,we)=>{const Ke=$n(s,de);da(i,Re(Ke))||(Z=ua(l,Z,Ke,we,y,S,O))}),Z}(l,i,we.path,we.children,d,y,S):((0,Y.hu)(we.source.fromServer,"Unknown source."),Z=we.source.tagged||i.serverCache.isFiltered(),O=Mo(l,i,we.path,we.children,d,y,Z,S))}else if(s.type===En.ACK_USER_WRITE){const we=s;O=we.revert?function Ki(l,i,s,d,y,S){let O;if(null!=Ps(d,s))return i;{const Z=new Aa(d,i,y),de=i.eventCache.getNode();let we;if(ht(s)||".priority"===Re(s)){let Ke;if(i.serverCache.isFullyInitialized())Ke=hc(d,T(i));else{const Ze=i.serverCache.getNode();(0,Y.hu)(Ze instanceof dn,"serverChildren would be complete if leaf node"),Ke=Ta(d,Ze)}we=l.filter.updateFullNode(de,Ke,S)}else{const Ke=Re(s);let Ze=bs(d,Ke,i.serverCache);null==Ze&&i.serverCache.isCompleteForChild(Ke)&&(Ze=de.getImmediateChild(Ke)),we=null!=Ze?l.filter.updateChild(de,Ke,Ze,Qe(s),Z,S):i.eventCache.getNode().hasChild(Ke)?l.filter.updateChild(de,Ke,dn.EMPTY_NODE,Qe(s),Z,S):de,we.isEmpty()&&i.serverCache.isFullyInitialized()&&(O=hc(d,T(i)),O.isLeafNode()&&(we=l.filter.updateFullNode(we,O,S)))}return O=i.serverCache.isFullyInitialized()||null!=Ps(d,me()),ws(i,we,O,l.filter.filtersNodes())}}(l,i,we.path,d,y,S):function fc(l,i,s,d,y,S,O){if(null!=Ps(y,s))return i;const Z=i.serverCache.isFiltered(),de=i.serverCache;if(null!=d.value){if(ht(s)&&de.isFullyInitialized()||de.isCompleteForPath(s))return jo(l,i,s,de.getNode().getChild(s),y,S,Z,O);if(ht(s)){let we=new Pe(null);return de.getNode().forEachChild(Qn,(Ke,Ze)=>{we=we.set(new re(Ke),Ze)}),Mo(l,i,s,we,y,S,Z,O)}return i}{let we=new Pe(null);return d.foreach((Ke,Ze)=>{const at=$n(s,Ke);de.isCompleteForPath(at)&&(we=we.set(Ke,de.getNode().getChild(at)))}),Mo(l,i,s,we,y,S,Z,O)}}(l,i,we.path,we.affectedTree,d,y,S)}else{if(s.type!==En.LISTEN_COMPLETE)throw(0,Y.g5)("Unknown operation type: "+s.type);O=function Po(l,i,s,d,y){const S=i.serverCache;return Ho(l,C(i,S.getNode(),S.isFullyInitialized()||ht(s),S.isFiltered()),s,d,$i,y)}(l,i,s.path,d,S)}const de=S.getChanges();return function Bl(l,i,s){const d=i.eventCache;if(d.isFullyInitialized()){const y=d.getNode().isLeafNode()||d.getNode().isEmpty(),S=N(l);(s.length>0||!l.eventCache.isFullyInitialized()||y&&!d.getNode().equals(S)||!d.getNode().getPriority().equals(S.getPriority()))&&s.push(go(N(i)))}}(i,O,de),{viewCache:O,changes:de}}(l.processor_,y,i,s,d);return function ca(l,i){(0,Y.hu)(i.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),(0,Y.hu)(i.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}(l.processor_,S.viewCache),(0,Y.hu)(S.viewCache.serverCache.isFullyInitialized()||!y.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=S.viewCache,Hs(l,S.changes,S.viewCache.eventCache.getNode(),null)}function Hs(l,i,s,d){return function Fr(l,i,s,d){const y=[],S=[];return i.forEach(O=>{"child_changed"===O.type&&l.index_.indexedValueChanged(O.oldSnap,O.snapshotNode)&&S.push(function ja(l,i){return{type:"child_moved",snapshotNode:i,childName:l}}(O.childName,O.snapshotNode))}),Es(l,y,"child_removed",i,d,s),Es(l,y,"child_added",i,d,s),Es(l,y,"child_moved",S,d,s),Es(l,y,"child_changed",i,d,s),Es(l,y,"value",i,d,s),y}(l.eventGenerator_,i,s,d?[d]:l.eventRegistrations_)}let Ma,Kt;class Pa{constructor(){this.views=new Map}}function vo(l,i,s,d){const y=i.source.queryId;if(null!==y){const S=l.views.get(y);return(0,Y.hu)(null!=S,"SyncTree gave us an op for an invalid query."),Oo(S,i,s,d)}{let S=[];for(const O of l.views.values())S=S.concat(Oo(O,i,s,d));return S}}function v(l,i,s,d,y){const O=l.views.get(i._queryIdentifier);if(!O){let Z=hc(s,y?d:null),de=!1;Z?de=!0:d instanceof dn?(Z=Ta(s,d),de=!1):(Z=dn.EMPTY_NODE,de=!1);const we=qr(new si(Z,de,!1),new si(d,y,!1));return new Ro(i,we)}return O}function A(l){const i=[];for(const s of l.views.values())s.query._queryParams.loadsAllData()||i.push(s);return i}function k(l,i){let s=null;for(const d of l.views.values())s=s||_i(d,i);return s}function q(l,i){return i._queryParams.loadsAllData()?ut(l):l.views.get(i._queryIdentifier)}function te(l,i){return null!=q(l,i)}function Oe(l){return null!=ut(l)}function ut(l){for(const i of l.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let rs=1;class No{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=function dc(){return{visibleWrites:$e.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ao(l,i,s,d,y){return function Si(l,i,s,d,y){(0,Y.hu)(d>l.lastWriteId,"Stacking an older write on top of newer ones"),void 0===y&&(y=!0),l.allWrites.push({path:i,snap:s,writeId:d,visible:y}),y&&(l.visibleWrites=Et(l.visibleWrites,i,s)),l.lastWriteId=d}(l.pendingWriteTree_,i,s,d,y),y?Yo(l,new ii({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,s)):[]}function zi(l,i,s=!1){const d=function oo(l,i){for(let s=0;s<l.allWrites.length;s++){const d=l.allWrites[s];if(d.writeId===i)return d}return null}(l.pendingWriteTree_,i);if(function Ur(l,i){const s=l.allWrites.findIndex(Z=>Z.writeId===i);(0,Y.hu)(s>=0,"removeWrite called with nonexistent writeId.");const d=l.allWrites[s];l.allWrites.splice(s,1);let y=d.visible,S=!1,O=l.allWrites.length-1;for(;y&&O>=0;){const Z=l.allWrites[O];Z.visible&&(O>=s&&st(Z,d.path)?y=!1:zn(d.path,Z.path)&&(S=!0)),O--}return!!y&&(S?(function ur(l){l.visibleWrites=$a(l.allWrites,dl,me()),l.lastWriteId=l.allWrites.length>0?l.allWrites[l.allWrites.length-1].writeId:-1}(l),!0):(d.snap?l.visibleWrites=Ct(l.visibleWrites,d.path):wt(d.children,de=>{l.visibleWrites=Ct(l.visibleWrites,$n(d.path,de))}),!0))}(l.pendingWriteTree_,i)){let S=new Pe(null);return null!=d.snap?S=S.set(me(),!0):wt(d.children,O=>{S=S.set(new re(O),!0)}),Yo(l,new or(d.path,S,s))}return[]}function js(l,i,s){return Yo(l,new ii({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,s))}function fa(l,i,s,d,y=!1){const S=i._path,O=l.syncPointTree_.get(S);let Z=[];if(O&&("default"===i._queryIdentifier||te(O,i))){const de=function m(l,i,s,d){const y=i._queryIdentifier,S=[];let O=[];const Z=Oe(l);if("default"===y)for(const[de,we]of l.views.entries())O=O.concat(Ga(we,s,d)),gl(we)&&(l.views.delete(de),we.query._queryParams.loadsAllData()||S.push(we.query));else{const de=l.views.get(y);de&&(O=O.concat(Ga(de,s,d)),gl(de)&&(l.views.delete(y),de.query._queryParams.loadsAllData()||S.push(de.query)))}return Z&&!Oe(l)&&S.push(new(function Wo(){return(0,Y.hu)(Ma,"Reference.ts has not been loaded"),Ma}())(i._repo,i._path)),{removed:S,events:O}}(O,i,s,d);(function Go(l){return 0===l.views.size})(O)&&(l.syncPointTree_=l.syncPointTree_.remove(S));const we=de.removed;if(Z=de.events,!y){const Ke=-1!==we.findIndex(at=>at._queryParams.loadsAllData()),Ze=l.syncPointTree_.findOnPath(S,(at,Ht)=>Oe(Ht));if(Ke&&!Ze){const at=l.syncPointTree_.subtree(S);if(!at.isEmpty()){const Ht=function qo(l){return l.fold((i,s,d)=>{if(s&&Oe(s))return[ut(s)];{let y=[];return s&&(y=A(s)),wt(d,(S,O)=>{y=y.concat(O)}),y}})}(at);for(let pn=0;pn<Ht.length;++pn){const jr=Ht[pn],Ws=jr.query,Ia=Ya(l,jr);l.listenProvider_.startListening(pa(Ws),Ra(l,Ws),Ia.hashFn,Ia.onComplete)}}}!Ze&&we.length>0&&!d&&(Ke?l.listenProvider_.stopListening(pa(i),null):we.forEach(at=>{const Ht=l.queryToTagMap.get(ko(at));l.listenProvider_.stopListening(pa(at),Ht)}))}!function $l(l,i){for(let s=0;s<i.length;++s){const d=i[s];if(!d._queryParams.loadsAllData()){const y=ko(d),S=l.queryToTagMap.get(y);l.queryToTagMap.delete(y),l.tagToQueryMap.delete(S)}}}(l,we)}return Z}function to(l,i,s,d){const y=jl(l,d);if(null!=y){const S=_l(y),O=S.path,Z=S.queryId,de=yr(O,i);return Zo(l,O,new ii(Zr(Z),de,s))}return[]}function Ds(l,i,s,d=!1){const y=i._path;let S=null,O=!1;l.syncPointTree_.foreachOnPath(y,(at,Ht)=>{const pn=yr(at,y);S=S||k(Ht,pn),O=O||Oe(Ht)});let de,Z=l.syncPointTree_.get(y);Z?(O=O||Oe(Z),S=S||k(Z,me())):(Z=new Pa,l.syncPointTree_=l.syncPointTree_.set(y,Z)),null!=S?de=!0:(de=!1,S=dn.EMPTY_NODE,l.syncPointTree_.subtree(y).foreachChild((Ht,pn)=>{const jr=k(pn,me());jr&&(S=S.updateImmediateChild(Ht,jr))}));const we=te(Z,i);if(!we&&!i._queryParams.loadsAllData()){const at=ko(i);(0,Y.hu)(!l.queryToTagMap.has(at),"View does not exist, but we have a tag");const Ht=function Uc(){return rs++}();l.queryToTagMap.set(at,Ht),l.tagToQueryMap.set(Ht,at)}let Ze=function D(l,i,s,d,y,S){const O=v(l,i,d,y,S);return l.views.has(i._queryIdentifier)||l.views.set(i._queryIdentifier,O),function ha(l,i){l.eventRegistrations_.push(i)}(O,s),function $o(l,i){const s=l.viewCache_.eventCache,d=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(gr,(S,O)=>{d.push(Us(S,O))}),s.isFullyInitialized()&&d.push(go(s.getNode())),Hs(l,d,s.getNode(),i)}(O,s)}(Z,i,s,Bs(l.pendingWriteTree_,y),S,de);if(!we&&!O&&!d){const at=q(Z,i);Ze=Ze.concat(function Qo(l,i,s){const d=i._path,y=Ra(l,i),S=Ya(l,s),O=l.listenProvider_.startListening(pa(i),y,S.hashFn,S.onComplete),Z=l.syncPointTree_.subtree(d);if(y)(0,Y.hu)(!Oe(Z.value),"If we're adding a query, it shouldn't be shadowed");else{const de=Z.fold((we,Ke,Ze)=>{if(!ht(we)&&Ke&&Oe(Ke))return[ut(Ke).query];{let at=[];return Ke&&(at=at.concat(A(Ke).map(Ht=>Ht.query))),wt(Ze,(Ht,pn)=>{at=at.concat(pn)}),at}});for(let we=0;we<de.length;++we){const Ke=de[we];l.listenProvider_.stopListening(pa(Ke),Ra(l,Ke))}}return O}(l,i,at))}return Ze}function Ko(l,i,s){const y=l.pendingWriteTree_,S=l.syncPointTree_.findOnPath(i,(O,Z)=>{const we=k(Z,yr(O,i));if(we)return we});return Oi(y,i,S,s,!0)}function Yo(l,i){return ml(i,l.syncPointTree_,null,Bs(l.pendingWriteTree_,me()))}function ml(l,i,s,d){if(ht(l.path))return Fc(l,i,s,d);{const y=i.get(me());null==s&&null!=y&&(s=k(y,me()));let S=[];const O=Re(l.path),Z=l.operationForChild(O),de=i.children.get(O);if(de&&Z){const we=s?s.getImmediateChild(O):null,Ke=Cs(d,O);S=S.concat(ml(Z,de,we,Ke))}return y&&(S=S.concat(vo(y,l,d,s))),S}}function Fc(l,i,s,d){const y=i.get(me());null==s&&null!=y&&(s=k(y,me()));let S=[];return i.children.inorderTraversal((O,Z)=>{const de=s?s.getImmediateChild(O):null,we=Cs(d,O),Ke=l.operationForChild(O);Ke&&(S=S.concat(Fc(Ke,Z,de,we)))}),y&&(S=S.concat(vo(y,l,d,s))),S}function Ya(l,i){const s=i.query,d=Ra(l,s);return{hashFn:()=>(function Br(l){return l.viewCache_.serverCache.getNode()}(i)||dn.EMPTY_NODE).hash(),onComplete:y=>{if("ok"===y)return d?function Ka(l,i,s){const d=jl(l,s);if(d){const y=_l(d),S=y.path,O=y.queryId,Z=yr(S,i);return Zo(l,S,new Gi(Zr(O),Z))}return[]}(l,s._path,d):function Hl(l,i){return Yo(l,new Gi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(l,s._path);{const S=function $r(l,i){let s="Unknown Error";"too_big"===l?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===l?s="Client doesn't have permission to access the desired data.":"unavailable"===l&&(s="The service is unavailable");const d=new Error(l+" at "+i._path.toString()+": "+s);return d.code=l.toUpperCase(),d}(y,s);return fa(l,s,null,S)}}}}function Ra(l,i){const s=ko(i);return l.queryToTagMap.get(s)}function ko(l){return l._path.toString()+"$"+l._queryIdentifier}function jl(l,i){return l.tagToQueryMap.get(i)}function _l(l){const i=l.indexOf("$");return(0,Y.hu)(-1!==i&&i<l.length-1,"Bad queryKey."),{queryId:l.substr(i+1),path:new re(l.substr(0,i))}}function Zo(l,i,s){const d=l.syncPointTree_.get(i);return(0,Y.hu)(d,"Missing sync point for query tag that we're tracking"),vo(d,s,Bs(l.pendingWriteTree_,i),null)}function pa(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(function Vr(){return(0,Y.hu)(Kt,"Reference.ts has not been loaded"),Kt}())(l._repo,l._path):l}class Oa{constructor(i){this.node_=i}getImmediateChild(i){const s=this.node_.getImmediateChild(i);return new Oa(s)}node(){return this.node_}}class lo{constructor(i,s){this.syncTree_=i,this.path_=s}getImmediateChild(i){const s=$n(this.path_,i);return new lo(this.syncTree_,s)}node(){return Ko(this.syncTree_,this.path_)}}const Na=function(l){return(l=l||{}).timestamp=l.timestamp||(new Date).getTime(),l},mc=function(l,i,s){return l&&"object"==typeof l?((0,Y.hu)(".sv"in l,"Unexpected leaf node or priority contents"),"string"==typeof l[".sv"]?_c(l[".sv"],i,s):"object"==typeof l[".sv"]?zl(l[".sv"],i):void(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(l,null,2))):l},_c=function(l,i,s){if("timestamp"===l)return s.timestamp;(0,Y.hu)(!1,"Unexpected server value: "+l)},zl=function(l,i,s){l.hasOwnProperty("increment")||(0,Y.hu)(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const d=l.increment;"number"!=typeof d&&(0,Y.hu)(!1,"Unexpected increment value: "+d);const y=i.node();if((0,Y.hu)(null!==y&&typeof y<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!y.isLeafNode())return d;const O=y.getValue();return"number"!=typeof O?d:O+d},Lo=function(l,i,s,d){return Xo(i,new lo(s,l),d)},Fo=function(l,i,s){return Xo(l,new Oa(i),s)};function Xo(l,i,s){const d=l.getPriority().val(),y=mc(d,i.getImmediateChild(".priority"),s);let S;if(l.isLeafNode()){const O=l,Z=mc(O.getValue(),i,s);return Z!==O.getValue()||y!==O.getPriority().val()?new as(Z,sr(y)):l}{const O=l;return S=O,y!==O.getPriority().val()&&(S=S.updatePriority(new as(y))),O.forEachChild(gr,(Z,de)=>{const we=Xo(de,i.getImmediateChild(Z),s);we!==de&&(S=S.updateImmediateChild(Z,we))}),S}}class yl{constructor(i="",s=null,d={children:{},childCount:0}){this.name=i,this.parent=s,this.node=d}}function wo(l,i){let s=i instanceof re?i:new re(i),d=l,y=Re(s);for(;null!==y;){const S=(0,Y.DV)(d.node.children,y)||{children:{},childCount:0};d=new yl(y,d,S),s=Qe(s),y=Re(s)}return d}function Rs(l){return l.node.value}function xa(l,i){l.node.value=i,Bc(l)}function vl(l){return l.node.childCount>0}function ga(l,i){wt(l.node.children,(s,d)=>{i(new yl(s,l,d))})}function Wl(l,i,s,d){s&&!d&&i(l),ga(l,y=>{Wl(y,i,!0,d)}),s&&d&&i(l)}function Kl(l){return new re(null===l.parent?l.name:Kl(l.parent)+"/"+l.name)}function Bc(l){null!==l.parent&&function ma(l,i,s){const d=function El(l){return void 0===Rs(l)&&!vl(l)}(s),y=(0,Y.r3)(l.node.children,i);d&&y?(delete l.node.children[i],l.node.childCount--,Bc(l)):!d&&!y&&(l.node.children[i]=s.node,l.node.childCount++,Bc(l))}(l.parent,l.name,l)}const yc=/[\[\].#$\/\u0000-\u001F\u007F]/,_a=/[\[\].#$\u0000-\u001F\u007F]/,yi=10485760,ka=function(l){return"string"==typeof l&&0!==l.length&&!yc.test(l)},ya=function(l){return"string"==typeof l&&0!==l.length&&!_a.test(l)},hs=function(l){return null===l||"string"==typeof l||"number"==typeof l&&!Kn(l)||l&&"object"==typeof l&&(0,Y.r3)(l,".sv")},xi=function(l,i,s,d){d&&void 0===i||va((0,Y.gK)(l,"value"),i,s)},va=function(l,i,s){const d=s instanceof re?new os(s,l):s;if(void 0===i)throw new Error(l+"contains undefined "+wi(d));if("function"==typeof i)throw new Error(l+"contains a function "+wi(d)+" with contents = "+i.toString());if(Kn(i))throw new Error(l+"contains "+i.toString()+" "+wi(d));if("string"==typeof i&&i.length>yi/3&&(0,Y.ug)(i)>yi)throw new Error(l+"contains a string greater than "+yi+" utf8 bytes "+wi(d)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let y=!1,S=!1;if(wt(i,(O,Z)=>{if(".value"===O)y=!0;else if(".priority"!==O&&".sv"!==O&&(S=!0,!ka(O)))throw new Error(l+" contains an invalid key ("+O+") "+wi(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function pi(l,i){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(i),l.byteLength_+=(0,Y.ug)(i),Bi(l)})(d,O),va(l,Z,d),function li(l){const i=l.parts_.pop();l.byteLength_-=(0,Y.ug)(i),l.parts_.length>0&&(l.byteLength_-=1)}(d)}),y&&S)throw new Error(l+' contains ".value" child '+wi(d)+" in addition to actual children.")}},Ea=function(l,i,s,d){if(d&&void 0===i)return;const y=(0,Y.gK)(l,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(y+" must be an object containing the children to replace.");const S=[];wt(i,(O,Z)=>{const de=new re(O);if(va(y,Z,$n(s,de)),".priority"===tn(de)&&!hs(Z))throw new Error(y+"contains an invalid value for '"+de.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");S.push(de)}),function(l,i){let s,d;for(s=0;s<i.length;s++){d=i[s];const S=jt(d);for(let O=0;O<S.length;O++)if((".priority"!==S[O]||O!==S.length-1)&&!ka(S[O]))throw new Error(l+"contains an invalid key ("+S[O]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(Ai);let y=null;for(s=0;s<i.length;s++){if(d=i[s],null!==y&&zn(y,d))throw new Error(l+"contains a path "+y.toString()+" that is ancestor of another path "+d.toString());y=d}}(y,S)},Za=function(l,i,s){if(!s||void 0!==i){if(Kn(i))throw new Error((0,Y.gK)(l,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!hs(i))throw new Error((0,Y.gK)(l,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wl=function(l,i,s,d){if(!(d&&void 0===s||ka(s)))throw new Error((0,Y.gK)(l,i)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},bl=function(l,i,s,d){if(!(d&&void 0===s||ya(s)))throw new Error((0,Y.gK)(l,i)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},b=function(l,i,s,d){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),bl(l,i,s,d)},M=function(l,i){if(".info"===Re(i))throw new Error(l+" failed = Can't modify data under /.info/")},B=function(l,i){const s=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!ka(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==s.length&&!function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),ya(l)}(s))throw new Error((0,Y.gK)(l,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Se(l,i){let s=null;for(let d=0;d<i.length;d++){const y=i[d],S=y.getPath();null!==s&&!Jr(S,s.path)&&(l.eventLists_.push(s),s=null),null===s&&(s={events:[],path:S}),s.events.push(y)}s&&l.eventLists_.push(s)}function Ne(l,i,s){Se(l,s),Nt(l,d=>Jr(d,i))}function ze(l,i,s){Se(l,s),Nt(l,d=>zn(d,i)||zn(i,d))}function Nt(l,i){l.recursionDepth_++;let s=!0;for(let d=0;d<l.eventLists_.length;d++){const y=l.eventLists_[d];y&&(i(y.path)?(Tt(l.eventLists_[d]),l.eventLists_[d]=null):s=!1)}s&&(l.eventLists_=[]),l.recursionDepth_--}function Tt(l){for(let i=0;i<l.events.length;i++){const s=l.events[i];if(null!==s){l.events[i]=null;const d=s.getEventRunner();gn&&fn("event: "+s.toString()),Er(d)}}}const Yt="repo_interrupt",Ln=25;class Hn{constructor(i,s,d,y){this.repoInfo_=i,this.forceRestClient_=s,this.authTokenProvider_=d,this.appCheckProvider_=y,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ee(),this.transactionQueueTree_=new yl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ci(l){const s=l.infoData_.getNode(new re(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function ea(l){return Na({timestamp:ci(l)})}function wa(l,i,s,d,y){l.dataUpdateCount++;const S=new re(i);s=l.interceptServerDataCallback_?l.interceptServerDataCallback_(i,s):s;let O=[];if(y)if(d){const de=(0,Y.UI)(s,we=>sr(we));O=function pc(l,i,s,d){const y=jl(l,d);if(y){const S=_l(y),O=S.path,Z=S.queryId,de=yr(O,i),we=Pe.fromObject(s);return Zo(l,O,new Cn(Zr(Z),de,we))}return[]}(l.serverSyncTree_,S,de,y)}else{const de=sr(s);O=to(l.serverSyncTree_,S,de,y)}else if(d){const de=(0,Y.UI)(s,we=>sr(we));O=function xo(l,i,s){const d=Pe.fromObject(s);return Yo(l,new Cn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,d))}(l.serverSyncTree_,S,de)}else{const de=sr(s);O=js(l.serverSyncTree_,S,de)}let Z=S;O.length>0&&(Z=Qa(l,S)),ze(l.eventQueue_,Z,O)}function La(l,i){bo(l,"connected",i),!1===i&&function id(l){Dl(l,"onDisconnectEvents");const i=ea(l),s=Ee();je(l.onDisconnect_,me(),(y,S)=>{const O=Lo(y,S,l.serverSyncTree_,i);be(s,y,O)});let d=[];je(s,me(),(y,S)=>{d=d.concat(js(l.serverSyncTree_,y,S));const O=Xa(l,y);Qa(l,O)}),l.onDisconnect_=Ee(),ze(l.eventQueue_,me(),d)}(l)}function bo(l,i,s){const d=new re("/.info/"+i),y=sr(s);l.infoData_.updateSnapshot(d,y);const S=js(l.infoSyncTree_,d,y);ze(l.eventQueue_,d,S)}function Fa(l){return l.nextWriteId_++}function Cl(l,i,s,d,y){Dl(l,"set",{path:i.toString(),value:s,priority:d});const S=ea(l),O=sr(s,d),Z=Ko(l.serverSyncTree_,i),de=Fo(O,Z,S),we=Fa(l),Ke=ao(l.serverSyncTree_,i,de,we,!0);Se(l.eventQueue_,Ke),l.server_.put(i.toString(),O.val(!0),(at,Ht)=>{const pn="ok"===at;pn||nn("set at "+i+" failed: "+at);const jr=zi(l.serverSyncTree_,we,!pn);ze(l.eventQueue_,i,jr),Ua(0,y,at,Ht)});const Ze=Xa(l,i);Qa(l,Ze),ze(l.eventQueue_,Ze,[])}function sd(l,i,s){l.server_.onDisconnectCancel(i.toString(),(d,y)=>{"ok"===d&&Ue(l.onDisconnect_,i),Ua(0,s,d,y)})}function qa(l,i,s,d){const y=sr(s);l.server_.onDisconnectPut(i.toString(),y.val(!0),(S,O)=>{"ok"===S&&be(l.onDisconnect_,i,y),Ua(0,d,S,O)})}function Ec(l,i,s){let d;d=".info"===Re(i._path)?fa(l.infoSyncTree_,i,s):fa(l.serverSyncTree_,i,s),Ne(l.eventQueue_,i._path,d)}function _u(l){l.persistentConnection_&&l.persistentConnection_.interrupt(Yt)}function Dl(l,...i){let s="";l.persistentConnection_&&(s=l.persistentConnection_.id+":"),fn(s,...i)}function Ua(l,i,s,d){i&&Er(()=>{if("ok"===s)i(null);else{const y=(s||"error").toUpperCase();let S=y;d&&(S+=": "+d);const O=new Error(S);O.code=y,i(O)}})}function Il(l,i,s){return Ko(l.serverSyncTree_,i,s)||dn.EMPTY_NODE}function Ql(l,i=l.transactionQueueTree_){if(i||Sl(l,i),Rs(i)){const s=ld(l,i);(0,Y.hu)(s.length>0,"Sending zero length transaction queue"),s.every(y=>0===y.status)&&function vu(l,i,s){const d=s.map(we=>we.currentWriteId),y=Il(l,i,d);let S=y;const O=y.hash();for(let we=0;we<s.length;we++){const Ke=s[we];(0,Y.hu)(0===Ke.status,"tryToSendTransactionQueue_: items in queue should all be run."),Ke.status=1,Ke.retryCount++;const Ze=yr(i,Ke.path);S=S.updateChild(Ze,Ke.currentOutputSnapshotRaw)}const Z=S.val(!0),de=i;l.server_.put(de.toString(),Z,we=>{Dl(l,"transaction put response",{path:de.toString(),status:we});let Ke=[];if("ok"===we){const Ze=[];for(let at=0;at<s.length;at++)s[at].status=2,Ke=Ke.concat(zi(l.serverSyncTree_,s[at].currentWriteId)),s[at].onComplete&&Ze.push(()=>s[at].onComplete(null,!0,s[at].currentOutputSnapshotResolved)),s[at].unwatcher();Sl(l,wo(l.transactionQueueTree_,i)),Ql(l,l.transactionQueueTree_),ze(l.eventQueue_,i,Ke);for(let at=0;at<Ze.length;at++)Er(Ze[at])}else{if("datastale"===we)for(let Ze=0;Ze<s.length;Ze++)s[Ze].status=3===s[Ze].status?4:0;else{nn("transaction at "+de.toString()+" failed: "+we);for(let Ze=0;Ze<s.length;Ze++)s[Ze].status=4,s[Ze].abortReason=we}Qa(l,i)}},O)}(l,Kl(i),s)}else vl(i)&&ga(i,s=>{Ql(l,s)})}function Qa(l,i){const s=Vc(l,i),d=Kl(s);return function Wd(l,i,s){if(0===i.length)return;const d=[];let y=[];const O=i.filter(Z=>0===Z.status).map(Z=>Z.currentWriteId);for(let Z=0;Z<i.length;Z++){const de=i[Z],we=yr(s,de.path);let Ze,Ke=!1;if((0,Y.hu)(null!==we,"rerunTransactionsUnderNode_: relativePath should not be null."),4===de.status)Ke=!0,Ze=de.abortReason,y=y.concat(zi(l.serverSyncTree_,de.currentWriteId,!0));else if(0===de.status)if(de.retryCount>=Ln)Ke=!0,Ze="maxretry",y=y.concat(zi(l.serverSyncTree_,de.currentWriteId,!0));else{const at=Il(l,de.path,O);de.currentInputSnapshot=at;const Ht=i[Z].update(at.val());if(void 0!==Ht){va("transaction failed: Data returned ",Ht,de.path);let pn=sr(Ht);"object"==typeof Ht&&null!=Ht&&(0,Y.r3)(Ht,".priority")||(pn=pn.updatePriority(at.getPriority()));const Ws=de.currentWriteId,Ia=ea(l),ol=Fo(pn,at,Ia);de.currentOutputSnapshotRaw=pn,de.currentOutputSnapshotResolved=ol,de.currentWriteId=Fa(l),O.splice(O.indexOf(Ws),1),y=y.concat(ao(l.serverSyncTree_,de.path,ol,de.currentWriteId,de.applyLocally)),y=y.concat(zi(l.serverSyncTree_,Ws,!0))}else Ke=!0,Ze="nodata",y=y.concat(zi(l.serverSyncTree_,de.currentWriteId,!0))}ze(l.eventQueue_,s,y),y=[],Ke&&(i[Z].status=2,setTimeout(i[Z].unwatcher,Math.floor(0)),i[Z].onComplete&&d.push("nodata"===Ze?()=>i[Z].onComplete(null,!1,i[Z].currentInputSnapshot):()=>i[Z].onComplete(new Error(Ze),!1,null)))}Sl(l,l.transactionQueueTree_);for(let Z=0;Z<d.length;Z++)Er(d[Z]);Ql(l,l.transactionQueueTree_)}(l,ld(l,s),d),d}function Vc(l,i){let s,d=l.transactionQueueTree_;for(s=Re(i);null!==s&&void 0===Rs(d);)d=wo(d,s),s=Re(i=Qe(i));return d}function ld(l,i){const s=[];return Eu(l,i,s),s.sort((d,y)=>d.order-y.order),s}function Eu(l,i,s){const d=Rs(i);if(d)for(let y=0;y<d.length;y++)s.push(d[y]);ga(i,y=>{Eu(l,y,s)})}function Sl(l,i){const s=Rs(i);if(s){let d=0;for(let y=0;y<s.length;y++)2!==s[y].status&&(s[d]=s[y],d++);s.length=d,xa(i,s.length>0?s:void 0)}ga(i,d=>{Sl(l,d)})}function Xa(l,i){const s=Kl(Vc(l,i)),d=wo(l.transactionQueueTree_,i);return function Gl(l,i,s){let d=s?l:l.parent;for(;null!==d;){if(i(d))return!0;d=d.parent}}(d,y=>{wu(l,y)}),wu(l,d),Wl(d,y=>{wu(l,y)}),s}function wu(l,i){const s=Rs(i);if(s){const d=[];let y=[],S=-1;for(let O=0;O<s.length;O++)3===s[O].status||(1===s[O].status?((0,Y.hu)(S===O-1,"All SENT items should be at beginning of queue."),S=O,s[O].status=3,s[O].abortReason="set"):((0,Y.hu)(0===s[O].status,"Unexpected transaction status in abort"),s[O].unwatcher(),y=y.concat(zi(l.serverSyncTree_,s[O].currentWriteId,!0)),s[O].onComplete&&d.push(s[O].onComplete.bind(null,new Error("set"),!1,null))));-1===S?xa(i,void 0):s.length=S+1,ze(l.eventQueue_,Kl(i),y);for(let O=0;O<d.length;O++)Er(d[O])}}const jc=function(l,i){const s=Gd(l),d=s.namespace;return"firebase.com"===s.domain&&Dn(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==s.domain&&Dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new W(s.host,s.secure,d,"ws"===s.scheme||"wss"===s.scheme,i,"",d!==s.subdomain),path:new re(s.pathString)}},Gd=function(l){let i="",s="",d="",y="",S="",O=!0,Z="https",de=443;if("string"==typeof l){let we=l.indexOf("//");we>=0&&(Z=l.substring(0,we-1),l=l.substring(we+2));let Ke=l.indexOf("/");-1===Ke&&(Ke=l.length);let Ze=l.indexOf("?");-1===Ze&&(Ze=l.length),i=l.substring(0,Math.min(Ke,Ze)),Ke<Ze&&(y=function bu(l){let i="";const s=l.split("/");for(let d=0;d<s.length;d++)if(s[d].length>0){let y=s[d];try{y=decodeURIComponent(y.replace(/\+/g," "))}catch{}i+="/"+y}return i}(l.substring(Ke,Ze)));const at=function Hc(l){const i={};"?"===l.charAt(0)&&(l=l.substring(1));for(const s of l.split("&")){if(0===s.length)continue;const d=s.split("=");2===d.length?i[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):nn(`Invalid query segment '${s}' in query '${l}'`)}return i}(l.substring(Math.min(l.length,Ze)));we=i.indexOf(":"),we>=0?(O="https"===Z||"wss"===Z,de=parseInt(i.substring(we+1),10)):we=i.length;const Ht=i.slice(0,we);if("localhost"===Ht.toLowerCase())s="localhost";else if(Ht.split(".").length<=2)s=Ht;else{const pn=i.indexOf(".");d=i.substring(0,pn).toLowerCase(),s=i.substring(pn+1),S=d}"ns"in at&&(S=at.ns)}return{host:i,port:de,domain:s,subdomain:d,secure:O,scheme:Z,pathString:y,namespace:S}},$c="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Kd=function(){let l=0;const i=[];return function(s){const d=s===l;let y;l=s;const S=new Array(8);for(y=7;y>=0;y--)S[y]=$c.charAt(s%64),s=Math.floor(s/64);(0,Y.hu)(0===s,"Cannot push at time == 0");let O=S.join("");if(d){for(y=11;y>=0&&63===i[y];y--)i[y]=0;i[y]++}else for(y=0;y<12;y++)i[y]=Math.floor(64*Math.random());for(y=0;y<12;y++)O+=$c.charAt(i[y]);return(0,Y.hu)(20===O.length,"nextPushId: Length should be 20."),O}}();class Yd{constructor(i,s,d,y){this.eventType=i,this.eventRegistration=s,this.snapshot=d,this.prevName=y}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Y.Wl)(this.snapshot.exportVal())}}class wc{constructor(i,s,d){this.eventRegistration=i,this.error=s,this.path=d}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ja{constructor(i,s){this.snapshotCallback=i,this.cancelCallback=s}onValue(i,s){this.snapshotCallback.call(null,i,s)}onCancel(i){return(0,Y.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class el{constructor(i,s){this._repo=i,this._path=s}cancel(){const i=new Y.BH;return sd(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){M("OnDisconnect.remove",this._path);const i=new Y.BH;return qa(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){M("OnDisconnect.set",this._path),xi("OnDisconnect.set",i,this._path,!1);const s=new Y.BH;return qa(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}setWithPriority(i,s){M("OnDisconnect.setWithPriority",this._path),xi("OnDisconnect.setWithPriority",i,this._path,!1),Za("OnDisconnect.setWithPriority",s,!1);const d=new Y.BH;return function ql(l,i,s,d,y){const S=sr(s,d);l.server_.onDisconnectPut(i.toString(),S.val(!0),(O,Z)=>{"ok"===O&&be(l.onDisconnect_,i,S),Ua(0,y,O,Z)})}(this._repo,this._path,i,s,d.wrapCallback(()=>{})),d.promise}update(i){M("OnDisconnect.update",this._path),Ea("OnDisconnect.update",i,this._path,!1);const s=new Y.BH;return function od(l,i,s,d){if((0,Y.xb)(s))return fn("onDisconnect().update() called with empty data.  Don't do anything."),void Ua(0,d,"ok",void 0);l.server_.onDisconnectMerge(i.toString(),s,(y,S)=>{"ok"===y&&wt(s,(O,Z)=>{const de=sr(Z);be(l.onDisconnect_,$n(i,O),de)}),Ua(0,d,y,S)})}(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}}class Os{constructor(i,s,d,y){this._repo=i,this._path=s,this._queryParams=d,this._orderByCalled=y}get key(){return ht(this._path)?null:tn(this._path)}get ref(){return new co(this._repo,this._path)}get _queryIdentifier(){const i=R(this._queryParams),s=mn(i);return"{}"===s?"default":s}get _queryObject(){return R(this._queryParams)}isEqual(i){if(!((i=(0,Y.m9)(i))instanceof Os))return!1;const s=this._repo===i._repo,d=Jr(this._path,i._path);return s&&d&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function jn(l){let i="";for(let s=l.pieceNum_;s<l.pieces_.length;s++)""!==l.pieces_[s]&&(i+="/"+encodeURIComponent(String(l.pieces_[s])));return i||"/"}(this._path)}}function Tl(l,i){if(!0===l._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function ba(l){let i=null,s=null;if(l.hasStart()&&(i=l.getIndexStartValue()),l.hasEnd()&&(s=l.getIndexEndValue()),l.getIndex()===Qn){const d="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",y="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(l.hasStart()){if(l.getIndexStartName()!==St)throw new Error(d);if("string"!=typeof i)throw new Error(y)}if(l.hasEnd()){if(l.getIndexEndName()!==Mn)throw new Error(d);if("string"!=typeof s)throw new Error(y)}}else if(l.getIndex()===gr){if(null!=i&&!hs(i)||null!=s&&!hs(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Y.hu)(l.getIndex()instanceof Fs||l.getIndex()===po,"unknown index type."),null!=i&&"object"==typeof i||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ca(l){if(l.hasStart()&&l.hasEnd()&&l.hasLimit()&&!l.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class co extends Os{constructor(i,s){super(i,s,new cs,!1)}get parent(){const i=fi(this._path);return null===i?null:new co(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class ta{constructor(i,s,d){this._node=i,this.ref=s,this._index=d}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const s=new re(i),d=tl(this.ref,i);return new ta(this._node.getChild(s),d,gr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(d,y)=>i(new ta(y,tl(this.ref,d),gr)))}hasChild(i){const s=new re(i);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xl(l,i){return(l=(0,Y.m9)(l))._checkNotDeleted("ref"),void 0!==i?tl(l._root,i):l._root}function Co(l,i){(l=(0,Y.m9)(l))._checkNotDeleted("refFromURL");const s=jc(i,l._repo.repoInfo_.nodeAdmin);B("refFromURL",s);const d=s.repoInfo;return!l._repo.repoInfo_.isCustomHost()&&d.host!==l._repo.repoInfo_.host&&Dn("refFromURL: Host name does not match the current database: (found "+d.host+" but expected "+l._repo.repoInfo_.host+")"),Xl(l,s.path.toString())}function tl(l,i){return null===Re((l=(0,Y.m9)(l))._path)?b("child","path",i,!1):bl("child","path",i,!1),new co(l._repo,$n(l._path,i))}function Jl(l,i){l=(0,Y.m9)(l),M("set",l._path),xi("set",i,l._path,!1);const s=new Y.BH;return Cl(l._repo,l._path,i,null,s.wrapCallback(()=>{})),s.promise}function Wc(l,i){Ea("update",i,l._path,!1);const s=new Y.BH;return function Zl(l,i,s,d){Dl(l,"update",{path:i.toString(),value:s});let y=!0;const S=ea(l),O={};if(wt(s,(Z,de)=>{y=!1,O[Z]=Lo($n(i,Z),sr(de),l.serverSyncTree_,S)}),y)fn("update() called with empty data.  Don't do anything."),Ua(0,d,"ok",void 0);else{const Z=Fa(l),de=function Eo(l,i,s,d){!function Vs(l,i,s,d){(0,Y.hu)(d>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:i,children:s,writeId:d,visible:!0}),l.visibleWrites=sn(l.visibleWrites,i,s),l.lastWriteId=d}(l.pendingWriteTree_,i,s,d);const y=Pe.fromObject(s);return Yo(l,new Cn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,y))}(l.serverSyncTree_,i,O,Z);Se(l.eventQueue_,de),l.server_.merge(i.toString(),s,(we,Ke)=>{const Ze="ok"===we;Ze||nn("update at "+i+" failed: "+we);const at=zi(l.serverSyncTree_,Z,!Ze),Ht=at.length>0?Qa(l,i):i;ze(l.eventQueue_,Ht,at),Ua(0,d,we,Ke)}),wt(s,we=>{const Ke=Xa(l,$n(i,we));Qa(l,Ke)}),ze(l.eventQueue_,i,[])}}(l._repo,l._path,i,s.wrapCallback(()=>{})),s.promise}function Du(l){l=(0,Y.m9)(l);const i=new Ja(()=>{}),s=new ec(i);return function vc(l,i,s){const d=function gc(l,i){const s=i._path;let d=null;l.syncPointTree_.foreachOnPath(s,(we,Ke)=>{const Ze=yr(we,s);d=d||k(Ke,Ze)});let y=l.syncPointTree_.get(s);y?d=d||k(y,me()):(y=new Pa,l.syncPointTree_=l.syncPointTree_.set(s,y));const S=null!=d,O=S?new si(d,!0,!1):null;return function pl(l){return N(l.viewCache_)}(v(y,i,Bs(l.pendingWriteTree_,i._path),S?O.getNode():dn.EMPTY_NODE,S))}(l.serverSyncTree_,i);return null!=d?Promise.resolve(d):l.server_.get(i).then(y=>{const S=sr(y).withIndex(i._queryParams.getIndex());let O;if(Ds(l.serverSyncTree_,i,s,!0),i._queryParams.loadsAllData())O=js(l.serverSyncTree_,i._path,S);else{const Z=Ra(l.serverSyncTree_,i);O=to(l.serverSyncTree_,i._path,S,Z)}return ze(l.eventQueue_,i._path,O),fa(l.serverSyncTree_,i,s,null,!0),S},y=>(Dl(l,"get for query "+(0,Y.Wl)(i)+" failed: "+y),Promise.reject(new Error(y))))}(l._repo,l,s).then(d=>new ta(d,new co(l._repo,l._path),l._queryParams.getIndex()))}class ec{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,s){const d=s._queryParams.getIndex();return new Yd("value",this,new ta(i.snapshotNode,new co(s._repo,s._path),d))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new wc(this,i,s):null}matches(i){return i instanceof ec&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Al{constructor(i,s){this.eventType=i,this.callbackContext=s}respondsTo(i){let s="children_added"===i?"child_added":i;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new wc(this,i,s):null}createEvent(i,s){(0,Y.hu)(null!=i.childName,"Child events should have a childName.");const d=tl(new co(s._repo,s._path),i.childName),y=s._queryParams.getIndex();return new Yd(i.type,this,new ta(i.snapshotNode,d,y),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof Al&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ps(l,i,s,d,y){let S;if("object"==typeof d&&(S=void 0,y=d),"function"==typeof d&&(S=d),y&&y.onlyOnce){const de=s,we=(Ke,Ze)=>{Ec(l._repo,l,Z),de(Ke,Ze)};we.userCallback=s.userCallback,we.context=s.context,s=we}const O=new Ja(s,S||void 0),Z="value"===i?new ec(O):new Al(i,O);return function zd(l,i,s){let d;d=".info"===Re(i._path)?Ds(l.infoSyncTree_,i,s):Ds(l.serverSyncTree_,i,s),Ne(l.eventQueue_,i._path,d)}(l._repo,l,Z),()=>Ec(l._repo,l,Z)}function tc(l,i,s,d){return ps(l,"value",i,s,d)}function nc(l,i,s,d){return ps(l,"child_added",i,s,d)}function bc(l,i,s,d){return ps(l,"child_changed",i,s,d)}function Ss(l,i,s,d){return ps(l,"child_moved",i,s,d)}function Ml(l,i,s,d){return ps(l,"child_removed",i,s,d)}function Gc(l,i,s){let d=null;const y=s?new Ja(s):null;"value"===i?d=new ec(y):i&&(d=new Al(i,y)),Ec(l._repo,l,d)}class Do{}class Kc extends Do{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){xi("endAt",this._value,i._path,!0);const s=so(i._queryParams,this._value,this._key);if(Ca(s),ba(s),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Os(i._repo,i._path,s,i._orderByCalled)}}class ud extends Do{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){xi("endBefore",this._value,i._path,!1);const s=function j(l,i,s){let d;return d=so(l,i,l.index_===Qn||s?s:St),d.endBeforeSet_=!0,d}(i._queryParams,this._value,this._key);if(Ca(s),ba(s),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Os(i._repo,i._path,s,i._orderByCalled)}}class Dc extends Do{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){xi("startAt",this._value,i._path,!0);const s=us(i._queryParams,this._value,this._key);if(Ca(s),ba(s),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Os(i._repo,i._path,s,i._orderByCalled)}}class dd extends Do{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){xi("startAfter",this._value,i._path,!1);const s=function Pi(l,i,s){let d;return d=us(l,i,l.index_===Qn||s?s:Mn),d.startAfterSet_=!0,d}(i._queryParams,this._value,this._key);if(Ca(s),ba(s),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Os(i._repo,i._path,s,i._orderByCalled)}}class Pl extends Do{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Os(i._repo,i._path,function ro(l,i){const s=l.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="l",s}(i._queryParams,this._limit),i._orderByCalled)}}class fd extends Do{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Os(i._repo,i._path,function io(l,i){const s=l.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="r",s}(i._queryParams,this._limit),i._orderByCalled)}}class Su extends Do{constructor(i){super(),this._path=i}_apply(i){Tl(i,"orderByChild");const s=new re(this._path);if(ht(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const d=new Fs(s),y=_(i._queryParams,d);return ba(y),new Os(i._repo,i._path,y,!0)}}class Zc extends Do{_apply(i){Tl(i,"orderByKey");const s=_(i._queryParams,Qn);return ba(s),new Os(i._repo,i._path,s,!0)}}class Tu extends Do{_apply(i){Tl(i,"orderByPriority");const s=_(i._queryParams,gr);return ba(s),new Os(i._repo,i._path,s,!0)}}class Sc extends Do{_apply(i){Tl(i,"orderByValue");const s=_(i._queryParams,po);return ba(s),new Os(i._repo,i._path,s,!0)}}class Xc extends Do{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){if(xi("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Kc(this._value,this._key)._apply(new Dc(this._value,this._key)._apply(i))}}function Uo(l,...i){let s=(0,Y.m9)(l);for(const d of i)s=d._apply(s);return s}(function zo(l){(0,Y.hu)(!Ma,"__referenceConstructor has already been defined"),Ma=l})(co),function qt(l){(0,Y.hu)(!Kt,"__referenceConstructor has already been defined"),Kt=l}(co);const Ac={};function eu(l,i,s,d,y){let S=d||l.options.databaseURL;void 0===S&&(l.options.projectId||Dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fn("Using default host for project ",l.options.projectId),S=`${l.options.projectId}-default-rtdb.firebaseio.com`);let de,we,O=jc(S,y),Z=O.repoInfo;typeof process<"u"&&process.env&&(we=process.env.FIREBASE_DATABASE_EMULATOR_HOST),we?(de=!0,S=`http://${we}?ns=${Z.namespace}`,O=jc(S,y),Z=O.repoInfo):de=!O.repoInfo.secure;const Ke=y&&de?new On(On.OWNER):new _n(l.name,l.options,i);B("Invalid Firebase Database URL",O),ht(O.path)||Dn("Database URL must point to the root of a Firebase Database (not including a child path).");const Ze=function ic(l,i,s,d){let y=Ac[i.name];y||(y={},Ac[i.name]=y);let S=y[l.toURLString()];return S&&Dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),S=new Hn(l,false,s,d),y[l.toURLString()]=S,S}(Z,l,Ke,new mr(l.name,s));return new $s(Ze,l)}class $s{constructor(i,s){this._repoInternal=i,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Is(l,i,s){if(l.stats_=rn(l.repoInfo_),l.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)l.server_=new V(l.repoInfo_,(d,y,S,O)=>{wa(l,d,y,S,O)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>La(l,!0),0);else{if(typeof s<"u"&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Y.Wl)(s)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}l.persistentConnection_=new fe(l.repoInfo_,i,(d,y,S,O)=>{wa(l,d,y,S,O)},d=>{La(l,d)},d=>{!function fs(l,i){wt(i,(s,d)=>{bo(l,s,d)})}(l,d)},l.authTokenProvider_,l.appCheckProvider_,s),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(d=>{l.server_.refreshAuthToken(d)}),l.appCheckProvider_.addTokenChangeListener(d=>{l.server_.refreshAppCheckToken(d.token)}),l.statsReporter_=function kn(l,i){const s=l.toString();return Jt[s]||(Jt[s]=i()),Jt[s]}(l.repoInfo_,()=>new hn(l.stats_,l.server_)),l.infoData_=new ne,l.infoSyncTree_=new No({startListening:(d,y,S,O)=>{let Z=[];const de=l.infoData_.getNode(d._path);return de.isEmpty()||(Z=js(l.infoSyncTree_,d._path,de),setTimeout(()=>{O("ok")},0)),Z},stopListening:()=>{}}),bo(l,"connected",!1),l.serverSyncTree_=new No({startListening:(d,y,S,O)=>(l.server_.listen(d,S,y,(Z,de)=>{const we=O(Z,de);ze(l.eventQueue_,d._path,we)}),[]),stopListening:(d,y)=>{l.server_.unlisten(d,y)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new co(this._repo,me())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Au(l,i){const s=Ac[i];(!s||s[l.key]!==l)&&Dn(`Database ${i}(${l.repoInfo_}) has already been deleted.`),_u(l),delete s[l.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Dn("Cannot call "+i+" on a deleted database.")}}function Rl(){Yi.IS_TRANSPORT_INITIALIZED&&nn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Pu(){Rl(),Kr.forceDisallow()}function tu(){Rl(),vi.forceDisallow(),Kr.forceAllow()}function md(l,i){An(l,i)}const sc={".sv":"timestamp"};class Nu{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}fe.prototype.simpleListen=function(l,i){this.sendRequest("q",{p:l},i)},fe.prototype.echo=function(l,i){this.sendRequest("echo",{d:l},i)},function rl(l){tr(yt.SDK_VERSION),(0,yt._registerComponent)(new Pt.wA("database",(i,{instanceIdentifier:s})=>eu(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,yt.registerVersion)(on,"0.14.4",l),(0,yt.registerVersion)(on,"0.14.4","esm2017")}();const ia=new _t.Yd("@firebase/database-compat"),Ba=function(l){ia.warn("FIREBASE WARNING: "+l)};class au{constructor(i){this._delegate=i}cancel(i){(0,Y.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.cancel","onComplete",i,!0);const s=this._delegate.cancel();return i&&s.then(()=>i(null),d=>i(d)),s}remove(i){(0,Y.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Y.Wj)("OnDisconnect.remove","onComplete",i,!0);const s=this._delegate.remove();return i&&s.then(()=>i(null),d=>i(d)),s}set(i,s){(0,Y.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Y.Wj)("OnDisconnect.set","onComplete",s,!0);const d=this._delegate.set(i);return s&&d.then(()=>s(null),y=>s(y)),d}setWithPriority(i,s,d){(0,Y.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Y.Wj)("OnDisconnect.setWithPriority","onComplete",d,!0);const y=this._delegate.setWithPriority(i,s);return d&&y.then(()=>d(null),S=>d(S)),y}update(i,s){if((0,Y.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const y={};for(let S=0;S<i.length;++S)y[""+S]=i[S];i=y,Ba("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Y.Wj)("OnDisconnect.update","onComplete",s,!0);const d=this._delegate.update(i);return s&&d.then(()=>s(null),y=>s(y)),d}}class il{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return(0,Y.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Va{constructor(i,s){this._database=i,this._delegate=s}val(){return(0,Y.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Y.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Y.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Y.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,Y.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),bl("DataSnapshot.child","path",i,!1),new Va(this._database,this._delegate.child(i))}hasChild(i){return(0,Y.Dv)("DataSnapshot.hasChild",1,1,arguments.length),bl("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,Y.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,Y.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Y.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(s=>i(new Va(this._database,s)))}hasChildren(){return(0,Y.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Y.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Y.Dv)("DataSnapshot.ref",0,0,arguments.length),new uo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class gs{constructor(i,s){this.database=i,this._delegate=s}on(i,s,d,y){var S;(0,Y.Dv)("Query.on",2,4,arguments.length),(0,Y.Wj)("Query.on","callback",s,!1);const O=gs.getCancelAndContextArgs_("Query.on",d,y),Z=(we,Ke)=>{s.call(O.context,new Va(this.database,we),Ke)};Z.userCallback=s,Z.context=O.context;const de=null===(S=O.cancel)||void 0===S?void 0:S.bind(O.context);switch(i){case"value":return tc(this._delegate,Z,de),s;case"child_added":return nc(this._delegate,Z,de),s;case"child_removed":return Ml(this._delegate,Z,de),s;case"child_changed":return bc(this._delegate,Z,de),s;case"child_moved":return Ss(this._delegate,Z,de),s;default:throw new Error((0,Y.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,s,d){if((0,Y.Dv)("Query.off",0,3,arguments.length),function(l,i,s){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Y.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,Y.Wj)("Query.off","callback",s,!0),(0,Y.lb)("Query.off","context",d,!0),s){const y=()=>{};y.userCallback=s,y.context=d,Gc(this._delegate,i,y)}else Gc(this._delegate,i)}get(){return Du(this._delegate).then(i=>new Va(this.database,i))}once(i,s,d,y){(0,Y.Dv)("Query.once",1,4,arguments.length),(0,Y.Wj)("Query.once","callback",s,!0);const S=gs.getCancelAndContextArgs_("Query.once",d,y),O=new Y.BH,Z=(we,Ke)=>{const Ze=new Va(this.database,we);s&&s.call(S.context,Ze,Ke),O.resolve(Ze)};Z.userCallback=s,Z.context=S.context;const de=we=>{S.cancel&&S.cancel.call(S.context,we),O.reject(we)};switch(i){case"value":tc(this._delegate,Z,de,{onlyOnce:!0});break;case"child_added":nc(this._delegate,Z,de,{onlyOnce:!0});break;case"child_removed":Ml(this._delegate,Z,de,{onlyOnce:!0});break;case"child_changed":bc(this._delegate,Z,de,{onlyOnce:!0});break;case"child_moved":Ss(this._delegate,Z,de,{onlyOnce:!0});break;default:throw new Error((0,Y.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return O.promise}limitToFirst(i){return(0,Y.Dv)("Query.limitToFirst",1,1,arguments.length),new gs(this.database,Uo(this._delegate,function Yc(l){if("number"!=typeof l||Math.floor(l)!==l||l<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Pl(l)}(i)))}limitToLast(i){return(0,Y.Dv)("Query.limitToLast",1,1,arguments.length),new gs(this.database,Uo(this._delegate,function rc(l){if("number"!=typeof l||Math.floor(l)!==l||l<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new fd(l)}(i)))}orderByChild(i){return(0,Y.Dv)("Query.orderByChild",1,1,arguments.length),new gs(this.database,Uo(this._delegate,function pd(l){if("$key"===l)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===l)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===l)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return bl("orderByChild","path",l,!1),new Su(l)}(i)))}orderByKey(){return(0,Y.Dv)("Query.orderByKey",0,0,arguments.length),new gs(this.database,Uo(this._delegate,function qc(){return new Zc}()))}orderByPriority(){return(0,Y.Dv)("Query.orderByPriority",0,0,arguments.length),new gs(this.database,Uo(this._delegate,function na(){return new Tu}()))}orderByValue(){return(0,Y.Dv)("Query.orderByValue",0,0,arguments.length),new gs(this.database,Uo(this._delegate,function Qc(){return new Sc}()))}startAt(i=null,s){return(0,Y.Dv)("Query.startAt",0,2,arguments.length),new gs(this.database,Uo(this._delegate,function Ic(l=null,i){return wl("startAt","key",i,!0),new Dc(l,i)}(i,s)))}startAfter(i=null,s){return(0,Y.Dv)("Query.startAfter",0,2,arguments.length),new gs(this.database,Uo(this._delegate,function hd(l,i){return wl("startAfter","key",i,!0),new dd(l,i)}(i,s)))}endAt(i=null,s){return(0,Y.Dv)("Query.endAt",0,2,arguments.length),new gs(this.database,Uo(this._delegate,function Cc(l,i){return wl("endAt","key",i,!0),new Kc(l,i)}(i,s)))}endBefore(i=null,s){return(0,Y.Dv)("Query.endBefore",0,2,arguments.length),new gs(this.database,Uo(this._delegate,function Iu(l,i){return wl("endBefore","key",i,!0),new ud(l,i)}(i,s)))}equalTo(i,s){return(0,Y.Dv)("Query.equalTo",1,2,arguments.length),new gs(this.database,Uo(this._delegate,function Tc(l,i){return wl("equalTo","key",i,!0),new Xc(l,i)}(i,s)))}toString(){return(0,Y.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Y.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,Y.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof gs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,s,d){const y={cancel:void 0,context:void 0};if(s&&d)y.cancel=s,(0,Y.Wj)(i,"cancel",y.cancel,!0),y.context=d,(0,Y.lb)(i,"context",y.context,!0);else if(s)if("object"==typeof s&&null!==s)y.context=s;else{if("function"!=typeof s)throw new Error((0,Y.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");y.cancel=s}return y}get ref(){return new uo(this.database,new co(this._delegate._repo,this._delegate._path))}}class uo extends gs{constructor(i,s){super(i,new Os(s._repo,s._path,new cs,!1)),this.database=i,this._delegate=s}getKey(){return(0,Y.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,Y.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new uo(this.database,tl(this._delegate,i))}getParent(){(0,Y.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new uo(this.database,i):null}getRoot(){return(0,Y.Dv)("Reference.root",0,0,arguments.length),new uo(this.database,this._delegate.root)}set(i,s){(0,Y.Dv)("Reference.set",1,2,arguments.length),(0,Y.Wj)("Reference.set","onComplete",s,!0);const d=Jl(this._delegate,i);return s&&d.then(()=>s(null),y=>s(y)),d}update(i,s){if((0,Y.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const y={};for(let S=0;S<i.length;++S)y[""+S]=i[S];i=y,Ba("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}M("Reference.update",this._delegate._path),(0,Y.Wj)("Reference.update","onComplete",s,!0);const d=Wc(this._delegate,i);return s&&d.then(()=>s(null),y=>s(y)),d}setWithPriority(i,s,d){(0,Y.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Y.Wj)("Reference.setWithPriority","onComplete",d,!0);const y=function cd(l,i,s){if(M("setWithPriority",l._path),xi("setWithPriority",i,l._path,!1),Za("setWithPriority",s,!1),".length"===l.key||".keys"===l.key)throw"setWithPriority failed: "+l.key+" is a read-only object.";const d=new Y.BH;return Cl(l._repo,l._path,i,s,d.wrapCallback(()=>{})),d.promise}(this._delegate,i,s);return d&&y.then(()=>d(null),S=>d(S)),y}remove(i){(0,Y.Dv)("Reference.remove",0,1,arguments.length),(0,Y.Wj)("Reference.remove","onComplete",i,!0);const s=function Cu(l){return M("remove",l._path),Jl(l,null)}(this._delegate);return i&&s.then(()=>i(null),d=>i(d)),s}transaction(i,s,d){(0,Y.Dv)("Reference.transaction",1,3,arguments.length),(0,Y.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,Y.Wj)("Reference.transaction","onComplete",s,!0),function(l,i,s,d){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,Y.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,d);const y=function iu(l,i,s){var d;if(l=(0,Y.m9)(l),M("Reference.transaction",l._path),".length"===l.key||".keys"===l.key)throw"Reference.transaction failed: "+l.key+" is a read-only object.";const y=null===(d=s?.applyLocally)||void 0===d||d,S=new Y.BH,Z=tc(l,()=>{});return function ad(l,i,s,d,y,S){Dl(l,"transaction on "+i);const O={path:i,update:s,onComplete:d,status:null,order:It(),applyLocally:S,retryCount:0,unwatcher:y,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Z=Il(l,i,void 0);O.currentInputSnapshot=Z;const de=O.update(Z.val());if(void 0===de)O.unwatcher(),O.currentOutputSnapshotRaw=null,O.currentOutputSnapshotResolved=null,O.onComplete&&O.onComplete(null,!1,O.currentInputSnapshot);else{va("transaction failed: Data returned ",de,O.path),O.status=0;const we=wo(l.transactionQueueTree_,i),Ke=Rs(we)||[];let Ze;Ke.push(O),xa(we,Ke),"object"==typeof de&&null!==de&&(0,Y.r3)(de,".priority")?(Ze=(0,Y.DV)(de,".priority"),(0,Y.hu)(hs(Ze),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ze=(Ko(l.serverSyncTree_,i)||dn.EMPTY_NODE).getPriority().val();const at=ea(l),Ht=sr(de,Ze),pn=Fo(Ht,Z,at);O.currentOutputSnapshotRaw=Ht,O.currentOutputSnapshotResolved=pn,O.currentWriteId=Fa(l);const jr=ao(l.serverSyncTree_,i,pn,O.currentWriteId,O.applyLocally);ze(l.eventQueue_,i,jr),Ql(l,l.transactionQueueTree_)}}(l._repo,l._path,i,(de,we,Ke)=>{let Ze=null;de?S.reject(de):(Ze=new ta(Ke,new co(l._repo,l._path),gr),S.resolve(new Nu(we,Ze)))},Z,y),S.promise}(this._delegate,i,{applyLocally:d}).then(S=>new il(S.committed,new Va(this.database,S.snapshot)));return s&&y.then(S=>s(null,S.committed,S.snapshot),S=>s(S,!1,null)),y}setPriority(i,s){(0,Y.Dv)("Reference.setPriority",1,2,arguments.length),(0,Y.Wj)("Reference.setPriority","onComplete",s,!0);const d=function zc(l,i){l=(0,Y.m9)(l),M("setPriority",l._path),Za("setPriority",i,!1);const s=new Y.BH;return Cl(l._repo,$n(l._path,".priority"),i,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,i);return s&&d.then(()=>s(null),y=>s(y)),d}push(i,s){(0,Y.Dv)("Reference.push",0,2,arguments.length),(0,Y.Wj)("Reference.push","onComplete",s,!0);const d=function nl(l,i){l=(0,Y.m9)(l),M("push",l._path),xi("push",i,l._path,!0);const s=ci(l._repo),d=Kd(s),y=tl(l,d),S=tl(l,d);let O;return O=null!=i?Jl(S,i).then(()=>S):Promise.resolve(S),y.then=O.then.bind(O),y.catch=O.then.bind(O,void 0),y}(this._delegate,i),y=d.then(O=>new uo(this.database,O));s&&y.then(()=>s(null),O=>s(O));const S=new uo(this.database,d);return S.then=y.then.bind(y),S.catch=y.catch.bind(y,void 0),S}onDisconnect(){return M("Reference.onDisconnect",this._delegate._path),new au(new el(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class lc{constructor(i,s){this._delegate=i,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Pu,forceLongPolling:tu}}useEmulator(i,s,d={}){!function ra(l,i,s,d={}){(l=(0,Y.m9)(l))._checkNotDeleted("useEmulator"),l._instanceStarted&&Dn("Cannot call useEmulator() after instance has already been initialized.");const y=l._repoInternal;let S;if(y.repoInfo_.nodeAdmin)d.mockUserToken&&Dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),S=new On(On.OWNER);else if(d.mockUserToken){const O="string"==typeof d.mockUserToken?d.mockUserToken:(0,Y.Sg)(d.mockUserToken,l.app.options.projectId);S=new On(O)}!function Jc(l,i,s,d){l.repoInfo_=new W(`${i}:${s}`,!1,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0),d&&(l.authTokenProvider_=d)}(y,i,s,S)}(this._delegate,i,s,d)}ref(i){if((0,Y.Dv)("database.ref",0,1,arguments.length),i instanceof uo){const s=Co(this._delegate,i.toString());return new uo(this,s)}{const s=Xl(this._delegate,i);return new uo(this,s)}}refFromURL(i){(0,Y.Dv)("database.refFromURL",1,1,arguments.length);const d=Co(this._delegate,i);return new uo(this,d)}goOffline(){return(0,Y.Dv)("database.goOffline",0,0,arguments.length),function Ru(l){(l=(0,Y.m9)(l))._checkNotDeleted("goOffline"),_u(l._repo)}(this._delegate)}goOnline(){return(0,Y.Dv)("database.goOnline",0,0,arguments.length),function ru(l){(l=(0,Y.m9)(l))._checkNotDeleted("goOnline"),function yu(l){l.persistentConnection_&&l.persistentConnection_.resume(Yt)}(l._repo)}(this._delegate)}}lc.ServerValue={TIMESTAMP:function _d(){return sc}(),increment:l=>function Ou(l){return{".sv":{increment:l}}}(l)};var a=Object.freeze({__proto__:null,initStandalone:function f({app:l,url:i,version:s,customAuthImpl:d,namespace:y,nodeAdmin:S=!1}){tr(s);const O=new Pt.zt("auth-internal",new Pt.H0("database-standalone"));return O.setComponent(new Pt.wA("auth-internal",()=>d,"PRIVATE")),{instance:new lc(eu(l,O,void 0,i,S),l),namespace:y}}});const c=lc.ServerValue;!function g(l){l.INTERNAL.registerComponent(new Pt.wA("database-compat",(i,{instanceIdentifier:s})=>{const d=i.getProvider("app-compat").getImmediate(),y=i.getProvider("database").getImmediate({identifier:s});return new lc(y,d)},"PUBLIC").setServiceProps({Reference:uo,Query:gs,Database:lc,DataSnapshot:Va,enableLogging:md,INTERNAL:a,ServerValue:c}).setMultipleInstances(!0)),l.registerVersion("@firebase/database-compat","0.3.4")}(bt.Z);var P=U(4941),F=U(6217),pe=U(9260);function Xe(l){return null==l}function Dt(l){return"function"==typeof l.set}function Ut(l,i){return Dt(i)?i:l.ref(i)}function Wn(l,i){if(function Me(l){return"string"==typeof l}(l))return i.stringCase();if(Dt(l))return i.firebaseCase();if(function ot(l){return"function"==typeof l.exportVal}(l))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof l)}function ui(l,i,s="on",d=J.z){return new Q.y(y=>{let S=null;return S=l[s](i,(O,Z)=>{d.schedule(()=>{y.next({snapshot:O,prevKey:Z})}),"once"===s&&d.schedule(()=>y.complete())},O=>{d.schedule(()=>y.error(O))}),"on"===s?{unsubscribe(){null!=S&&l.off(i,S)}}:{unsubscribe(){}}}).pipe((0,ie.U)(y=>{const{snapshot:S,prevKey:O}=y;let Z=null;return S.exists()&&(Z=S.key),{type:i,payload:S,prevKey:O,key:Z}}),(0,Ie.B)())}function Nl(l,i){const s=l.length;for(let d=0;d<s;d++)if(l[d].payload.key===i)return d;return-1}function lu(l,i){const{payload:s,prevKey:d,key:y}=i,S=Nl(l,y),O=function Pc(l,i){if(Xe(i))return 0;{const s=Nl(l,i);return-1===s?l.length:s+1}}(l,d);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let Z=null;i.payload.forEach(de=>{const we={payload:de,type:"value",prevKey:Z,key:de.key};return Z=de.key,l=[...l,we],!1})}return l;case"child_added":if(S>-1){const Z=l[S-1];(Z&&Z.key||null)!==d&&(l=l.filter(de=>de.payload.key!==s.key)).splice(O,0,i)}else{if(null==d)return[i,...l];(l=l.slice()).splice(O,0,i)}return l;case"child_removed":return l.filter(Z=>Z.payload.key!==s.key);case"child_changed":return l.map(Z=>Z.payload.key===y?i:Z);case"child_moved":if(S>-1){const Z=l.splice(S,1)[0];return(l=l.slice()).splice(O,0,Z),l}return l;default:return l}}function Rc(l){return(Xe(l)||0===l.length)&&(l=["child_added","child_removed","child_changed","child_moved"]),l}function Oc(l,i,s){return function sa(l,i,s){return ui(l,"value","once",s).pipe((0,ge.w)(d=>{const y=[(0,Ce.of)(d)];return i.forEach(S=>y.push(ui(l,S,"on",s))),(0,oe.T)(...y).pipe((0,ye.R)(lu,[]))}),(0,se.x)())}(l,i=Rc(i),s)}function cu(l,i,s){const d=(i=Rc(i)).map(y=>ui(l,y,"on",s));return(0,oe.T)(...d)}function Da(l,i){return function(d,y){return Wn(d,{stringCase:()=>l.child(d)[i](y),firebaseCase:()=>d[i](y),snapshotCase:()=>d.ref[i](y)})}}function sl(l){return function(s){return s?Wn(s,{stringCase:()=>l.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):l.remove()}}function Lh(l,i){return function(){return ui(l,"value","on",i)}}const Op=new h.OlP("angularfire2.realtimeDatabaseURL"),Np=new h.OlP("angularfire2.database.use-emulator");let Fh=(()=>{class l{constructor(s,d,y,S,O,Z,de,we,Ke,Ze,at,Ht,pn,jr,Ws){this.schedulers=Z;const Ia=de,ol=(0,Je.on)(s,O,d);we&&(0,P.nw)(ol,O,Ke,at,Ht,pn,Ze,jr),this.database=(0,Je.cc)(`${ol.name}.database.${y}`,"AngularFireDatabase",ol.name,()=>{const Nc=O.runOutsideAngular(()=>ol.database(y||void 0));return Ia&&Nc.useEmulator(...Ia),Nc},[Ia])}list(s,d){const y=this.schedulers.ngZone.runOutsideAngular(()=>Ut(this.database,s));let S=y;return d&&(S=d(y)),function yd(l,i){const s=i.schedulers.outsideAngular,d=i.schedulers.ngZone.run(()=>l.ref);return{query:l,update:Da(d,"update"),set:Da(d,"set"),push:y=>d.push(y),remove:sl(d),snapshotChanges:y=>Oc(l,y,s).pipe(Ge.iC),stateChanges:y=>cu(l,y,s).pipe(Ge.iC),auditTrail:y=>function xu(l,i,s){return function ku(l,i,s){return function uu(l,i){return ui(l,"value","on",i).pipe((0,ie.U)(s=>{let d;return s.payload.forEach(y=>(d=y.key,!1)),{data:s,lastKeyToLoad:d}}))}(l,s).pipe(function xe(...l){return i=>{let s;return"function"==typeof l[l.length-1]&&(s=l.pop()),i.lift(new Ye(l,s))}}(i),(0,ie.U)(([y,S])=>{const O=y.lastKeyToLoad,Z=S.map(de=>de.key);return{actions:S,lastKeyToLoad:O,loadedKeys:Z}}),function Fe(l){return i=>i.lift(new lt(l))}(y=>-1===y.loadedKeys.indexOf(y.lastKeyToLoad)),(0,ie.U)(y=>y.actions))}(l,cu(l,i).pipe((0,ye.R)((y,S)=>[...y,S],[])),s)}(l,y,s).pipe(Ge.iC),valueChanges:(y,S)=>Oc(l,y,s).pipe((0,ie.U)(Z=>Z.map(de=>S&&S.idField?Object.assign(Object.assign({},de.payload.val()),{[S.idField]:de.key}):de.payload.val())),Ge.iC)}}(S,this)}object(s){return function Rp(l,i){return{query:l,snapshotChanges:()=>Lh(l,i.schedulers.outsideAngular)().pipe(Ge.iC),update:s=>l.ref.update(s),set:s=>l.ref.set(s),remove:()=>l.ref.remove(),valueChanges:()=>Lh(l,i.schedulers.outsideAngular)().pipe(Ge.iC,(0,ie.U)(d=>d.payload.exists()?d.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Ut(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return l.\u0275fac=function(s){return new(s||l)(h.LFG(Je.Dh),h.LFG(Je.xv,8),h.LFG(Op,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ge.HU),h.LFG(Np,8),h.LFG(P.zQ,8),h.LFG(P.Qv,8),h.LFG(P.L6,8),h.LFG(P._Q,8),h.LFG(P.rT,8),h.LFG(P.lh,8),h.LFG(P.f7,8),h.LFG(F.nm,8))},l.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"any"}),l})(),Zd=(()=>{class l{constructor(){pe.Z.registerVersion("angularfire",Ge.q4.full,"rtdb-compat")}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=h.oAB({type:l}),l.\u0275inj=h.cJS({providers:[Fh]}),l})()},2011:(At,Be,U)=>{U.d(Be,{Dh:()=>ge,GT:()=>ie,cc:()=>Ye,hO:()=>xe,on:()=>se,pX:()=>oe,xv:()=>ye});var h=U(2223),J=U(9260),Q=U(8405);At=U.hmd(At);const Ce=["ngOnDestroy"],oe=(lt,He,Ge,Je={})=>new Proxy(lt,{get:(et,bt)=>Ge.runOutsideAngular(()=>{var Pt;if(lt[bt])return!(null===(Pt=Je?.spy)||void 0===Pt)&&Pt.get&&Je.spy.get(bt,lt[bt]),lt[bt];if(Ce.indexOf(bt)>-1)return()=>{};const pt=He.toPromise().then(yt=>{const Y=yt&&yt[bt];return"function"==typeof Y?Y.bind(yt):Y&&Y.then?Y.then(_t=>Ge.run(()=>_t)):Ge.run(()=>Y)});return new Proxy(()=>{},{get:(yt,Y)=>pt[Y],apply:(yt,Y,_t)=>pt.then(on=>{var Nr;const Jn=on&&on(..._t);return!(null===(Nr=Je?.spy)||void 0===Nr)&&Nr.apply&&Je.spy.apply(bt,_t,Jn),Jn})})})}),ie=(lt,He)=>{He.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Je=>{Object.defineProperty(lt.prototype,Je,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Je))})})};class Ie{constructor(He){return He}}const ge=new h.OlP("angularfire2.app.options"),ye=new h.OlP("angularfire2.app.name");function se(lt,He,Ge){const et="object"==typeof Ge&&Ge||{};et.name=et.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Pt=J.Z.apps.filter(pt=>pt&&pt.name===et.name)[0]||He.runOutsideAngular(()=>J.Z.initializeApp(lt,et));try{JSON.stringify(lt)!==JSON.stringify(Pt.options)&&ce("error",`${Pt.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(Pt)}const ce=(lt,...He)=>{(0,h.X6Q)()&&typeof console<"u"&&console[lt](...He)},le={provide:Ie,useFactory:se,deps:[ge,h.R0b,[new h.FiY,ye]]};let xe=(()=>{class lt{constructor(Ge){J.Z.registerVersion("angularfire",Q.q4.full,"core"),J.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),J.Z.registerVersion("angular",h.q4F.full,Ge.toString())}static initializeApp(Ge,Je){return{ngModule:lt,providers:[{provide:ge,useValue:Ge},{provide:ye,useValue:Je}]}}}return lt.\u0275fac=function(Ge){return new(Ge||lt)(h.LFG(h.Lbi))},lt.\u0275mod=h.oAB({type:lt}),lt.\u0275inj=h.cJS({providers:[le]}),lt})();function Ye(lt,He,Ge,Je,et){const[,bt,Pt]=globalThis.\u0275AngularfireInstanceCache.find(pt=>pt[0]===lt)||[];if(bt)return function Bt(lt,He){try{return lt.toString()===He.toString()}catch{return lt===He}}(et,Pt)||(Fe("error",`${He} was already initialized on the ${Ge} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:et,was:Pt})),bt;{const pt=Je();return globalThis.\u0275AngularfireInstanceCache.push([lt,pt,et]),pt}}const dt=!!At.hot,Fe=(lt,...He)=>{(0,h.X6Q)()&&typeof console<"u"&&console[lt](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8405:(At,Be,U)=>{U.d(Be,{q4:()=>yl,iC:()=>Ea,HU:()=>ya,vb:()=>yc,JM:()=>ma});var h=U(2223),J=U(259),Q=U(5861),Ce=U(6881),oe=U(2090),ie=U(4859),Ie=U(1877);const ge=(b,M)=>M.some(B=>b instanceof B);let ye,se;const xe=new WeakMap,Ye=new WeakMap,Bt=new WeakMap,dt=new WeakMap,Fe=new WeakMap;let Ge={get(b,M,B){if(b instanceof IDBTransaction){if("done"===M)return Ye.get(b);if("objectStoreNames"===M)return b.objectStoreNames||Bt.get(b);if("store"===M)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return Pt(b[M])},set:(b,M,B)=>(b[M]=B,!0),has:(b,M)=>b instanceof IDBTransaction&&("done"===M||"store"===M)||M in b};function bt(b){return"function"==typeof b?function et(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...M){return b.apply(pt(this),M),Pt(xe.get(this))}:function(...M){return Pt(b.apply(pt(this),M))}:function(M,...B){const ae=b.call(pt(this),M,...B);return Bt.set(ae,M.sort?M.sort():[M]),Pt(ae)}}(b):(b instanceof IDBTransaction&&function He(b){if(Ye.has(b))return;const M=new Promise((B,ae)=>{const Se=()=>{b.removeEventListener("complete",Ne),b.removeEventListener("error",ze),b.removeEventListener("abort",ze)},Ne=()=>{B(),Se()},ze=()=>{ae(b.error||new DOMException("AbortError","AbortError")),Se()};b.addEventListener("complete",Ne),b.addEventListener("error",ze),b.addEventListener("abort",ze)});Ye.set(b,M)}(b),ge(b,function ce(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Ge):b)}function Pt(b){if(b instanceof IDBRequest)return function lt(b){const M=new Promise((B,ae)=>{const Se=()=>{b.removeEventListener("success",Ne),b.removeEventListener("error",ze)},Ne=()=>{B(Pt(b.result)),Se()},ze=()=>{ae(b.error),Se()};b.addEventListener("success",Ne),b.addEventListener("error",ze)});return M.then(B=>{B instanceof IDBCursor&&xe.set(B,b)}).catch(()=>{}),Fe.set(M,b),M}(b);if(dt.has(b))return dt.get(b);const M=bt(b);return M!==b&&(dt.set(b,M),Fe.set(M,b)),M}const pt=b=>Fe.get(b),_t=["get","getKey","getAll","getAllKeys","count"],on=["put","add","delete","clear"],Nr=new Map;function Jn(b,M){if(!(b instanceof IDBDatabase)||M in b||"string"!=typeof M)return;if(Nr.get(M))return Nr.get(M);const B=M.replace(/FromIndex$/,""),ae=M!==B,Se=on.includes(B);if(!(B in(ae?IDBIndex:IDBObjectStore).prototype)||!Se&&!_t.includes(B))return;const Ne=function(){var ze=(0,Q.Z)(function*(Nt,...Tt){const Yt=this.transaction(Nt,Se?"readwrite":"readonly");let Ln=Yt.store;return ae&&(Ln=Ln.index(Tt.shift())),(yield Promise.all([Ln[B](...Tt),Se&&Yt.done]))[0]});return function(Tt){return ze.apply(this,arguments)}}();return Nr.set(M,Ne),Ne}!function Je(b){Ge=b(Ge)}(b=>({...b,get:(M,B,ae)=>Jn(M,B)||b.get(M,B,ae),has:(M,B)=>!!Jn(M,B)||b.has(M,B)}));const tr="@firebase/installations",lr="0.6.4",Mr=1e4,br=`w:${lr}`,vr="FIS_v2",ln="https://firebaseinstallations.googleapis.com/v1",kt=36e5,gn=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Vt(b){return b instanceof oe.ZR&&b.code.includes("request-failed")}function An({projectId:b}){return`${ln}/projects/${b}/installations`}function fn(b){return{token:b.token,requestStatus:2,expiresIn:nt(b.expiresIn),creationTime:Date.now()}}function Gn(b,M){return xn.apply(this,arguments)}function xn(){return(xn=(0,Q.Z)(function*(b,M){const ae=(yield M.json()).error;return gn.create("request-failed",{requestName:b,serverCode:ae.code,serverMessage:ae.message,serverStatus:ae.status})})).apply(this,arguments)}function Dn({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function Sr(b){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Q.Z)(function*(b){const M=yield b();return M.status>=500&&M.status<600?b():M})).apply(this,arguments)}function nt(b){return Number(b.replace("s","000"))}function Mt(){return(Mt=(0,Q.Z)(function*({appConfig:b,heartbeatServiceProvider:M},{fid:B}){const ae=An(b),Se=Dn(b),Ne=M.getImmediate({optional:!0});if(Ne){const Yt=yield Ne.getHeartbeatsHeader();Yt&&Se.append("x-firebase-client",Yt)}const Nt={method:"POST",headers:Se,body:JSON.stringify({fid:B,authVersion:vr,appId:b.appId,sdkVersion:br})},Tt=yield Sr(()=>fetch(ae,Nt));if(Tt.ok){const Yt=yield Tt.json();return{fid:Yt.fid||B,registrationStatus:2,refreshToken:Yt.refreshToken,authToken:fn(Yt.authToken)}}throw yield Gn("Create Installation",Tt)})).apply(this,arguments)}function rr(b){return new Promise(M=>{setTimeout(M,b)})}const mn=/^[cdef][\w-]{21}$/,Xt="";function wt(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const B=function ft(b){return function Pn(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return mn.test(B)?B:Xt}catch{return Xt}}function dr(b){return`${b.appName}!${b.appId}`}const Yn=new Map;function $r(b,M){const B=dr(b);Qr(B,M),function Bn(b,M){const B=function Qt(){return!Er&&"BroadcastChannel"in self&&(Er=new BroadcastChannel("[Firebase] FID Change"),Er.onmessage=b=>{Qr(b.data.key,b.data.fid)}),Er}();B&&B.postMessage({key:b,fid:M}),function Pr(){0===Yn.size&&Er&&(Er.close(),Er=null)}()}(B,M)}function Qr(b,M){const B=Yn.get(b);if(B)for(const ae of B)ae(M)}let Er=null;const mr="firebase-installations-database",_n=1,On="firebase-installations-store";let Xr=null;function Rn(){return Xr||(Xr=function yt(b,M,{blocked:B,upgrade:ae,blocking:Se,terminated:Ne}={}){const ze=indexedDB.open(b,M),Nt=Pt(ze);return ae&&ze.addEventListener("upgradeneeded",Tt=>{ae(Pt(ze.result),Tt.oldVersion,Tt.newVersion,Pt(ze.transaction))}),B&&ze.addEventListener("blocked",()=>B()),Nt.then(Tt=>{Ne&&Tt.addEventListener("close",()=>Ne()),Se&&Tt.addEventListener("versionchange",()=>Se())}).catch(()=>{}),Nt}(mr,_n,{upgrade:(b,M)=>{0===M&&b.createObjectStore(On)}})),Xr}function xr(b,M){return en.apply(this,arguments)}function en(){return(en=(0,Q.Z)(function*(b,M){const B=dr(b),Se=(yield Rn()).transaction(On,"readwrite"),Ne=Se.objectStore(On),ze=yield Ne.get(B);return yield Ne.put(M,B),yield Se.done,(!ze||ze.fid!==M.fid)&&$r(b,M.fid),M})).apply(this,arguments)}function Rr(b){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,Q.Z)(function*(b){const M=dr(b),ae=(yield Rn()).transaction(On,"readwrite");yield ae.objectStore(On).delete(M),yield ae.done})).apply(this,arguments)}function Zn(b,M){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,Q.Z)(function*(b,M){const B=dr(b),Se=(yield Rn()).transaction(On,"readwrite"),Ne=Se.objectStore(On),ze=yield Ne.get(B),Nt=M(ze);return void 0===Nt?yield Ne.delete(B):yield Ne.put(Nt,B),yield Se.done,Nt&&(!ze||ze.fid!==Nt.fid)&&$r(b,Nt.fid),Nt})).apply(this,arguments)}function _e(b){return $.apply(this,arguments)}function $(){return $=(0,Q.Z)(function*(b){let M;const B=yield Zn(b.appConfig,ae=>{const Se=function G(b){return rn(b||{fid:wt(),registrationStatus:0})}(ae),Ne=function W(b,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(gn.create("app-offline"))};const B={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},ae=function X(b,M){return Te.apply(this,arguments)}(b,B);return{installationEntry:B,registrationPromise:ae}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:Ve(b)}:{installationEntry:M}}(b,Se);return M=Ne.registrationPromise,Ne.installationEntry});return B.fid===Xt?{installationEntry:yield M}:{installationEntry:B,registrationPromise:M}}),$.apply(this,arguments)}function Te(){return Te=(0,Q.Z)(function*(b,M){try{const B=yield function Mn(b,M){return Mt.apply(this,arguments)}(b,M);return xr(b.appConfig,B)}catch(B){throw Vt(B)&&409===B.customData.serverCode?yield Rr(b.appConfig):yield xr(b.appConfig,{fid:M.fid,registrationStatus:0}),B}}),Te.apply(this,arguments)}function Ve(b){return gt.apply(this,arguments)}function gt(){return(gt=(0,Q.Z)(function*(b){let M=yield Jt(b.appConfig);for(;1===M.registrationStatus;)yield rr(100),M=yield Jt(b.appConfig);if(0===M.registrationStatus){const{installationEntry:B,registrationPromise:ae}=yield _e(b);return ae||B}return M})).apply(this,arguments)}function Jt(b){return Zn(b,M=>{if(!M)throw gn.create("installation-not-found");return rn(M)})}function rn(b){return function kn(b){return 1===b.registrationStatus&&b.registrationTime+Mr<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Sn(){return(Sn=(0,Q.Z)(function*({appConfig:b,heartbeatServiceProvider:M},B){const ae=function zr(b,{fid:M}){return`${An(b)}/${M}/authTokens:generate`}(b,B),Se=function nn(b,{refreshToken:M}){const B=Dn(b);return B.append("Authorization",function St(b){return`${vr} ${b}`}(M)),B}(b,B),Ne=M.getImmediate({optional:!0});if(Ne){const Yt=yield Ne.getHeartbeatsHeader();Yt&&Se.append("x-firebase-client",Yt)}const Nt={method:"POST",headers:Se,body:JSON.stringify({installation:{sdkVersion:br,appId:b.appId}})},Tt=yield Sr(()=>fetch(ae,Nt));if(Tt.ok)return fn(yield Tt.json());throw yield Gn("Generate Auth Token",Tt)})).apply(this,arguments)}function ki(b){return Li.apply(this,arguments)}function Li(){return Li=(0,Q.Z)(function*(b,M=!1){let B;const ae=yield Zn(b.appConfig,Ne=>{if(!un(Ne))throw gn.create("not-registered");const ze=Ne.authToken;if(!M&&function yn(b){return 2===b.requestStatus&&!function Hr(b){const M=Date.now();return M<b.creationTime||b.creationTime+b.expiresIn<M+kt}(b)}(ze))return Ne;if(1===ze.requestStatus)return B=function We(b,M){return ke.apply(this,arguments)}(b,M),Ne;{if(!navigator.onLine)throw gn.create("app-offline");const Nt=function nr(b){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:M})}(Ne);return B=function Lt(b,M){return zt.apply(this,arguments)}(b,Nt),Nt}});return B?yield B:ae.authToken}),Li.apply(this,arguments)}function ke(){return(ke=(0,Q.Z)(function*(b,M){let B=yield rt(b.appConfig);for(;1===B.authToken.requestStatus;)yield rr(100),B=yield rt(b.appConfig);const ae=B.authToken;return 0===ae.requestStatus?ki(b,M):ae})).apply(this,arguments)}function rt(b){return Zn(b,M=>{if(!un(M))throw gn.create("not-registered");return function er(b){return 1===b.requestStatus&&b.requestTime+Mr<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function zt(){return zt=(0,Q.Z)(function*(b,M){try{const B=yield function Zt(b,M){return Sn.apply(this,arguments)}(b,M),ae=Object.assign(Object.assign({},M),{authToken:B});return yield xr(b.appConfig,ae),B}catch(B){if(!Vt(B)||401!==B.customData.serverCode&&404!==B.customData.serverCode){const ae=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield xr(b.appConfig,ae)}else yield Rr(b.appConfig);throw B}}),zt.apply(this,arguments)}function un(b){return void 0!==b&&2===b.registrationStatus}function di(){return(di=(0,Q.Z)(function*(b){const M=b,{installationEntry:B,registrationPromise:ae}=yield _e(M);return ae?ae.catch(console.error):ki(M).catch(console.error),B.fid})).apply(this,arguments)}function Kr(){return Kr=(0,Q.Z)(function*(b,M=!1){const B=b;return yield function Ts(b){return Ti.apply(this,arguments)}(B),(yield ki(B,M)).token}),Kr.apply(this,arguments)}function Ti(){return(Ti=(0,Q.Z)(function*(b){const{registrationPromise:M}=yield _e(b);M&&(yield M)})).apply(this,arguments)}function hi(b){return gn.create("missing-app-config-values",{valueName:b})}const Xi="installations",ai=b=>{const M=b.getProvider("app").getImmediate(),B=function Qi(b){if(!b||!b.options)throw hi("App Configuration");if(!b.name)throw hi("App Name");const M=["projectId","apiKey","appId"];for(const B of M)if(!b.options[B])throw hi(B);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(M);return{app:M,appConfig:B,heartbeatServiceProvider:(0,Ce._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},ss=b=>{const M=b.getProvider("app").getImmediate(),B=(0,Ce._getProvider)(M,Xi).getImmediate();return{getId:()=>function qn(b){return di.apply(this,arguments)}(B),getToken:Se=>function is(b){return Kr.apply(this,arguments)}(B,Se)}};(function bn(){(0,Ce._registerComponent)(new ie.wA(Xi,ai,"PUBLIC")),(0,Ce._registerComponent)(new ie.wA("installations-internal",ss,"PRIVATE"))})(),(0,Ce.registerVersion)(tr,lr),(0,Ce.registerVersion)(tr,lr,"esm2017");const _r="@firebase/remote-config",Yr=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class os{constructor(M,B,ae,Se){this.client=M,this.storage=B,this.storageCache=ae,this.logger=Se}isCachedDataFresh(M,B){if(!B)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ae=Date.now()-B,Se=ae<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${Se}.`),Se}fetch(M){var B=this;return(0,Q.Z)(function*(){const[ae,Se]=yield Promise.all([B.storage.getLastSuccessfulFetchTimestampMillis(),B.storage.getLastSuccessfulFetchResponse()]);if(Se&&B.isCachedDataFresh(M.cacheMaxAgeMillis,ae))return Se;M.eTag=Se&&Se.eTag;const Ne=yield B.client.fetch(M),ze=[B.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ne.status&&ze.push(B.storage.setLastSuccessfulFetchResponse(Ne)),yield Promise.all(ze),Ne})()}}function pi(b=navigator){return b.languages&&b.languages[0]||b.language}class li{constructor(M,B,ae,Se,Ne,ze){this.firebaseInstallations=M,this.sdkVersion=B,this.namespace=ae,this.projectId=Se,this.apiKey=Ne,this.appId=ze}fetch(M){var B=this;return(0,Q.Z)(function*(){const[ae,Se]=yield Promise.all([B.firebaseInstallations.getId(),B.firebaseInstallations.getToken()]),ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${B.projectId}/namespaces/${B.namespace}:fetch?key=${B.apiKey}`,Nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},Tt={sdk_version:B.sdkVersion,app_instance_id:ae,app_instance_id_token:Se,app_id:B.appId,language_code:pi()},Yt={method:"POST",headers:Nt,body:JSON.stringify(Tt)},Ln=fetch(ze,Yt),Hn=new Promise((fs,bo)=>{M.signal.addEventListener(()=>{const Fa=new Error("The operation was aborted.");Fa.name="AbortError",bo(Fa)})});let Is;try{yield Promise.race([Ln,Hn]),Is=yield Ln}catch(fs){let bo="fetch-client-network";throw"AbortError"===fs?.name&&(bo="fetch-timeout"),Yr.create(bo,{originalErrorMessage:fs?.message})}let ci=Is.status;const ea=Is.headers.get("ETag")||void 0;let wa,La;if(200===Is.status){let fs;try{fs=yield Is.json()}catch(bo){throw Yr.create("fetch-client-parse",{originalErrorMessage:bo?.message})}wa=fs.entries,La=fs.state}if("INSTANCE_STATE_UNSPECIFIED"===La?ci=500:"NO_CHANGE"===La?ci=304:("NO_TEMPLATE"===La||"EMPTY_CONFIG"===La)&&(wa={}),304!==ci&&200!==ci)throw Yr.create("fetch-status",{httpStatus:ci});return{status:ci,eTag:ea,config:wa}})()}}class bi{constructor(M,B){this.client=M,this.storage=B}fetch(M){var B=this;return(0,Q.Z)(function*(){const ae=(yield B.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return B.attemptFetch(M,ae)})()}attemptFetch(M,{throttleEndTimeMillis:B,backoffCount:ae}){var Se=this;return(0,Q.Z)(function*(){yield function Bi(b,M){return new Promise((B,ae)=>{const Se=Math.max(M-Date.now(),0),Ne=setTimeout(B,Se);b.addEventListener(()=>{clearTimeout(Ne),ae(Yr.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,B);try{const Ne=yield Se.client.fetch(M);return yield Se.storage.deleteThrottleMetadata(),Ne}catch(Ne){if(!function wi(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const M=Number(b.customData.httpStatus);return 429===M||500===M||503===M||504===M}(Ne))throw Ne;const ze={throttleEndTimeMillis:Date.now()+(0,oe.$s)(ae),backoffCount:ae+1};return yield Se.storage.setThrottleMetadata(ze),Se.attemptFetch(M,ze)}})()}}class Wi{constructor(M,B,ae,Se,Ne){this.app=M,this._client=B,this._storageCache=ae,this._storage=Se,this._logger=Ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nn(b,M){const B=b.target.error||void 0;return Yr.create(M,{originalErrorMessage:B&&B?.message})}const z="app_namespace_store";class ve{constructor(M,B,ae,Se=function fe(){return new Promise((b,M)=>{try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=ae=>{M(Nn(ae,"storage-open"))},B.onsuccess=ae=>{b(ae.target.result)},B.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(z,{keyPath:"compositeKey"})}}catch(B){M(Yr.create("storage-open",{originalErrorMessage:B?.message}))}})}()){this.appId=M,this.appName=B,this.namespace=ae,this.openDbPromise=Se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var B=this;return(0,Q.Z)(function*(){const ae=yield B.openDbPromise;return new Promise((Se,Ne)=>{const Nt=ae.transaction([z],"readonly").objectStore(z),Tt=B.createCompositeKey(M);try{const Yt=Nt.get(Tt);Yt.onerror=Ln=>{Ne(Nn(Ln,"storage-get"))},Yt.onsuccess=Ln=>{const Hn=Ln.target.result;Se(Hn?Hn.value:void 0)}}catch(Yt){Ne(Yr.create("storage-get",{originalErrorMessage:Yt?.message}))}})})()}set(M,B){var ae=this;return(0,Q.Z)(function*(){const Se=yield ae.openDbPromise;return new Promise((Ne,ze)=>{const Tt=Se.transaction([z],"readwrite").objectStore(z),Yt=ae.createCompositeKey(M);try{const Ln=Tt.put({compositeKey:Yt,value:B});Ln.onerror=Hn=>{ze(Nn(Hn,"storage-set"))},Ln.onsuccess=()=>{Ne()}}catch(Ln){ze(Yr.create("storage-set",{originalErrorMessage:Ln?.message}))}})})()}delete(M){var B=this;return(0,Q.Z)(function*(){const ae=yield B.openDbPromise;return new Promise((Se,Ne)=>{const Nt=ae.transaction([z],"readwrite").objectStore(z),Tt=B.createCompositeKey(M);try{const Yt=Nt.delete(Tt);Yt.onerror=Ln=>{Ne(Nn(Ln,"storage-delete"))},Yt.onsuccess=()=>{Se()}}catch(Yt){Ne(Yr.create("storage-delete",{originalErrorMessage:Yt?.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class qe{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,Q.Z)(function*(){const B=M.storage.getLastFetchStatus(),ae=M.storage.getLastSuccessfulFetchTimestampMillis(),Se=M.storage.getActiveConfig(),Ne=yield B;Ne&&(M.lastFetchStatus=Ne);const ze=yield ae;ze&&(M.lastSuccessfulFetchTimestampMillis=ze);const Nt=yield Se;Nt&&(M.activeConfig=Nt)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function fr(){return pr.apply(this,arguments)}function pr(){return(pr=(0,Q.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function vt(){(0,Ce._registerComponent)(new ie.wA("remote-config",function b(M,{instanceIdentifier:B}){const ae=M.getProvider("app").getImmediate(),Se=M.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Yr.create("registration-window");if(!(0,oe.hl)())throw Yr.create("indexed-db-unavailable");const{projectId:Ne,apiKey:ze,appId:Nt}=ae.options;if(!Ne)throw Yr.create("registration-project-id");if(!ze)throw Yr.create("registration-api-key");if(!Nt)throw Yr.create("registration-app-id");const Tt=new ve(Nt,ae.name,B=B||"firebase"),Yt=new qe(Tt),Ln=new Ie.Yd(_r);Ln.logLevel=Ie.in.ERROR;const Hn=new li(Se,Ce.SDK_VERSION,B,Ne,ze,Nt),Is=new bi(Hn,Tt),ci=new os(Is,Tt,Yt,Ln),ea=new Wi(ae,ci,Yt,Tt,Ln);return function tn(b){const M=(0,oe.m9)(b);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(ea),ea},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(_r,"0.4.4"),(0,Ce.registerVersion)(_r,"0.4.4","esm2017")}();const Vi=(b,M)=>M.some(B=>b instanceof B);let ir,ts;const oa=new WeakMap,fo=new WeakMap,Ks=new WeakMap,Ys=new WeakMap,as=new WeakMap;let To={get(b,M,B){if(b instanceof IDBTransaction){if("done"===M)return fo.get(b);if("objectStoreNames"===M)return b.objectStoreNames||Ks.get(b);if("store"===M)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return ks(b[M])},set:(b,M,B)=>(b[M]=B,!0),has:(b,M)=>b instanceof IDBTransaction&&("done"===M||"store"===M)||M in b};function gr(b){return"function"==typeof b?function qs(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ri(){return ts||(ts=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...M){return b.apply(Qs(this),M),ks(oa.get(this))}:function(...M){return ks(b.apply(Qs(this),M))}:function(M,...B){const ae=b.call(Qs(this),M,...B);return Ks.set(ae,M.sort?M.sort():[M]),ks(ae)}}(b):(b instanceof IDBTransaction&&function aa(b){if(fo.has(b))return;const M=new Promise((B,ae)=>{const Se=()=>{b.removeEventListener("complete",Ne),b.removeEventListener("error",ze),b.removeEventListener("abort",ze)},Ne=()=>{B(),Se()},ze=()=>{ae(b.error||new DOMException("AbortError","AbortError")),Se()};b.addEventListener("complete",Ne),b.addEventListener("error",ze),b.addEventListener("abort",ze)});fo.set(b,M)}(b),Vi(b,function kr(){return ir||(ir=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,To):b)}function ks(b){if(b instanceof IDBRequest)return function Zs(b){const M=new Promise((B,ae)=>{const Se=()=>{b.removeEventListener("success",Ne),b.removeEventListener("error",ze)},Ne=()=>{B(ks(b.result)),Se()},ze=()=>{ae(b.error),Se()};b.addEventListener("success",Ne),b.addEventListener("error",ze)});return M.then(B=>{B instanceof IDBCursor&&oa.set(B,b)}).catch(()=>{}),as.set(M,b),M}(b);if(Ys.has(b))return Ys.get(b);const M=gr(b);return M!==b&&(Ys.set(b,M),as.set(M,b)),M}const Qs=b=>as.get(b);function Ao(b,M,{blocked:B,upgrade:ae,blocking:Se,terminated:Ne}={}){const ze=indexedDB.open(b,M),Nt=ks(ze);return ae&&ze.addEventListener("upgradeneeded",Tt=>{ae(ks(ze.result),Tt.oldVersion,Tt.newVersion,ks(ze.transaction))}),B&&ze.addEventListener("blocked",()=>B()),Nt.then(Tt=>{Ne&&Tt.addEventListener("close",()=>Ne()),Se&&Tt.addEventListener("versionchange",()=>Se())}).catch(()=>{}),Nt}function Ls(b,{blocked:M}={}){const B=indexedDB.deleteDatabase(b);return M&&B.addEventListener("blocked",()=>M()),ks(B).then(()=>{})}const gi=["get","getKey","getAll","getAllKeys","count"],mi=["put","add","delete","clear"],Ci=new Map;function dn(b,M){if(!(b instanceof IDBDatabase)||M in b||"string"!=typeof M)return;if(Ci.get(M))return Ci.get(M);const B=M.replace(/FromIndex$/,""),ae=M!==B,Se=mi.includes(B);if(!(B in(ae?IDBIndex:IDBObjectStore).prototype)||!Se&&!gi.includes(B))return;const Ne=function(){var ze=(0,Q.Z)(function*(Nt,...Tt){const Yt=this.transaction(Nt,Se?"readwrite":"readonly");let Ln=Yt.store;return ae&&(Ln=Ln.index(Tt.shift())),(yield Promise.all([Ln[B](...Tt),Se&&Yt.done]))[0]});return function(Tt){return ze.apply(this,arguments)}}();return Ci.set(M,Ne),Ne}!function Mi(b){To=b(To)}(b=>({...b,get:(M,B,ae)=>dn(M,B)||b.get(M,B,ae),has:(M,B)=>!!dn(M,B)||b.has(M,B)}));const no="/firebase-messaging-sw.js",Xs="/firebase-cloud-messaging-push-scope",As="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sr="https://fcmregistrations.googleapis.com/v1",Fs="google.c.a.c_id",Ir="google.c.a.c_l",po="google.c.a.ts";var Or=(()=>((Or=Or||{}).PUSH_RECEIVED="push-received",Or.NOTIFICATION_CLICKED="notification-clicked",Or))();function Hi(b){const M=new Uint8Array(b);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ja(b){const B=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(B),Se=new Uint8Array(ae.length);for(let Ne=0;Ne<ae.length;++Ne)Se[Ne]=ae.charCodeAt(Ne);return Se}const Di="fcm_token_details_db",ls=5,Wr="fcm_token_object_Store";function mo(){return mo=(0,Q.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ne=>Ne.name).includes(Di))return null;let M=null;return(yield Ao(Di,ls,{upgrade:(ae=(0,Q.Z)(function*(Se,Ne,ze,Nt){var Tt;if(Ne<2||!Se.objectStoreNames.contains(Wr))return;const Yt=Nt.objectStore(Wr),Ln=yield Yt.index("fcmSenderId").get(b);if(yield Yt.clear(),Ln)if(2===Ne){const Hn=Ln;if(!Hn.auth||!Hn.p256dh||!Hn.endpoint)return;M={token:Hn.fcmToken,createTime:null!==(Tt=Hn.createTime)&&void 0!==Tt?Tt:Date.now(),subscriptionOptions:{auth:Hn.auth,p256dh:Hn.p256dh,endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:"string"==typeof Hn.vapidKey?Hn.vapidKey:Hi(Hn.vapidKey)}}}else if(3===Ne){const Hn=Ln;M={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:Hi(Hn.auth),p256dh:Hi(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:Hi(Hn.vapidKey)}}}else if(4===Ne){const Hn=Ln;M={token:Hn.fcmToken,createTime:Hn.createTime,subscriptionOptions:{auth:Hi(Hn.auth),p256dh:Hi(Hn.p256dh),endpoint:Hn.endpoint,swScope:Hn.swScope,vapidKey:Hi(Hn.vapidKey)}}}}),function(Ne,ze,Nt,Tt){return ae.apply(this,arguments)})})).close(),yield Ls(Di),yield Ls("fcm_vapid_details_db"),yield Ls("undefined"),function ro(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:M}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}(M)?M:null;var ae}),mo.apply(this,arguments)}const io="firebase-messaging-database",us=1,Pi="firebase-messaging-store";let so=null;function j(){return so||(so=Ao(io,us,{upgrade:(b,M)=>{0===M&&b.createObjectStore(Pi)}})),so}function _(b){return E.apply(this,arguments)}function E(){return E=(0,Q.Z)(function*(b){const M=be(b),ae=yield(yield j()).transaction(Pi).objectStore(Pi).get(M);if(ae)return ae;{const Se=yield function cs(b){return mo.apply(this,arguments)}(b.appConfig.senderId);if(Se)return yield R(b,Se),Se}}),E.apply(this,arguments)}function R(b,M){return V.apply(this,arguments)}function V(){return(V=(0,Q.Z)(function*(b,M){const B=be(b),Se=(yield j()).transaction(Pi,"readwrite");return yield Se.objectStore(Pi).put(M,B),yield Se.done,M})).apply(this,arguments)}function Ee(){return(Ee=(0,Q.Z)(function*(b){const M=be(b),ae=(yield j()).transaction(Pi,"readwrite");yield ae.objectStore(Pi).delete(M),yield ae.done})).apply(this,arguments)}function be({appConfig:b}){return b.appId}const je=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rt(b,M){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,Q.Z)(function*(b,M){const B=yield wr(b),ae=Zr(M),Se={method:"POST",headers:B,body:JSON.stringify(ae)};let Ne;try{Ne=yield(yield fetch(En(b.appConfig),Se)).json()}catch(ze){throw je.create("token-subscribe-failed",{errorInfo:ze?.toString()})}if(Ne.error)throw je.create("token-subscribe-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw je.create("token-subscribe-no-token");return Ne.token})).apply(this,arguments)}function Tn(){return(Tn=(0,Q.Z)(function*(b,M){const B=yield wr(b),ae=Zr(M.subscriptionOptions),Se={method:"PATCH",headers:B,body:JSON.stringify(ae)};let Ne;try{Ne=yield(yield fetch(`${En(b.appConfig)}/${M.token}`,Se)).json()}catch(ze){throw je.create("token-update-failed",{errorInfo:ze?.toString()})}if(Ne.error)throw je.create("token-update-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw je.create("token-update-no-token");return Ne.token})).apply(this,arguments)}function Wt(b,M){return hn.apply(this,arguments)}function hn(){return(hn=(0,Q.Z)(function*(b,M){const ae={method:"DELETE",headers:yield wr(b)};try{const Ne=yield(yield fetch(`${En(b.appConfig)}/${M}`,ae)).json();if(Ne.error)throw je.create("token-unsubscribe-failed",{errorInfo:Ne.error.message})}catch(Se){throw je.create("token-unsubscribe-failed",{errorInfo:Se?.toString()})}})).apply(this,arguments)}function En({projectId:b}){return`${sr}/projects/${b}/registrations`}function wr(b){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,Q.Z)(function*({appConfig:b,installations:M}){const B=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${B}`})})).apply(this,arguments)}function Zr({p256dh:b,auth:M,endpoint:B,vapidKey:ae}){const Se={web:{endpoint:B,auth:M,p256dh:b}};return ae!==As&&(Se.web.applicationPubKey=ae),Se}const or=6048e5;function ii(){return ii=(0,Q.Z)(function*(b){const M=yield function Ri(b,M){return qr.apply(this,arguments)}(b.swRegistration,b.vapidKey),B={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:M.endpoint,auth:Hi(M.getKey("auth")),p256dh:Hi(M.getKey("p256dh"))},ae=yield _(b.firebaseDependencies);if(ae){if(function ws(b,M){return M.vapidKey===b.vapidKey&&M.endpoint===b.endpoint&&M.auth===b.auth&&M.p256dh===b.p256dh}(ae.subscriptionOptions,B))return Date.now()>=ae.createTime+or?function ji(b,M){return Fr.apply(this,arguments)}(b,{token:ae.token,createTime:Date.now(),subscriptionOptions:B}):ae.token;try{yield Wt(b.firebaseDependencies,ae.token)}catch(Se){console.warn(Se)}return Es(b.firebaseDependencies,B)}return Es(b.firebaseDependencies,B)}),ii.apply(this,arguments)}function si(){return si=(0,Q.Z)(function*(b){const M=yield _(b.firebaseDependencies);M&&(yield Wt(b.firebaseDependencies,M.token),yield function ne(b){return Ee.apply(this,arguments)}(b.firebaseDependencies));const B=yield b.swRegistration.pushManager.getSubscription();return!B||B.unsubscribe()}),si.apply(this,arguments)}function Fr(){return Fr=(0,Q.Z)(function*(b,M){try{const B=yield function Vn(b,M){return Tn.apply(this,arguments)}(b.firebaseDependencies,M),ae=Object.assign(Object.assign({},M),{token:B,createTime:Date.now()});return yield R(b.firebaseDependencies,ae),B}catch(B){throw yield function Cn(b){return si.apply(this,arguments)}(b),B}}),Fr.apply(this,arguments)}function Es(b,M){return Js.apply(this,arguments)}function Js(){return(Js=(0,Q.Z)(function*(b,M){const ae={token:yield Rt(b,M),createTime:Date.now(),subscriptionOptions:M};return yield R(b,ae),ae.token})).apply(this,arguments)}function qr(){return(qr=(0,Q.Z)(function*(b,M){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ja(M)})})).apply(this,arguments)}function C(b){const M={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function N(b,M){if(!M.notification)return;b.notification={};const B=M.notification.title;B&&(b.notification.title=B);const ae=M.notification.body;ae&&(b.notification.body=ae);const Se=M.notification.image;Se&&(b.notification.image=Se);const Ne=M.notification.icon;Ne&&(b.notification.icon=Ne)}(M,b),function T(b,M){M.data&&(b.data=M.data)}(M,b),function H(b,M){var B,ae,Se,Ne,ze;if(!(M.fcmOptions||null!==(B=M.notification)&&void 0!==B&&B.click_action))return;b.fcmOptions={};const Nt=null!==(Se=null===(ae=M.fcmOptions)||void 0===ae?void 0:ae.link)&&void 0!==Se?Se:null===(Ne=M.notification)||void 0===Ne?void 0:Ne.click_action;Nt&&(b.fcmOptions.link=Nt);const Tt=null===(ze=M.fcmOptions)||void 0===ze?void 0:ze.analytics_label;Tt&&(b.fcmOptions.analyticsLabel=Tt)}(M,b),M}function Pe(b,M){const B=[];for(let ae=0;ae<b.length;ae++)B.push(b.charAt(ae)),ae<M.length&&B.push(M.charAt(ae));return B.join("")}function Et(b){return je.create("missing-app-config-values",{valueName:b})}Pe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pe("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sn{constructor(M,B,ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Se=function $e(b){if(!b||!b.options)throw Et("App Configuration Object");if(!b.name)throw Et("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:B}=b;for(const ae of M)if(!B[ae])throw Et(ae);return{appName:b.name,projectId:B.projectId,apiKey:B.apiKey,appId:B.appId,senderId:B.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:Se,installations:B,analyticsProvider:ae}}_delete(){return Promise.resolve()}}function Xn(){return(Xn=(0,Q.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(no,{scope:Xs}),b.swRegistration.update().catch(()=>{})}catch(M){throw je.create("failed-service-worker-registration",{browserErrorMessage:M?.message})}})).apply(this,arguments)}function cr(){return(cr=(0,Q.Z)(function*(b,M){if(!M&&!b.swRegistration&&(yield function Ct(b){return Xn.apply(this,arguments)}(b)),M||!b.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw je.create("invalid-sw-registration");b.swRegistration=M}})).apply(this,arguments)}function Ar(){return(Ar=(0,Q.Z)(function*(b,M){M?b.vapidKey=M:b.vapidKey||(b.vapidKey=As)})).apply(this,arguments)}function Ii(){return Ii=(0,Q.Z)(function*(b,M){if(!navigator)throw je.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw je.create("permission-blocked");return yield function wn(b,M){return Ar.apply(this,arguments)}(b,M?.vapidKey),yield function $t(b,M){return cr.apply(this,arguments)}(b,M?.serviceWorkerRegistration),function Gi(b){return ii.apply(this,arguments)}(b)}),Ii.apply(this,arguments)}function Si(){return(Si=(0,Q.Z)(function*(b,M,B){const ae=function Vs(b){switch(b){case Or.NOTIFICATION_CLICKED:return"notification_open";case Or.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(M);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(ae,{message_id:B[Fs],message_name:B[Ir],message_time:B[po],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ur(){return Ur=(0,Q.Z)(function*(b,M){const B=M.data;if(!B.isFirebaseMessaging)return;b.onMessageHandler&&B.messageType===Or.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(C(B)):b.onMessageHandler.next(C(B)));const ae=B.data;(function he(b){return"object"==typeof b&&!!b&&Fs in b})(ae)&&"1"===ae["google.c.a.e"]&&(yield function Bs(b,M,B){return Si.apply(this,arguments)}(b,B.messageType,ae))}),Ur.apply(this,arguments)}const st="@firebase/messaging",dl=b=>{const M=new sn(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",B=>function oo(b,M){return Ur.apply(this,arguments)}(M,B)),M},$a=b=>{const M=b.getProvider("messaging").getImmediate();return{getToken:ae=>function ti(b,M){return Ii.apply(this,arguments)}(M,ae)}};function ns(){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,Q.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Oi(){(0,Ce._registerComponent)(new ie.wA("messaging",dl,"PUBLIC")),(0,Ce._registerComponent)(new ie.wA("messaging-internal",$a,"PRIVATE")),(0,Ce.registerVersion)(st,"0.12.4"),(0,Ce.registerVersion)(st,"0.12.4","esm2017")}();const _o="analytics",bs="firebase_id",Cs="origin",eo=6e4,hl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fl="https://www.googletagmanager.com/gtag/js",$i=new Ie.Yd("@firebase/analytics"),Ni=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ca(b){if(!b.startsWith(fl)){const M=Ni.create("invalid-gtag-resource",{gtagURL:b});return $i.warn(M.message),""}return b}function yo(b){return Promise.all(b.map(M=>M.catch(B=>B)))}function da(){return(da=(0,Q.Z)(function*(b,M,B,ae,Se,Ne){const ze=ae[Se];try{if(ze)yield M[ze];else{const Tt=(yield yo(B)).find(Yt=>Yt.measurementId===Se);Tt&&(yield M[Tt.appId])}}catch(Nt){$i.error(Nt)}b("config",Se,Ne)})).apply(this,arguments)}function Wa(){return(Wa=(0,Q.Z)(function*(b,M,B,ae,Se){try{let Ne=[];if(Se&&Se.send_to){let ze=Se.send_to;Array.isArray(ze)||(ze=[ze]);const Nt=yield yo(B);for(const Tt of ze){const Yt=Nt.find(Hn=>Hn.measurementId===Tt),Ln=Yt&&M[Yt.appId];if(!Ln){Ne=[];break}Ne.push(Ln)}}0===Ne.length&&(Ne=Object.values(M)),yield Promise.all(Ne),b("event",ae,Se||{})}catch(Ne){$i.error(Ne)}})).apply(this,arguments)}const Ki=30,pl=new class Br{constructor(M={},B=1e3){this.throttleMetadata=M,this.intervalMillis=B}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,B){this.throttleMetadata[M]=B}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function _i(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function ha(){return(ha=(0,Q.Z)(function*(b){var M;const{appId:B,apiKey:ae}=b,Se={method:"GET",headers:_i(ae)},Ne=hl.replace("{app-id}",B),ze=yield fetch(Ne,Se);if(200!==ze.status&&304!==ze.status){let Nt="";try{const Tt=yield ze.json();null!==(M=Tt.error)&&void 0!==M&&M.message&&(Nt=Tt.error.message)}catch{}throw Ni.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:Nt})}return ze.json()})).apply(this,arguments)}function Oo(){return(Oo=(0,Q.Z)(function*(b,M=pl,B){const{appId:ae,apiKey:Se,measurementId:Ne}=b.options;if(!ae)throw Ni.create("no-app-id");if(!Se){if(Ne)return{measurementId:Ne,appId:ae};throw Ni.create("no-api-key")}const ze=M.getThrottleMetadata(ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Nt=new zo;return setTimeout((0,Q.Z)(function*(){Nt.abort()}),void 0!==B?B:eo),$o({appId:ae,apiKey:Se,measurementId:Ne},ze,Nt,M)})).apply(this,arguments)}function $o(b,M,B){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,Q.Z)(function*(b,{throttleEndTimeMillis:M,backoffCount:B},ae,Se=pl){var Ne;const{appId:ze,measurementId:Nt}=b;try{yield function Ma(b,M){return new Promise((B,ae)=>{const Se=Math.max(M-Date.now(),0),Ne=setTimeout(B,Se);b.addEventListener(()=>{clearTimeout(Ne),ae(Ni.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(ae,M)}catch(Tt){if(Nt)return $i.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nt} provided in the "measurementId" field in the local Firebase config. [${Tt?.message}]`),{appId:ze,measurementId:Nt};throw Tt}try{const Tt=yield function gl(b){return ha.apply(this,arguments)}(b);return Se.deleteThrottleMetadata(ze),Tt}catch(Tt){const Yt=Tt;if(!function Pa(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const M=Number(b.customData.httpStatus);return 429===M||500===M||503===M||504===M}(Yt)){if(Se.deleteThrottleMetadata(ze),Nt)return $i.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nt} provided in the "measurementId" field in the local Firebase config. [${Yt?.message}]`),{appId:ze,measurementId:Nt};throw Tt}const Ln=503===Number(null===(Ne=Yt?.customData)||void 0===Ne?void 0:Ne.httpStatus)?(0,oe.$s)(B,Se.intervalMillis,Ki):(0,oe.$s)(B,Se.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+Ln,backoffCount:B+1};return Se.setThrottleMetadata(ze,Hn),$i.debug(`Calling attemptFetch again in ${Ln} millis`),$o(b,Hn,ae,Se)}}),Hs.apply(this,arguments)}class zo{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let Wo,qt;function vo(){return(vo=(0,Q.Z)(function*(b,M,B,ae,Se){if(Se&&Se.global)b("event",B,ae);else{const Ne=yield M;b("event",B,Object.assign(Object.assign({},ae),{send_to:Ne}))}})).apply(this,arguments)}function ao(){return(ao=(0,Q.Z)(function*(){if(!(0,oe.hl)())return $i.warn(Ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(b){return $i.warn(Ni.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function zi(){return zi=(0,Q.Z)(function*(b,M,B,ae,Se,Ne,ze){var Nt;const Tt=function Ga(b){return Oo.apply(this,arguments)}(b);Tt.then(ci=>{B[ci.measurementId]=ci.appId,b.options.measurementId&&ci.measurementId!==b.options.measurementId&&$i.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${ci.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ci=>$i.error(ci)),M.push(Tt);const Yt=function No(){return ao.apply(this,arguments)}().then(ci=>{if(ci)return ae.getId()}),[Ln,Hn]=yield Promise.all([Tt,Yt]);(function Po(b){const M=window.document.getElementsByTagName("script");for(const B of Object.values(M))if(B.src&&B.src.includes(fl)&&B.src.includes(b))return B;return null})(Ne)||function Ho(b,M){const B=function Bl(b,M){let B;return window.trustedTypes&&(B=window.trustedTypes.createPolicy(b,M)),B}("firebase-js-sdk-policy",{createScriptURL:ca}),ae=document.createElement("script"),Se=`${fl}?l=${b}&id=${M}`;ae.src=B?B?.createScriptURL(Se):Se,ae.async=!0,document.head.appendChild(ae)}(Ne,Ln.measurementId),qt&&(Se("consent","default",qt),function Vr(b){qt=b}(void 0)),Se("js",new Date);const Is=null!==(Nt=ze?.config)&&void 0!==Nt?Nt:{};return Is[Cs]="firebase",Is.update=!0,null!=Hn&&(Is[bs]=Hn),Se("config",Ln.measurementId,Is),Wo&&(Se("set",Wo),function rs(b){Wo=b}(void 0)),Ln.measurementId}),zi.apply(this,arguments)}class js{constructor(M){this.app=M}_delete(){return delete xo[this.app.options.appId],Promise.resolve()}}let xo={},Hl=[];const Ka={};let pc,Ds,fa="dataLayer",Ko=!1;function ml(b,M,B){!function Yo(){const b=[];if((0,oe.ru)()&&b.push("This is a browser extension environment."),(0,oe.zI)()||b.push("Cookies are not available."),b.length>0){const M=b.map((ae,Se)=>`(${Se+1}) ${ae}`).join(" "),B=Ni.create("invalid-analytics-context",{errorInfo:M});$i.warn(B.message)}}();const ae=b.options.appId;if(!ae)throw Ni.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Ni.create("no-api-key");$i.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xo[ae])throw Ni.create("already-exists",{id:ae});if(!Ko){!function jo(b){let M=[];Array.isArray(window[b])?M=window[b]:window[b]=M}(fa);const{wrappedGtag:Ne,gtagCore:ze}=function fc(b,M,B,ae,Se){let Ne=function(...ze){window[ae].push(arguments)};return window[Se]&&"function"==typeof window[Se]&&(Ne=window[Se]),window[Se]=function Mo(b,M,B,ae){function Ne(){return Ne=(0,Q.Z)(function*(ze,...Nt){try{if("event"===ze){const[Tt,Yt]=Nt;yield function Vl(b,M,B,ae,Se){return Wa.apply(this,arguments)}(b,M,B,Tt,Yt)}else if("config"===ze){const[Tt,Yt]=Nt;yield function ua(b,M,B,ae,Se,Ne){return da.apply(this,arguments)}(b,M,B,ae,Tt,Yt)}else if("consent"===ze){const[Tt]=Nt;b("consent","update",Tt)}else if("get"===ze){const[Tt,Yt,Ln]=Nt;b("get",Tt,Yt,Ln)}else if("set"===ze){const[Tt]=Nt;b("set",Tt)}else b(ze,...Nt)}catch(Tt){$i.error(Tt)}}),Ne.apply(this,arguments)}return function Se(ze){return Ne.apply(this,arguments)}}(Ne,b,M,B),{gtagCore:Ne,wrappedGtag:window[Se]}}(xo,Hl,Ka,fa,"gtag");Ds=Ne,pc=ze,Ko=!0}return xo[ae]=function Eo(b,M,B,ae,Se,Ne,ze){return zi.apply(this,arguments)}(b,Hl,Ka,M,pc,fa,B),new js(b)}function Ra(){return ko.apply(this,arguments)}function ko(){return(ko=(0,Q.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const lo="@firebase/analytics";!function mc(){(0,Ce._registerComponent)(new ie.wA(_o,(M,{options:B})=>ml(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,Ce._registerComponent)(new ie.wA("analytics-internal",function b(M){try{const B=M.getProvider(_o).getImmediate();return{logEvent:(ae,Se,Ne)=>function Qo(b,M,B,ae){b=(0,oe.m9)(b),function Go(b,M,B,ae,Se){return vo.apply(this,arguments)}(Ds,xo[b.app.options.appId],M,B,ae).catch(Se=>$i.error(Se))}(B,ae,Se,Ne)}}catch(B){throw Ni.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,Ce.registerVersion)(lo,"0.10.0"),(0,Ce.registerVersion)(lo,"0.10.0","esm2017")}();var _c=U(341),zl=U(353),Lo=U(2868),Fo=U(2899),Xo=U(2102);const yl=new h.GfV("7.6.1"),wo="__angularfire_symbol__analyticsIsSupportedValue",Rs="__angularfire_symbol__analyticsIsSupported",xa="__angularfire_symbol__remoteConfigIsSupportedValue",vl="__angularfire_symbol__remoteConfigIsSupported",El="__angularfire_symbol__messagingIsSupportedValue",ga="__angularfire_symbol__messagingIsSupported";function ma(b,M,B){if(M){if(1===M.length)return M[0];const Ne=M.filter(ze=>ze.app===B);if(1===Ne.length)return Ne[0]}return B.container.getProvider(b).getImmediate({optional:!0})}globalThis[Rs]||(globalThis[Rs]=Ra().then(b=>globalThis[wo]=b).catch(()=>globalThis[wo]=!1)),globalThis[ga]||(globalThis[ga]=ns().then(b=>globalThis[El]=b).catch(()=>globalThis[El]=!1)),globalThis[vl]||(globalThis[vl]=fr().then(b=>globalThis[xa]=b).catch(()=>globalThis[xa]=!1));const yc=(b,M)=>{const B=M?[M]:(0,J.C6)(),ae=[];return B.forEach(Se=>{Se.container.getProvider(b).instances.forEach(ze=>{ae.includes(ze)||ae.push(ze)})}),ae};function _a(){}class yi{constructor(M,B=_c.N){this.zone=M,this.delegate=B}now(){return this.delegate.now()}schedule(M,B,ae){const Se=this.zone;return this.delegate.schedule(function(ze){Se.runGuarded(()=>{M.apply(this,[ze])})},B,ae)}}class ka{constructor(M){this.zone=M,this.task=null}call(M,B){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_a,{},_a,_a)),B.pipe((0,Lo.b)({next:ae,complete:ae,error:ae})).subscribe(M).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ya=(()=>{class b{constructor(B){this.ngZone=B,this.outsideAngular=B.runOutsideAngular(()=>new yi(Zone.current)),this.insideAngular=B.run(()=>new yi(Zone.current,zl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(B){return new(B||b)(h.LFG(h.R0b))},b.\u0275prov=h.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Jo(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Ea(b){return Jo(),function Za(b){return function(B){return(B=B.lift(new ka(b.ngZone))).pipe((0,Fo.R)(b.outsideAngular),(0,Xo.QV)(b.insideAngular))}}(Jo())(b)}},2090:(At,Be,U)=>{U.d(Be,{$s:()=>Rr,BH:()=>bt,DV:()=>nt,Dv:()=>Qr,GJ:()=>Sr,L:()=>ye,LL:()=>Gt,Pz:()=>et,Sg:()=>Pt,UG:()=>Y,UI:()=>Mn,US:()=>ie,Wj:()=>Qt,Wl:()=>fn,Yr:()=>Mr,ZB:()=>le,ZR:()=>cn,aH:()=>Je,b$:()=>Nr,cI:()=>An,dS:()=>mr,eu:()=>ln,g5:()=>Q,gK:()=>Bn,gQ:()=>ft,h$:()=>ge,hl:()=>vr,hu:()=>J,jU:()=>_t,lb:()=>Pr,m9:()=>Cr,ne:()=>dr,p$:()=>ce,pd:()=>wt,r3:()=>Kn,ru:()=>on,tV:()=>se,uI:()=>yt,ug:()=>_n,vZ:()=>Mt,w1:()=>tr,w9:()=>nn,xO:()=>mn,xb:()=>St,z$:()=>pt,zI:()=>kt,zd:()=>Xt});const h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},J=function(_e,$){if(!_e)throw Q($)},Q=function(_e){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+_e)},Ce=function(_e){const $=[];let G=0;for(let W=0;W<_e.length;W++){let X=_e.charCodeAt(W);X<128?$[G++]=X:X<2048?($[G++]=X>>6|192,$[G++]=63&X|128):55296==(64512&X)&&W+1<_e.length&&56320==(64512&_e.charCodeAt(W+1))?(X=65536+((1023&X)<<10)+(1023&_e.charCodeAt(++W)),$[G++]=X>>18|240,$[G++]=X>>12&63|128,$[G++]=X>>6&63|128,$[G++]=63&X|128):($[G++]=X>>12|224,$[G++]=X>>6&63|128,$[G++]=63&X|128)}return $},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,$){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let X=0;X<_e.length;X+=3){const Te=_e[X],Ve=X+1<_e.length,gt=Ve?_e[X+1]:0,Jt=X+2<_e.length,rn=Jt?_e[X+2]:0;let Sn=(15&gt)<<2|rn>>6,zr=63&rn;Jt||(zr=64,Ve||(Sn=64)),W.push(G[Te>>2],G[(3&Te)<<4|gt>>4],G[Sn],G[zr])}return W.join("")},encodeString(_e,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(_e):this.encodeByteArray(Ce(_e),$)},decodeString(_e,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(_e):function(_e){const $=[];let G=0,W=0;for(;G<_e.length;){const X=_e[G++];if(X<128)$[W++]=String.fromCharCode(X);else if(X>191&&X<224){const Te=_e[G++];$[W++]=String.fromCharCode((31&X)<<6|63&Te)}else if(X>239&&X<365){const Jt=((7&X)<<18|(63&_e[G++])<<12|(63&_e[G++])<<6|63&_e[G++])-65536;$[W++]=String.fromCharCode(55296+(Jt>>10)),$[W++]=String.fromCharCode(56320+(1023&Jt))}else{const Te=_e[G++],Ve=_e[G++];$[W++]=String.fromCharCode((15&X)<<12|(63&Te)<<6|63&Ve)}}return $.join("")}(this.decodeStringToByteArray(_e,$))},decodeStringToByteArray(_e,$){this.init_();const G=$?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let X=0;X<_e.length;){const Te=G[_e.charAt(X++)],gt=X<_e.length?G[_e.charAt(X)]:0;++X;const rn=X<_e.length?G[_e.charAt(X)]:64;++X;const Zt=X<_e.length?G[_e.charAt(X)]:64;if(++X,null==Te||null==gt||null==rn||null==Zt)throw new Ie;W.push(Te<<2|gt>>4),64!==rn&&(W.push(gt<<4&240|rn>>2),64!==Zt&&W.push(rn<<6&192|Zt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(_e){const $=Ce(_e);return ie.encodeByteArray($,!0)},ye=function(_e){return ge(_e).replace(/\./g,"")},se=function(_e){try{return ie.decodeString(_e,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function ce(_e){return le(void 0,_e)}function le(_e,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return $}for(const G in $)!$.hasOwnProperty(G)||!xe(G)||(_e[G]=le(_e[G],$[G]));return _e}function xe(_e){return"__proto__"!==_e}const lt=()=>{try{return function Ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const _e=process.env.__FIREBASE_DEFAULTS__;return _e?JSON.parse(_e):void 0})()||(()=>{if(typeof document>"u")return;let _e;try{_e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=_e&&se(_e[1]);return $&&JSON.parse($)})()}catch(_e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_e}`)}},Je=()=>{var _e;return null===(_e=lt())||void 0===_e?void 0:_e.config},et=_e=>{var $;return null===($=lt())||void 0===$?void 0:$[`_${_e}`]};class bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,G)=>{this.resolve=$,this.reject=G})}wrapCallback($){return(G,W)=>{G?this.reject(G):this.resolve(W),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(G):$(G,W))}}}function Pt(_e,$){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=$||"demo-project",X=_e.iat||0,Te=_e.sub||_e.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:X,exp:X+3600,auth_time:X,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Ve)),""].join(".")}function pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Y(){var _e;const $=null===(_e=lt())||void 0===_e?void 0:_e.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _t(){return"object"==typeof self&&self.self===self}function on(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function Nr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tr(){const _e=pt();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function Mr(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function vr(){try{return"object"==typeof indexedDB}catch{return!1}}function ln(){return new Promise((_e,$)=>{try{let G=!0;const W="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(W);X.onsuccess=()=>{X.result.close(),G||self.indexedDB.deleteDatabase(W),_e(!0)},X.onupgradeneeded=()=>{G=!1},X.onerror=()=>{var Te;$((null===(Te=X.error)||void 0===Te?void 0:Te.message)||"")}}catch(G){$(G)}})}function kt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class cn extends Error{constructor($,G,W){super(G),this.code=$,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gt.prototype.create)}}class Gt{constructor($,G,W){this.service=$,this.serviceName=G,this.errors=W}create($,...G){const W=G[0]||{},X=`${this.service}/${$}`,Te=this.errors[$],Ve=Te?function gn(_e,$){return _e.replace(Vt,(G,W)=>{const X=$[W];return null!=X?String(X):`<${W}?>`})}(Te,W):"Error";return new cn(X,`${this.serviceName}: ${Ve} (${X}).`,W)}}const Vt=/\{\$([^}]+)}/g;function An(_e){return JSON.parse(_e)}function fn(_e){return JSON.stringify(_e)}const Gn=function(_e){let $={},G={},W={},X="";try{const Te=_e.split(".");$=An(se(Te[0])||""),G=An(se(Te[1])||""),X=Te[2],W=G.d||{},delete G.d}catch{}return{header:$,claims:G,data:W,signature:X}},nn=function(_e){const G=Gn(_e).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},Sr=function(_e){const $=Gn(_e).claims;return"object"==typeof $&&!0===$.admin};function Kn(_e,$){return Object.prototype.hasOwnProperty.call(_e,$)}function nt(_e,$){if(Object.prototype.hasOwnProperty.call(_e,$))return _e[$]}function St(_e){for(const $ in _e)if(Object.prototype.hasOwnProperty.call(_e,$))return!1;return!0}function Mn(_e,$,G){const W={};for(const X in _e)Object.prototype.hasOwnProperty.call(_e,X)&&(W[X]=$.call(G,_e[X],X,_e));return W}function Mt(_e,$){if(_e===$)return!0;const G=Object.keys(_e),W=Object.keys($);for(const X of G){if(!W.includes(X))return!1;const Te=_e[X],Ve=$[X];if(rr(Te)&&rr(Ve)){if(!Mt(Te,Ve))return!1}else if(Te!==Ve)return!1}for(const X of W)if(!G.includes(X))return!1;return!0}function rr(_e){return null!==_e&&"object"==typeof _e}function mn(_e){const $=[];for(const[G,W]of Object.entries(_e))Array.isArray(W)?W.forEach(X=>{$.push(encodeURIComponent(G)+"="+encodeURIComponent(X))}):$.push(encodeURIComponent(G)+"="+encodeURIComponent(W));return $.length?"&"+$.join("&"):""}function Xt(_e){const $={};return _e.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[X,Te]=W.split("=");$[decodeURIComponent(X)]=decodeURIComponent(Te)}}),$}function wt(_e){const $=_e.indexOf("?");if(!$)return"";const G=_e.indexOf("#",$);return _e.substring($,G>0?G:void 0)}class ft{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,G){G||(G=0);const W=this.W_;if("string"==typeof $)for(let Zt=0;Zt<16;Zt++)W[Zt]=$.charCodeAt(G)<<24|$.charCodeAt(G+1)<<16|$.charCodeAt(G+2)<<8|$.charCodeAt(G+3),G+=4;else for(let Zt=0;Zt<16;Zt++)W[Zt]=$[G]<<24|$[G+1]<<16|$[G+2]<<8|$[G+3],G+=4;for(let Zt=16;Zt<80;Zt++){const Sn=W[Zt-3]^W[Zt-8]^W[Zt-14]^W[Zt-16];W[Zt]=4294967295&(Sn<<1|Sn>>>31)}let rn,kn,X=this.chain_[0],Te=this.chain_[1],Ve=this.chain_[2],gt=this.chain_[3],Jt=this.chain_[4];for(let Zt=0;Zt<80;Zt++){Zt<40?Zt<20?(rn=gt^Te&(Ve^gt),kn=1518500249):(rn=Te^Ve^gt,kn=1859775393):Zt<60?(rn=Te&Ve|gt&(Te|Ve),kn=2400959708):(rn=Te^Ve^gt,kn=3395469782);const Sn=(X<<5|X>>>27)+rn+Jt+kn+W[Zt]&4294967295;Jt=gt,gt=Ve,Ve=4294967295&(Te<<30|Te>>>2),Te=X,X=Sn}this.chain_[0]=this.chain_[0]+X&4294967295,this.chain_[1]=this.chain_[1]+Te&4294967295,this.chain_[2]=this.chain_[2]+Ve&4294967295,this.chain_[3]=this.chain_[3]+gt&4294967295,this.chain_[4]=this.chain_[4]+Jt&4294967295}update($,G){if(null==$)return;void 0===G&&(G=$.length);const W=G-this.blockSize;let X=0;const Te=this.buf_;let Ve=this.inbuf_;for(;X<G;){if(0===Ve)for(;X<=W;)this.compress_($,X),X+=this.blockSize;if("string"==typeof $){for(;X<G;)if(Te[Ve]=$.charCodeAt(X),++Ve,++X,Ve===this.blockSize){this.compress_(Te),Ve=0;break}}else for(;X<G;)if(Te[Ve]=$[X],++Ve,++X,Ve===this.blockSize){this.compress_(Te),Ve=0;break}}this.inbuf_=Ve,this.total_+=G}digest(){const $=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let X=this.blockSize-1;X>=56;X--)this.buf_[X]=255&G,G/=256;this.compress_(this.buf_);let W=0;for(let X=0;X<5;X++)for(let Te=24;Te>=0;Te-=8)$[W]=this.chain_[X]>>Te&255,++W;return $}}function dr(_e,$){const G=new Yn(_e,$);return G.subscribe.bind(G)}class Yn{constructor($,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{$(this)}).catch(W=>{this.error(W)})}next($){this.forEachObserver(G=>{G.next($)})}error($){this.forEachObserver(G=>{G.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,G,W){let X;if(void 0===$&&void 0===G&&void 0===W)throw new Error("Missing Observer.");X=function In(_e,$){if("object"!=typeof _e||null===_e)return!1;for(const G of $)if(G in _e&&"function"==typeof _e[G])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:G,complete:W},void 0===X.next&&(X.next=an),void 0===X.error&&(X.error=an),void 0===X.complete&&(X.complete=an);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Te}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,$)}sendOne($,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{G(this.observers[$])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function an(){}const Qr=function(_e,$,G,W){let X;if(W<$?X="at least "+$:W>G&&(X=0===G?"none":"no more than "+G),X)throw new Error(_e+" failed: Was called with "+W+(1===W?" argument.":" arguments.")+" Expects "+X+".")};function Bn(_e,$){return`${_e} failed: ${$} argument `}function Qt(_e,$,G,W){if((!W||G)&&"function"!=typeof G)throw new Error(Bn(_e,$)+"must be a valid function.")}function Pr(_e,$,G,W){if((!W||G)&&("object"!=typeof G||null===G))throw new Error(Bn(_e,$)+"must be a valid context object.")}const mr=function(_e){const $=[];let G=0;for(let W=0;W<_e.length;W++){let X=_e.charCodeAt(W);if(X>=55296&&X<=56319){const Te=X-55296;W++,J(W<_e.length,"Surrogate pair missing trail surrogate."),X=65536+(Te<<10)+(_e.charCodeAt(W)-56320)}X<128?$[G++]=X:X<2048?($[G++]=X>>6|192,$[G++]=63&X|128):X<65536?($[G++]=X>>12|224,$[G++]=X>>6&63|128,$[G++]=63&X|128):($[G++]=X>>18|240,$[G++]=X>>12&63|128,$[G++]=X>>6&63|128,$[G++]=63&X|128)}return $},_n=function(_e){let $=0;for(let G=0;G<_e.length;G++){const W=_e.charCodeAt(G);W<128?$++:W<2048?$+=2:W>=55296&&W<=56319?($+=4,G++):$+=3}return $},Xr=1e3,Rn=2,xr=144e5,en=.5;function Rr(_e,$=Xr,G=Rn){const W=$*Math.pow(G,_e),X=Math.round(en*W*(Math.random()-.5)*2);return Math.min(xr,W+X)}function Cr(_e){return _e&&_e._delegate?_e._delegate:_e}},2340:(At,Be,U)=>{U.d(Be,{N:()=>h});const h={production:!1,firebase:{apiKey:"AIzaSyAdR-vuNqz8qZy7rbcEgFdjupNrTzzx5BI",authDomain:"chat-on-angular.firebaseapp.com",databaseURL:"https://chat-on-angular-default-rtdb.firebaseio.com",projectId:"chat-on-angular",storageBucket:"chat-on-angular.appspot.com",messagingSenderId:"384780938719",appId:"1:384780938719:web:a55a7ec759064179f1a86a"},customer:{email:"mchdcbn10@gmail.com",password:"123123aA."},formspreeApiUrl:""}},3144:(At,Be,U)=>{var h=U(6550),J=U(2223),Q=U(8395);let Ce=(()=>{class j{constructor(){}ngOnInit(){}}return j.\u0275fac=function(E){return new(E||j)},j.\u0275cmp=J.Xpm({type:j,selectors:[["app-root"]],decls:1,vars:0,template:function(E,R){1&E&&J._UZ(0,"router-outlet")},dependencies:[Q.lC]}),j})();var oe=U(1591);function Ie(j){return new J.vHH(3e3,!1)}function An(j){switch(j.length){case 0:return new oe.ZN;case 1:return j[0];default:return new oe.ZE(j)}}function fn(j,_,E=new Map,R=new Map){const V=[],ne=[];let Ee=-1,be=null;if(_.forEach(Ue=>{const je=Ue.get("offset"),Rt=je==Ee,Ot=Rt&&be||new Map;Ue.forEach((Vn,Tn)=>{let Wt=Tn,hn=Vn;if("offset"!==Tn)switch(Wt=j.normalizePropertyName(Wt,V),hn){case oe.k1:hn=E.get(Tn);break;case oe.l3:hn=R.get(Tn);break;default:hn=j.normalizeStyleValue(Tn,Wt,hn,V)}Ot.set(Wt,hn)}),Rt||ne.push(Ot),be=Ot,Ee=je}),V.length)throw function Jn(j){return new J.vHH(3502,!1)}();return ne}function Gn(j,_,E,R){switch(_){case"start":j.onStart(()=>R(E&&xn(E,"start",j)));break;case"done":j.onDone(()=>R(E&&xn(E,"done",j)));break;case"destroy":j.onDestroy(()=>R(E&&xn(E,"destroy",j)))}}function xn(j,_,E){const ne=Dn(j.element,j.triggerName,j.fromState,j.toState,_||j.phaseName,E.totalTime??j.totalTime,!!E.disabled),Ee=j._data;return null!=Ee&&(ne._data=Ee),ne}function Dn(j,_,E,R,V="",ne=0,Ee){return{element:j,triggerName:_,fromState:E,toState:R,phaseName:V,totalTime:ne,disabled:!!Ee}}function nn(j,_,E){let R=j.get(_);return R||j.set(_,R=E),R}function Sr(j){const _=j.indexOf(":");return[j.substring(1,_),j.slice(_+1)]}const Kn=(()=>typeof document>"u"?null:document.documentElement)();function nt(j){const _=j.parentNode||j.host||null;return _===Kn?null:_}let Mn=null,Mt=!1;function Xt(j,_){for(;_;){if(_===j)return!0;_=nt(_)}return!1}function wt(j,_,E){if(E)return Array.from(j.querySelectorAll(_));const R=j.querySelector(_);return R?[R]:[]}let dr=(()=>{class j{validateStyleProperty(E){return function rr(j){Mn||(Mn=function mn(){return typeof document<"u"?document.body:null}()||{},Mt=!!Mn.style&&"WebkitAppearance"in Mn.style);let _=!0;return Mn.style&&!function St(j){return"ebkit"==j.substring(1,6)}(j)&&(_=j in Mn.style,!_&&Mt&&(_="Webkit"+j.charAt(0).toUpperCase()+j.slice(1)in Mn.style)),_}(E)}matchesElement(E,R){return!1}containsElement(E,R){return Xt(E,R)}getParentElement(E){return nt(E)}query(E,R,V){return wt(E,R,V)}computeStyle(E,R,V){return V||""}animate(E,R,V,ne,Ee,be=[],Ue){return new oe.ZN(V,ne)}}return j.\u0275fac=function(E){return new(E||j)},j.\u0275prov=J.Yz7({token:j,factory:j.\u0275fac}),j})(),Yn=(()=>{class j{}return j.NOOP=new dr,j})();const $r=1e3,Qr="ng-enter",Bn="ng-leave",Er="ng-trigger",Qt=".ng-trigger",Pr="ng-animating",mr=".ng-animating";function _n(j){if("number"==typeof j)return j;const _=j.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:On(parseFloat(_[1]),_[2])}function On(j,_){return"s"===_?j*$r:j}function Xr(j,_,E){return j.hasOwnProperty("duration")?j:function Rn(j,_,E){let V,ne=0,Ee="";if("string"==typeof j){const be=j.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===be)return _.push(Ie()),{duration:0,delay:0,easing:""};V=On(parseFloat(be[1]),be[2]);const Ue=be[3];null!=Ue&&(ne=On(parseFloat(Ue),be[4]));const je=be[5];je&&(Ee=je)}else V=j;if(!E){let be=!1,Ue=_.length;V<0&&(_.push(function ge(){return new J.vHH(3100,!1)}()),be=!0),ne<0&&(_.push(function ye(){return new J.vHH(3101,!1)}()),be=!0),be&&_.splice(Ue,0,Ie())}return{duration:V,delay:ne,easing:Ee}}(j,_,E)}function xr(j,_={}){return Object.keys(j).forEach(E=>{_[E]=j[E]}),_}function en(j){const _=new Map;return Object.keys(j).forEach(E=>{_.set(E,j[E])}),_}function Zn(j,_=new Map,E){if(E)for(let[R,V]of E)_.set(R,V);for(let[R,V]of j)_.set(R,V);return _}function Cr(j,_,E){_.forEach((R,V)=>{const ne=Jt(V);E&&!E.has(V)&&E.set(V,j.style[ne]),j.style[ne]=R})}function _e(j,_){_.forEach((E,R)=>{const V=Jt(R);j.style[V]=""})}function $(j){return Array.isArray(j)?1==j.length?j[0]:(0,oe.vP)(j):j}const W=new RegExp("{{\\s*(.+?)\\s*}}","g");function X(j){let _=[];if("string"==typeof j){let E;for(;E=W.exec(j);)_.push(E[1]);W.lastIndex=0}return _}function Te(j,_,E){const R=j.toString(),V=R.replace(W,(ne,Ee)=>{let be=_[Ee];return null==be&&(E.push(function ce(j){return new J.vHH(3003,!1)}()),be=""),be.toString()});return V==R?j:V}function Ve(j){const _=[];let E=j.next();for(;!E.done;)_.push(E.value),E=j.next();return _}const gt=/-+([a-z0-9])/g;function Jt(j){return j.replace(gt,(..._)=>_[1].toUpperCase())}function Sn(j,_,E){switch(_.type){case 7:return j.visitTrigger(_,E);case 0:return j.visitState(_,E);case 1:return j.visitTransition(_,E);case 2:return j.visitSequence(_,E);case 3:return j.visitGroup(_,E);case 4:return j.visitAnimate(_,E);case 5:return j.visitKeyframes(_,E);case 6:return j.visitStyle(_,E);case 8:return j.visitReference(_,E);case 9:return j.visitAnimateChild(_,E);case 10:return j.visitAnimateRef(_,E);case 11:return j.visitQuery(_,E);case 12:return j.visitStagger(_,E);default:throw function le(j){return new J.vHH(3004,!1)}()}}function zr(j,_){return window.getComputedStyle(j)[_]}const zt="*";function un(j,_){const E=[];return"string"==typeof j?j.split(/\s*,\s*/).forEach(R=>function yn(j,_,E){if(":"==j[0]){const Ue=function Hr(j,_){switch(j){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,R)=>parseFloat(R)>parseFloat(E);case":decrement":return(E,R)=>parseFloat(R)<parseFloat(E);default:return _.push(function Y(j){return new J.vHH(3016,!1)}()),"* => *"}}(j,E);if("function"==typeof Ue)return void _.push(Ue);j=Ue}const R=j.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return E.push(function yt(j){return new J.vHH(3015,!1)}()),_;const V=R[1],ne=R[2],Ee=R[3];_.push(qn(V,Ee));"<"==ne[0]&&!(V==zt&&Ee==zt)&&_.push(qn(Ee,V))}(R,E,_)):E.push(j),E}const nr=new Set(["true","1"]),er=new Set(["false","0"]);function qn(j,_){const E=nr.has(j)||er.has(j),R=nr.has(_)||er.has(_);return(V,ne)=>{let Ee=j==zt||j==V,be=_==zt||_==ne;return!Ee&&E&&"boolean"==typeof V&&(Ee=V?nr.has(j):er.has(j)),!be&&R&&"boolean"==typeof ne&&(be=ne?nr.has(_):er.has(_)),Ee&&be}}const is=new RegExp("s*:selfs*,?","g");function Kr(j,_,E,R){return new Ti(j).build(_,E,R)}class Ti{constructor(_){this._driver=_}build(_,E,R){const V=new vi(E);return this._resetContextStyleTimingState(V),Sn(this,$(_),V)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,E){let R=E.queryCount=0,V=E.depCount=0;const ne=[],Ee=[];return"@"==_.name.charAt(0)&&E.errors.push(function Ye(){return new J.vHH(3006,!1)}()),_.definitions.forEach(be=>{if(this._resetContextStyleTimingState(E),0==be.type){const Ue=be,je=Ue.name;je.toString().split(/\s*,\s*/).forEach(Rt=>{Ue.name=Rt,ne.push(this.visitState(Ue,E))}),Ue.name=je}else if(1==be.type){const Ue=this.visitTransition(be,E);R+=Ue.queryCount,V+=Ue.depCount,Ee.push(Ue)}else E.errors.push(function Bt(){return new J.vHH(3007,!1)}())}),{type:7,name:_.name,states:ne,transitions:Ee,queryCount:R,depCount:V,options:null}}visitState(_,E){const R=this.visitStyle(_.styles,E),V=_.options&&_.options.params||null;if(R.containsDynamicStyles){const ne=new Set,Ee=V||{};R.styles.forEach(be=>{be instanceof Map&&be.forEach(Ue=>{X(Ue).forEach(je=>{Ee.hasOwnProperty(je)||ne.add(je)})})}),ne.size&&(Ve(ne.values()),E.errors.push(function dt(j,_){return new J.vHH(3008,!1)}()))}return{type:0,name:_.name,style:R,options:V?{params:V}:null}}visitTransition(_,E){E.queryCount=0,E.depCount=0;const R=Sn(this,$(_.animation),E);return{type:1,matchers:un(_.expr,E.errors),animation:R,queryCount:E.queryCount,depCount:E.depCount,options:Zi(_.options)}}visitSequence(_,E){return{type:2,steps:_.steps.map(R=>Sn(this,R,E)),options:Zi(_.options)}}visitGroup(_,E){const R=E.currentTime;let V=0;const ne=_.steps.map(Ee=>{E.currentTime=R;const be=Sn(this,Ee,E);return V=Math.max(V,E.currentTime),be});return E.currentTime=V,{type:3,steps:ne,options:Zi(_.options)}}visitAnimate(_,E){const R=function Ui(j,_){if(j.hasOwnProperty("duration"))return j;if("number"==typeof j)return qi(Xr(j,_).duration,0,"");const E=j;if(E.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=qi(0,0,"");return ne.dynamic=!0,ne.strValue=E,ne}const V=Xr(E,_);return qi(V.duration,V.delay,V.easing)}(_.timings,E.errors);E.currentAnimateTimings=R;let V,ne=_.styles?_.styles:(0,oe.oB)({});if(5==ne.type)V=this.visitKeyframes(ne,E);else{let Ee=_.styles,be=!1;if(!Ee){be=!0;const je={};R.easing&&(je.easing=R.easing),Ee=(0,oe.oB)(je)}E.currentTime+=R.duration+R.delay;const Ue=this.visitStyle(Ee,E);Ue.isEmptyStep=be,V=Ue}return E.currentAnimateTimings=null,{type:4,timings:R,style:V,options:null}}visitStyle(_,E){const R=this._makeStyleAst(_,E);return this._validateStyleAst(R,E),R}_makeStyleAst(_,E){const R=[],V=Array.isArray(_.styles)?_.styles:[_.styles];for(let be of V)"string"==typeof be?be===oe.l3?R.push(be):E.errors.push(new J.vHH(3002,!1)):R.push(en(be));let ne=!1,Ee=null;return R.forEach(be=>{if(be instanceof Map&&(be.has("easing")&&(Ee=be.get("easing"),be.delete("easing")),!ne))for(let Ue of be.values())if(Ue.toString().indexOf("{{")>=0){ne=!0;break}}),{type:6,styles:R,easing:Ee,offset:_.offset,containsDynamicStyles:ne,options:null}}_validateStyleAst(_,E){const R=E.currentAnimateTimings;let V=E.currentTime,ne=E.currentTime;R&&ne>0&&(ne-=R.duration+R.delay),_.styles.forEach(Ee=>{"string"!=typeof Ee&&Ee.forEach((be,Ue)=>{const je=E.collectedStyles.get(E.currentQuerySelector),Rt=je.get(Ue);let Ot=!0;Rt&&(ne!=V&&ne>=Rt.startTime&&V<=Rt.endTime&&(E.errors.push(function He(j,_,E,R,V){return new J.vHH(3010,!1)}()),Ot=!1),ne=Rt.startTime),Ot&&je.set(Ue,{startTime:ne,endTime:V}),E.options&&function G(j,_,E){const R=_.params||{},V=X(j);V.length&&V.forEach(ne=>{R.hasOwnProperty(ne)||E.push(function se(j){return new J.vHH(3001,!1)}())})}(be,E.options,E.errors)})})}visitKeyframes(_,E){const R={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function Ge(){return new J.vHH(3011,!1)}()),R;let ne=0;const Ee=[];let be=!1,Ue=!1,je=0;const Rt=_.steps.map(wr=>{const Lr=this._makeStyleAst(wr,E);let Zr=null!=Lr.offset?Lr.offset:function Yi(j){if("string"==typeof j)return null;let _=null;if(Array.isArray(j))j.forEach(E=>{if(E instanceof Map&&E.has("offset")){const R=E;_=parseFloat(R.get("offset")),R.delete("offset")}});else if(j instanceof Map&&j.has("offset")){const E=j;_=parseFloat(E.get("offset")),E.delete("offset")}return _}(Lr.styles),or=0;return null!=Zr&&(ne++,or=Lr.offset=Zr),Ue=Ue||or<0||or>1,be=be||or<je,je=or,Ee.push(or),Lr});Ue&&E.errors.push(function Je(){return new J.vHH(3012,!1)}()),be&&E.errors.push(function et(){return new J.vHH(3200,!1)}());const Ot=_.steps.length;let Vn=0;ne>0&&ne<Ot?E.errors.push(function bt(){return new J.vHH(3202,!1)}()):0==ne&&(Vn=1/(Ot-1));const Tn=Ot-1,Wt=E.currentTime,hn=E.currentAnimateTimings,En=hn.duration;return Rt.forEach((wr,Lr)=>{const Zr=Vn>0?Lr==Tn?1:Vn*Lr:Ee[Lr],or=Zr*En;E.currentTime=Wt+hn.delay+or,hn.duration=or,this._validateStyleAst(wr,E),wr.offset=Zr,R.styles.push(wr)}),R}visitReference(_,E){return{type:8,animation:Sn(this,$(_.animation),E),options:Zi(_.options)}}visitAnimateChild(_,E){return E.depCount++,{type:9,options:Zi(_.options)}}visitAnimateRef(_,E){return{type:10,animation:this.visitReference(_.animation,E),options:Zi(_.options)}}visitQuery(_,E){const R=E.currentQuerySelector,V=_.options||{};E.queryCount++,E.currentQuery=_;const[ne,Ee]=function _s(j){const _=!!j.split(/\s*,\s*/).find(E=>":self"==E);return _&&(j=j.replace(is,"")),j=j.replace(/@\*/g,Qt).replace(/@\w+/g,E=>Qt+"-"+E.slice(1)).replace(/:animating/g,mr),[j,_]}(_.selector);E.currentQuerySelector=R.length?R+" "+ne:ne,nn(E.collectedStyles,E.currentQuerySelector,new Map);const be=Sn(this,$(_.animation),E);return E.currentQuery=null,E.currentQuerySelector=R,{type:11,selector:ne,limit:V.limit||0,optional:!!V.optional,includeSelf:Ee,animation:be,originalSelector:_.selector,options:Zi(_.options)}}visitStagger(_,E){E.currentQuery||E.errors.push(function Pt(){return new J.vHH(3013,!1)}());const R="full"===_.timings?{duration:0,delay:0,easing:"full"}:Xr(_.timings,E.errors,!0);return{type:12,animation:Sn(this,$(_.animation),E),timings:R,options:null}}}class vi{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zi(j){return j?(j=xr(j)).params&&(j.params=function Fi(j){return j?xr(j):null}(j.params)):j={},j}function qi(j,_,E){return{duration:j,delay:_,easing:E}}function Qi(j,_,E,R,V,ne,Ee=null,be=!1){return{type:1,element:j,keyframes:_,preStyleProps:E,postStyleProps:R,duration:V,delay:ne,totalTime:V+ne,easing:Ee,subTimeline:be}}class hi{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,E){let R=this._map.get(_);R||this._map.set(_,R=[]),R.push(...E)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const ai=new RegExp(":enter","g"),bn=new RegExp(":leave","g");function _r(j,_,E,R,V,ne=new Map,Ee=new Map,be,Ue,je=[]){return(new Tr).buildKeyframes(j,_,E,R,V,ne,Ee,be,Ue,je)}class Tr{buildKeyframes(_,E,R,V,ne,Ee,be,Ue,je,Rt=[]){je=je||new hi;const Ot=new hr(_,E,je,V,ne,Rt,[]);Ot.options=Ue;const Vn=Ue.delay?_n(Ue.delay):0;Ot.currentTimeline.delayNextStep(Vn),Ot.currentTimeline.setStyles([Ee],null,Ot.errors,Ue),Sn(this,R,Ot);const Tn=Ot.timelines.filter(Wt=>Wt.containsAnimation());if(Tn.length&&be.size){let Wt;for(let hn=Tn.length-1;hn>=0;hn--){const En=Tn[hn];if(En.element===E){Wt=En;break}}Wt&&!Wt.allowOnlyTimelineStyles()&&Wt.setStyles([be],null,Ot.errors,Ue)}return Tn.length?Tn.map(Wt=>Wt.buildKeyframes()):[Qi(E,[],[],[],0,Vn,"",!1)]}visitTrigger(_,E){}visitState(_,E){}visitTransition(_,E){}visitAnimateChild(_,E){const R=E.subInstructions.get(E.element);if(R){const V=E.createSubContext(_.options),ne=E.currentTimeline.currentTime,Ee=this._visitSubInstructions(R,V,V.options);ne!=Ee&&E.transformIntoNewTimeline(Ee)}E.previousNode=_}visitAnimateRef(_,E){const R=E.createSubContext(_.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],E,R),this.visitReference(_.animation,R),E.transformIntoNewTimeline(R.currentTimeline.currentTime),E.previousNode=_}_applyAnimationRefDelays(_,E,R){for(const V of _){const ne=V?.delay;if(ne){const Ee="number"==typeof ne?ne:_n(Te(ne,V?.params??{},E.errors));R.delayNextStep(Ee)}}}_visitSubInstructions(_,E,R){let ne=E.currentTimeline.currentTime;const Ee=null!=R.duration?_n(R.duration):null,be=null!=R.delay?_n(R.delay):null;return 0!==Ee&&_.forEach(Ue=>{const je=E.appendInstructionToTimeline(Ue,Ee,be);ne=Math.max(ne,je.duration+je.delay)}),ne}visitReference(_,E){E.updateOptions(_.options,!0),Sn(this,_.animation,E),E.previousNode=_}visitSequence(_,E){const R=E.subContextCount;let V=E;const ne=_.options;if(ne&&(ne.params||ne.delay)&&(V=E.createSubContext(ne),V.transformIntoNewTimeline(),null!=ne.delay)){6==V.previousNode.type&&(V.currentTimeline.snapshotCurrentStyles(),V.previousNode=Ei);const Ee=_n(ne.delay);V.delayNextStep(Ee)}_.steps.length&&(_.steps.forEach(Ee=>Sn(this,Ee,V)),V.currentTimeline.applyStylesToKeyframe(),V.subContextCount>R&&V.transformIntoNewTimeline()),E.previousNode=_}visitGroup(_,E){const R=[];let V=E.currentTimeline.currentTime;const ne=_.options&&_.options.delay?_n(_.options.delay):0;_.steps.forEach(Ee=>{const be=E.createSubContext(_.options);ne&&be.delayNextStep(ne),Sn(this,Ee,be),V=Math.max(V,be.currentTimeline.currentTime),R.push(be.currentTimeline)}),R.forEach(Ee=>E.currentTimeline.mergeTimelineCollectedStyles(Ee)),E.transformIntoNewTimeline(V),E.previousNode=_}_visitTiming(_,E){if(_.dynamic){const R=_.strValue;return Xr(E.params?Te(R,E.params,E.errors):R,E.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,E){const R=E.currentAnimateTimings=this._visitTiming(_.timings,E),V=E.currentTimeline;R.delay&&(E.incrementTime(R.delay),V.snapshotCurrentStyles());const ne=_.style;5==ne.type?this.visitKeyframes(ne,E):(E.incrementTime(R.duration),this.visitStyle(ne,E),V.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=_}visitStyle(_,E){const R=E.currentTimeline,V=E.currentAnimateTimings;!V&&R.hasCurrentStyleProperties()&&R.forwardFrame();const ne=V&&V.easing||_.easing;_.isEmptyStep?R.applyEmptyStep(ne):R.setStyles(_.styles,ne,E.errors,E.options),E.previousNode=_}visitKeyframes(_,E){const R=E.currentAnimateTimings,V=E.currentTimeline.duration,ne=R.duration,be=E.createSubContext().currentTimeline;be.easing=R.easing,_.styles.forEach(Ue=>{be.forwardTime((Ue.offset||0)*ne),be.setStyles(Ue.styles,Ue.easing,E.errors,E.options),be.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(be),E.transformIntoNewTimeline(V+ne),E.previousNode=_}visitQuery(_,E){const R=E.currentTimeline.currentTime,V=_.options||{},ne=V.delay?_n(V.delay):0;ne&&(6===E.previousNode.type||0==R&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Ei);let Ee=R;const be=E.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!V.optional,E.errors);E.currentQueryTotal=be.length;let Ue=null;be.forEach((je,Rt)=>{E.currentQueryIndex=Rt;const Ot=E.createSubContext(_.options,je);ne&&Ot.delayNextStep(ne),je===E.element&&(Ue=Ot.currentTimeline),Sn(this,_.animation,Ot),Ot.currentTimeline.applyStylesToKeyframe(),Ee=Math.max(Ee,Ot.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(Ee),Ue&&(E.currentTimeline.mergeTimelineCollectedStyles(Ue),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=_}visitStagger(_,E){const R=E.parentContext,V=E.currentTimeline,ne=_.timings,Ee=Math.abs(ne.duration),be=Ee*(E.currentQueryTotal-1);let Ue=Ee*E.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":Ue=be-Ue;break;case"full":Ue=R.currentStaggerTime}const Rt=E.currentTimeline;Ue&&Rt.delayNextStep(Ue);const Ot=Rt.currentTime;Sn(this,_.animation,E),E.previousNode=_,R.currentStaggerTime=V.currentTime-Ot+(V.startTime-R.currentTimeline.startTime)}}const Ei={};class hr{constructor(_,E,R,V,ne,Ee,be,Ue){this._driver=_,this.element=E,this.subInstructions=R,this._enterClassName=V,this._leaveClassName=ne,this.errors=Ee,this.timelines=be,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ei,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ue||new Ji(this._driver,E,0),be.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,E){if(!_)return;const R=_;let V=this.options;null!=R.duration&&(V.duration=_n(R.duration)),null!=R.delay&&(V.delay=_n(R.delay));const ne=R.params;if(ne){let Ee=V.params;Ee||(Ee=this.options.params={}),Object.keys(ne).forEach(be=>{(!E||!Ee.hasOwnProperty(be))&&(Ee[be]=Te(ne[be],Ee,this.errors))})}}_copyOptions(){const _={};if(this.options){const E=this.options.params;if(E){const R=_.params={};Object.keys(E).forEach(V=>{R[V]=E[V]})}}return _}createSubContext(_=null,E,R){const V=E||this.element,ne=new hr(this._driver,V,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(V,R||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(_),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(_){return this.previousNode=Ei,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,E,R){const V={duration:E??_.duration,delay:this.currentTimeline.currentTime+(R??0)+_.delay,easing:""},ne=new Yr(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,V,_.stretchStartingKeyframe);return this.timelines.push(ne),V}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,E,R,V,ne,Ee){let be=[];if(V&&be.push(this.element),_.length>0){_=(_=_.replace(ai,"."+this._enterClassName)).replace(bn,"."+this._leaveClassName);let je=this._driver.query(this.element,_,1!=R);0!==R&&(je=R<0?je.slice(je.length+R,je.length):je.slice(0,R)),be.push(...je)}return!ne&&0==be.length&&Ee.push(function pt(j){return new J.vHH(3014,!1)}()),be}}class Ji{constructor(_,E,R,V){this._driver=_,this.element=E,this.startTime=R,this._elementTimelineStylesLookup=V,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+_),E&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,E){return this.applyStylesToKeyframe(),new Ji(this._driver,_,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,E){this._localTimelineStyles.set(_,E),this._globalTimelineStyles.set(_,E),this._styleSummary.set(_,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[E,R]of this._globalTimelineStyles)this._backFill.set(E,R||oe.l3),this._currentKeyframe.set(E,oe.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,E,R,V){E&&this._previousKeyframe.set("easing",E);const ne=V&&V.params||{},Ee=function xs(j,_){const E=new Map;let R;return j.forEach(V=>{if("*"===V){R=R||_.keys();for(let ne of R)E.set(ne,oe.l3)}else Zn(V,E)}),E}(_,this._globalTimelineStyles);for(let[be,Ue]of Ee){const je=Te(Ue,ne,R);this._pendingStyles.set(be,je),this._localTimelineStyles.has(be)||this._backFill.set(be,this._globalTimelineStyles.get(be)??oe.l3),this._updateStyle(be,je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,E)=>{this._currentKeyframe.set(E,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,_)}))}snapshotCurrentStyles(){for(let[_,E]of this._localTimelineStyles)this._pendingStyles.set(_,E),this._updateStyle(_,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let E in this._currentKeyframe)_.push(E);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((E,R)=>{const V=this._styleSummary.get(R);(!V||E.time>V.time)&&this._updateStyle(R,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,E=new Set,R=1===this._keyframes.size&&0===this.duration;let V=[];this._keyframes.forEach((be,Ue)=>{const je=Zn(be,new Map,this._backFill);je.forEach((Rt,Ot)=>{Rt===oe.k1?_.add(Ot):Rt===oe.l3&&E.add(Ot)}),R||je.set("offset",Ue/this.duration),V.push(je)});const ne=_.size?Ve(_.values()):[],Ee=E.size?Ve(E.values()):[];if(R){const be=V[0],Ue=new Map(be);be.set("offset",0),Ue.set("offset",1),V=[be,Ue]}return Qi(this.element,V,ne,Ee,this.duration,this.startTime,this.easing,!1)}}class Yr extends Ji{constructor(_,E,R,V,ne,Ee,be=!1){super(_,E,Ee.delay),this.keyframes=R,this.preStyleProps=V,this.postStyleProps=ne,this._stretchStartingKeyframe=be,this.timings={duration:Ee.duration,delay:Ee.delay,easing:Ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:E,duration:R,easing:V}=this.timings;if(this._stretchStartingKeyframe&&E){const ne=[],Ee=R+E,be=E/Ee,Ue=Zn(_[0]);Ue.set("offset",0),ne.push(Ue);const je=Zn(_[0]);je.set("offset",vs(be)),ne.push(je);const Rt=_.length-1;for(let Ot=1;Ot<=Rt;Ot++){let Vn=Zn(_[Ot]);const Tn=Vn.get("offset");Vn.set("offset",vs((E+Tn*R)/Ee)),ne.push(Vn)}R=Ee,E=0,V="",_=ne}return Qi(this.element,_,this.preStyleProps,this.postStyleProps,R,E,V,!0)}}function vs(j,_=3){const E=Math.pow(10,_-1);return Math.round(j*E)/E}class De{}const me=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Re extends De{normalizePropertyName(_,E){return Jt(_)}normalizeStyleValue(_,E,R,V){let ne="";const Ee=R.toString().trim();if(me.has(E)&&0!==R&&"0"!==R)if("number"==typeof R)ne="px";else{const be=R.match(/^[+-]?[\d\.]+([a-z]*)$/);be&&0==be[1].length&&V.push(function xe(j,_){return new J.vHH(3005,!1)}())}return Ee+ne}}function tt(j,_,E,R,V,ne,Ee,be,Ue,je,Rt,Ot,Vn){return{type:0,element:j,triggerName:_,isRemovalTransition:V,fromState:E,fromStyles:ne,toState:R,toStyles:Ee,timelines:be,queriedElements:Ue,preStyleProps:je,postStyleProps:Rt,totalTime:Ot,errors:Vn}}const Qe={};class tn{constructor(_,E,R){this._triggerName=_,this.ast=E,this._stateStyles=R}match(_,E,R,V){return function jt(j,_,E,R,V){return j.some(ne=>ne(_,E,R,V))}(this.ast.matchers,_,E,R,V)}buildStyles(_,E,R){let V=this._stateStyles.get("*");return void 0!==_&&(V=this._stateStyles.get(_?.toString())||V),V?V.buildStyles(E,R):new Map}build(_,E,R,V,ne,Ee,be,Ue,je,Rt){const Ot=[],Vn=this.ast.options&&this.ast.options.params||Qe,Wt=this.buildStyles(R,be&&be.params||Qe,Ot),hn=Ue&&Ue.params||Qe,En=this.buildStyles(V,hn,Ot),wr=new Set,Lr=new Map,Zr=new Map,or="void"===V,Gi={params:fi(hn,Vn),delay:this.ast.options?.delay},ii=Rt?[]:_r(_,E,this.ast.animation,ne,Ee,Wt,En,Gi,je,Ot);let Cn=0;if(ii.forEach(ji=>{Cn=Math.max(ji.duration+ji.delay,Cn)}),Ot.length)return tt(E,this._triggerName,R,V,or,Wt,En,[],[],Lr,Zr,Cn,Ot);ii.forEach(ji=>{const Fr=ji.element,Es=nn(Lr,Fr,new Set);ji.preStyleProps.forEach(Ri=>Es.add(Ri));const Js=nn(Zr,Fr,new Set);ji.postStyleProps.forEach(Ri=>Js.add(Ri)),Fr!==E&&wr.add(Fr)});const si=Ve(wr.values());return tt(E,this._triggerName,R,V,or,Wt,En,ii,si,Lr,Zr,Cn)}}function fi(j,_){const E=xr(_);for(const R in j)j.hasOwnProperty(R)&&null!=j[R]&&(E[R]=j[R]);return E}class $n{constructor(_,E,R){this.styles=_,this.defaultParams=E,this.normalizer=R}buildStyles(_,E){const R=new Map,V=xr(this.defaultParams);return Object.keys(_).forEach(ne=>{const Ee=_[ne];null!==Ee&&(V[ne]=Ee)}),this.styles.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((Ee,be)=>{Ee&&(Ee=Te(Ee,V,E));const Ue=this.normalizer.normalizePropertyName(be,E);Ee=this.normalizer.normalizeStyleValue(be,Ue,Ee,E),R.set(be,Ee)})}),R}}class yr{constructor(_,E,R){this.name=_,this.ast=E,this._normalizer=R,this.transitionFactories=[],this.states=new Map,E.states.forEach(V=>{this.states.set(V.name,new $n(V.style,V.options&&V.options.params||{},R))}),Jr(this.states,"true","1"),Jr(this.states,"false","0"),E.transitions.forEach(V=>{this.transitionFactories.push(new tn(_,V,this.states))}),this.fallbackTransition=function Ai(j,_,E){return new tn(j,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Ee,be)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,E,R,V){return this.transitionFactories.find(Ee=>Ee.match(_,E,R,V))||null}matchStyles(_,E,R){return this.fallbackTransition.buildStyles(_,E,R)}}function Jr(j,_,E){j.has(_)?j.has(E)||j.set(E,j.get(_)):j.has(E)&&j.set(_,j.get(E))}const zn=new hi;class os{constructor(_,E,R){this.bodyNode=_,this._driver=E,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,E){const R=[],ne=Kr(this._driver,E,R,[]);if(R.length)throw function tr(j){return new J.vHH(3503,!1)}();this._animations.set(_,ne)}_buildPlayer(_,E,R){const V=_.element,ne=fn(this._normalizer,_.keyframes,E,R);return this._driver.animate(V,ne,_.duration,_.delay,_.easing,[],!0)}create(_,E,R={}){const V=[],ne=this._animations.get(_);let Ee;const be=new Map;if(ne?(Ee=_r(this._driver,E,ne,Qr,Bn,new Map,new Map,R,zn,V),Ee.forEach(Rt=>{const Ot=nn(be,Rt.element,new Map);Rt.postStyleProps.forEach(Vn=>Ot.set(Vn,null))})):(V.push(function lr(){return new J.vHH(3300,!1)}()),Ee=[]),V.length)throw function Mr(j){return new J.vHH(3504,!1)}();be.forEach((Rt,Ot)=>{Rt.forEach((Vn,Tn)=>{Rt.set(Tn,this._driver.computeStyle(Ot,Tn,oe.l3))})});const je=An(Ee.map(Rt=>{const Ot=be.get(Rt.element);return this._buildPlayer(Rt,new Map,Ot)}));return this._playersById.set(_,je),je.onDestroy(()=>this.destroy(_)),this.players.push(je),je}destroy(_){const E=this._getPlayer(_);E.destroy(),this._playersById.delete(_);const R=this.players.indexOf(E);R>=0&&this.players.splice(R,1)}_getPlayer(_){const E=this._playersById.get(_);if(!E)throw function br(j){return new J.vHH(3301,!1)}();return E}listen(_,E,R,V){const ne=Dn(E,"","","");return Gn(this._getPlayer(_),R,ne,V),()=>{}}command(_,E,R,V){if("register"==R)return void this.register(_,V[0]);if("create"==R)return void this.create(_,E,V[0]||{});const ne=this._getPlayer(_);switch(R){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat(V[0]));break;case"destroy":this.destroy(_)}}}const pi="ng-animate-queued",Bi="ng-animate-disabled",es=[],Wi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},z="__ng_removed";class ee{get params(){return this.options.params}constructor(_,E=""){this.namespaceId=E;const R=_&&_.hasOwnProperty("value");if(this.value=function Qn(j){return j??null}(R?_.value:_),R){const ne=xr(_);delete ne.value,this.options=ne}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const E=_.params;if(E){const R=this.options.params;Object.keys(E).forEach(V=>{null==R[V]&&(R[V]=E[V])})}}}const L="void",fe=new ee(L);class ve{constructor(_,E,R){this.id=_,this.hostElement=E,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,kr(E,this._hostClassName)}listen(_,E,R,V){if(!this._triggers.has(E))throw function vr(j,_){return new J.vHH(3302,!1)}();if(null==R||0==R.length)throw function ln(j){return new J.vHH(3303,!1)}();if(!function pr(j){return"start"==j||"done"==j}(R))throw function kt(j,_){return new J.vHH(3400,!1)}();const ne=nn(this._elementListeners,_,[]),Ee={name:E,phase:R,callback:V};ne.push(Ee);const be=nn(this._engine.statesByElement,_,new Map);return be.has(E)||(kr(_,Er),kr(_,Er+"-"+E),be.set(E,fe)),()=>{this._engine.afterFlush(()=>{const Ue=ne.indexOf(Ee);Ue>=0&&ne.splice(Ue,1),this._triggers.has(E)||be.delete(E)})}}register(_,E){return!this._triggers.has(_)&&(this._triggers.set(_,E),!0)}_getTrigger(_){const E=this._triggers.get(_);if(!E)throw function It(j){return new J.vHH(3401,!1)}();return E}trigger(_,E,R,V=!0){const ne=this._getTrigger(E),Ee=new vt(this.id,E,_);let be=this._engine.statesByElement.get(_);be||(kr(_,Er),kr(_,Er+"-"+E),this._engine.statesByElement.set(_,be=new Map));let Ue=be.get(E);const je=new ee(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&Ue&&je.absorbOptions(Ue.options),be.set(E,je),Ue||(Ue=fe),je.value!==L&&Ue.value===je.value){if(!function Ys(j,_){const E=Object.keys(j),R=Object.keys(_);if(E.length!=R.length)return!1;for(let V=0;V<E.length;V++){const ne=E[V];if(!_.hasOwnProperty(ne)||j[ne]!==_[ne])return!1}return!0}(Ue.params,je.params)){const hn=[],En=ne.matchStyles(Ue.value,Ue.params,hn),wr=ne.matchStyles(je.value,je.params,hn);hn.length?this._engine.reportError(hn):this._engine.afterFlush(()=>{_e(_,En),Cr(_,wr)})}return}const Vn=nn(this._engine.playersByElement,_,[]);Vn.forEach(hn=>{hn.namespaceId==this.id&&hn.triggerName==E&&hn.queued&&hn.destroy()});let Tn=ne.matchTransition(Ue.value,je.value,_,je.params),Wt=!1;if(!Tn){if(!V)return;Tn=ne.fallbackTransition,Wt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:E,transition:Tn,fromState:Ue,toState:je,player:Ee,isFallbackTransition:Wt}),Wt||(kr(_,pi),Ee.onStart(()=>{ri(_,pi)})),Ee.onDone(()=>{let hn=this.players.indexOf(Ee);hn>=0&&this.players.splice(hn,1);const En=this._engine.playersByElement.get(_);if(En){let wr=En.indexOf(Ee);wr>=0&&En.splice(wr,1)}}),this.players.push(Ee),Vn.push(Ee),Ee}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(E=>E.delete(_)),this._elementListeners.forEach((E,R)=>{this._elementListeners.set(R,E.filter(V=>V.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const E=this._engine.playersByElement.get(_);E&&(E.forEach(R=>R.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,E){const R=this._engine.driver.query(_,Qt,!0);R.forEach(V=>{if(V[z])return;const ne=this._engine.fetchNamespacesByElement(V);ne.size?ne.forEach(Ee=>Ee.triggerLeaveAnimation(V,E,!1,!0)):this.clearElementCache(V)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(V=>this.clearElementCache(V)))}triggerLeaveAnimation(_,E,R,V){const ne=this._engine.statesByElement.get(_),Ee=new Map;if(ne){const be=[];if(ne.forEach((Ue,je)=>{if(Ee.set(je,Ue.value),this._triggers.has(je)){const Rt=this.trigger(_,je,L,V);Rt&&be.push(Rt)}}),be.length)return this._engine.markElementAsRemoved(this.id,_,!0,E,Ee),R&&An(be).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const E=this._elementListeners.get(_),R=this._engine.statesByElement.get(_);if(E&&R){const V=new Set;E.forEach(ne=>{const Ee=ne.name;if(V.has(Ee))return;V.add(Ee);const Ue=this._triggers.get(Ee).fallbackTransition,je=R.get(Ee)||fe,Rt=new ee(L),Ot=new vt(this.id,Ee,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:Ee,transition:Ue,fromState:je,toState:Rt,player:Ot,isFallbackTransition:!0})})}}removeNode(_,E){const R=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,E),this.triggerLeaveAnimation(_,E,!0))return;let V=!1;if(R.totalAnimations){const ne=R.players.length?R.playersByQueriedElement.get(_):[];if(ne&&ne.length)V=!0;else{let Ee=_;for(;Ee=Ee.parentNode;)if(R.statesByElement.get(Ee)){V=!0;break}}}if(this.prepareLeaveAnimationListeners(_),V)R.markElementAsRemoved(this.id,_,!1,E);else{const ne=_[z];(!ne||ne===Wi)&&(R.afterFlush(()=>this.clearElementCache(_)),R.destroyInnerAnimations(_),R._onRemovalComplete(_,E))}}insertNode(_,E){kr(_,this._hostClassName)}drainQueuedTransitions(_){const E=[];return this._queue.forEach(R=>{const V=R.player;if(V.destroyed)return;const ne=R.element,Ee=this._elementListeners.get(ne);Ee&&Ee.forEach(be=>{if(be.name==R.triggerName){const Ue=Dn(ne,R.triggerName,R.fromState.value,R.toState.value);Ue._data=_,Gn(R.player,be.phase,Ue,be.callback)}}),V.markedForDestroy?this._engine.afterFlush(()=>{V.destroy()}):E.push(R)}),this._queue=[],E.sort((R,V)=>{const ne=R.transition.ast.depCount,Ee=V.transition.ast.depCount;return 0==ne||0==Ee?ne-Ee:this._engine.driver.containsElement(R.element,V.element)?1:-1})}destroy(_){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let E=!1;return this._elementListeners.has(_)&&(E=!0),E=!!this._queue.find(R=>R.element===_)||E,E}}class qe{_onRemovalComplete(_,E){this.onRemovalComplete(_,E)}constructor(_,E,R){this.bodyNode=_,this.driver=E,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(V,ne)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(E=>{E.players.forEach(R=>{R.queued&&_.push(R)})}),_}createNamespace(_,E){const R=new ve(_,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(R,E):(this.newHostElements.set(E,R),this.collectEnterElement(E)),this._namespaceLookup[_]=R}_balanceNamespaceList(_,E){const R=this._namespaceList,V=this.namespacesByHostElement;if(R.length-1>=0){let Ee=!1,be=this.driver.getParentElement(E);for(;be;){const Ue=V.get(be);if(Ue){const je=R.indexOf(Ue);R.splice(je+1,0,_),Ee=!0;break}be=this.driver.getParentElement(be)}Ee||R.unshift(_)}else R.push(_);return V.set(E,_),_}register(_,E){let R=this._namespaceLookup[_];return R||(R=this.createNamespace(_,E)),R}registerTrigger(_,E,R){let V=this._namespaceLookup[_];V&&V.register(E,R)&&this.totalAnimations++}destroy(_,E){if(!_)return;const R=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[_];const V=this._namespaceList.indexOf(R);V>=0&&this._namespaceList.splice(V,1)}),this.afterFlushAnimationsDone(()=>R.destroy(E))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const E=new Set,R=this.statesByElement.get(_);if(R)for(let V of R.values())if(V.namespaceId){const ne=this._fetchNamespace(V.namespaceId);ne&&E.add(ne)}return E}trigger(_,E,R,V){if(fr(E)){const ne=this._fetchNamespace(_);if(ne)return ne.trigger(E,R,V),!0}return!1}insertNode(_,E,R,V){if(!fr(E))return;const ne=E[z];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const Ee=this.collectedLeaveElements.indexOf(E);Ee>=0&&this.collectedLeaveElements.splice(Ee,1)}if(_){const Ee=this._fetchNamespace(_);Ee&&Ee.insertNode(E,R)}V&&this.collectEnterElement(E)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,E){E?this.disabledNodes.has(_)||(this.disabledNodes.add(_),kr(_,Bi)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),ri(_,Bi))}removeNode(_,E,R,V){if(fr(E)){const ne=_?this._fetchNamespace(_):null;if(ne?ne.removeNode(E,V):this.markElementAsRemoved(_,E,!1,V),R){const Ee=this.namespacesByHostElement.get(E);Ee&&Ee.id!==_&&Ee.removeNode(E,V)}}else this._onRemovalComplete(E,V)}markElementAsRemoved(_,E,R,V,ne){this.collectedLeaveElements.push(E),E[z]={namespaceId:_,setForRemoval:V,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:ne}}listen(_,E,R,V,ne){return fr(E)?this._fetchNamespace(_).listen(E,R,V,ne):()=>{}}_buildInstruction(_,E,R,V,ne){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,R,V,_.fromState.options,_.toState.options,E,ne)}destroyInnerAnimations(_){let E=this.driver.query(_,Qt,!0);E.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(_,mr,!0),E.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(_){const E=this.playersByElement.get(_);E&&E.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(_){const E=this.playersByQueriedElement.get(_);E&&E.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return An(this.players).onDone(()=>_());_()})}processLeaveNode(_){const E=_[z];if(E&&E.setForRemoval){if(_[z]=Wi,E.namespaceId){this.destroyInnerAnimations(_);const R=this._fetchNamespace(E.namespaceId);R&&R.clearElementCache(_)}this._onRemovalComplete(_,E.setForRemoval)}_.classList?.contains(Bi)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(_=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,V)=>this._balanceNamespaceList(R,V)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)kr(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{E=this._flushAnimations(R,_)}finally{for(let V=0;V<R.length;V++)R[V]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],E.length?An(E).onDone(()=>{R.forEach(V=>V())}):R.forEach(V=>V())}}reportError(_){throw function cn(j){return new J.vHH(3402,!1)}()}_flushAnimations(_,E){const R=new hi,V=[],ne=new Map,Ee=[],be=new Map,Ue=new Map,je=new Map,Rt=new Set;this.disabledNodes.forEach(C=>{Rt.add(C);const N=this.driver.query(C,".ng-animate-queued",!0);for(let T=0;T<N.length;T++)Rt.add(N[T])});const Ot=this.bodyNode,Vn=Array.from(this.statesByElement.keys()),Tn=ts(Vn,this.collectedEnterElements),Wt=new Map;let hn=0;Tn.forEach((C,N)=>{const T=Qr+hn++;Wt.set(N,T),C.forEach(H=>kr(H,T))});const En=[],wr=new Set,Lr=new Set;for(let C=0;C<this.collectedLeaveElements.length;C++){const N=this.collectedLeaveElements[C],T=N[z];T&&T.setForRemoval&&(En.push(N),wr.add(N),T.hasAnimation?this.driver.query(N,".ng-star-inserted",!0).forEach(H=>wr.add(H)):Lr.add(N))}const Zr=new Map,or=ts(Vn,Array.from(wr));or.forEach((C,N)=>{const T=Bn+hn++;Zr.set(N,T),C.forEach(H=>kr(H,T))}),_.push(()=>{Tn.forEach((C,N)=>{const T=Wt.get(N);C.forEach(H=>ri(H,T))}),or.forEach((C,N)=>{const T=Zr.get(N);C.forEach(H=>ri(H,T))}),En.forEach(C=>{this.processLeaveNode(C)})});const Gi=[],ii=[];for(let C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(E).forEach(T=>{const H=T.player,he=T.element;if(Gi.push(H),this.collectedEnterElements.length){const $t=he[z];if($t&&$t.setForMove){if($t.previousTriggersValues&&$t.previousTriggersValues.has(T.triggerName)){const cr=$t.previousTriggersValues.get(T.triggerName),wn=this.statesByElement.get(T.element);if(wn&&wn.has(T.triggerName)){const Ar=wn.get(T.triggerName);Ar.value=cr,wn.set(T.triggerName,Ar)}}return void H.destroy()}}const Pe=!Ot||!this.driver.containsElement(Ot,he),$e=Zr.get(he),Et=Wt.get(he),sn=this._buildInstruction(T,R,Et,$e,Pe);if(sn.errors&&sn.errors.length)return void ii.push(sn);if(Pe)return H.onStart(()=>_e(he,sn.fromStyles)),H.onDestroy(()=>Cr(he,sn.toStyles)),void V.push(H);if(T.isFallbackTransition)return H.onStart(()=>_e(he,sn.fromStyles)),H.onDestroy(()=>Cr(he,sn.toStyles)),void V.push(H);const Ct=[];sn.timelines.forEach($t=>{$t.stretchStartingKeyframe=!0,this.disabledNodes.has($t.element)||Ct.push($t)}),sn.timelines=Ct,R.append(he,sn.timelines),Ee.push({instruction:sn,player:H,element:he}),sn.queriedElements.forEach($t=>nn(be,$t,[]).push(H)),sn.preStyleProps.forEach(($t,cr)=>{if($t.size){let wn=Ue.get(cr);wn||Ue.set(cr,wn=new Set),$t.forEach((Ar,ti)=>wn.add(ti))}}),sn.postStyleProps.forEach(($t,cr)=>{let wn=je.get(cr);wn||je.set(cr,wn=new Set),$t.forEach((Ar,ti)=>wn.add(ti))})});if(ii.length){const C=[];ii.forEach(N=>{C.push(function gn(j,_){return new J.vHH(3505,!1)}())}),Gi.forEach(N=>N.destroy()),this.reportError(C)}const Cn=new Map,si=new Map;Ee.forEach(C=>{const N=C.element;R.has(N)&&(si.set(N,N),this._beforeAnimationBuild(C.player.namespaceId,C.instruction,Cn))}),V.forEach(C=>{const N=C.element;this._getPreviousPlayers(N,!1,C.namespaceId,C.triggerName,null).forEach(H=>{nn(Cn,N,[]).push(H),H.destroy()})});const ji=En.filter(C=>as(C,Ue,je)),Fr=new Map;ir(Fr,this.driver,Lr,je,oe.l3).forEach(C=>{as(C,Ue,je)&&ji.push(C)});const Js=new Map;Tn.forEach((C,N)=>{ir(Js,this.driver,new Set(C),Ue,oe.k1)}),ji.forEach(C=>{const N=Fr.get(C),T=Js.get(C);Fr.set(C,new Map([...Array.from(N?.entries()??[]),...Array.from(T?.entries()??[])]))});const Ri=[],qr=[],ws={};Ee.forEach(C=>{const{element:N,player:T,instruction:H}=C;if(R.has(N)){if(Rt.has(N))return T.onDestroy(()=>Cr(N,H.toStyles)),T.disabled=!0,T.overrideTotalTime(H.totalTime),void V.push(T);let he=ws;if(si.size>1){let $e=N;const Et=[];for(;$e=$e.parentNode;){const sn=si.get($e);if(sn){he=sn;break}Et.push($e)}Et.forEach(sn=>si.set(sn,he))}const Pe=this._buildAnimation(T.namespaceId,H,Cn,ne,Js,Fr);if(T.setRealPlayer(Pe),he===ws)Ri.push(T);else{const $e=this.playersByElement.get(he);$e&&$e.length&&(T.parentPlayer=An($e)),V.push(T)}}else _e(N,H.fromStyles),T.onDestroy(()=>Cr(N,H.toStyles)),qr.push(T),Rt.has(N)&&V.push(T)}),qr.forEach(C=>{const N=ne.get(C.element);if(N&&N.length){const T=An(N);C.setRealPlayer(T)}}),V.forEach(C=>{C.parentPlayer?C.syncPlayerEvents(C.parentPlayer):C.destroy()});for(let C=0;C<En.length;C++){const N=En[C],T=N[z];if(ri(N,Bn),T&&T.hasAnimation)continue;let H=[];if(be.size){let Pe=be.get(N);Pe&&Pe.length&&H.push(...Pe);let $e=this.driver.query(N,mr,!0);for(let Et=0;Et<$e.length;Et++){let sn=be.get($e[Et]);sn&&sn.length&&H.push(...sn)}}const he=H.filter(Pe=>!Pe.destroyed);he.length?oa(this,N,he):this.processLeaveNode(N)}return En.length=0,Ri.forEach(C=>{this.players.push(C),C.onDone(()=>{C.destroy();const N=this.players.indexOf(C);this.players.splice(N,1)}),C.play()}),Ri}elementContainsData(_,E){let R=!1;const V=E[z];return V&&V.setForRemoval&&(R=!0),this.playersByElement.has(E)&&(R=!0),this.playersByQueriedElement.has(E)&&(R=!0),this.statesByElement.has(E)&&(R=!0),this._fetchNamespace(_).elementContainsData(E)||R}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,E,R,V,ne){let Ee=[];if(E){const be=this.playersByQueriedElement.get(_);be&&(Ee=be)}else{const be=this.playersByElement.get(_);if(be){const Ue=!ne||ne==L;be.forEach(je=>{je.queued||!Ue&&je.triggerName!=V||Ee.push(je)})}}return(R||V)&&(Ee=Ee.filter(be=>!(R&&R!=be.namespaceId||V&&V!=be.triggerName))),Ee}_beforeAnimationBuild(_,E,R){const ne=E.element,Ee=E.isRemovalTransition?void 0:_,be=E.isRemovalTransition?void 0:E.triggerName;for(const Ue of E.timelines){const je=Ue.element,Rt=je!==ne,Ot=nn(R,je,[]);this._getPreviousPlayers(je,Rt,Ee,be,E.toState).forEach(Tn=>{const Wt=Tn.getRealPlayer();Wt.beforeDestroy&&Wt.beforeDestroy(),Tn.destroy(),Ot.push(Tn)})}_e(ne,E.fromStyles)}_buildAnimation(_,E,R,V,ne,Ee){const be=E.triggerName,Ue=E.element,je=[],Rt=new Set,Ot=new Set,Vn=E.timelines.map(Wt=>{const hn=Wt.element;Rt.add(hn);const En=hn[z];if(En&&En.removedBeforeQueried)return new oe.ZN(Wt.duration,Wt.delay);const wr=hn!==Ue,Lr=function fo(j){const _=[];return Ks(j,_),_}((R.get(hn)||es).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===hn),Zr=ne.get(hn),or=Ee.get(hn),Gi=fn(this._normalizer,Wt.keyframes,Zr,or),ii=this._buildPlayer(Wt,Gi,Lr);if(Wt.subTimeline&&V&&Ot.add(hn),wr){const Cn=new vt(_,be,hn);Cn.setRealPlayer(ii),je.push(Cn)}return ii});je.forEach(Wt=>{nn(this.playersByQueriedElement,Wt.element,[]).push(Wt),Wt.onDone(()=>function Ft(j,_,E){let R=j.get(_);if(R){if(R.length){const V=R.indexOf(E);R.splice(V,1)}0==R.length&&j.delete(_)}return R}(this.playersByQueriedElement,Wt.element,Wt))}),Rt.forEach(Wt=>kr(Wt,Pr));const Tn=An(Vn);return Tn.onDestroy(()=>{Rt.forEach(Wt=>ri(Wt,Pr)),Cr(Ue,E.toStyles)}),Ot.forEach(Wt=>{nn(V,Wt,[]).push(Tn)}),Tn}_buildPlayer(_,E,R){return E.length>0?this.driver.animate(_.element,E,_.duration,_.delay,_.easing,R):new oe.ZN(_.duration,_.delay)}}class vt{constructor(_,E,R){this.namespaceId=_,this.triggerName=E,this.element=R,this._player=new oe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((E,R)=>{E.forEach(V=>Gn(_,R,void 0,V))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const E=this._player;E.triggerCallback&&_.onStart(()=>E.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,E){nn(this._queuedCallbacks,_,[]).push(E)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const E=this._player;E.triggerCallback&&E.triggerCallback(_)}}function fr(j){return j&&1===j.nodeType}function Vi(j,_){const E=j.style.display;return j.style.display=_??"none",E}function ir(j,_,E,R,V){const ne=[];E.forEach(Ue=>ne.push(Vi(Ue)));const Ee=[];R.forEach((Ue,je)=>{const Rt=new Map;Ue.forEach(Ot=>{const Vn=_.computeStyle(je,Ot,V);Rt.set(Ot,Vn),(!Vn||0==Vn.length)&&(je[z]=Nn,Ee.push(je))}),j.set(je,Rt)});let be=0;return E.forEach(Ue=>Vi(Ue,ne[be++])),Ee}function ts(j,_){const E=new Map;if(j.forEach(be=>E.set(be,[])),0==_.length)return E;const R=1,V=new Set(_),ne=new Map;function Ee(be){if(!be)return R;let Ue=ne.get(be);if(Ue)return Ue;const je=be.parentNode;return Ue=E.has(je)?je:V.has(je)?R:Ee(je),ne.set(be,Ue),Ue}return _.forEach(be=>{const Ue=Ee(be);Ue!==R&&E.get(Ue).push(be)}),E}function kr(j,_){j.classList?.add(_)}function ri(j,_){j.classList?.remove(_)}function oa(j,_,E){An(E).onDone(()=>j.processLeaveNode(_))}function Ks(j,_){for(let E=0;E<j.length;E++){const R=j[E];R instanceof oe.ZE?Ks(R.players,_):_.push(R)}}function as(j,_,E){const R=E.get(j);if(!R)return!1;let V=_.get(j);return V?R.forEach(ne=>V.add(ne)):_.set(j,R),E.delete(j),!0}class Zs{constructor(_,E,R){this.bodyNode=_,this._driver=E,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(V,ne)=>{},this._transitionEngine=new qe(_,E,R),this._timelineEngine=new os(_,E,R),this._transitionEngine.onRemovalComplete=(V,ne)=>this.onRemovalComplete(V,ne)}registerTrigger(_,E,R,V,ne){const Ee=_+"-"+V;let be=this._triggerCache[Ee];if(!be){const Ue=[],Rt=Kr(this._driver,ne,Ue,[]);if(Ue.length)throw function Nr(j,_){return new J.vHH(3404,!1)}();be=function ht(j,_,E){return new yr(j,_,E)}(V,Rt,this._normalizer),this._triggerCache[Ee]=be}this._transitionEngine.registerTrigger(E,V,be)}register(_,E){this._transitionEngine.register(_,E)}destroy(_,E){this._transitionEngine.destroy(_,E)}onInsert(_,E,R,V){this._transitionEngine.insertNode(_,E,R,V)}onRemove(_,E,R,V){this._transitionEngine.removeNode(_,E,V||!1,R)}disableAnimations(_,E){this._transitionEngine.markElementAsDisabled(_,E)}process(_,E,R,V){if("@"==R.charAt(0)){const[ne,Ee]=Sr(R);this._timelineEngine.command(ne,E,Ee,V)}else this._transitionEngine.trigger(_,E,R,V)}listen(_,E,R,V,ne){if("@"==R.charAt(0)){const[Ee,be]=Sr(R);return this._timelineEngine.listen(Ee,E,be,ne)}return this._transitionEngine.listen(_,E,R,V,ne)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let To=(()=>{class j{constructor(E,R,V){this._element=E,this._startStyles=R,this._endStyles=V,this._state=0;let ne=j.initialStylesByElement.get(E);ne||j.initialStylesByElement.set(E,ne=new Map),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&Cr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cr(this._element,this._initialStyles),this._endStyles&&(Cr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(j.initialStylesByElement.delete(this._element),this._startStyles&&(_e(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_e(this._element,this._endStyles),this._endStyles=null),Cr(this._element,this._initialStyles),this._state=3)}}return j.initialStylesByElement=new WeakMap,j})();function Mi(j){let _=null;return j.forEach((E,R)=>{(function qs(j){return"display"===j||"position"===j})(R)&&(_=_||new Map,_.set(R,E))}),_}class gr{constructor(_,E,R,V){this.element=_,this.keyframes=E,this.options=R,this._specialStyles=V,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const E=[];return _.forEach(R=>{E.push(Object.fromEntries(R))}),E}_triggerWebAnimation(_,E,R){return _.animate(this._convertKeyframesToObject(E),R)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,V)=>{"offset"!==V&&_.set(V,this._finished?R:zr(this.element,V))}),this.currentSnapshot=_}triggerCallback(_){const E="start"===_?this._onStartFns:this._onDoneFns;E.forEach(R=>R()),E.length=0}}class ks{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,E){return!1}containsElement(_,E){return Xt(_,E)}getParentElement(_){return nt(_)}query(_,E,R){return wt(_,E,R)}computeStyle(_,E,R){return window.getComputedStyle(_)[E]}animate(_,E,R,V,ne,Ee=[]){const Ue={duration:R,delay:V,fill:0==V?"both":"forwards"};ne&&(Ue.easing=ne);const je=new Map,Rt=Ee.filter(Tn=>Tn instanceof gr);(function kn(j,_){return 0===j||0===_})(R,V)&&Rt.forEach(Tn=>{Tn.currentSnapshot.forEach((Wt,hn)=>je.set(hn,Wt))});let Ot=function Rr(j){return j.length?j[0]instanceof Map?j:j.map(_=>en(_)):[]}(E).map(Tn=>Zn(Tn));Ot=function Zt(j,_,E){if(E.size&&_.length){let R=_[0],V=[];if(E.forEach((ne,Ee)=>{R.has(Ee)||V.push(Ee),R.set(Ee,ne)}),V.length)for(let ne=1;ne<_.length;ne++){let Ee=_[ne];V.forEach(be=>Ee.set(be,zr(j,be)))}}return _}(_,Ot,je);const Vn=function aa(j,_){let E=null,R=null;return Array.isArray(_)&&_.length?(E=Mi(_[0]),_.length>1&&(R=Mi(_[_.length-1]))):_ instanceof Map&&(E=Mi(_)),E||R?new To(j,E,R):null}(_,Ot);return new gr(_,Ot,Ue,Vn)}}var Qs=U(4755);let Ao=(()=>{class j extends oe._j{constructor(E,R){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(R.body,{id:"0",encapsulation:J.ifc.None,styles:[],data:{animation:[]}})}build(E){const R=this._nextAnimationId.toString();this._nextAnimationId++;const V=Array.isArray(E)?(0,oe.vP)(E):E;return mi(this._renderer,null,R,"register",[V]),new Ls(R,this._renderer)}}return j.\u0275fac=function(E){return new(E||j)(J.LFG(J.FYo),J.LFG(Qs.K0))},j.\u0275prov=J.Yz7({token:j,factory:j.\u0275fac}),j})();class Ls extends oe.LC{constructor(_,E){super(),this._id=_,this._renderer=E}create(_,E){return new gi(this._id,_,E||{},this._renderer)}}class gi{constructor(_,E,R,V){this.id=_,this.element=E,this._renderer=V,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(_,E){return this._renderer.listen(this.element,`@@${this.id}:${_}`,E)}_command(_,...E){return mi(this._renderer,this.element,this.id,_,E)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function mi(j,_,E,R,V){return j.setProperty(_,`@@${E}:${R}`,V)}const dn="@.disabled";let no=(()=>{class j{constructor(E,R,V){this.delegate=E,this.engine=R,this._zone=V,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(ne,Ee)=>{const be=Ee?.parentNode(ne);be&&Ee.removeChild(be,ne)}}createRenderer(E,R){const ne=this.delegate.createRenderer(E,R);if(!(E&&R&&R.data&&R.data.animation)){let Rt=this._rendererCache.get(ne);return Rt||(Rt=new Xs("",ne,this.engine,()=>this._rendererCache.delete(ne)),this._rendererCache.set(ne,Rt)),Rt}const Ee=R.id,be=R.id+"-"+this._currentId;this._currentId++,this.engine.register(be,E);const Ue=Rt=>{Array.isArray(Rt)?Rt.forEach(Ue):this.engine.registerTrigger(Ee,be,E,Rt.name,Rt)};return R.data.animation.forEach(Ue),new As(this,be,ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,R,V){E>=0&&E<this._microtaskId?this._zone.run(()=>R(V)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ne=>{const[Ee,be]=ne;Ee(be)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,V]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return j.\u0275fac=function(E){return new(E||j)(J.LFG(J.FYo),J.LFG(Zs),J.LFG(J.R0b))},j.\u0275prov=J.Yz7({token:j,factory:j.\u0275fac}),j})();class Xs{constructor(_,E,R,V){this.namespaceId=_,this.delegate=E,this.engine=R,this._onDestroy=V,this.destroyNode=this.delegate.destroyNode?ne=>E.destroyNode(ne):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,E){return this.delegate.createElement(_,E)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,E){this.delegate.appendChild(_,E),this.engine.onInsert(this.namespaceId,E,_,!1)}insertBefore(_,E,R,V=!0){this.delegate.insertBefore(_,E,R),this.engine.onInsert(this.namespaceId,E,_,V)}removeChild(_,E,R){this.engine.onRemove(this.namespaceId,E,this.delegate,R)}selectRootElement(_,E){return this.delegate.selectRootElement(_,E)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,E,R,V){this.delegate.setAttribute(_,E,R,V)}removeAttribute(_,E,R){this.delegate.removeAttribute(_,E,R)}addClass(_,E){this.delegate.addClass(_,E)}removeClass(_,E){this.delegate.removeClass(_,E)}setStyle(_,E,R,V){this.delegate.setStyle(_,E,R,V)}removeStyle(_,E,R){this.delegate.removeStyle(_,E,R)}setProperty(_,E,R){"@"==E.charAt(0)&&E==dn?this.disableAnimations(_,!!R):this.delegate.setProperty(_,E,R)}setValue(_,E){this.delegate.setValue(_,E)}listen(_,E,R){return this.delegate.listen(_,E,R)}disableAnimations(_,E){this.engine.disableAnimations(_,E)}}class As extends Xs{constructor(_,E,R,V,ne){super(E,R,V,ne),this.factory=_,this.namespaceId=E}setProperty(_,E,R){"@"==E.charAt(0)?"."==E.charAt(1)&&E==dn?this.disableAnimations(_,R=void 0===R||!!R):this.engine.process(this.namespaceId,_,E.slice(1),R):this.delegate.setProperty(_,E,R)}listen(_,E,R){if("@"==E.charAt(0)){const V=function sr(j){switch(j){case"body":return document.body;case"document":return document;case"window":return window;default:return j}}(_);let ne=E.slice(1),Ee="";return"@"!=ne.charAt(0)&&([ne,Ee]=function Fs(j){const _=j.indexOf(".");return[j.substring(0,_),j.slice(_+1)]}(ne)),this.engine.listen(this.namespaceId,V,ne,Ee,be=>{this.factory.scheduleListenerCallback(be._data||-1,R,be)})}return this.delegate.listen(_,E,R)}}const Us=[{provide:oe._j,useClass:Ao},{provide:De,useFactory:function po(){return new Re}},{provide:Zs,useClass:(()=>{class j extends Zs{constructor(E,R,V,ne){super(E.body,R,V)}ngOnDestroy(){this.flush()}}return j.\u0275fac=function(E){return new(E||j)(J.LFG(Qs.K0),J.LFG(Yn),J.LFG(De),J.LFG(J.z2F))},j.\u0275prov=J.Yz7({token:j,factory:j.\u0275fac}),j})()},{provide:J.FYo,useFactory:function go(j,_,E){return new no(j,_,E)},deps:[h.se,Zs,J.R0b]}],Or=[{provide:Yn,useFactory:()=>new ks},{provide:J.QbO,useValue:"BrowserAnimations"},...Us],Hi=[{provide:Yn,useClass:dr},{provide:J.QbO,useValue:"NoopAnimations"},...Us];let ja=(()=>{class j{static withConfig(E){return{ngModule:j,providers:E.disableAnimations?Hi:Or}}}return j.\u0275fac=function(E){return new(E||j)},j.\u0275mod=J.oAB({type:j}),j.\u0275inj=J.cJS({providers:Or,imports:[h.b2]}),j})();var cs=U(2011),mo=U(2340),ro=U(4941),io=U(7525),us=U(4115);const Pi=[{path:"",loadChildren:()=>Promise.all([U.e(928),U.e(851)]).then(U.bind(U,5851)).then(j=>j.CustomerModule)},{path:"agent",loadChildren:()=>Promise.all([U.e(928),U.e(669)]).then(U.bind(U,1669)).then(j=>j.AgentModule)}];let so=(()=>{class j{}return j.\u0275fac=function(E){return new(E||j)},j.\u0275mod=J.oAB({type:j,bootstrap:[Ce]}),j.\u0275inj=J.cJS({imports:[h.b2,Q.Bz.forRoot(Pi),cs.hO.initializeApp(mo.N.firebase),io.JS,ro.ww,ja,us.kb]}),j})();mo.N.production&&(0,J.G48)(),h.q6().bootstrapModule(so).catch(j=>console.error(j))},591:(At,Be,U)=>{U.d(Be,{X:()=>Q});var h=U(8929),J=U(5279);class Q extends h.xQ{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const ie=super._subscribe(oe);return ie&&!ie.closed&&oe.next(this._value),ie}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new J.N;return this._value}next(oe){super.next(this._value=oe)}}},6498:(At,Be,U)=>{U.d(Be,{y:()=>ye});var h=U(3489),Q=U(7668),Ce=U(3292),ie=U(3821),Ie=U(4843),ge=U(2830);let ye=(()=>{class ce{constructor(xe){this._isScalar=!1,xe&&(this._subscribe=xe)}lift(xe){const Ye=new ce;return Ye.source=this,Ye.operator=xe,Ye}subscribe(xe,Ye,Bt){const{operator:dt}=this,Fe=function oe(ce,le,xe){if(ce){if(ce instanceof h.L)return ce;if(ce[Q.b])return ce[Q.b]()}return ce||le||xe?new h.L(ce,le,xe):new h.L(Ce.c)}(xe,Ye,Bt);if(Fe.add(dt?dt.call(Fe,this.source):this.source||ge.config.useDeprecatedSynchronousErrorHandling&&!Fe.syncErrorThrowable?this._subscribe(Fe):this._trySubscribe(Fe)),ge.config.useDeprecatedSynchronousErrorHandling&&Fe.syncErrorThrowable&&(Fe.syncErrorThrowable=!1,Fe.syncErrorThrown))throw Fe.syncErrorValue;return Fe}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ye){ge.config.useDeprecatedSynchronousErrorHandling&&(xe.syncErrorThrown=!0,xe.syncErrorValue=Ye),function J(ce){for(;ce;){const{closed:le,destination:xe,isStopped:Ye}=ce;if(le||Ye)return!1;ce=xe&&xe instanceof h.L?xe:null}return!0}(xe)?xe.error(Ye):console.warn(Ye)}}forEach(xe,Ye){return new(Ye=se(Ye))((Bt,dt)=>{let Fe;Fe=this.subscribe(lt=>{try{xe(lt)}catch(He){dt(He),Fe&&Fe.unsubscribe()}},dt,Bt)})}_subscribe(xe){const{source:Ye}=this;return Ye&&Ye.subscribe(xe)}[ie.L](){return this}pipe(...xe){return 0===xe.length?this:(0,Ie.U)(xe)(this)}toPromise(xe){return new(xe=se(xe))((Ye,Bt)=>{let dt;this.subscribe(Fe=>dt=Fe,Fe=>Bt(Fe),()=>Ye(dt))})}}return ce.create=le=>new ce(le),ce})();function se(ce){if(ce||(ce=ge.config.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},3292:(At,Be,U)=>{U.d(Be,{c:()=>Q});var h=U(2830),J=U(2782);const Q={closed:!0,next(Ce){},error(Ce){if(h.config.useDeprecatedSynchronousErrorHandling)throw Ce;(0,J.z)(Ce)},complete(){}}},826:(At,Be,U)=>{U.d(Be,{L:()=>J});var h=U(3489);class J extends h.L{notifyNext(Ce,oe,ie,Ie,ge){this.destination.next(oe)}notifyError(Ce,oe){this.destination.error(Ce)}notifyComplete(Ce){this.destination.complete()}}},8929:(At,Be,U)=>{U.d(Be,{Yc:()=>Ie,xQ:()=>ge});var h=U(6498),J=U(3489),Q=U(2654),Ce=U(5279),oe=U(5283),ie=U(7668);class Ie extends J.L{constructor(ce){super(ce),this.destination=ce}}let ge=(()=>{class se extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new Ie(this)}lift(le){const xe=new ye(this,this);return xe.operator=le,xe}next(le){if(this.closed)throw new Ce.N;if(!this.isStopped){const{observers:xe}=this,Ye=xe.length,Bt=xe.slice();for(let dt=0;dt<Ye;dt++)Bt[dt].next(le)}}error(le){if(this.closed)throw new Ce.N;this.hasError=!0,this.thrownError=le,this.isStopped=!0;const{observers:xe}=this,Ye=xe.length,Bt=xe.slice();for(let dt=0;dt<Ye;dt++)Bt[dt].error(le);this.observers.length=0}complete(){if(this.closed)throw new Ce.N;this.isStopped=!0;const{observers:le}=this,xe=le.length,Ye=le.slice();for(let Bt=0;Bt<xe;Bt++)Ye[Bt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(le){if(this.closed)throw new Ce.N;return super._trySubscribe(le)}_subscribe(le){if(this.closed)throw new Ce.N;return this.hasError?(le.error(this.thrownError),Q.w.EMPTY):this.isStopped?(le.complete(),Q.w.EMPTY):(this.observers.push(le),new oe.W(this,le))}asObservable(){const le=new h.y;return le.source=this,le}}return se.create=(ce,le)=>new ye(ce,le),se})();class ye extends ge{constructor(ce,le){super(),this.destination=ce,this.source=le}next(ce){const{destination:le}=this;le&&le.next&&le.next(ce)}error(ce){const{destination:le}=this;le&&le.error&&this.destination.error(ce)}complete(){const{destination:ce}=this;ce&&ce.complete&&this.destination.complete()}_subscribe(ce){const{source:le}=this;return le?this.source.subscribe(ce):Q.w.EMPTY}}},5283:(At,Be,U)=>{U.d(Be,{W:()=>J});var h=U(2654);class J extends h.w{constructor(Ce,oe){super(),this.subject=Ce,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ce=this.subject,oe=Ce.observers;if(this.subject=null,!oe||0===oe.length||Ce.isStopped||Ce.closed)return;const ie=oe.indexOf(this.subscriber);-1!==ie&&oe.splice(ie,1)}}},3489:(At,Be,U)=>{U.d(Be,{L:()=>Ie});var h=U(7043),J=U(3292),Q=U(2654),Ce=U(7668),oe=U(2830),ie=U(2782);class Ie extends Q.w{constructor(se,ce,le){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=J.c;break;case 1:if(!se){this.destination=J.c;break}if("object"==typeof se){se instanceof Ie?(this.syncErrorThrowable=se.syncErrorThrowable,this.destination=se,se.add(this)):(this.syncErrorThrowable=!0,this.destination=new ge(this,se));break}default:this.syncErrorThrowable=!0,this.destination=new ge(this,se,ce,le)}}[Ce.b](){return this}static create(se,ce,le){const xe=new Ie(se,ce,le);return xe.syncErrorThrowable=!1,xe}next(se){this.isStopped||this._next(se)}error(se){this.isStopped||(this.isStopped=!0,this._error(se))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(se){this.destination.next(se)}_error(se){this.destination.error(se),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:se}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=se,this}}class ge extends Ie{constructor(se,ce,le,xe){super(),this._parentSubscriber=se;let Ye,Bt=this;(0,h.m)(ce)?Ye=ce:ce&&(Ye=ce.next,le=ce.error,xe=ce.complete,ce!==J.c&&(Bt=Object.create(ce),(0,h.m)(Bt.unsubscribe)&&this.add(Bt.unsubscribe.bind(Bt)),Bt.unsubscribe=this.unsubscribe.bind(this))),this._context=Bt,this._next=Ye,this._error=le,this._complete=xe}next(se){if(!this.isStopped&&this._next){const{_parentSubscriber:ce}=this;oe.config.useDeprecatedSynchronousErrorHandling&&ce.syncErrorThrowable?this.__tryOrSetError(ce,this._next,se)&&this.unsubscribe():this.__tryOrUnsub(this._next,se)}}error(se){if(!this.isStopped){const{_parentSubscriber:ce}=this,{useDeprecatedSynchronousErrorHandling:le}=oe.config;if(this._error)le&&ce.syncErrorThrowable?(this.__tryOrSetError(ce,this._error,se),this.unsubscribe()):(this.__tryOrUnsub(this._error,se),this.unsubscribe());else if(ce.syncErrorThrowable)le?(ce.syncErrorValue=se,ce.syncErrorThrown=!0):(0,ie.z)(se),this.unsubscribe();else{if(this.unsubscribe(),le)throw se;(0,ie.z)(se)}}}complete(){if(!this.isStopped){const{_parentSubscriber:se}=this;if(this._complete){const ce=()=>this._complete.call(this._context);oe.config.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable?(this.__tryOrSetError(se,ce),this.unsubscribe()):(this.__tryOrUnsub(ce),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(se,ce){try{se.call(this._context,ce)}catch(le){if(this.unsubscribe(),oe.config.useDeprecatedSynchronousErrorHandling)throw le;(0,ie.z)(le)}}__tryOrSetError(se,ce,le){if(!oe.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ce.call(this._context,le)}catch(xe){return oe.config.useDeprecatedSynchronousErrorHandling?(se.syncErrorValue=xe,se.syncErrorThrown=!0,!0):((0,ie.z)(xe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:se}=this;this._context=null,this._parentSubscriber=null,se.unsubscribe()}}},2654:(At,Be,U)=>{U.d(Be,{w:()=>ie});var h=U(6688),J=U(7830),Q=U(7043);const oe=(()=>{function ge(ye){return Error.call(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((se,ce)=>`${ce+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye,this}return ge.prototype=Object.create(Error.prototype),ge})();class ie{constructor(ye){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ye&&(this._ctorUnsubscribe=!0,this._unsubscribe=ye)}unsubscribe(){let ye;if(this.closed)return;let{_parentOrParents:se,_ctorUnsubscribe:ce,_unsubscribe:le,_subscriptions:xe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,se instanceof ie)se.remove(this);else if(null!==se)for(let Ye=0;Ye<se.length;++Ye)se[Ye].remove(this);if((0,Q.m)(le)){ce&&(this._unsubscribe=void 0);try{le.call(this)}catch(Ye){ye=Ye instanceof oe?Ie(Ye.errors):[Ye]}}if((0,h.k)(xe)){let Ye=-1,Bt=xe.length;for(;++Ye<Bt;){const dt=xe[Ye];if((0,J.K)(dt))try{dt.unsubscribe()}catch(Fe){ye=ye||[],Fe instanceof oe?ye=ye.concat(Ie(Fe.errors)):ye.push(Fe)}}}if(ye)throw new oe(ye)}add(ye){let se=ye;if(!ye)return ie.EMPTY;switch(typeof ye){case"function":se=new ie(ye);case"object":if(se===this||se.closed||"function"!=typeof se.unsubscribe)return se;if(this.closed)return se.unsubscribe(),se;if(!(se instanceof ie)){const xe=se;se=new ie,se._subscriptions=[xe]}break;default:throw new Error("unrecognized teardown "+ye+" added to Subscription.")}let{_parentOrParents:ce}=se;if(null===ce)se._parentOrParents=this;else if(ce instanceof ie){if(ce===this)return se;se._parentOrParents=[ce,this]}else{if(-1!==ce.indexOf(this))return se;ce.push(this)}const le=this._subscriptions;return null===le?this._subscriptions=[se]:le.push(se),se}remove(ye){const se=this._subscriptions;if(se){const ce=se.indexOf(ye);-1!==ce&&se.splice(ce,1)}}}var ge;function Ie(ge){return ge.reduce((ye,se)=>ye.concat(se instanceof oe?se.errors:se),[])}ie.EMPTY=((ge=new ie).closed=!0,ge)},2830:(At,Be,U)=>{U.d(Be,{config:()=>J});let h=!1;const J={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Q){if(Q){const Ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ce.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=Q},get useDeprecatedSynchronousErrorHandling(){return h}}},1177:(At,Be,U)=>{U.d(Be,{Ds:()=>ie,IY:()=>Ce,ft:()=>ge});var h=U(3489),J=U(6498),Q=U(9249);class Ce extends h.L{constructor(se){super(),this.parent=se}_next(se){this.parent.notifyNext(se)}_error(se){this.parent.notifyError(se),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends h.L{notifyNext(se){this.destination.next(se)}notifyError(se){this.destination.error(se)}notifyComplete(){this.destination.complete()}}function ge(ye,se){if(se.closed)return;if(ye instanceof J.y)return ye.subscribe(se);let ce;try{ce=(0,Q.s)(ye)(se)}catch(le){se.error(le)}return ce}},1762:(At,Be,U)=>{U.d(Be,{N:()=>ie,c:()=>oe});var h=U(8929),J=U(6498),Q=U(2654),Ce=U(4327);class oe extends J.y{constructor(ce,le){super(),this.source=ce,this.subjectFactory=le,this._refCount=0,this._isComplete=!1}_subscribe(ce){return this.getSubject().subscribe(ce)}getSubject(){const ce=this._subject;return(!ce||ce.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ce=this._connection;return ce||(this._isComplete=!1,ce=this._connection=new Q.w,ce.add(this.source.subscribe(new Ie(this.getSubject(),this))),ce.closed&&(this._connection=null,ce=Q.w.EMPTY)),ce}refCount(){return(0,Ce.x)()(this)}}const ie=(()=>{const se=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:se._subscribe},_isComplete:{value:se._isComplete,writable:!0},getSubject:{value:se.getSubject},connect:{value:se.connect},refCount:{value:se.refCount}}})();class Ie extends h.Yc{constructor(ce,le){super(ce),this.connectable=le}_error(ce){this._unsubscribe(),super._error(ce)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ce=this.connectable;if(ce){this.connectable=null;const le=ce._connection;ce._refCount=0,ce._subject=null,ce._connection=null,le&&le.unsubscribe()}}}},8896:(At,Be,U)=>{U.d(Be,{E:()=>J,c:()=>Q});var h=U(6498);const J=new h.y(oe=>oe.complete());function Q(oe){return oe?function Ce(oe){return new h.y(ie=>oe.schedule(()=>ie.complete()))}(oe):J}},5254:(At,Be,U)=>{U.d(Be,{D:()=>Bt});var h=U(6498),J=U(9249),Q=U(2654),Ce=U(3821),Ie=U(6454),ge=U(5430),ce=U(8955),le=U(8515);function Bt(dt,Fe){return Fe?function Ye(dt,Fe){if(null!=dt){if(function se(dt){return dt&&"function"==typeof dt[Ce.L]}(dt))return function oe(dt,Fe){return new h.y(lt=>{const He=new Q.w;return He.add(Fe.schedule(()=>{const Ge=dt[Ce.L]();He.add(Ge.subscribe({next(Je){He.add(Fe.schedule(()=>lt.next(Je)))},error(Je){He.add(Fe.schedule(()=>lt.error(Je)))},complete(){He.add(Fe.schedule(()=>lt.complete()))}}))})),He})}(dt,Fe);if((0,ce.t)(dt))return function ie(dt,Fe){return new h.y(lt=>{const He=new Q.w;return He.add(Fe.schedule(()=>dt.then(Ge=>{He.add(Fe.schedule(()=>{lt.next(Ge),He.add(Fe.schedule(()=>lt.complete()))}))},Ge=>{He.add(Fe.schedule(()=>lt.error(Ge)))}))),He})}(dt,Fe);if((0,le.z)(dt))return(0,Ie.r)(dt,Fe);if(function xe(dt){return dt&&"function"==typeof dt[ge.hZ]}(dt)||"string"==typeof dt)return function ye(dt,Fe){if(!dt)throw new Error("Iterable cannot be null");return new h.y(lt=>{const He=new Q.w;let Ge;return He.add(()=>{Ge&&"function"==typeof Ge.return&&Ge.return()}),He.add(Fe.schedule(()=>{Ge=dt[ge.hZ](),He.add(Fe.schedule(function(){if(lt.closed)return;let Je,et;try{const bt=Ge.next();Je=bt.value,et=bt.done}catch(bt){return void lt.error(bt)}et?lt.complete():(lt.next(Je),this.schedule())}))})),He})}(dt,Fe)}throw new TypeError((null!==dt&&typeof dt||dt)+" is not observable")}(dt,Fe):dt instanceof h.y?dt:new h.y((0,J.s)(dt))}},3009:(At,Be,U)=>{U.d(Be,{n:()=>Ce});var h=U(6498),J=U(3650),Q=U(6454);function Ce(oe,ie){return ie?(0,Q.r)(oe,ie):new h.y((0,J.V)(oe))}},6787:(At,Be,U)=>{U.d(Be,{T:()=>oe});var h=U(6498),J=U(2866),Q=U(9146),Ce=U(3009);function oe(...ie){let Ie=Number.POSITIVE_INFINITY,ge=null,ye=ie[ie.length-1];return(0,J.K)(ye)?(ge=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(Ie=ie.pop())):"number"==typeof ye&&(Ie=ie.pop()),null===ge&&1===ie.length&&ie[0]instanceof h.y?ie[0]:(0,Q.J)(Ie)((0,Ce.n)(ie,ge))}},1086:(At,Be,U)=>{U.d(Be,{of:()=>Ce});var h=U(2866),J=U(3009),Q=U(6454);function Ce(...oe){let ie=oe[oe.length-1];return(0,h.K)(ie)?(oe.pop(),(0,Q.r)(oe,ie)):(0,J.n)(oe)}},1737:(At,Be,U)=>{U.d(Be,{_:()=>J});var h=U(6498);function J(Ce,oe){return new h.y(oe?ie=>oe.schedule(Q,0,{error:Ce,subscriber:ie}):ie=>ie.error(Ce))}function Q({error:Ce,subscriber:oe}){oe.error(Ce)}},7221:(At,Be,U)=>{U.d(Be,{K:()=>J});var h=U(1177);function J(oe){return function(Ie){const ge=new Q(oe),ye=Ie.lift(ge);return ge.caught=ye}}class Q{constructor(ie){this.selector=ie}call(ie,Ie){return Ie.subscribe(new Ce(ie,this.selector,this.caught))}}class Ce extends h.Ds{constructor(ie,Ie,ge){super(ie),this.selector=Ie,this.caught=ge}error(ie){if(!this.isStopped){let Ie;try{Ie=this.selector(ie,this.caught)}catch(se){return void super.error(se)}this._unsubscribeAndRecycle();const ge=new h.IY(this);this.add(ge);const ye=(0,h.ft)(Ie,ge);ye!==ge&&this.add(ye)}}}},1406:(At,Be,U)=>{U.d(Be,{b:()=>J});var h=U(1709);function J(Q,Ce){return(0,h.zg)(Q,Ce,1)}},7314:(At,Be,U)=>{U.d(Be,{d:()=>J});var h=U(3489);function J(oe=null){return ie=>ie.lift(new Q(oe))}class Q{constructor(ie){this.defaultValue=ie}call(ie,Ie){return Ie.subscribe(new Ce(ie,this.defaultValue))}}class Ce extends h.L{constructor(ie,Ie){super(ie),this.defaultValue=Ie,this.isEmpty=!0}_next(ie){this.isEmpty=!1,this.destination.next(ie)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(At,Be,U)=>{U.d(Be,{x:()=>J});var h=U(3489);function J(oe,ie){return Ie=>Ie.lift(new Q(oe,ie))}class Q{constructor(ie,Ie){this.compare=ie,this.keySelector=Ie}call(ie,Ie){return Ie.subscribe(new Ce(ie,this.compare,this.keySelector))}}class Ce extends h.L{constructor(ie,Ie,ge){super(ie),this.keySelector=ge,this.hasKey=!1,"function"==typeof Ie&&(this.compare=Ie)}compare(ie,Ie){return ie===Ie}_next(ie){let Ie;try{const{keySelector:ye}=this;Ie=ye?ye(ie):ie}catch(ye){return this.destination.error(ye)}let ge=!1;if(this.hasKey)try{const{compare:ye}=this;ge=ye(this.key,Ie)}catch(ye){return this.destination.error(ye)}else this.hasKey=!0;ge||(this.key=Ie,this.destination.next(ie))}}},2198:(At,Be,U)=>{U.d(Be,{h:()=>J});var h=U(3489);function J(oe,ie){return function(ge){return ge.lift(new Q(oe,ie))}}class Q{constructor(ie,Ie){this.predicate=ie,this.thisArg=Ie}call(ie,Ie){return Ie.subscribe(new Ce(ie,this.predicate,this.thisArg))}}class Ce extends h.L{constructor(ie,Ie,ge){super(ie),this.predicate=Ie,this.thisArg=ge,this.count=0}_next(ie){let Ie;try{Ie=this.predicate.call(this.thisArg,ie,this.count++)}catch(ge){return void this.destination.error(ge)}Ie&&this.destination.next(ie)}}},537:(At,Be,U)=>{U.d(Be,{x:()=>Q});var h=U(3489),J=U(2654);function Q(ie){return Ie=>Ie.lift(new Ce(ie))}class Ce{constructor(Ie){this.callback=Ie}call(Ie,ge){return ge.subscribe(new oe(Ie,this.callback))}}class oe extends h.L{constructor(Ie,ge){super(Ie),this.add(new J.w(ge))}}},7224:(At,Be,U)=>{U.d(Be,{P:()=>Ie});var h=U(4450),J=U(2198),Q=U(2986),Ce=U(7314),oe=U(4907),ie=U(5379);function Ie(ge,ye){const se=arguments.length>=2;return ce=>ce.pipe(ge?(0,J.h)((le,xe)=>ge(le,xe,ce)):ie.y,(0,Q.q)(1),se?(0,Ce.d)(ye):(0,oe.T)(()=>new h.K))}},4850:(At,Be,U)=>{U.d(Be,{U:()=>J});var h=U(3489);function J(oe,ie){return function(ge){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ge.lift(new Q(oe,ie))}}class Q{constructor(ie,Ie){this.project=ie,this.thisArg=Ie}call(ie,Ie){return Ie.subscribe(new Ce(ie,this.project,this.thisArg))}}class Ce extends h.L{constructor(ie,Ie,ge){super(ie),this.project=Ie,this.count=0,this.thisArg=ge||this}_next(ie){let Ie;try{Ie=this.project.call(this.thisArg,ie,this.count++)}catch(ge){return void this.destination.error(ge)}this.destination.next(Ie)}}},9146:(At,Be,U)=>{U.d(Be,{J:()=>Q});var h=U(1709),J=U(5379);function Q(Ce=Number.POSITIVE_INFINITY){return(0,h.zg)(J.y,Ce)}},1709:(At,Be,U)=>{U.d(Be,{zg:()=>Ce});var h=U(4850),J=U(5254),Q=U(1177);function Ce(ge,ye,se=Number.POSITIVE_INFINITY){return"function"==typeof ye?ce=>ce.pipe(Ce((le,xe)=>(0,J.D)(ge(le,xe)).pipe((0,h.U)((Ye,Bt)=>ye(le,Ye,xe,Bt))),se)):("number"==typeof ye&&(se=ye),ce=>ce.lift(new oe(ge,se)))}class oe{constructor(ye,se=Number.POSITIVE_INFINITY){this.project=ye,this.concurrent=se}call(ye,se){return se.subscribe(new ie(ye,this.project,this.concurrent))}}class ie extends Q.Ds{constructor(ye,se,ce=Number.POSITIVE_INFINITY){super(ye),this.project=se,this.concurrent=ce,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ye){this.active<this.concurrent?this._tryNext(ye):this.buffer.push(ye)}_tryNext(ye){let se;const ce=this.index++;try{se=this.project(ye,ce)}catch(le){return void this.destination.error(le)}this.active++,this._innerSub(se)}_innerSub(ye){const se=new Q.IY(this),ce=this.destination;ce.add(se);const le=(0,Q.ft)(ye,se);le!==se&&ce.add(le)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ye){this.destination.next(ye)}notifyComplete(){const ye=this.buffer;this.active--,ye.length>0?this._next(ye.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(At,Be,U)=>{U.d(Be,{ht:()=>ye,QV:()=>Ie});var h=U(3489),J=U(8896),Q=U(1086),Ce=U(1737);class ie{constructor(le,xe,Ye){this.kind=le,this.value=xe,this.error=Ye,this.hasValue="N"===le}observe(le){switch(this.kind){case"N":return le.next&&le.next(this.value);case"E":return le.error&&le.error(this.error);case"C":return le.complete&&le.complete()}}do(le,xe,Ye){switch(this.kind){case"N":return le&&le(this.value);case"E":return xe&&xe(this.error);case"C":return Ye&&Ye()}}accept(le,xe,Ye){return le&&"function"==typeof le.next?this.observe(le):this.do(le,xe,Ye)}toObservable(){switch(this.kind){case"N":return(0,Q.of)(this.value);case"E":return(0,Ce._)(this.error);case"C":return(0,J.c)()}throw new Error("unexpected notification kind value")}static createNext(le){return typeof le<"u"?new ie("N",le):ie.undefinedValueNotification}static createError(le){return new ie("E",void 0,le)}static createComplete(){return ie.completeNotification}}function Ie(ce,le=0){return function(Ye){return Ye.lift(new ge(ce,le))}}ie.completeNotification=new ie("C"),ie.undefinedValueNotification=new ie("N",void 0);class ge{constructor(le,xe=0){this.scheduler=le,this.delay=xe}call(le,xe){return xe.subscribe(new ye(le,this.scheduler,this.delay))}}class ye extends h.L{constructor(le,xe,Ye=0){super(le),this.scheduler=xe,this.delay=Ye}static dispatch(le){const{notification:xe,destination:Ye}=le;xe.observe(Ye),this.unsubscribe()}scheduleMessage(le){this.destination.add(this.scheduler.schedule(ye.dispatch,this.delay,new se(le,this.destination)))}_next(le){this.scheduleMessage(ie.createNext(le))}_error(le){this.scheduleMessage(ie.createError(le)),this.unsubscribe()}_complete(){this.scheduleMessage(ie.createComplete()),this.unsubscribe()}}class se{constructor(le,xe){this.notification=le,this.destination=xe}}},4327:(At,Be,U)=>{U.d(Be,{x:()=>J});var h=U(3489);function J(){return function(ie){return ie.lift(new Q(ie))}}class Q{constructor(ie){this.connectable=ie}call(ie,Ie){const{connectable:ge}=this;ge._refCount++;const ye=new Ce(ie,ge),se=Ie.subscribe(ye);return ye.closed||(ye.connection=ge.connect()),se}}class Ce extends h.L{constructor(ie,Ie){super(ie),this.connectable=Ie}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const Ie=ie._refCount;if(Ie<=0)return void(this.connection=null);if(ie._refCount=Ie-1,Ie>1)return void(this.connection=null);const{connection:ge}=this,ye=ie._connection;this.connection=null,ye&&(!ge||ye===ge)&&ye.unsubscribe()}}},2014:(At,Be,U)=>{U.d(Be,{R:()=>J});var h=U(3489);function J(oe,ie){let Ie=!1;return arguments.length>=2&&(Ie=!0),function(ye){return ye.lift(new Q(oe,ie,Ie))}}class Q{constructor(ie,Ie,ge=!1){this.accumulator=ie,this.seed=Ie,this.hasSeed=ge}call(ie,Ie){return Ie.subscribe(new Ce(ie,this.accumulator,this.seed,this.hasSeed))}}class Ce extends h.L{constructor(ie,Ie,ge,ye){super(ie),this.accumulator=Ie,this._seed=ge,this.hasSeed=ye,this.index=0}get seed(){return this._seed}set seed(ie){this.hasSeed=!0,this._seed=ie}_next(ie){if(this.hasSeed)return this._tryNext(ie);this.seed=ie,this.destination.next(ie)}_tryNext(ie){const Ie=this.index++;let ge;try{ge=this.accumulator(this.seed,ie,Ie)}catch(ye){this.destination.error(ye)}this.seed=ge,this.destination.next(ge)}}},2474:(At,Be,U)=>{U.d(Be,{B:()=>Ie});var h=U(1762);class Q{constructor(ye,se){this.subjectFactory=ye,this.selector=se}call(ye,se){const{selector:ce}=this,le=this.subjectFactory(),xe=ce(le).subscribe(ye);return xe.add(se.subscribe(le)),xe}}var Ce=U(4327),oe=U(8929);function ie(){return new oe.xQ}function Ie(){return ge=>(0,Ce.x)()(function J(ge,ye){return function(ce){let le;if(le="function"==typeof ge?ge:function(){return ge},"function"==typeof ye)return ce.lift(new Q(le,ye));const xe=Object.create(ce,h.N);return xe.source=ce,xe.subjectFactory=le,xe}}(ie)(ge))}},2899:(At,Be,U)=>{U.d(Be,{R:()=>dt});var h=U(6498);let J=1;const Q=Promise.resolve(),Ce={};function oe(lt){return lt in Ce&&(delete Ce[lt],!0)}const ie={setImmediate(lt){const He=J++;return Ce[He]=!0,Q.then(()=>oe(He)&&lt()),He},clearImmediate(lt){oe(lt)}};var ge=U(6686),se=U(2268);const xe=new class ce extends se.v{flush(He){this.active=!0,this.scheduled=void 0;const{actions:Ge}=this;let Je,et=-1,bt=Ge.length;He=He||Ge.shift();do{if(Je=He.execute(He.state,He.delay))break}while(++et<bt&&(He=Ge.shift()));if(this.active=!1,Je){for(;++et<bt&&(He=Ge.shift());)He.unsubscribe();throw Je}}}(class ye extends ge.o{constructor(He,Ge){super(He,Ge),this.scheduler=He,this.work=Ge}requestAsyncId(He,Ge,Je=0){return null!==Je&&Je>0?super.requestAsyncId(He,Ge,Je):(He.actions.push(this),He.scheduled||(He.scheduled=ie.setImmediate(He.flush.bind(He,null))))}recycleAsyncId(He,Ge,Je=0){if(null!==Je&&Je>0||null===Je&&this.delay>0)return super.recycleAsyncId(He,Ge,Je);0===He.actions.length&&(ie.clearImmediate(Ge),He.scheduled=void 0)}});var Ye=U(4241);class Bt extends h.y{constructor(He,Ge=0,Je=xe){super(),this.source=He,this.delayTime=Ge,this.scheduler=Je,(!(0,Ye.k)(Ge)||Ge<0)&&(this.delayTime=0),(!Je||"function"!=typeof Je.schedule)&&(this.scheduler=xe)}static create(He,Ge=0,Je=xe){return new Bt(He,Ge,Je)}static dispatch(He){const{source:Ge,subscriber:Je}=He;return this.add(Ge.subscribe(Je))}_subscribe(He){return this.scheduler.schedule(Bt.dispatch,this.delayTime,{source:this.source,subscriber:He})}}function dt(lt,He=0){return function(Je){return Je.lift(new Fe(lt,He))}}class Fe{constructor(He,Ge){this.scheduler=He,this.delay=Ge}call(He,Ge){return new Bt(Ge,this.delay,this.scheduler).subscribe(He)}}},7545:(At,Be,U)=>{U.d(Be,{w:()=>Ce});var h=U(4850),J=U(5254),Q=U(1177);function Ce(Ie,ge){return"function"==typeof ge?ye=>ye.pipe(Ce((se,ce)=>(0,J.D)(Ie(se,ce)).pipe((0,h.U)((le,xe)=>ge(se,le,ce,xe))))):ye=>ye.lift(new oe(Ie))}class oe{constructor(ge){this.project=ge}call(ge,ye){return ye.subscribe(new ie(ge,this.project))}}class ie extends Q.Ds{constructor(ge,ye){super(ge),this.project=ye,this.index=0}_next(ge){let ye;const se=this.index++;try{ye=this.project(ge,se)}catch(ce){return void this.destination.error(ce)}this._innerSub(ye)}_innerSub(ge){const ye=this.innerSubscription;ye&&ye.unsubscribe();const se=new Q.IY(this),ce=this.destination;ce.add(se),this.innerSubscription=(0,Q.ft)(ge,se),this.innerSubscription!==se&&ce.add(this.innerSubscription)}_complete(){const{innerSubscription:ge}=this;(!ge||ge.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ge){this.destination.next(ge)}}},2986:(At,Be,U)=>{U.d(Be,{q:()=>Ce});var h=U(3489),J=U(4231),Q=U(8896);function Ce(Ie){return ge=>0===Ie?(0,Q.c)():ge.lift(new oe(Ie))}class oe{constructor(ge){if(this.total=ge,this.total<0)throw new J.W}call(ge,ye){return ye.subscribe(new ie(ge,this.total))}}class ie extends h.L{constructor(ge,ye){super(ge),this.total=ye,this.count=0}_next(ge){const ye=this.total,se=++this.count;se<=ye&&(this.destination.next(ge),se===ye&&(this.destination.complete(),this.unsubscribe()))}}},7625:(At,Be,U)=>{U.d(Be,{R:()=>J});var h=U(1177);function J(oe){return ie=>ie.lift(new Q(oe))}class Q{constructor(ie){this.notifier=ie}call(ie,Ie){const ge=new Ce(ie),ye=(0,h.ft)(this.notifier,new h.IY(ge));return ye&&!ge.seenValue?(ge.add(ye),Ie.subscribe(ge)):ge}}class Ce extends h.Ds{constructor(ie){super(ie),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},2868:(At,Be,U)=>{U.d(Be,{b:()=>Ce});var h=U(3489);function J(){}var Q=U(7043);function Ce(Ie,ge,ye){return function(ce){return ce.lift(new oe(Ie,ge,ye))}}class oe{constructor(ge,ye,se){this.nextOrObserver=ge,this.error=ye,this.complete=se}call(ge,ye){return ye.subscribe(new ie(ge,this.nextOrObserver,this.error,this.complete))}}class ie extends h.L{constructor(ge,ye,se,ce){super(ge),this._tapNext=J,this._tapError=J,this._tapComplete=J,this._tapError=se||J,this._tapComplete=ce||J,(0,Q.m)(ye)?(this._context=this,this._tapNext=ye):ye&&(this._context=ye,this._tapNext=ye.next||J,this._tapError=ye.error||J,this._tapComplete=ye.complete||J)}_next(ge){try{this._tapNext.call(this._context,ge)}catch(ye){return void this.destination.error(ye)}this.destination.next(ge)}_error(ge){try{this._tapError.call(this._context,ge)}catch(ye){return void this.destination.error(ye)}this.destination.error(ge)}_complete(){try{this._tapComplete.call(this._context)}catch(ge){return void this.destination.error(ge)}return this.destination.complete()}}},4907:(At,Be,U)=>{U.d(Be,{T:()=>Q});var h=U(4450),J=U(3489);function Q(Ie=ie){return ge=>ge.lift(new Ce(Ie))}class Ce{constructor(ge){this.errorFactory=ge}call(ge,ye){return ye.subscribe(new oe(ge,this.errorFactory))}}class oe extends J.L{constructor(ge,ye){super(ge),this.errorFactory=ye,this.hasValue=!1}_next(ge){this.hasValue=!0,this.destination.next(ge)}_complete(){if(this.hasValue)return this.destination.complete();{let ge;try{ge=this.errorFactory()}catch(ye){ge=ye}this.destination.error(ge)}}}function ie(){return new h.K}},6454:(At,Be,U)=>{U.d(Be,{r:()=>Q});var h=U(6498),J=U(2654);function Q(Ce,oe){return new h.y(ie=>{const Ie=new J.w;let ge=0;return Ie.add(oe.schedule(function(){ge!==Ce.length?(ie.next(Ce[ge++]),ie.closed||Ie.add(this.schedule())):ie.complete()})),Ie})}},6686:(At,Be,U)=>{U.d(Be,{o:()=>Q});var h=U(2654);class J extends h.w{constructor(oe,ie){super()}schedule(oe,ie=0){return this}}class Q extends J{constructor(oe,ie){super(oe,ie),this.scheduler=oe,this.work=ie,this.pending=!1}schedule(oe,ie=0){if(this.closed)return this;this.state=oe;const Ie=this.id,ge=this.scheduler;return null!=Ie&&(this.id=this.recycleAsyncId(ge,Ie,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(ge,this.id,ie),this}requestAsyncId(oe,ie,Ie=0){return setInterval(oe.flush.bind(oe,this),Ie)}recycleAsyncId(oe,ie,Ie=0){if(null!==Ie&&this.delay===Ie&&!1===this.pending)return ie;clearInterval(ie)}execute(oe,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(oe,ie);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,ie){let ge,Ie=!1;try{this.work(oe)}catch(ye){Ie=!0,ge=!!ye&&ye||new Error(ye)}if(Ie)return this.unsubscribe(),ge}_unsubscribe(){const oe=this.id,ie=this.scheduler,Ie=ie.actions,ge=Ie.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ge&&Ie.splice(ge,1),null!=oe&&(this.id=this.recycleAsyncId(ie,oe,null)),this.delay=null}}},2268:(At,Be,U)=>{U.d(Be,{v:()=>J});let h=(()=>{class Q{constructor(oe,ie=Q.now){this.SchedulerAction=oe,this.now=ie}schedule(oe,ie=0,Ie){return new this.SchedulerAction(this,oe).schedule(Ie,ie)}}return Q.now=()=>Date.now(),Q})();class J extends h{constructor(Ce,oe=h.now){super(Ce,()=>J.delegate&&J.delegate!==this?J.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ce,oe=0,ie){return J.delegate&&J.delegate!==this?J.delegate.schedule(Ce,oe,ie):super.schedule(Ce,oe,ie)}flush(Ce){const{actions:oe}=this;if(this.active)return void oe.push(Ce);let ie;this.active=!0;do{if(ie=Ce.execute(Ce.state,Ce.delay))break}while(Ce=oe.shift());if(this.active=!1,ie){for(;Ce=oe.shift();)Ce.unsubscribe();throw ie}}}},353:(At,Be,U)=>{U.d(Be,{P:()=>Ce,z:()=>Q});var h=U(6686);const Q=new(U(2268).v)(h.o),Ce=Q},341:(At,Be,U)=>{U.d(Be,{c:()=>ie,N:()=>oe});var h=U(6686),Q=U(2268);const oe=new class Ce extends Q.v{}(class J extends h.o{constructor(ge,ye){super(ge,ye),this.scheduler=ge,this.work=ye}schedule(ge,ye=0){return ye>0?super.schedule(ge,ye):(this.delay=ye,this.state=ge,this.scheduler.flush(this),this)}execute(ge,ye){return ye>0||this.closed?super.execute(ge,ye):this._execute(ge,ye)}requestAsyncId(ge,ye,se=0){return null!==se&&se>0||null===se&&this.delay>0?super.requestAsyncId(ge,ye,se):ge.flush(this)}}),ie=oe},5430:(At,Be,U)=>{U.d(Be,{hZ:()=>J});const J=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(At,Be,U)=>{U.d(Be,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(At,Be,U)=>{U.d(Be,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(At,Be,U)=>{U.d(Be,{W:()=>J});const J=(()=>{function Q(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Q.prototype=Object.create(Error.prototype),Q})()},4450:(At,Be,U)=>{U.d(Be,{K:()=>J});const J=(()=>{function Q(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return Q.prototype=Object.create(Error.prototype),Q})()},5279:(At,Be,U)=>{U.d(Be,{N:()=>J});const J=(()=>{function Q(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Q.prototype=Object.create(Error.prototype),Q})()},2782:(At,Be,U)=>{function h(J){setTimeout(()=>{throw J},0)}U.d(Be,{z:()=>h})},5379:(At,Be,U)=>{function h(J){return J}U.d(Be,{y:()=>h})},6688:(At,Be,U)=>{U.d(Be,{k:()=>h});const h=Array.isArray||(J=>J&&"number"==typeof J.length)},8515:(At,Be,U)=>{U.d(Be,{z:()=>h});const h=J=>J&&"number"==typeof J.length&&"function"!=typeof J},7043:(At,Be,U)=>{function h(J){return"function"==typeof J}U.d(Be,{m:()=>h})},4241:(At,Be,U)=>{U.d(Be,{k:()=>J});var h=U(6688);function J(Q){return!(0,h.k)(Q)&&Q-parseFloat(Q)+1>=0}},7830:(At,Be,U)=>{function h(J){return null!==J&&"object"==typeof J}U.d(Be,{K:()=>h})},8955:(At,Be,U)=>{function h(J){return!!J&&"function"!=typeof J.subscribe&&"function"==typeof J.then}U.d(Be,{t:()=>h})},2866:(At,Be,U)=>{function h(J){return J&&"function"==typeof J.schedule}U.d(Be,{K:()=>h})},4843:(At,Be,U)=>{U.d(Be,{U:()=>Q,z:()=>J});var h=U(5379);function J(...Ce){return Q(Ce)}function Q(Ce){return 0===Ce.length?h.y:1===Ce.length?Ce[0]:function(ie){return Ce.reduce((Ie,ge)=>ge(Ie),ie)}}},9249:(At,Be,U)=>{U.d(Be,{s:()=>ce});var h=U(3650),J=U(2782),Ce=U(5430),ie=U(3821),ge=U(8515),ye=U(8955),se=U(7830);const ce=le=>{if(le&&"function"==typeof le[ie.L])return(le=>xe=>{const Ye=le[ie.L]();if("function"!=typeof Ye.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ye.subscribe(xe)})(le);if((0,ge.z)(le))return(0,h.V)(le);if((0,ye.t)(le))return(le=>xe=>(le.then(Ye=>{xe.closed||(xe.next(Ye),xe.complete())},Ye=>xe.error(Ye)).then(null,J.z),xe))(le);if(le&&"function"==typeof le[Ce.hZ])return(le=>xe=>{const Ye=le[Ce.hZ]();for(;;){let Bt;try{Bt=Ye.next()}catch(dt){return xe.error(dt),xe}if(Bt.done){xe.complete();break}if(xe.next(Bt.value),xe.closed)break}return"function"==typeof Ye.return&&xe.add(()=>{Ye.return&&Ye.return()}),xe})(le);{const Ye=`You provided ${(0,se.K)(le)?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ye)}}},3650:(At,Be,U)=>{U.d(Be,{V:()=>h});const h=J=>Q=>{for(let Ce=0,oe=J.length;Ce<oe&&!Q.closed;Ce++)Q.next(J[Ce]);Q.complete()}},448:(At,Be,U)=>{U.d(Be,{D:()=>oe});var h=U(3489);class J extends h.L{constructor(Ie,ge,ye){super(),this.parent=Ie,this.outerValue=ge,this.outerIndex=ye,this.index=0}_next(Ie){this.parent.notifyNext(this.outerValue,Ie,this.outerIndex,this.index++,this)}_error(Ie){this.parent.notifyError(Ie,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Q=U(9249),Ce=U(6498);function oe(ie,Ie,ge,ye,se=new J(ie,ge,ye)){if(!se.closed)return Ie instanceof Ce.y?Ie.subscribe(se):(0,Q.s)(Ie)(se)}},1591:(At,Be,U)=>{U.d(Be,{F4:()=>se,LC:()=>J,X$:()=>Ce,ZE:()=>He,ZN:()=>lt,_j:()=>h,eR:()=>ce,jt:()=>oe,k1:()=>Ge,l3:()=>Q,oB:()=>ge,vP:()=>Ie});class h{}class J{}const Q="*";function Ce(Je,et){return{type:7,name:Je,definitions:et,options:{}}}function oe(Je,et=null){return{type:4,styles:et,timings:Je}}function Ie(Je,et=null){return{type:2,steps:Je,options:et}}function ge(Je){return{type:6,styles:Je,offset:null}}function se(Je){return{type:5,steps:Je}}function ce(Je,et,bt=null){return{type:1,expr:Je,animation:et,options:bt}}function Fe(Je){Promise.resolve().then(Je)}class lt{constructor(et=0,bt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=et+bt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(et=>et()),this._onDoneFns=[])}onStart(et){this._originalOnStartFns.push(et),this._onStartFns.push(et)}onDone(et){this._originalOnDoneFns.push(et),this._onDoneFns.push(et)}onDestroy(et){this._onDestroyFns.push(et)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(et=>et()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(et=>et()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(et){this._position=this.totalTime?et*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(et){const bt="start"==et?this._onStartFns:this._onDoneFns;bt.forEach(Pt=>Pt()),bt.length=0}}class He{constructor(et){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=et;let bt=0,Pt=0,pt=0;const yt=this.players.length;0==yt?Fe(()=>this._onFinish()):this.players.forEach(Y=>{Y.onDone(()=>{++bt==yt&&this._onFinish()}),Y.onDestroy(()=>{++Pt==yt&&this._onDestroy()}),Y.onStart(()=>{++pt==yt&&this._onStart()})}),this.totalTime=this.players.reduce((Y,_t)=>Math.max(Y,_t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(et=>et()),this._onDoneFns=[])}init(){this.players.forEach(et=>et.init())}onStart(et){this._onStartFns.push(et)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(et=>et()),this._onStartFns=[])}onDone(et){this._onDoneFns.push(et)}onDestroy(et){this._onDestroyFns.push(et)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(et=>et.play())}pause(){this.players.forEach(et=>et.pause())}restart(){this.players.forEach(et=>et.restart())}finish(){this._onFinish(),this.players.forEach(et=>et.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(et=>et.destroy()),this._onDestroyFns.forEach(et=>et()),this._onDestroyFns=[])}reset(){this.players.forEach(et=>et.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(et){const bt=et*this.totalTime;this.players.forEach(Pt=>{const pt=Pt.totalTime?Math.min(1,bt/Pt.totalTime):1;Pt.setPosition(pt)})}getPosition(){const et=this.players.reduce((bt,Pt)=>null===bt||Pt.totalTime>bt.totalTime?Pt:bt,null);return null!=et?et.getPosition():0}beforeDestroy(){this.players.forEach(et=>{et.beforeDestroy&&et.beforeDestroy()})}triggerCallback(et){const bt="start"==et?this._onStartFns:this._onDoneFns;bt.forEach(Pt=>Pt()),bt.length=0}}const Ge="!"},4755:(At,Be,U)=>{U.d(Be,{Do:()=>dt,EM:()=>vt,HT:()=>Ce,JF:()=>Vi,K0:()=>ie,Mx:()=>qn,NF:()=>ee,O5:()=>Ui,PM:()=>L,S$:()=>xe,V_:()=>ge,Ye:()=>Fe,b0:()=>Bt,bD:()=>es,ez:()=>ei,mk:()=>Kr,q:()=>Q,sg:()=>Fi,tP:()=>Tr,w_:()=>oe});var h=U(2223);let J=null;function Q(){return J}function Ce(C){J||(J=C)}class oe{}const ie=new h.OlP("DocumentToken");let Ie=(()=>{class C{historyGo(T){throw new Error("Not implemented")}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=h.Yz7({token:C,factory:function(){return(0,h.f3M)(ye)},providedIn:"platform"}),C})();const ge=new h.OlP("Location Initialized");let ye=(()=>{class C extends Ie{constructor(){super(),this._doc=(0,h.f3M)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(T){const H=Q().getGlobalEventTarget(this._doc,"window");return H.addEventListener("popstate",T,!1),()=>H.removeEventListener("popstate",T)}onHashChange(T){const H=Q().getGlobalEventTarget(this._doc,"window");return H.addEventListener("hashchange",T,!1),()=>H.removeEventListener("hashchange",T)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(T){this._location.pathname=T}pushState(T,H,he){this._history.pushState(T,H,he)}replaceState(T,H,he){this._history.replaceState(T,H,he)}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=h.Yz7({token:C,factory:function(){return new C},providedIn:"platform"}),C})();function se(C,N){if(0==C.length)return N;if(0==N.length)return C;let T=0;return C.endsWith("/")&&T++,N.startsWith("/")&&T++,2==T?C+N.substring(1):1==T?C+N:C+"/"+N}function ce(C){const N=C.match(/#|\?|$/),T=N&&N.index||C.length;return C.slice(0,T-("/"===C[T-1]?1:0))+C.slice(T)}function le(C){return C&&"?"!==C[0]?"?"+C:C}let xe=(()=>{class C{historyGo(T){throw new Error("Not implemented")}}return C.\u0275fac=function(T){return new(T||C)},C.\u0275prov=h.Yz7({token:C,factory:function(){return(0,h.f3M)(Bt)},providedIn:"root"}),C})();const Ye=new h.OlP("appBaseHref");let Bt=(()=>{class C extends xe{constructor(T,H){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=H??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return se(this._baseHref,T)}path(T=!1){const H=this._platformLocation.pathname+le(this._platformLocation.search),he=this._platformLocation.hash;return he&&T?`${H}${he}`:H}pushState(T,H,he,Pe){const $e=this.prepareExternalUrl(he+le(Pe));this._platformLocation.pushState(T,H,$e)}replaceState(T,H,he,Pe){const $e=this.prepareExternalUrl(he+le(Pe));this._platformLocation.replaceState(T,H,$e)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return C.\u0275fac=function(T){return new(T||C)(h.LFG(Ie),h.LFG(Ye,8))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),dt=(()=>{class C extends xe{constructor(T,H){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=H&&(this._baseHref=H)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let H=this._platformLocation.hash;return null==H&&(H="#"),H.length>0?H.substring(1):H}prepareExternalUrl(T){const H=se(this._baseHref,T);return H.length>0?"#"+H:H}pushState(T,H,he,Pe){let $e=this.prepareExternalUrl(he+le(Pe));0==$e.length&&($e=this._platformLocation.pathname),this._platformLocation.pushState(T,H,$e)}replaceState(T,H,he,Pe){let $e=this.prepareExternalUrl(he+le(Pe));0==$e.length&&($e=this._platformLocation.pathname),this._platformLocation.replaceState(T,H,$e)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return C.\u0275fac=function(T){return new(T||C)(h.LFG(Ie),h.LFG(Ye,8))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac}),C})(),Fe=(()=>{class C{constructor(T){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const H=this._locationStrategy.getBaseHref();this._basePath=function Je(C){if(new RegExp("^(https?:)?//").test(C)){const[,T]=C.split(/\/\/[^\/]+/);return T}return C}(ce(Ge(H))),this._locationStrategy.onPopState(he=>{this._subject.emit({url:this.path(!0),pop:!0,state:he.state,type:he.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,H=""){return this.path()==this.normalize(T+le(H))}normalize(T){return C.stripTrailingSlash(function He(C,N){if(!C||!N.startsWith(C))return N;const T=N.substring(C.length);return""===T||["/",";","?","#"].includes(T[0])?T:N}(this._basePath,Ge(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,H="",he=null){this._locationStrategy.pushState(he,"",T,H),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+le(H)),he)}replaceState(T,H="",he=null){this._locationStrategy.replaceState(he,"",T,H),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+le(H)),he)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(H=>{this._notifyUrlChangeListeners(H.url,H.state)})),()=>{const H=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(H,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",H){this._urlChangeListeners.forEach(he=>he(T,H))}subscribe(T,H,he){return this._subject.subscribe({next:T,error:H,complete:he})}}return C.normalizeQueryParams=le,C.joinWithSlash=se,C.stripTrailingSlash=ce,C.\u0275fac=function(T){return new(T||C)(h.LFG(xe))},C.\u0275prov=h.Yz7({token:C,factory:function(){return function lt(){return new Fe((0,h.LFG)(xe))}()},providedIn:"root"}),C})();function Ge(C){return C.replace(/\/index.html$/,"")}function qn(C,N){N=encodeURIComponent(N);for(const T of C.split(";")){const H=T.indexOf("="),[he,Pe]=-1==H?[T,""]:[T.slice(0,H),T.slice(H+1)];if(he.trim()===N)return decodeURIComponent(Pe)}return null}const di=/\s+/,is=[];let Kr=(()=>{class C{constructor(T,H,he,Pe){this._iterableDiffers=T,this._keyValueDiffers=H,this._ngEl=he,this._renderer=Pe,this.initialClasses=is,this.stateMap=new Map}set klass(T){this.initialClasses=null!=T?T.trim().split(di):is}set ngClass(T){this.rawClass="string"==typeof T?T.trim().split(di):T}ngDoCheck(){for(const H of this.initialClasses)this._updateState(H,!0);const T=this.rawClass;if(Array.isArray(T)||T instanceof Set)for(const H of T)this._updateState(H,!0);else if(null!=T)for(const H of Object.keys(T))this._updateState(H,!!T[H]);this._applyStateDiff()}_updateState(T,H){const he=this.stateMap.get(T);void 0!==he?(he.enabled!==H&&(he.changed=!0,he.enabled=H),he.touched=!0):this.stateMap.set(T,{enabled:H,changed:!0,touched:!0})}_applyStateDiff(){for(const T of this.stateMap){const H=T[0],he=T[1];he.changed?(this._toggleClass(H,he.enabled),he.changed=!1):he.touched||(he.enabled&&this._toggleClass(H,!1),this.stateMap.delete(H)),he.touched=!1}}_toggleClass(T,H){(T=T.trim()).length>0&&T.split(di).forEach(he=>{H?this._renderer.addClass(this._ngEl.nativeElement,he):this._renderer.removeClass(this._ngEl.nativeElement,he)})}}return C.\u0275fac=function(T){return new(T||C)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},C.\u0275dir=h.lG2({type:C,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),C})();class _s{constructor(N,T,H,he){this.$implicit=N,this.ngForOf=T,this.index=H,this.count=he}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class C{set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}constructor(T,H,he){this._viewContainer=T,this._template=H,this._differs=he,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const H=this._viewContainer;T.forEachOperation((he,Pe,$e)=>{if(null==he.previousIndex)H.createEmbeddedView(this._template,new _s(he.item,this._ngForOf,-1,-1),null===$e?void 0:$e);else if(null==$e)H.remove(null===Pe?void 0:Pe);else if(null!==Pe){const Et=H.get(Pe);H.move(Et,$e),vi(Et,he)}});for(let he=0,Pe=H.length;he<Pe;he++){const Et=H.get(he).context;Et.index=he,Et.count=Pe,Et.ngForOf=this._ngForOf}T.forEachIdentityChange(he=>{vi(H.get(he.currentIndex),he)})}static ngTemplateContextGuard(T,H){return!0}}return C.\u0275fac=function(T){return new(T||C)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},C.\u0275dir=h.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),C})();function vi(C,N){C.context.$implicit=N.item}let Ui=(()=>{class C{constructor(T,H){this._viewContainer=T,this._context=new Zi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=H}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){qi("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){qi("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,H){return!0}}return C.\u0275fac=function(T){return new(T||C)(h.Y36(h.s_b),h.Y36(h.Rgc))},C.\u0275dir=h.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),C})();class Zi{constructor(){this.$implicit=null,this.ngIf=null}}function qi(C,N){if(N&&!N.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,h.AaK)(N)}'.`)}let Tr=(()=>{class C{constructor(T){this._viewContainerRef=T,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(T){if(T.ngTemplateOutlet||T.ngTemplateOutletInjector){const H=this._viewContainerRef;if(this._viewRef&&H.remove(H.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:he,ngTemplateOutletContext:Pe,ngTemplateOutletInjector:$e}=this;this._viewRef=H.createEmbeddedView(he,Pe,$e?{injector:$e}:void 0)}else this._viewRef=null}else this._viewRef&&T.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return C.\u0275fac=function(T){return new(T||C)(h.Y36(h.s_b))},C.\u0275dir=h.lG2({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.TTD]}),C})(),ei=(()=>{class C{}return C.\u0275fac=function(T){return new(T||C)},C.\u0275mod=h.oAB({type:C}),C.\u0275inj=h.cJS({}),C})();const es="browser",Wi="server";function ee(C){return C===es}function L(C){return C===Wi}let vt=(()=>{class C{}return C.\u0275prov=(0,h.Yz7)({token:C,providedIn:"root",factory:()=>new Ft((0,h.LFG)(ie),window)}),C})();class Ft{constructor(N,T){this.document=N,this.window=T,this.offset=()=>[0,0]}setOffset(N){this.offset=Array.isArray(N)?()=>N:N}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(N){this.supportsScrolling()&&this.window.scrollTo(N[0],N[1])}scrollToAnchor(N){if(!this.supportsScrolling())return;const T=function fr(C,N){const T=C.getElementById(N)||C.getElementsByName(N)[0];if(T)return T;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const H=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let he=H.currentNode;for(;he;){const Pe=he.shadowRoot;if(Pe){const $e=Pe.getElementById(N)||Pe.querySelector(`[name="${N}"]`);if($e)return $e}he=H.nextNode()}}return null}(this.document,N);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(N){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=N)}}scrollToElement(N){const T=N.getBoundingClientRect(),H=T.left+this.window.pageXOffset,he=T.top+this.window.pageYOffset,Pe=this.offset();this.window.scrollTo(H-Pe[0],he-Pe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const N=Qn(this.window.history)||Qn(Object.getPrototypeOf(this.window.history));return!(!N||!N.writable&&!N.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qn(C){return Object.getOwnPropertyDescriptor(C,"scrollRestoration")}class Vi{}},2223:(At,Be,U)=>{U.d(Be,{$8M:()=>zl,$WT:()=>Ei,$Z:()=>wg,AFp:()=>Gp,AaK:()=>ge,AsE:()=>zf,BQk:()=>vh,CHM:()=>dl,CRH:()=>hy,D6c:()=>W0,DdM:()=>W_,EJc:()=>YD,EpF:()=>am,F$t:()=>pm,F4k:()=>lm,FYo:()=>tg,FiY:()=>wa,G48:()=>v0,Gf:()=>uy,GfV:()=>ng,GkF:()=>xf,Gpc:()=>ce,Gre:()=>Ym,HDt:()=>_v,Hsn:()=>gm,JOm:()=>Co,Jf7:()=>ag,KtG:()=>$a,LFG:()=>Rn,Lbi:()=>Zh,Lck:()=>xC,MAs:()=>im,MMx:()=>F_,MR2:()=>Vh,NdJ:()=>Lf,Ojb:()=>Vv,OlP:()=>ni,Oqu:()=>$f,P3R:()=>Fp,PXZ:()=>u0,Q6J:()=>Rf,QGY:()=>kf,QbO:()=>Bv,Qsj:()=>eE,R0b:()=>So,RDi:()=>Ut,Rgc:()=>jd,SBq:()=>Dd,Sil:()=>qD,Suo:()=>dy,TTD:()=>Ot,TgZ:()=>mh,VKq:()=>G_,W1O:()=>my,WLB:()=>K_,X6Q:()=>y0,XFs:()=>Mt,Xpm:()=>Ui,Xts:()=>Ed,Y36:()=>Vu,YKP:()=>k_,YNc:()=>tm,Yjl:()=>ss,Yz7:()=>Vt,Z0I:()=>xn,ZZ4:()=>Tp,_Bn:()=>x_,_UZ:()=>Nf,_c5:()=>k0,_uU:()=>Bm,aQg:()=>Ap,c2e:()=>xy,cJS:()=>fn,cg1:()=>Wf,dDg:()=>o0,dqk:()=>ft,eFA:()=>Yy,eJc:()=>up,ekj:()=>Hf,eoX:()=>zy,f3M:()=>en,g9A:()=>Kp,h0i:()=>ed,hGG:()=>L0,hij:()=>bh,iGM:()=>cy,ifc:()=>X,ip1:()=>Ny,jDz:()=>U_,kL8:()=>o_,lG2:()=>ai,lqb:()=>hu,lri:()=>jy,n5z:()=>lo,oAB:()=>hi,oxw:()=>fm,q4F:()=>rg,qFp:()=>K0,qLn:()=>Uu,qOj:()=>bf,qZA:()=>_h,rWj:()=>$y,sBO:()=>E0,s_b:()=>Ah,soG:()=>Ph,tb:()=>wp,tp0:()=>fs,uIk:()=>If,vHH:()=>Fe,vpe:()=>Ul,wAp:()=>Fn,xp6:()=>pg,ynx:()=>yh,z2F:()=>rd,zSh:()=>zh,zs3:()=>xc});var h=U(8929),J=U(2654),Q=U(6498),Ce=U(6787),oe=U(2474);function ie(e){for(let t in e)if(e[t]===ie)return t;throw Error("Could not find renamed property on target object.")}function Ie(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ge(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ge).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ye(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const se=ie({__forward_ref__:ie});function ce(e){return e.__forward_ref__=ce,e.toString=function(){return ge(this())},e}function le(e){return xe(e)?e():e}function xe(e){return"function"==typeof e&&e.hasOwnProperty(se)&&e.__forward_ref__===ce}function Ye(e){return e&&!!e.\u0275providers}const dt="https://g.co/ng/security#xss";class Fe extends Error{constructor(t,n){super(function lt(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function He(e){return"string"==typeof e?e:null==e?"":String(e)}function Pt(e,t){throw new Fe(-201,!1)}function kt(e,t){null==e&&function It(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Vt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Gn(e){return Dn(e,Kn)||Dn(e,St)}function xn(e){return null!==Gn(e)}function Dn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Sr(e){return e&&(e.hasOwnProperty(nt)||e.hasOwnProperty(Mn))?e[nt]:null}const Kn=ie({\u0275prov:ie}),nt=ie({\u0275inj:ie}),St=ie({ngInjectableDef:ie}),Mn=ie({ngInjectorDef:ie});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let rr;function mn(e){const t=rr;return rr=e,t}function Xt(e,t,n){const r=Gn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Mt.Optional?null:void 0!==t?t:void Pt(ge(e))}const ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),In={},an="__NG_DI_FLAG__",Qr="ngTempTokenPath",Er=/\n/gm,Pr="__source";let mr;function On(e){const t=mr;return mr=e,t}function Xr(e,t=Mt.Default){if(void 0===mr)throw new Fe(-203,!1);return null===mr?Xt(e,void 0,t):mr.get(e,t&Mt.Optional?null:void 0,t)}function Rn(e,t=Mt.Default){return(function Pn(){return rr}()||Xr)(le(e),t)}function en(e,t=Mt.Default){return Rn(e,Rr(t))}function Rr(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Gr(e){const t=[];for(let n=0;n<e.length;n++){const r=le(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Fe(900,!1);let o,u=Mt.Default;for(let p=0;p<r.length;p++){const w=r[p],I=Cr(w);"number"==typeof I?-1===I?o=w.token:u|=I:o=w}t.push(Rn(o,u))}else t.push(Rn(r))}return t}function Zn(e,t){return e[an]=t,e.prototype[an]=t,e}function Cr(e){return e[an]}function G(e){return{toString:e}.toString()}var W=(()=>((W=W||{})[W.OnPush=0]="OnPush",W[W.Default=1]="Default",W))(),X=(()=>{return(e=X||(X={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",X;var e})();const Te={},Ve=[],gt=ie({\u0275cmp:ie}),Jt=ie({\u0275dir:ie}),rn=ie({\u0275pipe:ie}),kn=ie({\u0275mod:ie}),Zt=ie({\u0275fac:ie}),Sn=ie({__NG_ELEMENT_ID__:ie}),zr=ie({__NG_ENV_ID__:ie});function ki(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=t.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}n=o+1}}function Li(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const u=n[r++],p=n[r++],w=n[r++];e.setAttribute(t,p,w,u)}else{const u=o,p=n[++r];ke(u)?e.setProperty(t,u,p):e.setAttribute(t,u,p),r++}}return r}function We(e){return 3===e||4===e||6===e}function ke(e){return 64===e.charCodeAt(0)}function rt(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Lt(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Lt(e,t,n,r,o){let u=0,p=e.length;if(-1===t)p=-1;else for(;u<e.length;){const w=e[u++];if("number"==typeof w){if(w===t){p=-1;break}if(w>t){p=u-1;break}}}for(;u<e.length;){const w=e[u];if("number"==typeof w)break;if(w===n){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==p&&(e.splice(p,0,t),u=p+1),e.splice(u++,0,n),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}const zt="ng-template";function un(e,t,n){let r=0,o=!0;for(;r<e.length;){let u=e[r++];if("string"==typeof u&&o){const p=e[r++];if(n&&"class"===u&&-1!==ki(p.toLowerCase(),t,0))return!0}else{if(1===u){for(;r<e.length&&"string"==typeof(u=e[r++]);)if(u.toLowerCase()===t)return!0;return!1}"number"==typeof u&&(o=!1)}}return!1}function yn(e){return 4===e.type&&e.value!==zt}function Hr(e,t,n){return t===(4!==e.type||n?e.value:zt)}function nr(e,t,n){let r=4;const o=e.attrs||[],u=function Kr(e){for(let t=0;t<e.length;t++)if(We(e[t]))return t;return e.length}(o);let p=!1;for(let w=0;w<t.length;w++){const I=t[w];if("number"!=typeof I){if(!p)if(4&r){if(r=2|1&r,""!==I&&!Hr(e,I,n)||""===I&&1===t.length){if(er(r))return!1;p=!0}}else{const x=8&r?I:t[++w];if(8&r&&null!==e.attrs){if(!un(e.attrs,x,n)){if(er(r))return!1;p=!0}continue}const ue=qn(8&r?"class":I,o,yn(e),n);if(-1===ue){if(er(r))return!1;p=!0;continue}if(""!==x){let Ae;Ae=ue>u?"":o[ue+1].toLowerCase();const Le=8&r?Ae:null;if(Le&&-1!==ki(Le,x,0)||2&r&&x!==Ae){if(er(r))return!1;p=!0}}}}else{if(!p&&!er(r)&&!er(I))return!1;if(p&&er(I))continue;p=!1,r=I|1&r}}return er(r)||p}function er(e){return 0==(1&e)}function qn(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let u=!1;for(;o<t.length;){const p=t[o];if(p===e)return o;if(3===p||6===p)u=!0;else{if(1===p||2===p){let w=t[++o];for(;"string"==typeof w;)w=t[++o];continue}if(4===p)break;if(0===p){o+=4;continue}}o+=u?1:2}return-1}return function Ts(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function di(e,t,n=!1){for(let r=0;r<t.length;r++)if(nr(e,t[r],n))return!0;return!1}function Ti(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function _s(e,t){return e?":not("+t.trim()+")":t}function Fi(e){let t=e[0],n=1,r=2,o="",u=!1;for(;n<e.length;){let p=e[n];if("string"==typeof p)if(2&r){const w=e[++n];o+="["+p+(w.length>0?'="'+w+'"':"")+"]"}else 8&r?o+="."+p:4&r&&(o+=" "+p);else""!==o&&!er(p)&&(t+=_s(u,o),o=""),r=p,u=u||!er(r);n++}return""!==o&&(t+=_s(u,o)),t}function Ui(e){return G(()=>{const t=Ji(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||X.Emulated,styles:e.styles||Ve,_:null,schemas:e.schemas||null,tView:null,id:""};Yr(n);const r=e.dependencies;return n.directiveDefs=vs(r,!1),n.pipeDefs=vs(r,!0),n.id=function ho(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function qi(e){return bn(e)||_r(e)}function Qi(e){return null!==e}function hi(e){return G(()=>({type:e.type,bootstrap:e.bootstrap||Ve,declarations:e.declarations||Ve,imports:e.imports||Ve,exports:e.exports||Ve,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ys(e,t){if(null==e)return Te;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),n[o]=r,t&&(t[o]=u)}return n}function ai(e){return G(()=>{const t=Ji(e);return Yr(t),t})}function ss(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function bn(e){return e[gt]||null}function _r(e){return e[Jt]||null}function Tr(e){return e[rn]||null}function Ei(e){const t=bn(e)||_r(e)||Tr(e);return null!==t&&t.standalone}function hr(e,t){const n=e[kn]||null;if(!n&&!0===t)throw new Error(`Type ${ge(e)} does not have '\u0275mod' property.`);return n}function Ji(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Ve,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ys(e.inputs,t),outputs:ys(e.outputs)}}function Yr(e){e.features?.forEach(t=>t(e))}function vs(e,t){if(!e)return null;const n=t?Tr:qi;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Qi)}const De=0,re=1,me=2,Re=3,tt=4,Qe=5,tn=6,jn=7,jt=8,fi=9,$n=10,ht=11,yr=12,Ai=13,Jr=14,zn=15,os=16,pi=17,li=18,Bi=19,wi=20,bi=21,ei=22,es=23,Wi=24,Nn=25,ee=1,L=2,fe=7,ve=8,qe=9,Ft=11;function fr(e){return Array.isArray(e)&&"object"==typeof e[ee]}function pr(e){return Array.isArray(e)&&!0===e[ee]}function Vi(e){return 0!=(4&e.flags)}function ir(e){return e.componentOffset>-1}function ts(e){return 1==(1&e.flags)}function kr(e){return!!e.template}function ri(e){return 0!=(512&e[me])}function As(e,t){return e.hasOwnProperty(Zt)?e[Zt]:null}let Us=ft.WeakRef??class go{constructor(t){this.ref=t}deref(){return this.ref}},ja=0,Di=null,ls=!1;function Wr(e){const t=Di;return Di=e,t}class cs{constructor(){this.id=ja++,this.ref=function Or(e){return new Us(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=ls;ls=!0;try{for(const[n,r]of this.consumers){const o=r.consumerNode.deref();void 0!==o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),o?.producers.delete(this.id))}}finally{ls=t}}producerAccessed(){if(ls)throw new Error("");if(null===Di)return;let t=Di.producers.get(this.id);void 0===t?(t={consumerNode:Di.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Di.trackingVersion},Di.producers.set(this.id,t),this.consumers.set(Di.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=Di.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Di?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let j=null;const Ue=()=>{};class je extends cs{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=Ue,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=Wr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ue,this.watch(this.registerOnCleanup)}finally{Wr(t)}}cleanup(){this.cleanupFn()}}class Rt{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ot(){return Vn}function Vn(e){return e.type.prototype.ngOnChanges&&(e.setInput=Wt),Tn}function Tn(){const e=En(this),t=e?.current;if(t){const n=e.previous;if(n===Te)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Wt(e,t,n,r){const o=this.declaredInputs[n],u=En(e)||function wr(e,t){return e[hn]=t}(e,{previous:Te,current:null}),p=u.current||(u.current={}),w=u.previous,I=w[o];p[o]=new Rt(I&&I.currentValue,t,w===Te),e[r]=t}Ot.ngInherit=!0;const hn="__ngSimpleChanges__";function En(e){return e[hn]||null}const or=function(e,t,n){};function Cn(e){for(;Array.isArray(e);)e=e[De];return e}function ji(e,t){return Cn(t[e])}function Fr(e,t){return Cn(t[e.index])}function Js(e,t){return e.data[t]}function qr(e,t){const n=t[e];return fr(n)?n:n[De]}function C(e){return 128==(128&e[me])}function T(e,t){return null==t?null:e[t]}function H(e){e[pi]=0}function he(e){1024&e[me]||(e[me]|=1024,$e(e,1))}function Pe(e){1024&e[me]&&(e[me]&=-1025,$e(e,-1))}function $e(e,t){let n=e[Re];if(null===n)return;n[Qe]+=t;let r=n;for(n=n[Re];null!==n&&(1===t&&1===r[Qe]||-1===t&&0===r[Qe]);)n[Qe]+=t,r=n,n=n[Re]}const Ct={lFrame:da(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ti(){return Ct.bindingsEnabled}function Ii(){return null!==Ct.skipHydrationRootTNode}function st(){return Ct.lFrame.lView}function ur(){return Ct.lFrame.tView}function dl(e){return Ct.lFrame.contextLView=e,e[jt]}function $a(e){return Ct.lFrame.contextLView=null,e}function Oi(){let e=ns();for(;null!==e&&64===e.type;)e=e.parent;return e}function ns(){return Ct.lFrame.currentTNode}function Ms(e,t){const n=Ct.lFrame;n.currentTNode=e,n.isParent=t}function la(){return Ct.lFrame.isParent}function za(){Ct.lFrame.isParent=!1}function ds(){const e=Ct.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function bs(){return Ct.lFrame.bindingIndex++}function Cs(e){const t=Ct.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function fl(e,t){const n=Ct.lFrame;n.bindingIndex=n.bindingRootIndex=e,Aa(t)}function Aa(e){Ct.lFrame.currentDirectiveIndex=e}function ca(){return Ct.lFrame.currentQueryIndex}function yo(e){Ct.lFrame.currentQueryIndex=e}function Bl(e){const t=e[re];return 2===t.type?t.declTNode:1===t.type?e[tn]:null}function Ho(e,t,n){if(n&Mt.SkipSelf){let o=t,u=e;for(;!(o=o.parent,null!==o||n&Mt.Host||(o=Bl(u),null===o||(u=u[Jr],10&o.type))););if(null===o)return!1;t=o,e=u}const r=Ct.lFrame=ua();return r.currentTNode=t,r.lView=e,!0}function jo(e){const t=ua(),n=e[re];Ct.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ua(){const e=Ct.lFrame,t=null===e?null:e.child;return null===t?da(e):t}function da(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Vl(){const e=Ct.lFrame;return Ct.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Wa=Vl;function Mo(){const e=Vl();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ki(){return Ct.lFrame.selectedIndex}function Ro(e){Ct.lFrame.selectedIndex=e}function Br(){const e=Ct.lFrame;return Js(e.tView,e.selectedIndex)}let Oo=!0;function $o(){return Oo}function Hs(e){Oo=e}function Pa(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:K}=u;p&&(e.contentHooks??=[]).push(-n,p),w&&((e.contentHooks??=[]).push(n,w),(e.contentCheckHooks??=[]).push(n,w)),I&&(e.viewHooks??=[]).push(-n,I),x&&((e.viewHooks??=[]).push(n,x),(e.viewCheckHooks??=[]).push(n,x)),null!=K&&(e.destroyHooks??=[]).push(n,K)}}function zo(e,t,n){vo(e,t,3,n)}function Wo(e,t,n,r){(3&e[me])===n&&vo(e,t,n,r)}function Go(e,t){let n=e[me];(3&n)===t&&(n&=4095,n+=1,e[me]=n)}function vo(e,t,n,r){const u=r??-1,p=t.length-1;let w=0;for(let I=void 0!==r?65535&e[pi]:0;I<p;I++)if("number"==typeof t[I+1]){if(w=t[I],null!=r&&w>=r)break}else t[I]<0&&(e[pi]+=65536),(w<u||-1==u)&&(D(e,n,t,I),e[pi]=(4294901760&e[pi])+I+2),I++}function v(e,t){or(4,e,t);const n=Wr(null);try{t.call(e)}finally{Wr(n),or(5,e,t)}}function D(e,t,n,r){const o=n[r]<0,u=n[r+1],w=e[o?-n[r]:n[r]];o?e[me]>>12<e[pi]>>16&&(3&e[me])===t&&(e[me]+=4096,v(w,u)):v(w,u)}const m=-1;class A{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function rs(e){return e!==m}function No(e){return 32767&e}function Eo(e,t){let n=function ao(e){return e>>16}(e),r=t;for(;n>0;)r=r[Jr],n--;return r}let zi=!0;function js(e){const t=zi;return zi=e,t}const Hl=255,Ka=5;let fa=0;const to={};function Ds(e,t){const n=gc(e,t);if(-1!==n)return n;const r=t[re];r.firstCreatePass&&(e.injectorIndex=t.length,Ko(r.data,e),Ko(t,null),Ko(r.blueprint,null));const o=Yo(e,t),u=e.injectorIndex;if(rs(o)){const p=No(o),w=Eo(o,t),I=w[re].data;for(let x=0;x<8;x++)t[u+x]=w[p+x]|I[p+x]}return t[u+8]=o,u}function Ko(e,t){e.push(0,0,0,0,0,0,0,0,t)}function gc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Yo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=_c(o),null===r)return m;if(n++,o=o[Jr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return m}function ml(e,t,n){!function pc(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sn)&&(r=n[Sn]),null==r&&(r=n[Sn]=fa++);const o=r&Hl;t.data[e+(o>>Ka)]|=1<<o}(e,t,n)}function Ya(e,t,n){if(n&Mt.Optional||void 0!==e)return e;Pt()}function Ra(e,t,n,r){if(n&Mt.Optional&&void 0===r&&(r=null),!(n&(Mt.Self|Mt.Host))){const o=e[fi],u=mn(void 0);try{return o?o.get(t,r,n&Mt.Optional):Xt(t,r,n&Mt.Optional)}finally{mn(u)}}return Ya(r,0,n)}function ko(e,t,n,r=Mt.Default,o){if(null!==e){if(2048&t[me]){const p=function mc(e,t,n,r,o){let u=e,p=t;for(;null!==u&&null!==p&&2048&p[me]&&!(512&p[me]);){const w=jl(u,p,n,r|Mt.Self,to);if(w!==to)return w;let I=u.parent;if(!I){const x=p[wi];if(x){const K=x.get(n,to,r);if(K!==to)return K}I=_c(p),p=p[Jr]}u=I}return o}(e,t,n,r,to);if(p!==to)return p}const u=jl(e,t,n,r,to);if(u!==to)return u}return Ra(t,n,r,o)}function jl(e,t,n,r,o){const u=function pa(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Sn)?e[Sn]:void 0;return"number"==typeof t?t>=0?t&Hl:Oa:t}(n);if("function"==typeof u){if(!Ho(t,e,r))return r&Mt.Host?Ya(o,0,r):Ra(t,n,r,o);try{const p=u(r);if(null!=p||r&Mt.Optional)return p;Pt()}finally{Wa()}}else if("number"==typeof u){let p=null,w=gc(e,t),I=m,x=r&Mt.Host?t[zn][tn]:null;for((-1===w||r&Mt.SkipSelf)&&(I=-1===w?Yo(e,t):t[w+8],I!==m&&Uc(r,!1)?(p=t[re],w=No(I),t=Eo(I,t)):w=-1);-1!==w;){const K=t[re];if($l(u,w,K.data)){const ue=_l(w,t,n,p,r,x);if(ue!==to)return ue}I=t[w+8],I!==m&&Uc(r,t[re].data[w+8]===x)&&$l(u,w,t)?(p=K,w=No(I),t=Eo(I,t)):w=-1}}return o}function _l(e,t,n,r,o,u){const p=t[re],w=p.data[e+8],K=Zo(w,p,n,null==r?ir(w)&&zi:r!=p&&0!=(3&w.type),o&Mt.Host&&u===w);return null!==K?qo(t,p,K,w):to}function Zo(e,t,n,r,o){const u=e.providerIndexes,p=t.data,w=1048575&u,I=e.directiveStart,K=u>>20,Ae=o?w+K:e.directiveEnd;for(let Le=r?w:w+K;Le<Ae;Le++){const it=p[Le];if(Le<I&&n===it||Le>=I&&it.type===n)return Le}if(o){const Le=p[I];if(Le&&kr(Le)&&Le.type===n)return I}return null}function qo(e,t,n,r){let o=e[n];const u=t.data;if(function k(e){return e instanceof A}(o)){const p=o;p.resolving&&function Je(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ge(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():He(e)}(u[n]));const w=js(p.canSeeViewProviders);p.resolving=!0;const I=p.injectImpl?mn(p.injectImpl):null;Ho(e,r,Mt.Default);try{o=e[n]=p.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Ma(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=t.type.prototype;if(r){const p=Vn(t);(n.preOrderHooks??=[]).push(e,p),(n.preOrderCheckHooks??=[]).push(e,p)}o&&(n.preOrderHooks??=[]).push(0-e,o),u&&((n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u))}(n,u[n],t)}finally{null!==I&&mn(I),js(w),p.resolving=!1,Wa()}}return o}function $l(e,t,n){return!!(n[t+(e>>Ka)]&1<<e)}function Uc(e,t){return!(e&Mt.Self||e&Mt.Host&&t)}class Qo{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ko(this._tNode,this._lView,t,Rr(r),n)}}function Oa(){return new Qo(Oi(),st())}function lo(e){return G(()=>{const t=e.prototype.constructor,n=t[Zt]||Na(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[Zt]||Na(o);if(u&&u!==n)return u;o=Object.getPrototypeOf(o)}return u=>new u})}function Na(e){return xe(e)?()=>{const t=Na(le(e));return t&&t()}:As(e)}function _c(e){const t=e[re],n=t.type;return 2===n?t.declTNode:1===n?e[tn]:null}function zl(e){return function Fc(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const u=n[o];if(We(u))break;if(0===u)o+=2;else if("number"==typeof u)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(u===t)return n[o+1];o+=2}}}return null}(Oi(),e)}const Fo="__parameters__";function Rs(e,t,n){return G(()=>{const r=function wo(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...u){if(this instanceof o)return r.apply(this,u),this;const p=new o(...u);return w.annotation=p,w;function w(I,x,K){const ue=I.hasOwnProperty(Fo)?I[Fo]:Object.defineProperty(I,Fo,{value:[]})[Fo];for(;ue.length<=K;)ue.push(null);return(ue[K]=ue[K]||[]).push(p),I}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function xi(e,t){e.forEach(n=>Array.isArray(n)?xi(n,t):t(n))}function va(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Yl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ea(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function M(e,t,n){let r=ae(e,t);return r>=0?e[1|r]=n:(r=~r,function bl(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function B(e,t){const n=ae(e,t);if(n>=0)return e[1|n]}function ae(e,t){return function Ne(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const u=r+(o-r>>1),p=e[u<<n];if(t===p)return u<<n;p>t?o=u:r=u+1}return~(o<<n)}(e,t,1)}const wa=Zn(Rs("Optional"),8),fs=Zn(Rs("SkipSelf"),4);function ta(e){return 128==(128&e.flags)}var Co=(()=>((Co=Co||{})[Co.Important=1]="Important",Co[Co.DashCase=2]="DashCase",Co))();const tl=/^>|^->|<!--|-->|--!>|<!-$/g,kh=/(<|>)/,nl="\u200b$1\u200b";const Jl=new Map;let zc=0;const bc="__ngContext__";function Ss(e,t){fr(t)?(e[bc]=t[Bi],function Wc(e){Jl.set(e[Bi],e)}(t)):e[bc]=t}let Pl;function Yc(e,t){return Pl(e,t)}function rc(e){const t=e[Re];return pr(t)?t[Re]:t}function Zc(e){return Tu(e[yr])}function qc(e){return Tu(e[tt])}function Tu(e){for(;null!==e&&!pr(e);)e=e[tt];return e}function na(e,t,n,r,o){if(null!=r){let u,p=!1;pr(r)?u=r:fr(r)&&(p=!0,r=r[De]);const w=Cn(r);0===e&&null!==n?null==o?Ru(t,n,w):ra(t,n,w,o||null,!0):1===e&&null!==n?ra(t,n,w,o||null,!0):2===e?function ac(e,t,n){const r=sc(e,t);r&&function md(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,w,p):3===e&&t.destroyNode(w),null!=u&&function uo(e,t,n,r,o){const u=n[fe];u!==Cn(n)&&na(t,e,r,u,o);for(let w=Ft;w<n.length;w++){const I=n[w];il(I[re],I,e,t,r,u)}}(t,e,u,n,o)}}function Xc(e,t){return e.createComment(function Cu(e){return e.replace(tl,t=>t.replace(kh,nl))}(t))}function Tc(e,t,n){return e.createElement(t,n)}function Au(e,t){const n=e[qe],r=n.indexOf(t);Pe(t),n.splice(r,1)}function ic(e,t){if(e.length<=Ft)return;const n=Ft+t,r=e[n];if(r){const o=r[os];null!==o&&o!==e&&Au(o,r),t>0&&(e[n-1][tt]=r[tt]);const u=Yl(e,Ft+t);!function Uo(e,t){il(e,t,t[ht],2,null,null),t[De]=null,t[tn]=null}(r[re],r);const p=u[li];null!==p&&p.detachView(u[re]),r[Re]=null,r[tt]=null,r[me]&=-129}return r}function Mu(e,t){if(!(256&t[me])){const n=t[ht];t[es]?.destroy(),t[Wi]?.destroy(),n.destroyNode&&il(e,t,n,3,null,null),function Mc(e){let t=e[yr];if(!t)return $s(e[re],e);for(;t;){let n=null;if(fr(t))n=t[yr];else{const r=t[Ft];r&&(n=r)}if(!n){for(;t&&!t[tt]&&t!==e;)fr(t)&&$s(t[re],t),t=t[Re];null===t&&(t=e),fr(t)&&$s(t[re],t),n=t&&t[tt]}t=n}}(t)}}function $s(e,t){if(!(256&t[me])){t[me]&=-129,t[me]|=256,function Pu(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof A)){const u=n[r+1];if(Array.isArray(u))for(let p=0;p<u.length;p+=2){const w=o[u[p]],I=u[p+1];or(4,w,I);try{I.call(w)}finally{or(5,w,I)}}else{or(4,o,u);try{u.call(o)}finally{or(5,o,u)}}}}}(e,t),function Rl(e,t){const n=e.cleanup,r=t[jn];if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const p=n[u+3];p>=0?r[p]():r[-p].unsubscribe(),u+=2}else n[u].call(r[n[u+1]]);null!==r&&(t[jn]=null);const o=t[bi];if(null!==o){t[bi]=null;for(let u=0;u<o.length;u++)(0,o[u])()}}(e,t),1===t[re].type&&t[ht].destroy();const n=t[os];if(null!==n&&pr(t[Re])){n!==t[Re]&&Au(n,t);const r=t[li];null!==r&&r.detachView(e)}!function ec(e){Jl.delete(e[Bi])}(t)}}function tu(e,t,n){return function nu(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[De];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:u}=e.data[r.directiveStart+o];if(u===X.None||u===X.Emulated)return null}return Fr(r,n)}}(e,t.parent,n)}function ra(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Ru(e,t,n){e.appendChild(t,n)}function ru(e,t,n,r,o){null!==r?ra(e,t,n,r,o):Ru(e,t,n)}function sc(e,t){return e.parentNode(t)}function Ou(e,t,n){return iu(e,t,n)}let zs,Dt,ui,iu=function Nu(e,t,n){return 40&e.type?Fr(e,n):null};function Ol(e,t,n,r){const o=tu(e,r,t),u=t[ht],w=Ou(r.parent||t[tn],r,t);if(null!=o)if(Array.isArray(n))for(let I=0;I<n.length;I++)ru(u,o,n[I],w,!1);else ru(u,o,n,w,!1);void 0!==zs&&zs(u,r,t,n,o)}function oc(e,t){if(null!==t){const n=t.type;if(3&n)return Fr(t,e);if(4&n)return Ba(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return oc(e,r);{const o=e[t.index];return pr(o)?Ba(-1,o):Cn(o)}}if(32&n)return Yc(t,e)()||Cn(e[t.index]);{const r=ia(e,t);return null!==r?Array.isArray(r)?r[0]:oc(rc(e[zn]),r):oc(e,t.next)}}return null}function ia(e,t){return null!==t?e[zn][tn].projection[t.projection]:null}function Ba(e,t){const n=Ft+e+1;if(n<t.length){const r=t[n],o=r[re].firstChild;if(null!==o)return oc(r,o)}return t[fe]}function au(e,t,n,r,o,u,p){for(;null!=n;){const w=r[n.index],I=n.type;if(p&&0===t&&(w&&Ss(Cn(w),r),n.flags|=2),32!=(32&n.flags))if(8&I)au(e,t,n.child,r,o,u,!1),na(t,e,o,w,u);else if(32&I){const x=Yc(n,r);let K;for(;K=x();)na(t,e,o,K,u);na(t,e,o,w,u)}else 16&I?gs(e,t,r,n,o,u):na(t,e,o,w,u);n=p?n.projectionNext:n.next}}function il(e,t,n,r,o,u){au(n,r,e.firstChild,t,o,u,!1)}function gs(e,t,n,r,o,u){const p=n[zn],I=p[tn].projection[r.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)na(t,e,o,I[x],u);else{let x=I;const K=p[Re];ta(r)&&(x.flags|=128),au(e,t,x,K,o,u,!0)}}function a(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function c(e,t,n){const{mergedAttrs:r,classes:o,styles:u}=n;null!==r&&Li(e,t,r),null!==o&&a(e,t,o),null!==u&&function f(e,t,n){e.setAttribute(t,"style",n)}(e,t,u)}function Ut(e){Dt=e}function lu(e){return function sa(){if(void 0===ui&&(ui=null,ft.trustedTypes))try{ui=ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ui}()?.createScriptURL(e)||e}class Rc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}function Da(e){return e instanceof Rc?e.changingThisBreaksApplicationSecurity:e}function sl(e,t){const n=function yd(e){return e instanceof Rc&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${dt})`)}return n===t}const d=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ns=(()=>((Ns=Ns||{})[Ns.NONE=0]="NONE",Ns[Ns.HTML=1]="HTML",Ns[Ns.STYLE=2]="STYLE",Ns[Ns.SCRIPT=3]="SCRIPT",Ns[Ns.URL=4]="URL",Ns[Ns.RESOURCE_URL=5]="RESOURCE_URL",Ns))();function kp(e){const t=vd();return t?t.sanitize(Ns.URL,e)||"":sl(e,"URL")?Da(e):function y(e){return(e=String(e)).match(d)?e:"unsafe:"+e}(He(e))}function Lp(e){const t=vd();if(t)return lu(t.sanitize(Ns.RESOURCE_URL,e)||"");if(sl(e,"ResourceURL"))return lu(Da(e));throw new Fe(904,!1)}function Fp(e,t,n){return function Av(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Lp:kp}(t,n)(e)}function vd(){const e=st();return e&&e[$n].sanitizer}class ni{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Vt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ed=new ni("ENVIRONMENT_INITIALIZER"),Up=new ni("INJECTOR",-1),Bp=new ni("INJECTOR_DEF_TYPES");class Vp{get(t,n=In){if(n===In){const r=new Error(`NullInjectorError: No provider for ${ge(t)}!`);throw r.name="NullInjectorError",r}return n}}function Vh(e){return{\u0275providers:e}}function Mv(...e){return{\u0275providers:Hp(0,e),\u0275fromNgModule:!0}}function Hp(e,...t){const n=[],r=new Set;let o;return xi(t,u=>{const p=u;Hh(p,n,[],r)&&(o||=[],o.push(p))}),void 0!==o&&jp(o,n),n}function jp(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];jh(o,u=>{t.push(u)})}}function Hh(e,t,n,r){if(!(e=le(e)))return!1;let o=null,u=Sr(e);const p=!u&&bn(e);if(u||p){if(p&&!p.standalone)return!1;o=e}else{const I=e.ngModule;if(u=Sr(I),!u)return!1;o=I}const w=r.has(o);if(p){if(w)return!1;if(r.add(o),p.dependencies){const I="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const x of I)Hh(x,t,n,r)}}else{if(!u)return!1;{if(null!=u.imports&&!w){let x;r.add(o);try{xi(u.imports,K=>{Hh(K,t,n,r)&&(x||=[],x.push(K))})}finally{}void 0!==x&&jp(x,t)}if(!w){const x=As(o)||(()=>new o);t.push({provide:o,useFactory:x,deps:Ve},{provide:Bp,useValue:o,multi:!0},{provide:Ed,useValue:()=>Rn(o),multi:!0})}const I=u.providers;null==I||w||jh(I,K=>{t.push(K)})}}return o!==e&&void 0!==e.providers}function jh(e,t){for(let n of e)Ye(n)&&(n=n.\u0275providers),Array.isArray(n)?jh(n,t):t(n)}const Pv=ie({provide:String,useValue:ie});function $h(e){return null!==e&&"object"==typeof e&&Pv in e}function du(e){return"function"==typeof e}const zh=new ni("Set Injector scope."),Qd={},Ov={};let Wh;function Xd(){return void 0===Wh&&(Wh=new Vp),Wh}class hu{}class Gh extends hu{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yh(t,p=>this.processProvider(p)),this.records.set(Up,Lu(void 0,this)),o.has("environment")&&this.records.set(hu,Lu(void 0,this));const u=this.records.get(zh);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(Bp.multi,Ve,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=On(this),r=mn(void 0);try{return t()}finally{On(n),mn(r)}}get(t,n=In,r=Mt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(zr))return t[zr](this);r=Rr(r);const o=On(this),u=mn(void 0);try{if(!(r&Mt.SkipSelf)){let w=this.records.get(t);if(void 0===w){const I=function Fv(e){return"function"==typeof e||"object"==typeof e&&e instanceof ni}(t)&&Gn(t);w=I&&this.injectableDefInScope(I)?Lu(Kh(t),Qd):null,this.records.set(t,w)}if(null!=w)return this.hydrate(t,w)}return(r&Mt.Self?Xd():this.parent).get(t,n=r&Mt.Optional&&n===In?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[Qr]=p[Qr]||[]).unshift(ge(t)),o)throw p;return function _e(e,t,n,r){const o=e[Qr];throw t[Pr]&&o.unshift(t[Pr]),e.message=function $(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=ge(t);if(Array.isArray(t))o=t.map(ge).join(" -> ");else if("object"==typeof t){let u=[];for(let p in t)if(t.hasOwnProperty(p)){let w=t[p];u.push(p+":"+("string"==typeof w?JSON.stringify(w):ge(w)))}o=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Er,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Qr]=null,e}(p,t,"R3InjectorError",this.source)}throw p}finally{mn(u),On(o)}}resolveInjectorInitializers(){const t=On(this),n=mn(void 0);try{const r=this.get(Ed.multi,Ve,Mt.Self);for(const o of r)o()}finally{On(t),mn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ge(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(t){let n=du(t=le(t))?t:le(t&&t.provide);const r=function xv(e){return $h(e)?Lu(void 0,e.useValue):Lu(Wp(e),Qd)}(t);if(du(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Lu(void 0,Qd,!0),o.factory=()=>Gr(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Qd&&(n.value=Ov,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Lv(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=le(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Kh(e){const t=Gn(e),n=null!==t?t.factory:As(e);if(null!==n)return n;if(e instanceof ni)throw new Fe(204,!1);if(e instanceof Function)return function Nv(e){const t=e.length;if(t>0)throw Ea(t,"?"),new Fe(204,!1);const n=function nn(e){return e&&(e[Kn]||e[St])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Fe(204,!1)}function Wp(e,t,n){let r;if(du(e)){const o=le(e);return As(o)||Kh(o)}if($h(e))r=()=>le(e.useValue);else if(function zp(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Gr(e.deps||[]));else if(function $p(e){return!(!e||!e.useExisting)}(e))r=()=>Rn(le(e.useExisting));else{const o=le(e&&(e.useClass||e.provide));if(!function kv(e){return!!e.deps}(e))return As(o)||Kh(o);r=()=>new o(...Gr(e.deps))}return r}function Lu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Yh(e,t){for(const n of e)Array.isArray(n)?Yh(n,t):n&&Ye(n)?Yh(n.\u0275providers,t):t(n)}const Gp=new ni("AppId",{providedIn:"root",factory:()=>Uv}),Uv="ng",Kp=new ni("Platform Initializer"),Zh=new ni("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bv=new ni("AnimationModuleType"),Vv=new ni("CSP nonce",{providedIn:"root",factory:()=>function Wn(){if(void 0!==Dt)return Dt;if(typeof document<"u")return document;throw new Fe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zp=(e,t)=>null;function qp(e,t){return Zp(e,t)}class Zv{}class Jp{}class Qv{resolveComponentFactory(t){throw function qv(e){const t=Error(`No component factory found for ${ge(e)}.`);return t.ngComponent=e,t}(t)}}let rh=(()=>{class e{}return e.NULL=new Qv,e})();function Xv(){return Fu(Oi(),st())}function Fu(e,t){return new Dd(Fr(e,t))}let Dd=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Xv,e})();function Jv(e){return e instanceof Dd?e.nativeElement:e}class tg{}let eE=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function tE(){const e=st(),n=qr(Oi().index,e);return(fr(n)?n:e)[ht]}(),e})(),nE=(()=>{class e{}return e.\u0275prov=Vt({token:e,providedIn:"root",factory:()=>null}),e})();class ng{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const rg=new ng("16.0.2"),lf={};function Id(e){for(;e;){e[me]|=64;const t=rc(e);if(ri(e)&&!t)return e;e=t}return null}function cf(e){return e.ngOriginalError}class Uu{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&cf(t);for(;n&&cf(n);)n=cf(n);return n||null}}const og=new ni("",{providedIn:"root",factory:()=>!1});function ag(e){return e.ownerDocument.defaultView}function cc(e){return e instanceof Function?e():e}class ug extends cs{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){Id(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const o=Wr(this);this.trackingVersion++;try{t(n,r)}finally{Wr(o)}}destroy(){this.trackingVersion++}}let sh=null;function dg(){return sh??=new ug,sh}function hg(e,t){return e[t]??dg()}function fg(e,t){const n=dg();n.hasReadASignal&&(e[t]=sh,n.lView=e,sh=new ug)}const ar={};function pg(e){gg(ur(),st(),Ki()+e,!1)}function gg(e,t,n,r){if(!r)if(3==(3&t[me])){const u=e.preOrderCheckHooks;null!==u&&zo(t,u,n)}else{const u=e.preOrderHooks;null!==u&&Wo(t,u,0,n)}Ro(n)}function vg(e,t=null,n=null,r){const o=Eg(e,t,n,r);return o.resolveInjectorInitializers(),o}function Eg(e,t=null,n=null,r,o=new Set){const u=[n||Ve,Mv(e)];return r=r||("object"==typeof e?void 0:ge(e)),new Gh(u,t||Xd(),r||null,o)}let xc=(()=>{class e{static create(n,r){if(Array.isArray(n))return vg({name:""},r,n,"");{const o=n.name??"";return vg({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=In,e.NULL=new Vp,e.\u0275prov=Vt({token:e,providedIn:"any",factory:()=>Rn(Up)}),e.__NG_ELEMENT_ID__=-1,e})();function Vu(e,t=Mt.Default){const n=st();return null===n?Rn(e,t):ko(Oi(),n,le(e),t)}function wg(){throw new Error("invalid")}function oh(e,t,n,r,o,u,p,w,I,x,K){const ue=t.blueprint.slice();return ue[De]=o,ue[me]=140|r,(null!==x||e&&2048&e[me])&&(ue[me]|=2048),H(ue),ue[Re]=ue[Jr]=e,ue[jt]=n,ue[$n]=p||e&&e[$n],ue[ht]=w||e&&e[ht],ue[fi]=I||e&&e[fi]||null,ue[tn]=u,ue[Bi]=function cd(){return zc++}(),ue[ei]=K,ue[wi]=x,ue[zn]=2==t.type?e[zn]:ue,ue}function Hu(e,t,n,r,o){let u=e.data[t];if(null===u)u=function uf(e,t,n,r,o){const u=ns(),p=la(),I=e.data[t]=function bE(e,t,n,r,o,u){let p=t?t.injectorIndex:-1,w=0;return Ii()&&(w|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?u:u&&u.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=I),null!==u&&(p?null==u.child&&null!==I.parent&&(u.child=I):null===u.next&&(u.next=I,I.prev=u)),I}(e,t,n,r,o),function eo(){return Ct.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=n,u.value=r,u.attrs=o;const p=function Vo(){const e=Ct.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===p?-1:p.injectorIndex}return Ms(u,!0),u}function Sd(e,t,n,r){if(0===n)return-1;const o=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function bg(e,t,n,r,o){const u=hg(t,es),p=Ki(),w=2&r;try{if(Ro(-1),w&&t.length>Nn&&gg(e,t,Nn,!1),or(w?2:0,o),w)u.runInContext(n,r,o);else{const x=Wr(null);try{n(r,o)}finally{Wr(x)}}}finally{w&&null===t[es]&&fg(t,es),Ro(p),or(w?3:1,o)}}function df(e,t,n){if(Vi(t)){const r=Wr(null);try{const u=t.directiveEnd;for(let p=t.directiveStart;p<u;p++){const w=e.data[p];w.contentQueries&&w.contentQueries(1,n[p],p)}}finally{Wr(r)}}}function hf(e,t,n){ti()&&(function ME(e,t,n,r){const o=n.directiveStart,u=n.directiveEnd;ir(n)&&function LE(e,t,n){const r=Fr(t,e),p=ah(e,oh(e,Cg(n),null,n.onPush?64:16,r,t,null,e[$n].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Ds(n,t),Ss(r,t);const p=n.initialInputs;for(let w=o;w<u;w++){const I=e.data[w],x=qo(t,e,w,n);Ss(x,t),null!==p&&FE(0,w-o,x,I,0,p),kr(I)&&(qr(n.index,t)[jt]=qo(t,e,w,n))}}(e,t,n,Fr(n,t)),64==(64&n.flags)&&Ag(e,t,n))}function ff(e,t,n=Fr){const r=t.localNames;if(null!==r){let o=t.index+1;for(let u=0;u<r.length;u+=2){const p=r[u+1],w=-1===p?n(t,e):e[p];e[o++]=w}}}function Cg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=pf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function pf(e,t,n,r,o,u,p,w,I,x,K){const ue=Nn+r,Ae=ue+o,Le=function mE(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ar);return n}(ue,Ae),it="function"==typeof x?x():x;return Le[re]={type:e,blueprint:Le,template:n,queries:null,viewQuery:w,declTNode:t,data:Le.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:I,consts:it,incompleteFirstPass:!1,ssrId:K}}let Dg=e=>null;function Ig(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const u=e[o];null===r?Sg(n,t,o,u):r.hasOwnProperty(o)&&Sg(n,t,r[o],u)}return n}function Sg(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function gf(e,t,n,r){if(ti()){const o=null===r?null:{"":-1},u=function RE(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let u=0;u<n.length;u++){const p=n[u];if(di(t,p.selectors,!1))if(r||(r=[]),kr(p))if(null!==p.findHostDirectiveDefs){const w=[];o=o||new Map,p.findHostDirectiveDefs(p,w,o),r.unshift(...w,p),mf(e,t,w.length)}else r.unshift(p),mf(e,t,0);else o=o||new Map,p.findHostDirectiveDefs?.(p,r,o),r.push(p)}return null===r?null:[r,o]}(e,n);let p,w;null===u?p=w=null:[p,w]=u,null!==p&&Tg(e,t,n,p,o,w),o&&function OE(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const u=n[t[o+1]];if(null==u)throw new Fe(-301,!1);r.push(t[o],u)}}}(n,r,o)}n.mergedAttrs=rt(n.mergedAttrs,n.attrs)}function Tg(e,t,n,r,o,u){for(let x=0;x<r.length;x++)ml(Ds(n,t),e,r[x].type);!function xE(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let x=0;x<r.length;x++){const K=r[x];K.providersResolver&&K.providersResolver(K)}let p=!1,w=!1,I=Sd(e,t,r.length,null);for(let x=0;x<r.length;x++){const K=r[x];n.mergedAttrs=rt(n.mergedAttrs,K.hostAttrs),kE(e,n,t,I,K),NE(I,K,o),null!==K.contentQueries&&(n.flags|=4),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(n.flags|=64);const ue=K.type.prototype;!p&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),p=!0),!w&&(ue.ngOnChanges||ue.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),w=!0),I++}!function CE(e,t,n){const o=t.directiveEnd,u=e.data,p=t.attrs,w=[];let I=null,x=null;for(let K=t.directiveStart;K<o;K++){const ue=u[K],Ae=n?n.get(ue):null,it=Ae?Ae.outputs:null;I=Ig(ue.inputs,K,I,Ae?Ae.inputs:null),x=Ig(ue.outputs,K,x,it);const mt=null===I||null===p||yn(t)?null:UE(I,K,p);w.push(mt)}null!==I&&(I.hasOwnProperty("class")&&(t.flags|=8),I.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=w,t.inputs=I,t.outputs=x}(e,n,u)}function Ag(e,t,n){const r=n.directiveStart,o=n.directiveEnd,u=n.index,p=function $i(){return Ct.lFrame.currentDirectiveIndex}();try{Ro(u);for(let w=r;w<o;w++){const I=e.data[w],x=t[w];Aa(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&PE(I,x)}}finally{Ro(-1),Aa(p)}}function PE(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function mf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function NE(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;kr(t)&&(n[""]=e)}}function kE(e,t,n,r,o){e.data[r]=o;const u=o.factory||(o.factory=As(o.type)),p=new A(u,kr(o),Vu);e.blueprint[r]=p,n[r]=p,function TE(e,t,n,r,o){const u=o.hostBindings;if(u){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const w=~t.index;(function AE(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(p)!=w&&p.push(w),p.push(n,r,u)}}(e,t,r,Sd(e,n,o.hostVars,ar),o)}function xl(e,t,n,r,o,u){const p=Fr(e,t);!function _f(e,t,n,r,o,u,p){if(null==u)e.removeAttribute(t,o,n);else{const w=null==p?He(u):p(u,r||"",o);e.setAttribute(t,o,w,n)}}(t[ht],p,u,e.value,n,r,o)}function FE(e,t,n,r,o,u){const p=u[t];if(null!==p)for(let w=0;w<p.length;)Mg(r,n,p[w++],p[w++],p[w++])}function Mg(e,t,n,r,o){const u=Wr(null);try{null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{Wr(u)}}function UE(e,t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;if(e.hasOwnProperty(u)){null===r&&(r=[]);const p=e[u];for(let w=0;w<p.length;w+=2)if(p[w]===t){r.push(u,p[w+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Pg(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Rg(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const u=n[r+1];if(-1!==u){const p=e.data[u];yo(n[r]),p.contentQueries(2,t[u],u)}}}function ah(e,t){return e[yr]?e[Ai][tt]=t:e[yr]=t,e[Ai]=t,t}function yf(e,t,n){yo(0);const r=Wr(null);try{t(e,n)}finally{Wr(r)}}function Og(e){return e[jn]||(e[jn]=[])}function Ng(e){return e.cleanup||(e.cleanup=[])}function kg(e,t){const n=e[fi],r=n?n.get(Uu,null):null;r&&r.handleError(t)}function vf(e,t,n,r,o){for(let u=0;u<n.length;){const p=n[u++],w=n[u++];Mg(e.data[p],t[p],r,w,o)}}function uc(e,t,n){const r=ji(t,e);!function Qc(e,t,n){e.setValue(t,n)}(e[ht],r,n)}function BE(e,t){const n=qr(t,e),r=n[re];!function VE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[De];null!==o&&null===n[ei]&&(n[ei]=qp(o,n[fi])),Ef(r,n,n[jt])}function Ef(e,t,n){jo(t);try{const r=e.viewQuery;null!==r&&yf(1,r,n);const o=e.template;null!==o&&bg(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Rg(e,t),e.staticViewQueries&&yf(2,e.viewQuery,n);const u=e.components;null!==u&&function HE(e,t){for(let n=0;n<t.length;n++)BE(e,t[n])}(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[me]&=-5,Mo()}}let Lg=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const u=typeof Zone>"u"?null:Zone.current,p=new je(n,x=>{this.all.has(x)&&this.queue.set(x,u)},o);let w;this.all.add(p),p.notify();const I=()=>{p.cleanup(),w?.(),this.all.delete(p),this.queue.delete(p)};return w=r?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=Vt({token:e,providedIn:"root",factory:()=>new e}),e})();function lh(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,u=0;if(null!==t)for(let p=0;p<t.length;p++){const w=t[p];"number"==typeof w?u=w:1==u?o=ye(o,w):2==u&&(r=ye(r,w+": "+t[++p]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function Td(e,t,n,r,o=!1){for(;null!==n;){const u=t[n.index];if(null!==u&&r.push(Cn(u)),pr(u)){for(let w=Ft;w<u.length;w++){const I=u[w],x=I[re].firstChild;null!==x&&Td(I[re],I,x,r)}u[fe]!==u[De]&&r.push(u[fe])}const p=n.type;if(8&p)Td(e,t,n.child,r);else if(32&p){const w=Yc(n,t);let I;for(;I=w();)r.push(I)}else if(16&p){const w=ia(t,n);if(Array.isArray(w))r.push(...w);else{const I=rc(t[zn]);Td(I[re],I,w,r,!0)}}n=o?n.projectionNext:n.next}return r}function ch(e,t,n,r=!0){const o=t[$n].rendererFactory;o.begin&&o.begin();try{uh(e,t,e.template,n)}catch(p){throw r&&kg(t,p),p}finally{o.end&&o.end(),t[$n].effectManager?.flush()}}function uh(e,t,n,r){const o=t[me];if(256!=(256&o)){t[$n].effectManager?.flush(),jo(t);try{H(t),function _o(e){return Ct.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&bg(e,t,n,2,r);const p=3==(3&o);if(p){const x=e.preOrderCheckHooks;null!==x&&zo(t,x,null)}else{const x=e.preOrderHooks;null!==x&&Wo(t,x,0,null),Go(t,0)}if(function KE(e){for(let t=Zc(e);null!==t;t=qc(t)){if(!t[L])continue;const n=t[qe];for(let r=0;r<n.length;r++){he(n[r])}}}(t),function GE(e){for(let t=Zc(e);null!==t;t=qc(t))for(let n=Ft;n<t.length;n++){const r=t[n],o=r[re];C(r)&&uh(o,r,o.template,r[jt])}}(t),null!==e.contentQueries&&Rg(e,t),p){const x=e.contentCheckHooks;null!==x&&zo(t,x)}else{const x=e.contentHooks;null!==x&&Wo(t,x,1),Go(t,1)}!function gE(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=hg(t,Wi);try{for(let o=0;o<n.length;o++){const u=n[o];if(u<0)Ro(~u);else{const p=u,w=n[++o],I=n[++o];fl(w,p),r.runInContext(I,2,t[p])}}}finally{null===t[Wi]&&fg(t,Wi),Ro(-1)}}(e,t);const w=e.components;null!==w&&function ZE(e,t){for(let n=0;n<t.length;n++)YE(e,t[n])}(t,w);const I=e.viewQuery;if(null!==I&&yf(2,I,r),p){const x=e.viewCheckHooks;null!==x&&zo(t,x)}else{const x=e.viewHooks;null!==x&&Wo(t,x,2),Go(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[me]&=-73,Pe(t)}finally{Mo()}}}function YE(e,t){const n=qr(t,e);if(C(n)){const r=n[re];80&n[me]?uh(r,n,r.template,n[jt]):n[Qe]>0&&wf(n)}}function wf(e){for(let r=Zc(e);null!==r;r=qc(r))for(let o=Ft;o<r.length;o++){const u=r[o];if(C(u))if(1024&u[me]){const p=u[re];uh(p,u,p.template,u[jt])}else u[Qe]>0&&wf(u)}const n=e[re].components;if(null!==n)for(let r=0;r<n.length;r++){const o=qr(n[r],e);C(o)&&o[Qe]>0&&wf(o)}}class Ad{get rootNodes(){const t=this._lView,n=t[re];return Td(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(t){this._lView[jt]=t}get destroyed(){return 256==(256&this._lView[me])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Re];if(pr(t)){const n=t[ve],r=n?n.indexOf(this):-1;r>-1&&(ic(t,r),Yl(n,r))}this._attachedToViewContainer=!1}Mu(this._lView[re],this._lView)}onDestroy(t){!function Et(e,t){if(256==(256&e[me]))throw new Fe(911,!1);null===e[bi]&&(e[bi]=[]),e[bi].push(t)}(this._lView,t)}markForCheck(){Id(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-129}reattach(){this._lView[me]|=128}detectChanges(){ch(this._lView[re],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ac(e,t){il(e,t,t[ht],2,null,null)}(this._lView[re],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=t}}class qE extends Ad{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ch(t[re],t,t[jt],!1)}checkNoChanges(){}get context(){return null}}class Fg extends rh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=bn(t);return new Md(n,this.ngModule)}}function Ug(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class XE{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Rr(r);const o=this.injector.get(t,lf,r);return o!==lf||n===lf?o:this.parentInjector.get(t,n,r)}}class Md extends Jp{get inputs(){return Ug(this.componentDef.inputs)}get outputs(){return Ug(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function vi(e){return e.map(Fi).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let u=(o=o||this.ngModule)instanceof hu?o:o?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const p=u?new XE(t,u):t,w=p.get(tg,null);if(null===w)throw new Fe(407,!1);const K={rendererFactory:w,sanitizer:p.get(nE,null),effectManager:p.get(Lg,null)},ue=w.createRenderer(null,this.componentDef),Ae=this.componentDef.selectors[0][0]||"div",Le=r?function _E(e,t,n,r){const u=r.get(og,!1)||n===X.ShadowDom,p=e.selectRootElement(t,u);return function yE(e){Dg(e)}(p),p}(ue,r,this.componentDef.encapsulation,p):Tc(ue,Ae,function QE(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Ae)),it=this.componentDef.onPush?576:528,mt=pf(0,null,null,1,0,null,null,null,null,null,null),xt=oh(null,mt,null,it,null,null,K,ue,p,null,null);let vn,ct;jo(xt);try{const Un=this.componentDef;let Dr,oi=null;Un.findHostDirectiveDefs?(Dr=[],oi=new Map,Un.findHostDirectiveDefs(Un,Dr,oi),Dr.push(Un)):Dr=[Un];const ul=function ew(e,t){const n=e[re],r=Nn;return e[r]=t,Hu(n,r,2,"#host",null)}(xt,Le),vv=function tw(e,t,n,r,o,u,p){const w=o[re];!function nw(e,t,n,r){for(const o of e)t.mergedAttrs=rt(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(lh(t,t.mergedAttrs,!0),null!==n&&c(r,n,t))}(r,e,t,p);let I=null;null!==t&&(I=qp(t,o[fi]));const x=u.rendererFactory.createRenderer(t,n),K=oh(o,Cg(n),null,n.onPush?64:16,o[e.index],e,u,x,null,null,I);return w.firstCreatePass&&mf(w,e,r.length-1),ah(o,K),o[e.index]=K}(ul,Le,Un,Dr,xt,K,ue);ct=Js(mt,Nn),Le&&function iw(e,t,n,r){if(r)Li(e,n,["ng-version",rg.full]);else{const{attrs:o,classes:u}=function Yi(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&t.push(u,e[++r]):8===o&&n.push(u);else{if(!er(o))break;o=u}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Li(e,n,o),u&&u.length>0&&a(e,n,u.join(" "))}}(ue,Un,Le,r),void 0!==n&&function sw(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const u=n[o];r.push(null!=u?Array.from(u):null)}}(ct,this.ngContentSelectors,n),vn=function rw(e,t,n,r,o,u){const p=Oi(),w=o[re],I=Fr(p,o);Tg(w,o,p,n,null,r);for(let K=0;K<n.length;K++)Ss(qo(o,w,p.directiveStart+K,p),o);Ag(w,o,p),I&&Ss(I,o);const x=qo(o,w,p.directiveStart+p.componentOffset,p);if(e[jt]=o[jt]=x,null!==u)for(const K of u)K(x,t);return df(w,p,e),x}(vv,Un,Dr,oi,xt,[ow]),Ef(mt,xt,null)}finally{Mo()}return new JE(this.componentType,vn,Fu(ct,xt),xt,ct)}}class JE extends Zv{constructor(t,n,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new qE(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const u=this._rootLView;vf(u[re],u,o,t,n),this.previousInputValues.set(t,n),Id(qr(this._tNode.index,u))}}get injector(){return new Qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function ow(){const e=Oi();Pa(st()[re],e)}function bf(e){let t=function Bg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(kr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Fe(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const p=e;p.inputs=Cf(e.inputs),p.declaredInputs=Cf(e.declaredInputs),p.outputs=Cf(e.outputs);const w=o.hostBindings;w&&uw(e,w);const I=o.viewQuery,x=o.contentQueries;if(I&&lw(e,I),x&&cw(e,x),Ie(e.inputs,o.inputs),Ie(e.declaredInputs,o.declaredInputs),Ie(e.outputs,o.outputs),kr(o)&&o.data.animation){const K=e.data;K.animation=(K.animation||[]).concat(o.data.animation)}}const u=o.features;if(u)for(let p=0;p<u.length;p++){const w=u[p];w&&w.ngInherit&&w(e),w===bf&&(n=!1)}}t=Object.getPrototypeOf(t)}!function aw(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=rt(o.hostAttrs,n=rt(n,o.hostAttrs))}}(r)}function Cf(e){return e===Te?{}:e===Ve?[]:e}function lw(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function cw(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,u)=>{t(r,o,u),n(r,o,u)}:t}function uw(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function dh(e){return!!Df(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Df(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function kl(e,t,n){return e[t]=n}function Io(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function fu(e,t,n,r){const o=Io(e,t,n);return Io(e,t+1,r)||o}function If(e,t,n,r){const o=st();return Io(o,bs(),t)&&(ur(),xl(Br(),o,e,t,n,r)),If}function $u(e,t,n,r){return Io(e,bs(),n)?t+He(n)+r:ar}function zu(e,t,n,r,o,u){const w=fu(e,function Ps(){return Ct.lFrame.bindingIndex}(),n,o);return Cs(2),w?t+He(n)+r+He(o)+u:ar}function tm(e,t,n,r,o,u,p,w){const I=st(),x=ur(),K=e+Nn,ue=x.firstCreatePass?function kw(e,t,n,r,o,u,p,w,I){const x=t.consts,K=Hu(t,e,4,p||null,T(x,w));gf(t,n,K,T(x,I)),Pa(t,K);const ue=K.tView=pf(2,K,r,o,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,x,null);return null!==t.queries&&(t.queries.template(t,K),ue.queries=t.queries.embeddedTView(K)),K}(K,x,I,t,n,r,o,u,p):x.data[K];Ms(ue,!1);const Ae=nm(x,I,ue,e);$o()&&Ol(x,I,Ae,ue),Ss(Ae,I),ah(I,I[K]=Pg(Ae,I,Ae,ue)),ts(ue)&&hf(x,I,ue),null!=p&&ff(I,ue,w)}let nm=function rm(e,t,n,r){return Hs(!0),t[ht].createComment("")};function im(e){return function Ri(e,t){return e[t]}(function dc(){return Ct.lFrame.contextLView}(),Nn+e)}function Rf(e,t,n){const r=st();return Io(r,bs(),t)&&function Sa(e,t,n,r,o,u,p,w){const I=Fr(t,n);let K,x=t.inputs;!w&&null!=x&&(K=x[r])?(vf(e,n,K,r,o),ir(t)&&function IE(e,t){const n=qr(t,e);16&n[me]||(n[me]|=64)}(n,t.index)):3&t.type&&(r=function DE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=p?p(o,t.value||"",r):o,u.setProperty(I,r,o))}(ur(),Br(),r,e,t,r[ht],n,!1),Rf}function Of(e,t,n,r,o){const p=o?"class":"style";vf(e,n,t.inputs[p],p,r)}function mh(e,t,n,r){const o=st(),u=ur(),p=Nn+e,w=o[ht],I=u.firstCreatePass?function Bw(e,t,n,r,o,u){const p=t.consts,I=Hu(t,e,2,r,T(p,o));return gf(t,n,I,T(p,u)),null!==I.attrs&&lh(I,I.attrs,!1),null!==I.mergedAttrs&&lh(I,I.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,I),I}(p,u,o,t,n,r):u.data[p],x=sm(u,o,I,w,t,e);o[p]=x;const K=ts(I);return Ms(I,!0),c(w,x,I),32!=(32&I.flags)&&$o()&&Ol(u,o,x,I),0===function cr(){return Ct.lFrame.elementDepthCount}()&&Ss(x,o),function wn(){Ct.lFrame.elementDepthCount++}(),K&&(hf(u,o,I),df(u,I,o)),null!==r&&ff(o,I),mh}function _h(){let e=Oi();la()?za():(e=e.parent,Ms(e,!1));const t=e;(function Bs(e){return Ct.skipHydrationRootTNode===e})(t)&&function Ur(){Ct.skipHydrationRootTNode=null}(),function Ar(){Ct.lFrame.elementDepthCount--}();const n=ur();return n.firstCreatePass&&(Pa(n,e),Vi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ut(e){return 0!=(8&e.flags)}(t)&&Of(n,t,st(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Kt(e){return 0!=(16&e.flags)}(t)&&Of(n,t,st(),t.stylesWithoutHost,!1),_h}function Nf(e,t,n,r){return mh(e,t,n,r),_h(),Nf}let sm=(e,t,n,r,o,u)=>(Hs(!0),Tc(r,o,function Ga(){return Ct.lFrame.currentNamespace}()));function yh(e,t,n){const r=st(),o=ur(),u=e+Nn,p=o.firstCreatePass?function jw(e,t,n,r,o){const u=t.consts,p=T(u,r),w=Hu(t,e,8,"ng-container",p);return null!==p&&lh(w,p,!0),gf(t,n,w,T(u,o)),null!==t.queries&&t.queries.elementStart(t,w),w}(u,o,r,t,n):o.data[u];Ms(p,!0);const w=om(o,r,p,e);return r[u]=w,$o()&&Ol(o,r,w,p),Ss(w,r),ts(p)&&(hf(o,r,p),df(o,p,r)),null!=n&&ff(r,p),yh}function vh(){let e=Oi();const t=ur();return la()?za():(e=e.parent,Ms(e,!1)),t.firstCreatePass&&(Pa(t,e),Vi(e)&&t.queries.elementEnd(e)),vh}function xf(e,t,n){return yh(e,t,n),vh(),xf}let om=(e,t,n,r)=>(Hs(!0),Xc(t[ht],""));function am(){return st()}function kf(e){return!!e&&"function"==typeof e.then}function lm(e){return!!e&&"function"==typeof e.subscribe}function Lf(e,t,n,r){const o=st(),u=ur(),p=Oi();return function um(e,t,n,r,o,u,p){const w=ts(r),x=e.firstCreatePass&&Ng(e),K=t[jt],ue=Og(t);let Ae=!0;if(3&r.type||p){const mt=Fr(r,t),xt=p?p(mt):mt,vn=ue.length,ct=p?Dr=>p(Cn(Dr[r.index])):r.index;let Un=null;if(!p&&w&&(Un=function Ww(e,t,n,r){const o=e.cleanup;if(null!=o)for(let u=0;u<o.length-1;u+=2){const p=o[u];if(p===n&&o[u+1]===r){const w=t[jn],I=o[u+2];return w.length>I?w[I]:null}"string"==typeof p&&(u+=2)}return null}(e,t,o,r.index)),null!==Un)(Un.__ngLastListenerFn__||Un).__ngNextListenerFn__=u,Un.__ngLastListenerFn__=u,Ae=!1;else{u=hm(r,t,K,u,!1);const Dr=n.listen(xt,o,u);ue.push(u,Dr),x&&x.push(o,ct,vn,vn+1)}}else u=hm(r,t,K,u,!1);const Le=r.outputs;let it;if(Ae&&null!==Le&&(it=Le[o])){const mt=it.length;if(mt)for(let xt=0;xt<mt;xt+=2){const oi=t[it[xt]][it[xt+1]].subscribe(u),ul=ue.length;ue.push(u,oi),x&&x.push(o,r.index,ul,-(ul+1))}}}(u,o,o[ht],p,e,t,r),Lf}function dm(e,t,n,r){try{return or(6,t,n),!1!==n(r)}catch(o){return kg(e,o),!1}finally{or(7,t,n)}}function hm(e,t,n,r,o){return function u(p){if(p===Function)return r;Id(e.componentOffset>-1?qr(e.index,t):t);let I=dm(t,n,r,p),x=u.__ngNextListenerFn__;for(;x;)I=dm(t,n,x,p)&&I,x=x.__ngNextListenerFn__;return o&&!1===I&&p.preventDefault(),I}}function fm(e=1){return function fc(e){return(Ct.lFrame.contextLView=function Po(e,t){for(;e>0;)t=t[Jr],e--;return t}(e,Ct.lFrame.contextLView))[jt]}(e)}function Gw(e,t){let n=null;const r=function is(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const u=t[o];if("*"!==u){if(null===r?di(e,u,!0):Ti(r,u))return o}else n=o}return n}function pm(e){const t=st()[zn][tn];if(!t.projection){const r=t.projection=Ea(e?e.length:1,null),o=r.slice();let u=t.child;for(;null!==u;){const p=e?Gw(u,e):0;null!==p&&(o[p]?o[p].projectionNext=u:r[p]=u,o[p]=u),u=u.next}}}function gm(e,t=0,n){const r=st(),o=ur(),u=Hu(o,Nn+e,16,null,n||null);null===u.projection&&(u.projection=t),za(),(!r[ei]||Ii())&&32!=(32&u.flags)&&function Va(e,t,n){gs(t[ht],0,t,n,tu(e,n,t),Ou(n.parent||t[tn],n,t))}(o,r,u)}function Eh(e,t){return e<<17|t<<2}function kc(e){return e>>17&32767}function Uf(e){return 2|e}function pu(e){return(131068&e)>>2}function Bf(e,t){return-131069&e|t<<2}function Vf(e){return 1|e}function Im(e,t,n,r,o){const u=e[n+1],p=null===t;let w=r?kc(u):pu(u),I=!1;for(;0!==w&&(!1===I||p);){const K=e[w+1];Xw(e[w],t)&&(I=!0,e[w+1]=r?Vf(K):Uf(K)),w=r?kc(K):pu(K)}I&&(e[n+1]=r?Uf(u):Vf(u))}function Xw(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ae(e,t)>=0}const Gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sm(e){return e.substring(Gs.key,Gs.keyEnd)}function Tm(e,t){const n=Gs.textEnd;return n===t?-1:(t=Gs.keyEnd=function nb(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Gs.key=t,n),Qu(e,t,n))}function Qu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Hf(e,t){return function al(e,t,n,r){const o=st(),u=ur(),p=Cs(2);u.firstUpdatePass&&xm(u,e,p,r),t!==ar&&Io(o,p,t)&&Lm(u,u.data[Ki()],o,o[ht],e,o[p+1]=function pb(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ge(Da(e)))),e}(t,n),r,p)}(e,t,null,!0),Hf}function Fl(e,t){for(let n=function eb(e){return function Mm(e){Gs.key=0,Gs.keyEnd=0,Gs.value=0,Gs.valueEnd=0,Gs.textEnd=e.length}(e),Tm(e,Qu(e,0,Gs.textEnd))}(t);n>=0;n=Tm(t,n))M(e,Sm(t),!0)}function Nm(e,t){return t>=e.expandoStartIndex}function xm(e,t,n,r){const o=e.data;if(null===o[n+1]){const u=o[Ki()],p=Nm(e,n);Um(u,r)&&null===t&&!p&&(t=!1),t=function ab(e,t,n,r){const o=function Ni(e){const t=Ct.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let u=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=xd(n=jf(null,e,t,n,r),t.attrs,r),u=null);else{const p=t.directiveStylingLast;if(-1===p||e[p]!==o)if(n=jf(o,e,t,n,r),null===u){let I=function lb(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==pu(r))return e[kc(r)]}(e,t,r);void 0!==I&&Array.isArray(I)&&(I=jf(null,e,t,I[1],r),I=xd(I,t.attrs,r),function cb(e,t,n,r){e[kc(n?t.classBindings:t.styleBindings)]=r}(e,t,r,I))}else u=function ub(e,t,n){let r;const o=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<o;u++)r=xd(r,e[u].hostAttrs,n);return xd(r,t.attrs,n)}(e,t,r)}return void 0!==u&&(r?t.residualClasses=u:t.residualStyles=u),n}(o,u,t,r),function qw(e,t,n,r,o,u){let p=u?t.classBindings:t.styleBindings,w=kc(p),I=pu(p);e[r]=n;let K,x=!1;if(Array.isArray(n)?(K=n[1],(null===K||ae(n,K)>0)&&(x=!0)):K=n,o)if(0!==I){const Ae=kc(e[w+1]);e[r+1]=Eh(Ae,w),0!==Ae&&(e[Ae+1]=Bf(e[Ae+1],r)),e[w+1]=function Yw(e,t){return 131071&e|t<<17}(e[w+1],r)}else e[r+1]=Eh(w,0),0!==w&&(e[w+1]=Bf(e[w+1],r)),w=r;else e[r+1]=Eh(I,0),0===w?w=r:e[I+1]=Bf(e[I+1],r),I=r;x&&(e[r+1]=Uf(e[r+1])),Im(e,K,r,!0),Im(e,K,r,!1),function Qw(e,t,n,r,o){const u=o?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof t&&ae(u,t)>=0&&(n[r+1]=Vf(n[r+1]))}(t,K,e,r,u),p=Eh(w,I),u?t.classBindings=p:t.styleBindings=p}(o,u,t,n,p,r)}}function jf(e,t,n,r,o){let u=null;const p=n.directiveEnd;let w=n.directiveStylingLast;for(-1===w?w=n.directiveStart:w++;w<p&&(u=t[w],r=xd(r,u.hostAttrs,o),u!==e);)w++;return null!==e&&(n.directiveStylingLast=w),r}function xd(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let u=0;u<t.length;u++){const p=t[u];"number"==typeof p?o=p:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),M(e,p,!!n||t[++u]))}return void 0===e?null:e}function Lm(e,t,n,r,o,u,p,w){if(!(3&t.type))return;const I=e.data,x=I[w+1],K=function Zw(e){return 1==(1&e)}(x)?Fm(I,t,n,o,pu(x),p):void 0;wh(K)||(wh(u)||function Kw(e){return 2==(2&e)}(x)&&(u=Fm(I,null,n,o,w,p)),function lc(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let u=-1===r.indexOf("-")?void 0:Co.DashCase;null==o?e.removeStyle(n,r,u):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),u|=Co.Important),e.setStyle(n,r,o,u))}}(r,p,ji(Ki(),n),o,u))}function Fm(e,t,n,r,o,u){const p=null===t;let w;for(;o>0;){const I=e[o],x=Array.isArray(I),K=x?I[1]:I,ue=null===K;let Ae=n[o+1];Ae===ar&&(Ae=ue?Ve:void 0);let Le=ue?B(Ae,r):K===r?Ae:void 0;if(x&&!wh(Le)&&(Le=B(I,r)),wh(Le)&&(w=Le,p))return w;const it=e[o+1];o=p?kc(it):pu(it)}if(null!==t){let I=u?t.residualClasses:t.residualStyles;null!=I&&(w=B(I,r))}return w}function wh(e){return void 0!==e}function Um(e,t){return 0!=(e.flags&(t?8:16))}function Bm(e,t=""){const n=st(),r=ur(),o=e+Nn,u=r.firstCreatePass?Hu(r,o,1,t,null):r.data[o],p=Vm(r,n,u,t,e);n[o]=p,$o()&&Ol(r,n,p,u),Ms(u,!1)}let Vm=(e,t,n,r,o)=>(Hs(!0),function Sc(e,t){return e.createText(t)}(t[ht],r));function $f(e){return bh("",e,""),$f}function bh(e,t,n){const r=st(),o=$u(r,e,t,n);return o!==ar&&uc(r,Ki(),o),bh}function zf(e,t,n,r,o){const u=st(),p=zu(u,e,t,n,r,o);return p!==ar&&uc(u,Ki(),p),zf}function Ym(e,t,n){!function ll(e,t,n,r){const o=ur(),u=Cs(2);o.firstUpdatePass&&xm(o,null,u,r);const p=st();if(n!==ar&&Io(p,u,n)){const w=o.data[Ki()];if(Um(w,r)&&!Nm(o,u)){let I=r?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(n=ye(I,n||"")),Of(o,w,p,n,r)}else!function fb(e,t,n,r,o,u,p,w){o===ar&&(o=Ve);let I=0,x=0,K=0<o.length?o[0]:null,ue=0<u.length?u[0]:null;for(;null!==K||null!==ue;){const Ae=I<o.length?o[I+1]:void 0,Le=x<u.length?u[x+1]:void 0;let mt,it=null;K===ue?(I+=2,x+=2,Ae!==Le&&(it=ue,mt=Le)):null===ue||null!==K&&K<ue?(I+=2,it=K):(x+=2,it=ue,mt=Le),null!==it&&Lm(e,t,n,r,it,mt,p,w),K=I<o.length?o[I]:null,ue=x<u.length?u[x]:null}}(o,w,p,p[ht],p[u+1],p[u+1]=function db(e,t,n){if(null==n||""===n)return Ve;const r=[],o=Da(n);if(Array.isArray(o))for(let u=0;u<o.length;u++)e(r,o[u],!0);else if("object"==typeof o)for(const u in o)o.hasOwnProperty(u)&&e(r,u,o[u]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,u)}}(M,Fl,$u(st(),e,t,n),!0)}const gu=void 0;var kb=["en",[["a","p"],["AM","PM"],gu],[["AM","PM"],gu,gu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gu,"{1} 'at' {0}",gu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xb(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Xu={};function Wf(e){const t=function Lb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=a_(t);if(n)return n;const r=t.split("-")[0];if(n=a_(r),n)return n;if("en"===r)return kb;throw new Fe(701,!1)}function o_(e){return Wf(e)[Fn.PluralCase]}function a_(e){return e in Xu||(Xu[e]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[e]),Xu[e]}var Fn=(()=>((Fn=Fn||{})[Fn.LocaleId=0]="LocaleId",Fn[Fn.DayPeriodsFormat=1]="DayPeriodsFormat",Fn[Fn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Fn[Fn.DaysFormat=3]="DaysFormat",Fn[Fn.DaysStandalone=4]="DaysStandalone",Fn[Fn.MonthsFormat=5]="MonthsFormat",Fn[Fn.MonthsStandalone=6]="MonthsStandalone",Fn[Fn.Eras=7]="Eras",Fn[Fn.FirstDayOfWeek=8]="FirstDayOfWeek",Fn[Fn.WeekendRange=9]="WeekendRange",Fn[Fn.DateFormat=10]="DateFormat",Fn[Fn.TimeFormat=11]="TimeFormat",Fn[Fn.DateTimeFormat=12]="DateTimeFormat",Fn[Fn.NumberSymbols=13]="NumberSymbols",Fn[Fn.NumberFormats=14]="NumberFormats",Fn[Fn.CurrencyCode=15]="CurrencyCode",Fn[Fn.CurrencySymbol=16]="CurrencySymbol",Fn[Fn.CurrencyName=17]="CurrencyName",Fn[Fn.Currencies=18]="Currencies",Fn[Fn.Directionality=19]="Directionality",Fn[Fn.PluralCase=20]="PluralCase",Fn[Fn.ExtraData=21]="ExtraData",Fn))();const Ju="en-US";let l_=Ju;function Yf(e,t,n,r,o){if(e=le(e),Array.isArray(e))for(let u=0;u<e.length;u++)Yf(e[u],t,n,r,o);else{const u=ur(),p=st();let w=du(e)?e:le(e.provide),I=Wp(e);const x=Oi(),K=1048575&x.providerIndexes,ue=x.directiveStart,Ae=x.providerIndexes>>20;if(du(e)||!e.multi){const Le=new A(I,o,Vu),it=qf(w,t,o?K:K+Ae,ue);-1===it?(ml(Ds(x,p),u,w),Zf(u,e,t.length),t.push(w),x.directiveStart++,x.directiveEnd++,o&&(x.providerIndexes+=1048576),n.push(Le),p.push(Le)):(n[it]=Le,p[it]=Le)}else{const Le=qf(w,t,K+Ae,ue),it=qf(w,t,K,K+Ae),xt=it>=0&&n[it];if(o&&!xt||!o&&!(Le>=0&&n[Le])){ml(Ds(x,p),u,w);const vn=function NC(e,t,n,r,o){const u=new A(e,n,Vu);return u.multi=[],u.index=t,u.componentProviders=0,N_(u,o,r&&!n),u}(o?OC:RC,n.length,o,r,I);!o&&xt&&(n[it].providerFactory=vn),Zf(u,e,t.length,0),t.push(w),x.directiveStart++,x.directiveEnd++,o&&(x.providerIndexes+=1048576),n.push(vn),p.push(vn)}else Zf(u,e,Le>-1?Le:it,N_(n[o?it:Le],I,!o&&r));!o&&r&&xt&&n[it].componentProviders++}}}function Zf(e,t,n,r){const o=du(t),u=function Rv(e){return!!e.useClass}(t);if(o||u){const I=(u?le(t.useClass):t).prototype.ngOnDestroy;if(I){const x=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const K=x.indexOf(n);-1===K?x.push(n,[r,I]):x[K+1].push(r,I)}else x.push(n,I)}}}function N_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function qf(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function RC(e,t,n,r){return Qf(this.multi,[])}function OC(e,t,n,r){const o=this.multi;let u;if(this.providerFactory){const p=this.providerFactory.componentProviders,w=qo(n,n[re],this.providerFactory.index,r);u=w.slice(0,p),Qf(o,u);for(let I=p;I<w.length;I++)u.push(w[I])}else u=[],Qf(o,u);return u}function Qf(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function x_(e,t=[]){return n=>{n.providersResolver=(r,o)=>function PC(e,t,n){const r=ur();if(r.firstCreatePass){const o=kr(e);Yf(n,r.data,r.blueprint,o,!0),Yf(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class ed{}class k_{}function xC(e,t){return new Xf(e,t??null,[])}class Xf extends ed{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fg(this);const o=hr(t);this._bootstrapComponents=cc(o.bootstrap),this._r3Injector=Eg(t,n,[{provide:ed,useValue:this},{provide:rh,useValue:this.componentFactoryResolver},...r],ge(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Jf extends k_{constructor(t){super(),this.moduleType=t}create(t){return new Xf(this.moduleType,t,[])}}class L_ extends ed{constructor(t){super(),this.componentFactoryResolver=new Fg(this),this.instance=null;const n=new Gh([...t.providers,{provide:ed,useValue:this},{provide:rh,useValue:this.componentFactoryResolver}],t.parent||Xd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function F_(e,t,n=null){return new L_({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let LC=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Hp(0,n.type),o=r.length>0?F_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Vt({token:e,providedIn:"environment",factory:()=>new e(Rn(hu))}),e})();function U_(e){e.getStandaloneInjector=t=>t.get(LC).getOrCreateStandaloneInjector(e)}function W_(e,t,n){const r=ds()+e,o=st();return o[r]===ar?kl(o,r,n?t.call(n):t()):function Pd(e,t){return e[t]}(o,r)}function G_(e,t,n,r){return function Y_(e,t,n,r,o,u){const p=t+n;return Io(e,p,o)?kl(e,p+1,u?r.call(u,o):r(o)):Vd(e,p+1)}(st(),ds(),e,t,n,r)}function K_(e,t,n,r,o){return function Z_(e,t,n,r,o,u,p){const w=t+n;return fu(e,w,o,u)?kl(e,w+2,p?r.call(p,o,u):r(o,u)):Vd(e,w+2)}(st(),ds(),e,t,n,r,o)}function Vd(e,t){const n=e[t];return n===ar?void 0:n}function tp(e){return t=>{setTimeout(e,void 0,t)}}const Ul=class sD extends h.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,u=n||(()=>null),p=r;if(t&&"object"==typeof t){const I=t;o=I.next?.bind(I),u=I.error?.bind(I),p=I.complete?.bind(I)}this.__isAsync&&(u=tp(u),o&&(o=tp(o)),p&&(p=tp(p)));const w=super.subscribe({next:o,error:u,complete:p});return t instanceof J.w&&t.add(w),w}};function oD(){return this._results[Symbol.iterator]()}class np{get changes(){return this._changes||(this._changes=new Ul)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=np.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=oD)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function hs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Jo(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=t[r];if(n&&(o=n(o),u=n(u)),u!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let jd=(()=>{class e{}return e.__NG_ELEMENT_ID__=cD,e})();const aD=jd,lD=class extends aD{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const o=this._declarationTContainer.tView,u=oh(this._declarationLView,o,t,16,null,o.declTNode,null,null,null,n||null,r||null);u[os]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[li];return null!==w&&(u[li]=w.createEmbeddedView(o)),Ef(o,u,t),new Ad(u)}};function cD(){return Th(Oi(),st())}function Th(e,t){return 4&e.type?new lD(t,e,Fu(e,t)):null}let Ah=(()=>{class e{}return e.__NG_ELEMENT_ID__=mD,e})();function mD(){return iy(Oi(),st())}const _D=Ah,ny=class extends _D{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new Qo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Yo(this._hostTNode,this._hostLView);if(rs(t)){const n=Eo(t,this._hostLView),r=No(t);return new Qo(n[re].data[r+8],n)}return new Qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=ry(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(t,n,r){let o,u;"number"==typeof r?o=r:null!=r&&(o=r.index,u=r.injector);const w=t.createEmbeddedViewImpl(n||{},u,null);return this.insertImpl(w,o,false),w}createComponent(t,n,r,o,u){const p=t&&!function ya(e){return"function"==typeof e}(t);let w;if(p)w=n;else{const mt=n||{};w=mt.index,r=mt.injector,o=mt.projectableNodes,u=mt.environmentInjector||mt.ngModuleRef}const I=p?t:new Md(bn(t)),x=r||this.parentInjector;if(!u&&null==I.ngModule){const xt=(p?x:this.parentInjector).get(hu,null);xt&&(u=xt)}bn(I.componentType??{});const Le=I.create(x,o,null,u);return this.insertImpl(Le.hostView,w,false),Le}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView,u=o[re];if(function N(e){return pr(e[Re])}(o)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const x=o[Re],K=new ny(x,x[tn],x[Re]);K.detach(K.indexOf(t))}}const p=this._adjustIndex(n),w=this._lContainer;if(function Jc(e,t,n,r){const o=Ft+r,u=n.length;r>0&&(n[o-1][tt]=t),r<u-Ft?(t[tt]=n[o],va(n,Ft+r,t)):(n.push(t),t[tt]=null),t[Re]=n;const p=t[os];null!==p&&n!==p&&function eu(e,t){const n=e[qe];t[zn]!==t[Re][Re][zn]&&(e[L]=!0),null===n?e[qe]=[t]:n.push(t)}(p,t);const w=t[li];null!==w&&w.insertView(e),t[me]|=128}(u,o,w,p),!r){const I=Ba(p,w),x=o[ht],K=sc(x,w[fe]);null!==K&&function gd(e,t,n,r,o,u){r[De]=o,r[tn]=t,il(e,r,n,1,o,u)}(u,w[tn],x,o,K,I)}return t.attachToViewContainerRef(),va(ip(w),p,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=ry(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=ic(this._lContainer,n);r&&(Yl(ip(this._lContainer),n),Mu(r[re],r))}detach(t){const n=this._adjustIndex(t,-1),r=ic(this._lContainer,n);return r&&null!=Yl(ip(this._lContainer),n)?new Ad(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function ry(e){return e[ve]}function ip(e){return e[ve]||(e[ve]=[])}function iy(e,t){let n;const r=t[e.index];return pr(r)?n=r:(n=Pg(r,t,null,e),t[e.index]=n,ah(t,n)),sy(n,t,e,r),new ny(n,e,t)}let sy=function oy(e,t,n,r){if(e[fe])return;let o;o=8&n.type?Cn(r):function yD(e,t){const n=e[ht],r=n.createComment(""),o=Fr(t,e);return ra(n,sc(n,o),r,function _d(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[fe]=o};class sp{constructor(t){this.queryList=t,this.matches=null}clone(){return new sp(this.queryList)}setDirty(){this.queryList.setDirty()}}class op{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let u=0;u<r;u++){const p=n.getByIndex(u);o.push(this.queries[p.indexInDeclarationView].clone())}return new op(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==gy(t,n).matches&&this.queries[n].setDirty()}}class ay{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class ap{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,u=this.getByIndex(r).embeddedTView(t,o);u&&(u.indexInDeclarationView=r,null!==n?n.push(u):n=[u])}return null!==n?new ap(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class lp{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new lp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(t,n,wD(n,u)),this.matchTNodeWithReadOption(t,n,Zo(n,t,u,!1,!1))}else r===jd?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Zo(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Dd||o===Ah||o===jd&&4&n.type)this.addMatch(n.index,-2);else{const u=Zo(n,t,o,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function wD(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function CD(e,t,n,r){return-1===n?function bD(e,t){return 11&e.type?Fu(e,t):4&e.type?Th(e,t):null}(t,e):-2===n?function DD(e,t,n){return n===Dd?Fu(t,e):n===jd?Th(t,e):n===Ah?iy(t,e):void 0}(e,t,r):qo(e,e[re],n,t)}function ly(e,t,n,r){const o=t[li].queries[r];if(null===o.matches){const u=e.data,p=n.matches,w=[];for(let I=0;I<p.length;I+=2){const x=p[I];w.push(x<0?null:CD(t,u[x],p[I+1],n.metadata.read))}o.matches=w}return o.matches}function cp(e,t,n,r){const o=e.queries.getByIndex(n),u=o.matches;if(null!==u){const p=ly(e,t,o,n);for(let w=0;w<u.length;w+=2){const I=u[w];if(I>0)r.push(p[w/2]);else{const x=u[w+1],K=t[-I];for(let ue=Ft;ue<K.length;ue++){const Ae=K[ue];Ae[os]===Ae[Re]&&cp(Ae[re],Ae,x,r)}if(null!==K[qe]){const ue=K[qe];for(let Ae=0;Ae<ue.length;Ae++){const Le=ue[Ae];cp(Le[re],Le,x,r)}}}}}return r}function cy(e){const t=st(),n=ur(),r=ca();yo(r+1);const o=gy(n,r);if(e.dirty&&function ws(e){return 4==(4&e[me])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?cp(n,t,r,[]):ly(n,t,o,r);e.reset(u,Jv),e.notifyOnChanges()}return!0}return!1}function uy(e,t,n){const r=ur();r.firstCreatePass&&(py(r,new ay(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),fy(r,st(),t)}function dy(e,t,n,r){const o=ur();if(o.firstCreatePass){const u=Oi();py(o,new ay(t,n,r),u.index),function SD(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}fy(o,st(),n)}function hy(){return function ID(e,t){return e[li].queries[t].queryList}(st(),ca())}function fy(e,t,n){const r=new np(4==(4&n));(function wE(e,t,n,r){const o=Og(t);o.push(n),e.firstCreatePass&&Ng(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[li]&&(t[li]=new op),t[li].queries.push(new sp(r))}function py(e,t,n){null===e.queries&&(e.queries=new ap),e.queries.track(new lp(t,n))}function gy(e,t){return e.queries.getByIndex(t)}function my(e,t){return Th(e,t)}function up(e){return!!hr(e)}const Ny=new ni("Application Initializer");let gp=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=en(Ny,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const u=o();if(kf(u))n.push(u);else if(lm(u)){const p=new Promise((w,I)=>{u.subscribe({complete:w,error:I})});n.push(p)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xy=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Ph=new ni("LocaleId",{providedIn:"root",factory:()=>en(Ph,Mt.Optional|Mt.SkipSelf)||function KD(){return typeof $localize<"u"&&$localize.locale||Ju}()}),YD=new ni("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZD{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let qD=(()=>{class e{compileModuleSync(n){return new Jf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),u=cc(hr(n).declarations).reduce((p,w)=>{const I=bn(w);return I&&p.push(new Md(I)),p},[]);return new ZD(r,u)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const JD=(()=>Promise.resolve(0))();function mp(e){typeof Zone>"u"?JD.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function Fy(...e){}class So{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ul(!1),this.onMicrotaskEmpty=new Ul(!1),this.onStable=new Ul(!1),this.onError=new Ul(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function e0(){let e=ft.requestAnimationFrame,t=ft.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function r0(e){const t=()=>{!function n0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ft,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,yp(e),e.isCheckStableRunning=!0,_p(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),yp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,u,p,w)=>{try{return Uy(e),n.invokeTask(o,u,p,w)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),By(e)}},onInvoke:(n,r,o,u,p,w,I)=>{try{return Uy(e),n.invoke(o,u,p,w,I)}finally{e.shouldCoalesceRunChangeDetection&&t(),By(e)}},onHasTask:(n,r,o,u)=>{n.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,yp(e),_p(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,r,o,u)=>(n.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!So.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(So.isInAngularZone())throw new Fe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const u=this._inner,p=u.scheduleEventTask("NgZoneEvent: "+o,t,t0,Fy,Fy);try{return u.runTask(p,n,r)}finally{u.cancelTask(p)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const t0={};function _p(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Uy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function By(e){e._nesting--,_p(e)}class s0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ul,this.onMicrotaskEmpty=new Ul,this.onStable=new Ul,this.onError=new Ul}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const Vy=new ni("",{providedIn:"root",factory:Hy});function Hy(){const e=en(So);let t=!0;const n=new Q.y(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),r=new Q.y(o=>{let u;e.runOutsideAngular(()=>{u=e.onStable.subscribe(()=>{So.assertNotInAngularZone(),mp(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const p=e.onUnstable.subscribe(()=>{So.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{u.unsubscribe(),p.unsubscribe()}});return(0,Ce.T)(n,r.pipe((0,oe.B)()))}const jy=new ni(""),$y=new ni("");let vp,o0=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vp||(function a0(e){vp=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{So.assertNotInAngularZone(),mp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mp(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==u),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:u,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return e.\u0275fac=function(n){return new(n||e)(Rn(So),Rn(zy),Rn($y))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac}),e})(),zy=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return vp?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Lc=null;const Wy=new ni("AllowMultipleToken"),Ep=new ni("PlatformDestroyListeners"),wp=new ni("appBootstrapListener");class u0{constructor(t,n){this.name=t,this.token=n}}function Yy(e,t,n=[]){const r=`Platform: ${t}`,o=new ni(r);return(u=[])=>{let p=bp();if(!p||p.injector.get(Wy,!1)){const w=[...n,...u,{provide:o,useValue:!0}];e?e(w):function d0(e){if(Lc&&!Lc.get(Wy,!1))throw new Fe(400,!1);(function Gy(){!function E(e){j=e}(()=>{throw new Fe(600,!1)})})(),Lc=e;const t=e.get(qy);(function Ky(e){e.get(Kp,null)?.forEach(n=>n())})(e)}(function Zy(e=[],t){return xc.create({name:t,providers:[{provide:zh,useValue:"platform"},{provide:Ep,useValue:new Set([()=>Lc=null])},...e]})}(w,r))}return function f0(e){const t=bp();if(!t)throw new Fe(401,!1);return t}()}}function bp(){return Lc?.get(qy)??null}let qy=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function p0(e="zone.js",t){return"noop"===e?new s0:"zone.js"===e?new So(t):e}(r?.ngZone,function Qy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const u=function kC(e,t,n){return new Xf(e,t,n)}(n.moduleType,this.injector,function nv(e){return[{provide:So,useFactory:e},{provide:Ed,multi:!0,useFactory:()=>{const t=en(m0,{optional:!0});return()=>t.initialize()}},{provide:tv,useFactory:g0},{provide:Vy,useFactory:Hy}]}(()=>o)),p=u.injector.get(Uu,null);return o.runOutsideAngular(()=>{const w=o.onError.subscribe({next:I=>{p.handleError(I)}});u.onDestroy(()=>{Rh(this._modules,u),w.unsubscribe()})}),function Xy(e,t,n){try{const r=n();return kf(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(p,o,()=>{const w=u.injector.get(gp);return w.runInitializers(),w.donePromise.then(()=>(function c_(e){kt(e,"Expected localeId to be defined"),"string"==typeof e&&(l_=e.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Ph,Ju)||Ju),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const o=Jy({},r);return function l0(e,t,n){const r=new Jf(n);return Promise.resolve(r)}(0,0,n).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(n){const r=n.injector.get(rd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new Fe(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Ep,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Rn(xc))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Jy(e,t){return Array.isArray(t)?t.reduce(Jy,e):{...e,...t}}let rd=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=en(tv),this.componentTypes=[],this.components=[],this.isStable=en(Vy),this._injector=en(hu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Jp;if(!this._injector.get(gp).done)throw!o&&Ei(n),new Fe(405,!1);let p;p=o?n:this._injector.get(rh).resolveComponentFactory(n),this.componentTypes.push(p.componentType);const w=function c0(e){return e.isBoundToModule}(p)?void 0:this._injector.get(ed),x=p.create(xc.NULL,[],r||p.selector,w),K=x.location.nativeElement,ue=x.injector.get(jy,null);return ue?.registerApplication(K),x.onDestroy(()=>{this.detachView(x.hostView),Rh(this.components,x),ue?.unregisterApplication(K)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Rh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(wp,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Rh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Fe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Rh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const tv=new ni("",{providedIn:"root",factory:()=>en(Uu).handleError.bind(void 0)});function g0(){const e=en(So),t=en(Uu);return n=>e.runOutsideAngular(()=>t.handleError(n))}let m0=(()=>{class e{constructor(){this.zone=en(So),this.applicationRef=en(rd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y0(){return!1}function v0(){}let E0=(()=>{class e{}return e.__NG_ELEMENT_ID__=w0,e})();function w0(e){return function b0(e,t,n){if(ir(e)&&!n){const r=qr(e.index,t);return new Ad(r,r)}return 47&e.type?new Ad(t[zn],t):null}(Oi(),st(),16==(16&e))}class ov{constructor(){}supports(t){return dh(t)}create(t){return new A0(t)}}const T0=(e,t)=>t;class A0{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||T0}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,u=null;for(;n||r;){const p=!r||n&&n.currentIndex<lv(r,o,u)?n:r,w=lv(p,o,u),I=p.currentIndex;if(p===r)o--,r=r._nextRemoved;else if(n=n._next,null==p.previousIndex)o++;else{u||(u=[]);const x=w-o,K=I-o;if(x!=K){for(let Ae=0;Ae<x;Ae++){const Le=Ae<u.length?u[Ae]:u[Ae]=0,it=Le+Ae;K<=it&&it<x&&(u[Ae]=Le+1)}u[p.previousIndex]=K-x}}w!==I&&t(p,w,I)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!dh(t))throw new Fe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,u,p,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let w=0;w<this.length;w++)u=t[w],p=this._trackByFn(w,u),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,u,p,w)),Object.is(n.item,u)||this._addIdentityChange(n,u)):(n=this._mismatch(n,u,p,w),r=!0),n=n._next}else o=0,function _w(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,w=>{p=this._trackByFn(o,w),null!==n&&Object.is(n.trackById,p)?(r&&(n=this._verifyReinsertion(n,w,p,o)),Object.is(n.item,w)||this._addIdentityChange(n,w)):(n=this._mismatch(n,w,p,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let u;return null===t?u=this._itTail:(u=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,u,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,u,o)):t=this._addAfter(new M0(n,r),u,o),t}_verifyReinsertion(t,n,r,o){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==u?t=this._reinsertAfter(u,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,u=t._nextRemoved;return null===o?this._removalsHead=u:o._nextRemoved=u,null===u?this._removalsTail=o:u._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new av),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new av),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class M0{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class P0{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class av{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new P0,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lv(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class cv{constructor(){}supports(t){return t instanceof Map||Df(t)}create(){return new R0}}class R0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Df(t)))throw new Fe(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const u=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,u)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const u=o._prev,p=o._next;return u&&(u._next=p),p&&(p._prev=u),o._next=null,o._prev=null,o}const r=new O0(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class O0{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uv(){return new Tp([new ov])}let Tp=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||uv()),deps:[[e,new fs,new wa]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Fe(901,!1)}}return e.\u0275prov=Vt({token:e,providedIn:"root",factory:uv}),e})();function dv(){return new Ap([new cv])}let Ap=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||dv()),deps:[[e,new fs,new wa]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Fe(901,!1)}}return e.\u0275prov=Vt({token:e,providedIn:"root",factory:dv}),e})();const k0=Yy(null,"core",[]);let L0=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Rn(rd))},e.\u0275mod=hi({type:e}),e.\u0275inj=fn({}),e})(),_v=(()=>{class e{get whenAllTasksComplete(){return 0===this.collection.size&&this.complete(),this.promise}constructor(){this.taskId=0,this.collection=new Set,this.ngZone=en(So),this.completed=!1,this.ngZone.runOutsideAngular(()=>{this.promise=new Promise(n=>{this.resolve=n})})}add(){if(this.completed)return-1;const n=this.taskId++;return this.collection.add(n),n}remove(n){this.completed||(this.collection.delete(n),0===this.collection.size&&this.complete())}ngOnDestroy(){this.complete(),this.collection.clear()}complete(){this.completed=!0,this.resolve()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function W0(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function K0(e){const t=bn(e);if(!t)return null;const n=new Md(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone}}}},6550:(At,Be,U)=>{U.d(Be,{Dx:()=>rr,b2:()=>Kn,q6:()=>xn,se:()=>yt});var h=U(2223),J=U(4755);class Q extends J.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends Q{static makeCurrent(){(0,J.HT)(new Ce)}onAndCancel(G,W,X){return G.addEventListener(W,X),()=>{G.removeEventListener(W,X)}}dispatchEvent(G,W){G.dispatchEvent(W)}remove(G){G.parentNode&&G.parentNode.removeChild(G)}createElement(G,W){return(W=W||this.getDefaultDocument()).createElement(G)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(G){return G.nodeType===Node.ELEMENT_NODE}isShadowRoot(G){return G instanceof DocumentFragment}getGlobalEventTarget(G,W){return"window"===W?window:"document"===W?G:"body"===W?G.body:null}getBaseHref(G){const W=function ie(){return oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null}();return null==W?null:function ge($){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",$);const G=Ie.pathname;return"/"===G.charAt(0)?G:`/${G}`}(W)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(G){return(0,J.Mx)(document.cookie,G)}}let Ie,oe=null,se=(()=>{class ${build(){return new XMLHttpRequest}}return $.\u0275fac=function(W){return new(W||$)},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const ce=new h.OlP("EventManagerPlugins");let le=(()=>{class ${constructor(W,X){this._zone=X,this._eventNameToPlugin=new Map,W.forEach(Te=>{Te.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,X,Te){return this._findPluginFor(X).addEventListener(W,X,Te)}getZone(){return this._zone}_findPluginFor(W){let X=this._eventNameToPlugin.get(W);if(X)return X;if(X=this._plugins.find(Ve=>Ve.supports(W)),!X)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(W,X),X}}return $.\u0275fac=function(W){return new(W||$)(h.LFG(ce),h.LFG(h.R0b))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();class xe{constructor(G){this._doc=G}}const Ye="ng-app-id";let Bt=(()=>{class ${constructor(W,X,Te,Ve={}){this.doc=W,this.appId=X,this.nonce=Te,this.platformId=Ve,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,J.PM)(Ve),this.resetHostNodes()}addStyles(W){for(const X of W)1===this.changeUsageCount(X,1)&&this.onStyleAdded(X)}removeStyles(W){for(const X of W)this.changeUsageCount(X,-1)<=0&&this.onStyleRemoved(X)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach(X=>X.remove()),W.clear());for(const X of this.getAllStyles())this.onStyleRemoved(X);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const X of this.getAllStyles())this.addStyleToHost(W,X)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const X of this.hostNodes)this.addStyleToHost(X,W)}onStyleRemoved(W){const X=this.styleRef;X.get(W)?.elements?.forEach(Te=>Te.remove()),X.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${Ye}="${this.appId}"]`);if(W?.length){const X=new Map;return W.forEach(Te=>{null!=Te.textContent&&X.set(Te.textContent,Te)}),X}return null}changeUsageCount(W,X){const Te=this.styleRef;if(Te.has(W)){const Ve=Te.get(W);return Ve.usage+=X,Ve.usage}return Te.set(W,{usage:X,elements:[]}),X}getStyleElement(W,X){const Te=this.styleNodesInDOM,Ve=Te?.get(X);if(Ve?.parentNode===W)return Te.delete(X),Ve.removeAttribute(Ye),Ve;{const gt=this.doc.createElement("style");return this.nonce&&gt.setAttribute("nonce",this.nonce),gt.textContent=X,this.platformIsServer&&gt.setAttribute(Ye,this.appId),gt}}addStyleToHost(W,X){const Te=this.getStyleElement(W,X);W.appendChild(Te);const Ve=this.styleRef,gt=Ve.get(X)?.elements;gt?gt.push(Te):Ve.set(X,{elements:[Te],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}}return $.\u0275fac=function(W){return new(W||$)(h.LFG(J.K0),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fe=/%COMP%/g,et=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function pt($,G){return G.map(W=>W.replace(Fe,$))}let yt=(()=>{class ${constructor(W,X,Te,Ve,gt,Jt,rn,kn=null){this.eventManager=W,this.sharedStylesHost=X,this.appId=Te,this.removeStylesOnCompDestory=Ve,this.doc=gt,this.platformId=Jt,this.ngZone=rn,this.nonce=kn,this.rendererByCompId=new Map,this.platformIsServer=(0,J.PM)(Jt),this.defaultRenderer=new Y(W,gt,rn,this.platformIsServer)}createRenderer(W,X){if(!W||!X)return this.defaultRenderer;this.platformIsServer&&X.encapsulation===h.ifc.ShadowDom&&(X={...X,encapsulation:h.ifc.Emulated});const Te=this.getOrCreateRenderer(W,X);return Te instanceof lr?Te.applyToHost(W):Te instanceof tr&&Te.applyStyles(),Te}getOrCreateRenderer(W,X){const Te=this.rendererByCompId;let Ve=Te.get(X.id);if(!Ve){const gt=this.doc,Jt=this.ngZone,rn=this.eventManager,kn=this.sharedStylesHost,Zt=this.removeStylesOnCompDestory,Sn=this.platformIsServer;switch(X.encapsulation){case h.ifc.Emulated:Ve=new lr(rn,kn,X,this.appId,Zt,gt,Jt,Sn);break;case h.ifc.ShadowDom:return new Jn(rn,kn,W,X,gt,Jt,this.nonce,Sn);default:Ve=new tr(rn,kn,X,Zt,gt,Jt,Sn)}Ve.onDestroy=()=>Te.delete(X.id),Te.set(X.id,Ve)}return Ve}ngOnDestroy(){this.rendererByCompId.clear()}}return $.\u0275fac=function(W){return new(W||$)(h.LFG(le),h.LFG(Bt),h.LFG(h.AFp),h.LFG(et),h.LFG(J.K0),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();class Y{constructor(G,W,X,Te){this.eventManager=G,this.doc=W,this.ngZone=X,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(G,W){return W?this.doc.createElementNS(dt[W]||W,G):this.doc.createElement(G)}createComment(G){return this.doc.createComment(G)}createText(G){return this.doc.createTextNode(G)}appendChild(G,W){(Nr(G)?G.content:G).appendChild(W)}insertBefore(G,W,X){G&&(Nr(G)?G.content:G).insertBefore(W,X)}removeChild(G,W){G&&G.removeChild(W)}selectRootElement(G,W){let X="string"==typeof G?this.doc.querySelector(G):G;if(!X)throw new h.vHH(5104,!1);return W||(X.textContent=""),X}parentNode(G){return G.parentNode}nextSibling(G){return G.nextSibling}setAttribute(G,W,X,Te){if(Te){W=Te+":"+W;const Ve=dt[Te];Ve?G.setAttributeNS(Ve,W,X):G.setAttribute(W,X)}else G.setAttribute(W,X)}removeAttribute(G,W,X){if(X){const Te=dt[X];Te?G.removeAttributeNS(Te,W):G.removeAttribute(`${X}:${W}`)}else G.removeAttribute(W)}addClass(G,W){G.classList.add(W)}removeClass(G,W){G.classList.remove(W)}setStyle(G,W,X,Te){Te&(h.JOm.DashCase|h.JOm.Important)?G.style.setProperty(W,X,Te&h.JOm.Important?"important":""):G.style[W]=X}removeStyle(G,W,X){X&h.JOm.DashCase?G.style.removeProperty(W):G.style[W]=""}setProperty(G,W,X){G[W]=X}setValue(G,W){G.nodeValue=W}listen(G,W,X){if("string"==typeof G&&!(G=(0,J.q)().getGlobalEventTarget(this.doc,G)))throw new Error(`Unsupported event target ${G} for event ${W}`);return this.eventManager.addEventListener(G,W,this.decoratePreventDefault(X))}decoratePreventDefault(G){return W=>{if("__ngUnwrap__"===W)return G;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>G(W)):G(W))&&W.preventDefault()}}}function Nr($){return"TEMPLATE"===$.tagName&&void 0!==$.content}class Jn extends Y{constructor(G,W,X,Te,Ve,gt,Jt,rn){super(G,Ve,gt,rn),this.sharedStylesHost=W,this.hostEl=X,this.shadowRoot=X.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kn=pt(Te.id,Te.styles);for(const Zt of kn){const Sn=document.createElement("style");Jt&&Sn.setAttribute("nonce",Jt),Sn.textContent=Zt,this.shadowRoot.appendChild(Sn)}}nodeOrShadowRoot(G){return G===this.hostEl?this.shadowRoot:G}appendChild(G,W){return super.appendChild(this.nodeOrShadowRoot(G),W)}insertBefore(G,W,X){return super.insertBefore(this.nodeOrShadowRoot(G),W,X)}removeChild(G,W){return super.removeChild(this.nodeOrShadowRoot(G),W)}parentNode(G){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(G)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class tr extends Y{constructor(G,W,X,Te,Ve,gt,Jt,rn){super(G,Ve,gt,Jt),this.sharedStylesHost=W,this.removeStylesOnCompDestory=Te,this.rendererUsageCount=0,this.styles=rn?pt(rn,X.styles):X.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class lr extends tr{constructor(G,W,X,Te,Ve,gt,Jt,rn){const kn=Te+"-"+X.id;super(G,W,X,Ve,gt,Jt,rn,kn),this.contentAttr=function bt($){return"_ngcontent-%COMP%".replace(Fe,$)}(kn),this.hostAttr=function Pt($){return"_nghost-%COMP%".replace(Fe,$)}(kn)}applyToHost(G){this.applyStyles(),this.setAttribute(G,this.hostAttr,"")}createElement(G,W){const X=super.createElement(G,W);return super.setAttribute(X,this.contentAttr,""),X}}let Mr=(()=>{class $ extends xe{constructor(W){super(W)}supports(W){return!0}addEventListener(W,X,Te){return W.addEventListener(X,Te,!1),()=>this.removeEventListener(W,X,Te)}removeEventListener(W,X,Te){return W.removeEventListener(X,Te)}}return $.\u0275fac=function(W){return new(W||$)(h.LFG(J.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const br=["alt","control","meta","shift"],vr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ln={alt:$=>$.altKey,control:$=>$.ctrlKey,meta:$=>$.metaKey,shift:$=>$.shiftKey};let kt=(()=>{class $ extends xe{constructor(W){super(W)}supports(W){return null!=$.parseEventName(W)}addEventListener(W,X,Te){const Ve=$.parseEventName(X),gt=$.eventCallback(Ve.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,J.q)().onAndCancel(W,Ve.domEventName,gt))}static parseEventName(W){const X=W.toLowerCase().split("."),Te=X.shift();if(0===X.length||"keydown"!==Te&&"keyup"!==Te)return null;const Ve=$._normalizeKey(X.pop());let gt="",Jt=X.indexOf("code");if(Jt>-1&&(X.splice(Jt,1),gt="code."),br.forEach(kn=>{const Zt=X.indexOf(kn);Zt>-1&&(X.splice(Zt,1),gt+=kn+".")}),gt+=Ve,0!=X.length||0===Ve.length)return null;const rn={};return rn.domEventName=Te,rn.fullKey=gt,rn}static matchEventFullKeyCode(W,X){let Te=vr[W.key]||W.key,Ve="";return X.indexOf("code.")>-1&&(Te=W.code,Ve="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),br.forEach(gt=>{gt!==Te&&(0,ln[gt])(W)&&(Ve+=gt+".")}),Ve+=Te,Ve===X)}static eventCallback(W,X,Te){return Ve=>{$.matchEventFullKeyCode(Ve,W)&&Te.runGuarded(()=>X(Ve))}}static _normalizeKey(W){return"esc"===W?"escape":W}}return $.\u0275fac=function(W){return new(W||$)(h.LFG(J.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const xn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:J.bD},{provide:h.g9A,useValue:function Vt(){Ce.makeCurrent()},multi:!0},{provide:J.K0,useFactory:function fn(){return(0,h.RDi)(document),document},deps:[]}]),Dn=new h.OlP(""),nn=[{provide:h.rWj,useClass:class ye{addToWindow(G){h.dqk.getAngularTestability=(X,Te=!0)=>{const Ve=G.findTestabilityInTree(X,Te);if(null==Ve)throw new h.vHH(5103,!1);return Ve},h.dqk.getAllAngularTestabilities=()=>G.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>G.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(X=>{const Te=h.dqk.getAllAngularTestabilities();let Ve=Te.length,gt=!1;const Jt=function(rn){gt=gt||rn,Ve--,0==Ve&&X(gt)};Te.forEach(function(rn){rn.whenStable(Jt)})})}findTestabilityInTree(G,W,X){return null==W?null:G.getTestability(W)??(X?(0,J.q)().isShadowRoot(W)?this.findTestabilityInTree(G,W.host,!0):this.findTestabilityInTree(G,W.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Sr=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function An(){return new h.qLn},deps:[]},{provide:ce,useClass:Mr,multi:!0,deps:[J.K0,h.R0b,h.Lbi]},{provide:ce,useClass:kt,multi:!0,deps:[J.K0]},yt,Bt,le,{provide:h.FYo,useExisting:yt},{provide:J.JF,useClass:se,deps:[]},[]];let Kn=(()=>{class ${constructor(W){}static withServerTransition(W){return{ngModule:$,providers:[{provide:h.AFp,useValue:W.appId}]}}}return $.\u0275fac=function(W){return new(W||$)(h.LFG(Dn,12))},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({providers:[...Sr,...nn],imports:[J.ez,h.hGG]}),$})(),rr=(()=>{class ${constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}}return $.\u0275fac=function(W){return new(W||$)(h.LFG(J.K0))},$.\u0275prov=h.Yz7({token:$,factory:function(W){let X=null;return X=W?new W:function Mt(){return new rr((0,h.LFG)(J.K0))}(),X},providedIn:"root"}),$})();typeof window<"u"&&window},8395:(At,Be,U)=>{U.d(Be,{gz:()=>pi,m2:()=>bn,F0:()=>ns,rH:()=>Ms,Bz:()=>pl,lC:()=>z});var h=U(2223),J=U(6498),Ce=U(5254),oe=U(1086),ie=U(591),Ie=U(2866),ge=U(6688),ye=U(826),se=U(448),ce=U(3009);const le={};function xe(...v){let D,m;return(0,Ie.K)(v[v.length-1])&&(m=v.pop()),"function"==typeof v[v.length-1]&&(D=v.pop()),1===v.length&&(0,ge.k)(v[0])&&(v=v[0]),(0,ce.n)(v,m).lift(new Ye(D))}class Ye{constructor(D){this.resultSelector=D}call(D,m){return m.subscribe(new Bt(D,this.resultSelector))}}class Bt extends ye.L{constructor(D,m){super(D),this.resultSelector=m,this.active=0,this.values=[],this.observables=[]}_next(D){this.values.push(le),this.observables.push(D)}_complete(){const D=this.observables,m=D.length;if(0===m)this.destination.complete();else{this.active=m,this.toRespond=m;for(let A=0;A<m;A++)this.add((0,se.D)(this,D[A],void 0,A))}}notifyComplete(D){0==(this.active-=1)&&this.destination.complete()}notifyNext(D,m,A){const k=this.values,te=this.toRespond?k[A]===le?--this.toRespond:this.toRespond:0;k[A]=m,0===te&&(this.resultSelector?this._tryResultSelector(k):this.destination.next(k.slice()))}_tryResultSelector(D){let m;try{m=this.resultSelector.apply(this,D)}catch(A){return void this.destination.error(A)}this.destination.next(m)}}var dt=U(4450),Fe=U(9146);function He(...v){return function lt(){return(0,Fe.J)(1)}()((0,oe.of)(...v))}var Ge=U(8896);function Je(v){return new J.y(D=>{let m;try{m=v()}catch(k){return void D.error(k)}return(m?(0,Ce.D)(m):(0,Ge.c)()).subscribe(D)})}var et=U(4843),bt=U(1737),Pt=U(1762),pt=U(8929),yt=U(4755),Y=U(4850),_t=U(7545),on=U(2986),Jn=U(2198),tr=U(1709),lr=U(7224),Mr=U(1406),br=U(2868),vr=U(7221),ln=U(2014),kt=U(7314),It=U(3489),cn=U(4231);function Gt(v){return function(m){return 0===v?(0,Ge.c)():m.lift(new gn(v))}}class gn{constructor(D){if(this.total=D,this.total<0)throw new cn.W}call(D,m){return m.subscribe(new Vt(D,this.total))}}class Vt extends It.L{constructor(D,m){super(D),this.total=m,this.ring=new Array,this.count=0}_next(D){const m=this.ring,A=this.total,k=this.count++;m.length<A?m.push(D):m[k%A]=D}_complete(){const D=this.destination;let m=this.count;if(m>0){const A=this.count>=this.total?this.total:this.count,k=this.ring;for(let q=0;q<A;q++){const te=m++%A;D.next(k[te])}}D.complete()}}var An=U(4907),fn=U(5379);class Dn{constructor(D){this.value=D}call(D,m){return m.subscribe(new nn(D,this.value))}}class nn extends It.L{constructor(D,m){super(D),this.value=m}_next(D){this.destination.next(this.value)}}var Sr=U(537),Kn=U(4327),nt=U(6550);const St="primary",Mn=Symbol("RouteTitle");class Mt{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function rr(v){return new Mt(v)}function Pn(v,D,m){const A=m.path.split("/");if(A.length>v.length||"full"===m.pathMatch&&(D.hasChildren()||A.length<v.length))return null;const k={};for(let q=0;q<A.length;q++){const te=A[q],Oe=v[q];if(te.startsWith(":"))k[te.substring(1)]=Oe;else if(te!==Oe.path)return null}return{consumed:v.slice(0,A.length),posParams:k}}function Xt(v,D){const m=v?Object.keys(v):void 0,A=D?Object.keys(D):void 0;if(!m||!A||m.length!=A.length)return!1;let k;for(let q=0;q<m.length;q++)if(k=m[q],!wt(v[k],D[k]))return!1;return!0}function wt(v,D){if(Array.isArray(v)&&Array.isArray(D)){if(v.length!==D.length)return!1;const m=[...v].sort(),A=[...D].sort();return m.every((k,q)=>A[q]===k)}return v===D}function ft(v){return v.length>0?v[v.length-1]:null}function dr(v){return function Q(v){return!!v&&(v instanceof J.y||"function"==typeof v.lift&&"function"==typeof v.subscribe)}(v)?v:(0,h.QGY)(v)?(0,Ce.D)(Promise.resolve(v)):(0,oe.of)(v)}const Yn={exact:function Qr(v,D,m){if(!Rn(v.segments,D.segments)||!Pr(v.segments,D.segments,m)||v.numberOfChildren!==D.numberOfChildren)return!1;for(const A in D.children)if(!v.children[A]||!Qr(v.children[A],D.children[A],m))return!1;return!0},subset:Er},$r={exact:function an(v,D){return Xt(v,D)},subset:function Bn(v,D){return Object.keys(D).length<=Object.keys(v).length&&Object.keys(D).every(m=>wt(v[m],D[m]))},ignored:()=>!0};function In(v,D,m){return Yn[m.paths](v.root,D.root,m.matrixParams)&&$r[m.queryParams](v.queryParams,D.queryParams)&&!("exact"===m.fragment&&v.fragment!==D.fragment)}function Er(v,D,m){return Qt(v,D,D.segments,m)}function Qt(v,D,m,A){if(v.segments.length>m.length){const k=v.segments.slice(0,m.length);return!(!Rn(k,m)||D.hasChildren()||!Pr(k,m,A))}if(v.segments.length===m.length){if(!Rn(v.segments,m)||!Pr(v.segments,m,A))return!1;for(const k in D.children)if(!v.children[k]||!Er(v.children[k],D.children[k],A))return!1;return!0}{const k=m.slice(0,v.segments.length),q=m.slice(v.segments.length);return!!(Rn(v.segments,k)&&Pr(v.segments,k,A)&&v.children[St])&&Qt(v.children[St],D,q,A)}}function Pr(v,D,m){return D.every((A,k)=>$r[m](v[k].parameters,A.parameters))}class mr{constructor(D=new _n([],{}),m={},A=null){this.root=D,this.queryParams=m,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return Gr.serialize(this)}}class _n{constructor(D,m){this.segments=D,this.children=m,this.parent=null,Object.values(m).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zn(this)}}class On{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=rr(this.parameters)),this._parameterMap}toString(){return Ve(this)}}function Rn(v,D){return v.length===D.length&&v.every((m,A)=>m.path===D[A].path)}let en=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=h.Yz7({token:v,factory:function(){return new Rr},providedIn:"root"}),v})();class Rr{parse(D){const m=new ke(D);return new mr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${Cr(D.root,!0)}`,A=function Jt(v){const D=Object.keys(v).map(m=>{const A=v[m];return Array.isArray(A)?A.map(k=>`${$(m)}=${$(k)}`).join("&"):`${$(m)}=${$(A)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${A}${"string"==typeof D.fragment?`#${function G(v){return encodeURI(v)}(D.fragment)}`:""}`}}const Gr=new Rr;function Zn(v){return v.segments.map(D=>Ve(D)).join("/")}function Cr(v,D){if(!v.hasChildren())return Zn(v);if(D){const m=v.children[St]?Cr(v.children[St],!1):"",A=[];return Object.entries(v.children).forEach(([k,q])=>{k!==St&&A.push(`${k}:${Cr(q,!1)}`)}),A.length>0?`${m}(${A.join("//")})`:m}{const m=function xr(v,D){let m=[];return Object.entries(v.children).forEach(([A,k])=>{A===St&&(m=m.concat(D(k,A)))}),Object.entries(v.children).forEach(([A,k])=>{A!==St&&(m=m.concat(D(k,A)))}),m}(v,(A,k)=>k===St?[Cr(v.children[St],!1)]:[`${k}:${Cr(A,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[St]?`${Zn(v)}/${m[0]}`:`${Zn(v)}/(${m.join("//")})`}}function _e(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $(v){return _e(v).replace(/%3B/gi,";")}function W(v){return _e(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X(v){return decodeURIComponent(v)}function Te(v){return X(v.replace(/\+/g,"%20"))}function Ve(v){return`${W(v.path)}${function gt(v){return Object.keys(v).map(D=>`;${W(D)}=${W(v[D])}`).join("")}(v.parameters)}`}const rn=/^[^\/()?;#]+/;function kn(v){const D=v.match(rn);return D?D[0]:""}const Zt=/^[^\/()?;=#]+/,zr=/^[^=?&#]+/,Li=/^[^&#]+/;class ke{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(A[St]=new _n(D,m)),A}parseSegment(){const D=kn(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(D),new On(X(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=function Sn(v){const D=v.match(Zt);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const k=kn(this.remaining);k&&(A=k,this.capture(A))}D[X(m)]=X(A)}parseQueryParam(D){const m=function ki(v){const D=v.match(zr);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const te=function We(v){const D=v.match(Li);return D?D[0]:""}(this.remaining);te&&(A=te,this.capture(A))}const k=Te(m),q=Te(A);if(D.hasOwnProperty(k)){let te=D[k];Array.isArray(te)||(te=[te],D[k]=te),te.push(q)}else D[k]=q}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=kn(this.remaining),k=this.remaining[A.length];if("/"!==k&&")"!==k&&";"!==k)throw new h.vHH(4010,!1);let q;A.indexOf(":")>-1?(q=A.slice(0,A.indexOf(":")),this.capture(q),this.capture(":")):D&&(q=St);const te=this.parseChildren();m[q]=1===Object.keys(te).length?te[St]:new _n([],te),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new h.vHH(4011,!1)}}function rt(v){return v.segments.length>0?new _n([],{[St]:v}):v}function Lt(v){const D={};for(const A of Object.keys(v.children)){const q=Lt(v.children[A]);if(A===St&&0===q.segments.length&&q.hasChildren())for(const[te,Oe]of Object.entries(q.children))D[te]=Oe;else(q.segments.length>0||q.hasChildren())&&(D[A]=q)}return function zt(v){if(1===v.numberOfChildren&&v.children[St]){const D=v.children[St];return new _n(v.segments.concat(D.segments),D.children)}return v}(new _n(v.segments,D))}function un(v){return v instanceof mr}function Hr(v){let D;const k=rt(function m(q){const te={};for(const ut of q.children){const Kt=m(ut);te[ut.outlet]=Kt}const Oe=new _n(q.url,te);return q===v&&(D=Oe),Oe}(v.root));return D??k}function nr(v,D,m,A){let k=v;for(;k.parent;)k=k.parent;if(0===D.length)return di(k,k,k,m,A);const q=function Ts(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Kr(!0,0,v);let D=0,m=!1;const A=v.reduce((k,q,te)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Oe={};return Object.entries(q.outlets).forEach(([ut,Kt])=>{Oe[ut]="string"==typeof Kt?Kt.split("/"):Kt}),[...k,{outlets:Oe}]}if(q.segmentPath)return[...k,q.segmentPath]}return"string"!=typeof q?[...k,q]:0===te?(q.split("/").forEach((Oe,ut)=>{0==ut&&"."===Oe||(0==ut&&""===Oe?m=!0:".."===Oe?D++:""!=Oe&&k.push(Oe))}),k):[...k,q]},[]);return new Kr(m,D,A)}(D);if(q.toRoot())return di(k,k,new _n([],{}),m,A);const te=function _s(v,D,m){if(v.isAbsolute)return new Ti(D,!0,0);if(!m)return new Ti(D,!1,NaN);if(null===m.parent)return new Ti(m,!0,0);const A=er(v.commands[0])?0:1;return function Fi(v,D,m){let A=v,k=D,q=m;for(;q>k;){if(q-=k,A=A.parent,!A)throw new h.vHH(4005,!1);k=A.segments.length}return new Ti(A,!1,k-q)}(m,m.segments.length-1+A,v.numberOfDoubleDots)}(q,k,v),Oe=te.processChildren?Ui(te.segmentGroup,te.index,q.commands):Yi(te.segmentGroup,te.index,q.commands);return di(k,te.segmentGroup,Oe,m,A)}function er(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function qn(v){return"object"==typeof v&&null!=v&&v.outlets}function di(v,D,m,A,k){let te,q={};A&&Object.entries(A).forEach(([ut,Kt])=>{q[ut]=Array.isArray(Kt)?Kt.map(qt=>`${qt}`):`${Kt}`}),te=v===D?m:is(v,D,m);const Oe=rt(Lt(te));return new mr(Oe,q,k)}function is(v,D,m){const A={};return Object.entries(v.children).forEach(([k,q])=>{A[k]=q===D?m:is(q,D,m)}),new _n(v.segments,A)}class Kr{constructor(D,m,A){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=A,D&&A.length>0&&er(A[0]))throw new h.vHH(4003,!1);const k=A.find(qn);if(k&&k!==ft(A))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ti{constructor(D,m,A){this.segmentGroup=D,this.processChildren=m,this.index=A}}function Yi(v,D,m){if(v||(v=new _n([],{})),0===v.segments.length&&v.hasChildren())return Ui(v,D,m);const A=function Zi(v,D,m){let A=0,k=D;const q={match:!1,pathIndex:0,commandIndex:0};for(;k<v.segments.length;){if(A>=m.length)return q;const te=v.segments[k],Oe=m[A];if(qn(Oe))break;const ut=`${Oe}`,Kt=A<m.length-1?m[A+1]:null;if(k>0&&void 0===ut)break;if(ut&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!Xi(ut,Kt,te))return q;A+=2}else{if(!Xi(ut,{},te))return q;A++}k++}return{match:!0,pathIndex:k,commandIndex:A}}(v,D,m),k=m.slice(A.commandIndex);if(A.match&&A.pathIndex<v.segments.length){const q=new _n(v.segments.slice(0,A.pathIndex),{});return q.children[St]=new _n(v.segments.slice(A.pathIndex),v.children),Ui(q,0,k)}return A.match&&0===k.length?new _n(v.segments,{}):A.match&&!v.hasChildren()?qi(v,D,m):A.match?Ui(v,0,k):qi(v,D,m)}function Ui(v,D,m){if(0===m.length)return new _n(v.segments,{});{const A=function vi(v){return qn(v[0])?v[0].outlets:{[St]:v}}(m),k={};if(!A[St]&&v.children[St]&&1===v.numberOfChildren&&0===v.children[St].segments.length){const q=Ui(v.children[St],D,m);return new _n(v.segments,q.children)}return Object.entries(A).forEach(([q,te])=>{"string"==typeof te&&(te=[te]),null!==te&&(k[q]=Yi(v.children[q],D,te))}),Object.entries(v.children).forEach(([q,te])=>{void 0===A[q]&&(k[q]=te)}),new _n(v.segments,k)}}function qi(v,D,m){const A=v.segments.slice(0,D);let k=0;for(;k<m.length;){const q=m[k];if(qn(q)){const ut=Qi(q.outlets);return new _n(A,ut)}if(0===k&&er(m[0])){A.push(new On(v.segments[D].path,hi(m[0]))),k++;continue}const te=qn(q)?q.outlets[St]:`${q}`,Oe=k<m.length-1?m[k+1]:null;te&&Oe&&er(Oe)?(A.push(new On(te,hi(Oe))),k+=2):(A.push(new On(te,{})),k++)}return new _n(A,{})}function Qi(v){const D={};return Object.entries(v).forEach(([m,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(D[m]=qi(new _n([],{}),0,A))}),D}function hi(v){const D={};return Object.entries(v).forEach(([m,A])=>D[m]=`${A}`),D}function Xi(v,D,m){return v==m.path&&Xt(D,m.parameters)}const ys="imperative";class ai{constructor(D,m){this.id=D,this.url=m}}class ss extends ai{constructor(D,m,A="imperative",k=null){super(D,m),this.type=0,this.navigationTrigger=A,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bn extends ai{constructor(D,m,A){super(D,m),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _r extends ai{constructor(D,m,A,k){super(D,m),this.reason=A,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tr extends ai{constructor(D,m,A,k){super(D,m),this.reason=A,this.code=k,this.type=16}}class Ei extends ai{constructor(D,m,A,k){super(D,m),this.error=A,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hr extends ai{constructor(D,m,A,k){super(D,m),this.urlAfterRedirects=A,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends ai{constructor(D,m,A,k){super(D,m),this.urlAfterRedirects=A,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yr extends ai{constructor(D,m,A,k,q){super(D,m),this.urlAfterRedirects=A,this.state=k,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vs extends ai{constructor(D,m,A,k){super(D,m),this.urlAfterRedirects=A,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs extends ai{constructor(D,m,A,k){super(D,m),this.urlAfterRedirects=A,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class De{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class re{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class me{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tt{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qe{constructor(D,m,A){this.routerEvent=D,this.position=m,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jt,this.attachRef=null}}let jt=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(m,A){const k=this.getOrCreateContext(m);k.outlet=A,this.contexts.set(m,k)}onChildOutletDestroyed(m){const A=this.getContext(m);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let A=this.getContext(m);return A||(A=new jn,this.contexts.set(m,A)),A}getContext(m){return this.contexts.get(m)||null}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class fi{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=$n(D,this._root);return m?m.children.map(A=>A.value):[]}firstChild(D){const m=$n(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=ht(D,this._root);return m.length<2?[]:m[m.length-2].children.map(k=>k.value).filter(k=>k!==D)}pathFromRoot(D){return ht(D,this._root).map(m=>m.value)}}function $n(v,D){if(v===D.value)return D;for(const m of D.children){const A=$n(v,m);if(A)return A}return null}function ht(v,D){if(v===D.value)return[D];for(const m of D.children){const A=ht(v,m);if(A.length)return A.unshift(D),A}return[]}class yr{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function Ai(v){const D={};return v&&v.children.forEach(m=>D[m.value.outlet]=m),D}class Jr extends fi{constructor(D,m){super(D),this.snapshot=m,ei(this,D)}toString(){return this.snapshot.toString()}}function zn(v,D){const m=function os(v,D){const te=new wi([],{},{},"",{},St,D,null,{});return new bi("",new yr(te,[]))}(0,D),A=new ie.X([new On("",{})]),k=new ie.X({}),q=new ie.X({}),te=new ie.X({}),Oe=new ie.X(""),ut=new pi(A,k,te,Oe,q,St,D,m.root);return ut.snapshot=m.root,new Jr(new yr(ut,[]),m)}class pi{constructor(D,m,A,k,q,te,Oe,ut){this.urlSubject=D,this.paramsSubject=m,this.queryParamsSubject=A,this.fragmentSubject=k,this.dataSubject=q,this.outlet=te,this.component=Oe,this._futureSnapshot=ut,this.title=this.dataSubject?.pipe((0,Y.U)(Kt=>Kt[Mn]))??(0,oe.of)(void 0),this.url=D,this.params=m,this.queryParams=A,this.fragment=k,this.data=q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Y.U)(D=>rr(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Y.U)(D=>rr(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function li(v,D="emptyOnly"){const m=v.pathFromRoot;let A=0;if("always"!==D)for(A=m.length-1;A>=1;){const k=m[A],q=m[A-1];if(k.routeConfig&&""===k.routeConfig.path)A--;else{if(q.component)break;A--}}return function Bi(v){return v.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(A))}class wi{get title(){return this.data?.[Mn]}constructor(D,m,A,k,q,te,Oe,ut,Kt){this.url=D,this.params=m,this.queryParams=A,this.fragment=k,this.data=q,this.outlet=te,this.component=Oe,this.routeConfig=ut,this._resolve=Kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bi extends fi{constructor(D,m){super(m),this.url=D,ei(this,m)}toString(){return es(this._root)}}function ei(v,D){D.value._routerState=v,D.children.forEach(m=>ei(v,m))}function es(v){const D=v.children.length>0?` { ${v.children.map(es).join(", ")} } `:"";return`${v.value}${D}`}function Wi(v){if(v.snapshot){const D=v.snapshot,m=v._futureSnapshot;v.snapshot=m,Xt(D.queryParams,m.queryParams)||v.queryParamsSubject.next(m.queryParams),D.fragment!==m.fragment&&v.fragmentSubject.next(m.fragment),Xt(D.params,m.params)||v.paramsSubject.next(m.params),function mn(v,D){if(v.length!==D.length)return!1;for(let m=0;m<v.length;++m)if(!Xt(v[m],D[m]))return!1;return!0}(D.url,m.url)||v.urlSubject.next(m.url),Xt(D.data,m.data)||v.dataSubject.next(m.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function Nn(v,D){const m=Xt(v.params,D.params)&&function Xr(v,D){return Rn(v,D)&&v.every((m,A)=>Xt(m.parameters,D[A].parameters))}(v.url,D.url);return m&&!(!v.parent!=!D.parent)&&(!v.parent||Nn(v.parent,D.parent))}let z=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(jt),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(L,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:A,previousValue:k}=m.name;if(A)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,A){this.activated=m,this._activatedRoute=A,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,A){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=m;const k=this.location,te=m.snapshot.component,Oe=this.parentContexts.getOrCreateContext(this.name).children,ut=new ee(m,Oe,k.injector);this.activated=k.createComponent(te,{index:k.length,injector:ut,environmentInjector:A??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275dir=h.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),v})();class ee{constructor(D,m,A){this.route=D,this.childContexts=m,this.parent=A}get(D,m){return D===pi?this.route:D===jt?this.childContexts:this.parent.get(D,m)}}const L=new h.OlP("");let fe=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:A}=m,k=xe([A.queryParams,A.params,A.data]).pipe((0,_t.w)(([q,te,Oe],ut)=>(Oe={...q,...te,...Oe},0===ut?(0,oe.of)(Oe):Promise.resolve(Oe)))).subscribe(q=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(m);const te=(0,h.qFp)(A.component);if(te)for(const{templateName:Oe}of te.inputs)m.activatedComponentRef.setInput(Oe,q[Oe]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,k)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})();function qe(v,D,m){if(m&&v.shouldReuseRoute(D.value,m.value.snapshot)){const A=m.value;A._futureSnapshot=D.value;const k=function vt(v,D,m){return D.children.map(A=>{for(const k of m.children)if(v.shouldReuseRoute(A.value,k.value.snapshot))return qe(v,A,k);return qe(v,A)})}(v,D,m);return new yr(A,k)}{if(v.shouldAttach(D.value)){const q=v.retrieve(D.value);if(null!==q){const te=q.route;return te.value._futureSnapshot=D.value,te.children=D.children.map(Oe=>qe(v,Oe)),te}}const A=function Ft(v){return new pi(new ie.X(v.url),new ie.X(v.params),new ie.X(v.queryParams),new ie.X(v.fragment),new ie.X(v.data),v.outlet,v.component,v)}(D.value),k=D.children.map(q=>qe(v,q));return new yr(A,k)}}const Qn="ngNavigationCancelingError";function fr(v,D){const{redirectTo:m,navigationBehaviorOptions:A}=un(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,k=pr(!1,0,D);return k.url=m,k.navigationBehaviorOptions=A,k}function pr(v,D,m){const A=new Error("NavigationCancelingError: "+(v||""));return A[Qn]=!0,A.cancellationCode=D,m&&(A.url=m),A}function Vi(v){return ir(v)&&un(v.url)}function ir(v){return v&&v[Qn]}let ts=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=h.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(m,A){1&m&&h._UZ(0,"router-outlet")},dependencies:[z],encapsulation:2}),v})();function To(v){const D=v.children&&v.children.map(To),m=D?{...v,children:D}:{...v};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==St&&(m.component=ts),m}function Mi(v){return v.outlet||St}function gr(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let D=v.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Ao{constructor(D,m,A,k,q){this.routeReuseStrategy=D,this.futureState=m,this.currState=A,this.forwardEvent=k,this.inputBindingEnabled=q}activate(D){const m=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,A,D),Wi(this.futureState.root),this.activateChildRoutes(m,A,D)}deactivateChildRoutes(D,m,A){const k=Ai(m);D.children.forEach(q=>{const te=q.value.outlet;this.deactivateRoutes(q,k[te],A),delete k[te]}),Object.values(k).forEach(q=>{this.deactivateRouteAndItsChildren(q,A)})}deactivateRoutes(D,m,A){const k=D.value,q=m?m.value:null;if(k===q)if(k.component){const te=A.getContext(k.outlet);te&&this.deactivateChildRoutes(D,m,te.children)}else this.deactivateChildRoutes(D,m,A);else q&&this.deactivateRouteAndItsChildren(m,A)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const A=m.getContext(D.value.outlet),k=A&&D.value.component?A.children:m,q=Ai(D);for(const te of Object.keys(q))this.deactivateRouteAndItsChildren(q[te],k);if(A&&A.outlet){const te=A.outlet.detach(),Oe=A.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:te,route:D,contexts:Oe})}}deactivateRouteAndOutlet(D,m){const A=m.getContext(D.value.outlet),k=A&&D.value.component?A.children:m,q=Ai(D);for(const te of Object.keys(q))this.deactivateRouteAndItsChildren(q[te],k);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(D,m,A){const k=Ai(m);D.children.forEach(q=>{this.activateRoutes(q,k[q.value.outlet],A),this.forwardEvent(new tt(q.value.snapshot))}),D.children.length&&this.forwardEvent(new me(D.value.snapshot))}activateRoutes(D,m,A){const k=D.value,q=m?m.value:null;if(Wi(k),k===q)if(k.component){const te=A.getOrCreateContext(k.outlet);this.activateChildRoutes(D,m,te.children)}else this.activateChildRoutes(D,m,A);else if(k.component){const te=A.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const Oe=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),te.children.onOutletReAttached(Oe.contexts),te.attachRef=Oe.componentRef,te.route=Oe.route.value,te.outlet&&te.outlet.attach(Oe.componentRef,Oe.route.value),Wi(Oe.route.value),this.activateChildRoutes(D,null,te.children)}else{const Oe=gr(k.snapshot);te.attachRef=null,te.route=k,te.injector=Oe,te.outlet&&te.outlet.activateWith(k,te.injector),this.activateChildRoutes(D,null,te.children)}}else this.activateChildRoutes(D,null,A)}}class Ls{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class gi{constructor(D,m){this.component=D,this.route=m}}function mi(v,D,m){const A=v._root;return no(A,D?D._root:null,m,[A.value])}function dn(v,D){const m=Symbol(),A=D.get(v,m);return A===m?"function"!=typeof v||(0,h.Z0I)(v)?D.get(v):v:A}function no(v,D,m,A,k={canDeactivateChecks:[],canActivateChecks:[]}){const q=Ai(D);return v.children.forEach(te=>{(function Xs(v,D,m,A,k={canDeactivateChecks:[],canActivateChecks:[]}){const q=v.value,te=D?D.value:null,Oe=m?m.getContext(v.value.outlet):null;if(te&&q.routeConfig===te.routeConfig){const ut=function As(v,D,m){if("function"==typeof m)return m(v,D);switch(m){case"pathParamsChange":return!Rn(v.url,D.url);case"pathParamsOrQueryParamsChange":return!Rn(v.url,D.url)||!Xt(v.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nn(v,D)||!Xt(v.queryParams,D.queryParams);default:return!Nn(v,D)}}(te,q,q.routeConfig.runGuardsAndResolvers);ut?k.canActivateChecks.push(new Ls(A)):(q.data=te.data,q._resolvedData=te._resolvedData),no(v,D,q.component?Oe?Oe.children:null:m,A,k),ut&&Oe&&Oe.outlet&&Oe.outlet.isActivated&&k.canDeactivateChecks.push(new gi(Oe.outlet.component,te))}else te&&sr(D,Oe,k),k.canActivateChecks.push(new Ls(A)),no(v,null,q.component?Oe?Oe.children:null:m,A,k)})(te,q[te.value.outlet],m,A.concat([te.value]),k),delete q[te.value.outlet]}),Object.entries(q).forEach(([te,Oe])=>sr(Oe,m.getContext(te),k)),k}function sr(v,D,m){const A=Ai(v),k=v.value;Object.entries(A).forEach(([q,te])=>{sr(te,k.component?D?D.children.getContext(q):null:D,m)}),m.canDeactivateChecks.push(new gi(k.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,k))}function Fs(v){return"function"==typeof v}function ls(v){return v instanceof dt.K||"EmptyError"===v?.name}const Wr=Symbol("INITIAL_VALUE");function cs(){return(0,_t.w)(v=>xe(v.map(D=>D.pipe((0,on.q)(1),function Nr(...v){const D=v[v.length-1];return(0,Ie.K)(D)?(v.pop(),m=>He(v,m,D)):m=>He(v,m)}(Wr)))).pipe((0,Y.U)(D=>{for(const m of D)if(!0!==m){if(m===Wr)return Wr;if(!1===m||m instanceof mr)return m}return!0}),(0,Jn.h)(D=>D!==Wr),(0,on.q)(1)))}function R(v){return(0,et.z)((0,br.b)(D=>{if(un(D))throw fr(0,D)}),(0,Y.U)(D=>!0===D))}class ne{constructor(D){this.segmentGroup=D||null}}class Ee{constructor(D){this.urlTree=D}}function be(v){return(0,bt._)(new ne(v))}function Ue(v){return(0,bt._)(new Ee(v))}class Ot{constructor(D,m){this.urlSerializer=D,this.urlTree=m}noMatchError(D){return new h.vHH(4002,!1)}lineralizeSegments(D,m){let A=[],k=m.root;for(;;){if(A=A.concat(k.segments),0===k.numberOfChildren)return(0,oe.of)(A);if(k.numberOfChildren>1||!k.children[St])return(0,bt._)(new h.vHH(4e3,!1));k=k.children[St]}}applyRedirectCommands(D,m,A){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,A)}applyRedirectCreateUrlTree(D,m,A,k){const q=this.createSegmentGroup(D,m.root,A,k);return new mr(q,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const A={};return Object.entries(D).forEach(([k,q])=>{if("string"==typeof q&&q.startsWith(":")){const Oe=q.substring(1);A[k]=m[Oe]}else A[k]=q}),A}createSegmentGroup(D,m,A,k){const q=this.createSegments(D,m.segments,A,k);let te={};return Object.entries(m.children).forEach(([Oe,ut])=>{te[Oe]=this.createSegmentGroup(D,ut,A,k)}),new _n(q,te)}createSegments(D,m,A,k){return m.map(q=>q.path.startsWith(":")?this.findPosParam(D,q,k):this.findOrReturn(q,A))}findPosParam(D,m,A){const k=A[m.path.substring(1)];if(!k)throw new h.vHH(4001,!1);return k}findOrReturn(D,m){let A=0;for(const k of m){if(k.path===D.path)return m.splice(A),k;A++}return D}}const Vn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tn(v,D,m,A,k){const q=Wt(v,D,m);return q.matched?(A=function kr(v,D){return v.providers&&!v._injector&&(v._injector=(0,h.MMx)(v.providers,D,`Route: ${v.path}`)),v._injector??D}(D,A),function V(v,D,m,A){const k=D.canMatch;if(!k||0===k.length)return(0,oe.of)(!0);const q=k.map(te=>{const Oe=dn(te,v);return dr(function Hi(v){return v&&Fs(v.canMatch)}(Oe)?Oe.canMatch(D,m):v.runInContext(()=>Oe(D,m)))});return(0,oe.of)(q).pipe(cs(),R())}(A,D,m).pipe((0,Y.U)(te=>!0===te?q:{...Vn}))):(0,oe.of)(q)}function Wt(v,D,m){if(""===D.path)return"full"===D.pathMatch&&(v.hasChildren()||m.length>0)?{...Vn}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const k=(D.matcher||Pn)(m,v,D);if(!k)return{...Vn};const q={};Object.entries(k.posParams??{}).forEach(([Oe,ut])=>{q[Oe]=ut.path});const te=k.consumed.length>0?{...q,...k.consumed[k.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:k.consumed,remainingSegments:m.slice(k.consumed.length),parameters:te,positionalParamSegments:k.posParams??{}}}function hn(v,D,m,A){return m.length>0&&function Lr(v,D,m){return m.some(A=>or(v,D,A)&&Mi(A)!==St)}(v,m,A)?{segmentGroup:new _n(D,wr(A,new _n(m,v.children))),slicedSegments:[]}:0===m.length&&function Zr(v,D,m){return m.some(A=>or(v,D,A))}(v,m,A)?{segmentGroup:new _n(v.segments,En(v,0,m,A,v.children)),slicedSegments:m}:{segmentGroup:new _n(v.segments,v.children),slicedSegments:m}}function En(v,D,m,A,k){const q={};for(const te of A)if(or(v,m,te)&&!k[Mi(te)]){const Oe=new _n([],{});q[Mi(te)]=Oe}return{...k,...q}}function wr(v,D){const m={};m[St]=D;for(const A of v)if(""===A.path&&Mi(A)!==St){const k=new _n([],{});m[Mi(A)]=k}return m}function or(v,D,m){return(!(v.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}class si{constructor(D,m,A,k,q,te,Oe){this.injector=D,this.configLoader=m,this.rootComponentType=A,this.config=k,this.urlTree=q,this.paramsInheritanceStrategy=te,this.urlSerializer=Oe,this.allowRedirects=!0,this.applyRedirects=new Ot(this.urlSerializer,this.urlTree)}noMatchError(D){return new h.vHH(4002,!1)}recognize(){const D=hn(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,St).pipe((0,vr.K)(m=>{if(m instanceof Ee)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof ne?this.noMatchError(m):m}),(0,Y.U)(m=>{const A=new wi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,{}),k=new yr(A,m),q=new bi("",k),te=function yn(v,D,m=null,A=null){return nr(Hr(v),D,m,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return te.queryParams=this.urlTree.queryParams,q.url=this.urlSerializer.serialize(te),this.inheritParamsAndData(q._root),{state:q,tree:te}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,St).pipe((0,vr.K)(A=>{throw A instanceof ne?this.noMatchError(A):A}))}inheritParamsAndData(D){const m=D.value,A=li(m,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data),D.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(D,m,A,k){return 0===A.segments.length&&A.hasChildren()?this.processChildren(D,m,A):this.processSegment(D,m,A,A.segments,k,!0)}processChildren(D,m,A){const k=[];for(const q of Object.keys(A.children))"primary"===q?k.unshift(q):k.push(q);return(0,Ce.D)(k).pipe((0,Mr.b)(q=>{const te=A.children[q],Oe=function qs(v,D){const m=v.filter(A=>Mi(A)===D);return m.push(...v.filter(A=>Mi(A)!==D)),m}(m,q);return this.processSegmentGroup(D,Oe,te,q)}),(0,ln.R)((q,te)=>(q.push(...te),q)),(0,kt.d)(null),function Gn(v,D){const m=arguments.length>=2;return A=>A.pipe(v?(0,Jn.h)((k,q)=>v(k,q,A)):fn.y,Gt(1),m?(0,kt.d)(D):(0,An.T)(()=>new dt.K))}(),(0,tr.zg)(q=>{if(null===q)return be(A);const te=Es(q);return function ji(v){v.sort((D,m)=>D.value.outlet===St?-1:m.value.outlet===St?1:D.value.outlet.localeCompare(m.value.outlet))}(te),(0,oe.of)(te)}))}processSegment(D,m,A,k,q,te){return(0,Ce.D)(m).pipe((0,Mr.b)(Oe=>this.processSegmentAgainstRoute(Oe._injector??D,m,Oe,A,k,q,te).pipe((0,vr.K)(ut=>{if(ut instanceof ne)return(0,oe.of)(null);throw ut}))),(0,lr.P)(Oe=>!!Oe),(0,vr.K)(Oe=>{if(ls(Oe))return function ii(v,D,m){return 0===D.length&&!v.children[m]}(A,k,q)?(0,oe.of)([]):be(A);throw Oe}))}processSegmentAgainstRoute(D,m,A,k,q,te,Oe){return function Gi(v,D,m,A){return!!(Mi(v)===A||A!==St&&or(D,m,v))&&("**"===v.path||Wt(D,v,m).matched)}(A,k,q,te)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(D,k,A,q,te,Oe):Oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,k,m,A,q,te):be(k):be(k)}expandSegmentAgainstRouteUsingRedirect(D,m,A,k,q,te){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,A,k,te):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,A,k,q,te)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,A,k){const q=this.applyRedirects.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?Ue(q):this.applyRedirects.lineralizeSegments(A,q).pipe((0,tr.zg)(te=>{const Oe=new _n(te,{});return this.processSegment(D,m,Oe,te,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,A,k,q,te){const{matched:Oe,consumedSegments:ut,remainingSegments:Kt,positionalParamSegments:qt}=Wt(m,k,q);if(!Oe)return be(m);const Vr=this.applyRedirects.applyRedirectCommands(ut,k.redirectTo,qt);return k.redirectTo.startsWith("/")?Ue(Vr):this.applyRedirects.lineralizeSegments(k,Vr).pipe((0,tr.zg)(rs=>this.processSegment(D,A,m,rs.concat(Kt),te,!1)))}matchSegmentAgainstRoute(D,m,A,k,q,te){let Oe;if("**"===A.path){const ut=k.length>0?ft(k).parameters:{},Kt=new wi(k,ut,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ri(A),Mi(A),A.component??A._loadedComponent??null,A,qr(A));Oe=(0,oe.of)({snapshot:Kt,consumedSegments:[],remainingSegments:[]}),m.children={}}else Oe=Tn(m,A,k,D).pipe((0,Y.U)(({matched:ut,consumedSegments:Kt,remainingSegments:qt,parameters:Vr})=>ut?{snapshot:new wi(Kt,Vr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ri(A),Mi(A),A.component??A._loadedComponent??null,A,qr(A)),consumedSegments:Kt,remainingSegments:qt}:null));return Oe.pipe((0,_t.w)(ut=>null===ut?be(m):this.getChildConfig(D=A._injector??D,A,k).pipe((0,_t.w)(({routes:Kt})=>{const qt=A._loadedInjector??D,{snapshot:Vr,consumedSegments:rs,remainingSegments:No}=ut,{segmentGroup:ao,slicedSegments:Eo}=hn(m,rs,No,Kt);if(0===Eo.length&&ao.hasChildren())return this.processChildren(qt,Kt,ao).pipe((0,Y.U)(js=>null===js?null:[new yr(Vr,js)]));if(0===Kt.length&&0===Eo.length)return(0,oe.of)([new yr(Vr,[])]);const zi=Mi(A)===q;return this.processSegment(qt,Kt,ao,Eo,zi?St:q,!0).pipe((0,Y.U)(js=>[new yr(Vr,js)]))}))))}getChildConfig(D,m,A){return m.children?(0,oe.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,oe.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function E(v,D,m,A){const k=D.canLoad;if(void 0===k||0===k.length)return(0,oe.of)(!0);const q=k.map(te=>{const Oe=dn(te,v);return dr(function po(v){return v&&Fs(v.canLoad)}(Oe)?Oe.canLoad(D,m):v.runInContext(()=>Oe(D,m)))});return(0,oe.of)(q).pipe(cs(),R())}(D,m,A).pipe((0,tr.zg)(k=>k?this.configLoader.loadChildren(D,m).pipe((0,br.b)(q=>{m._loadedRoutes=q.routes,m._loadedInjector=q.injector})):function Rt(v){return(0,bt._)(pr(!1,3))}())):(0,oe.of)({routes:[],injector:D})}}function Fr(v){const D=v.value.routeConfig;return D&&""===D.path}function Es(v){const D=[],m=new Set;for(const A of v){if(!Fr(A)){D.push(A);continue}const k=D.find(q=>A.value.routeConfig===q.value.routeConfig);void 0!==k?(k.children.push(...A.children),m.add(k)):D.push(A)}for(const A of m){const k=Es(A.children);D.push(new yr(A.value,k))}return D.filter(A=>!m.has(A))}function Ri(v){return v.data||{}}function qr(v){return v.resolve||{}}function Pe(v){return"string"==typeof v.title||null===v.title}function $e(v){return(0,_t.w)(D=>{const m=v(D);return m?(0,Ce.D)(m).pipe((0,Y.U)(()=>D)):(0,oe.of)(D)})}const Et=new h.OlP("ROUTES");let sn=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,oe.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const A=dr(m.loadComponent()).pipe((0,Y.U)(Xn),(0,br.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=q}),(0,Sr.x)(()=>{this.componentLoaders.delete(m)})),k=new Pt.c(A,()=>new pt.xQ).pipe((0,Kn.x)());return this.componentLoaders.set(m,k),k}loadChildren(m,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,oe.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const q=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,Y.U)(Oe=>{this.onLoadEndListener&&this.onLoadEndListener(A);let ut,Kt;return Array.isArray(Oe)?Kt=Oe:(ut=Oe.create(m).injector,Kt=ut.get(Et,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:Kt.map(To),injector:ut}}),(0,Sr.x)(()=>{this.childrenLoaders.delete(A)})),te=new Pt.c(q,()=>new pt.xQ).pipe((0,Kn.x)());return this.childrenLoaders.set(A,te),te}loadModuleFactoryOrRoutes(m){return dr(m()).pipe((0,Y.U)(Xn),(0,tr.zg)(A=>A instanceof h.YKP||Array.isArray(A)?(0,oe.of)(A):(0,Ce.D)(this.compiler.compileModuleAsync(A))))}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Xn(v){return function Ct(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let $t=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pt.xQ,this.configLoader=(0,h.f3M)(sn),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(en),this.rootContexts=(0,h.f3M)(jt),this.inputBindingEnabled=null!==(0,h.f3M)(L,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,oe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new De(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new ho(k))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:A})}setupNavigations(m){return this.transitions=new ie.X({id:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ys,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Jn.h)(A=>0!==A.id),(0,Y.U)(A=>({...A,extractedUrl:m.urlHandlingStrategy.extract(A.rawUrl)})),(0,_t.w)(A=>{let k=!1,q=!1;return(0,oe.of)(A).pipe((0,br.b)(te=>{this.currentNavigation={id:te.id,initialUrl:te.rawUrl,extractedUrl:te.extractedUrl,trigger:te.source,extras:te.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_t.w)(te=>{const Oe=m.browserUrlTree.toString(),ut=!m.navigated||te.extractedUrl.toString()!==Oe||Oe!==m.currentUrlTree.toString();if(!ut&&"reload"!==(te.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const qt="";return this.events.next(new Tr(te.id,m.serializeUrl(A.rawUrl),qt,0)),m.rawUrlTree=te.rawUrl,te.resolve(null),Ge.E}if(m.urlHandlingStrategy.shouldProcessUrl(te.rawUrl))return cr(te.source)&&(m.browserUrlTree=te.extractedUrl),(0,oe.of)(te).pipe((0,_t.w)(qt=>{const Vr=this.transitions?.getValue();return this.events.next(new ss(qt.id,this.urlSerializer.serialize(qt.extractedUrl),qt.source,qt.restoredState)),Vr!==this.transitions?.getValue()?Ge.E:Promise.resolve(qt)}),function ws(v,D,m,A,k,q){return(0,tr.zg)(te=>function Cn(v,D,m,A,k,q,te="emptyOnly"){return new si(v,D,m,A,k,te,q).recognize()}(v,D,m,A,te.extractedUrl,k,q).pipe((0,Y.U)(({state:Oe,tree:ut})=>({...te,targetSnapshot:Oe,urlAfterRedirects:ut}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,br.b)(qt=>{if(A.targetSnapshot=qt.targetSnapshot,A.urlAfterRedirects=qt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:qt.urlAfterRedirects},"eager"===m.urlUpdateStrategy){if(!qt.extras.skipLocationChange){const rs=m.urlHandlingStrategy.merge(qt.urlAfterRedirects,qt.rawUrl);m.setBrowserUrl(rs,qt)}m.browserUrlTree=qt.urlAfterRedirects}const Vr=new hr(qt.id,this.urlSerializer.serialize(qt.extractedUrl),this.urlSerializer.serialize(qt.urlAfterRedirects),qt.targetSnapshot);this.events.next(Vr)}));if(ut&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:qt,extractedUrl:Vr,source:rs,restoredState:No,extras:ao}=te,Eo=new ss(qt,this.urlSerializer.serialize(Vr),rs,No);this.events.next(Eo);const zi=zn(0,this.rootComponentType).snapshot;return A={...te,targetSnapshot:zi,urlAfterRedirects:Vr,extras:{...ao,skipLocationChange:!1,replaceUrl:!1}},(0,oe.of)(A)}{const qt="";return this.events.next(new Tr(te.id,m.serializeUrl(A.extractedUrl),qt,1)),m.rawUrlTree=te.rawUrl,te.resolve(null),Ge.E}}),(0,br.b)(te=>{const Oe=new Ji(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(te.urlAfterRedirects),te.targetSnapshot);this.events.next(Oe)}),(0,Y.U)(te=>A={...te,guards:mi(te.targetSnapshot,te.currentSnapshot,this.rootContexts)}),function mo(v,D){return(0,tr.zg)(m=>{const{targetSnapshot:A,currentSnapshot:k,guards:{canActivateChecks:q,canDeactivateChecks:te}}=m;return 0===te.length&&0===q.length?(0,oe.of)({...m,guardsResult:!0}):function ro(v,D,m,A){return(0,Ce.D)(v).pipe((0,tr.zg)(k=>function _(v,D,m,A,k){const q=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,oe.of)(!0);const te=q.map(Oe=>{const ut=gr(D)??k,Kt=dn(Oe,ut);return dr(function Or(v){return v&&Fs(v.canDeactivate)}(Kt)?Kt.canDeactivate(v,D,m,A):ut.runInContext(()=>Kt(v,D,m,A))).pipe((0,lr.P)())});return(0,oe.of)(te).pipe(cs())}(k.component,k.route,m,D,A)),(0,lr.P)(k=>!0!==k,!0))}(te,A,k,v).pipe((0,tr.zg)(Oe=>Oe&&function Ir(v){return"boolean"==typeof v}(Oe)?function io(v,D,m,A){return(0,Ce.D)(D).pipe((0,Mr.b)(k=>He(function Pi(v,D){return null!==v&&D&&D(new re(v)),(0,oe.of)(!0)}(k.route.parent,A),function us(v,D){return null!==v&&D&&D(new Re(v)),(0,oe.of)(!0)}(k.route,A),function j(v,D,m){const A=D[D.length-1],q=D.slice(0,D.length-1).reverse().map(te=>function Ci(v){const D=v.routeConfig?v.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:v,guards:D}:null}(te)).filter(te=>null!==te).map(te=>Je(()=>{const Oe=te.guards.map(ut=>{const Kt=gr(te.node)??m,qt=dn(ut,Kt);return dr(function Us(v){return v&&Fs(v.canActivateChild)}(qt)?qt.canActivateChild(A,v):Kt.runInContext(()=>qt(A,v))).pipe((0,lr.P)())});return(0,oe.of)(Oe).pipe(cs())}));return(0,oe.of)(q).pipe(cs())}(v,k.path,m),function so(v,D,m){const A=D.routeConfig?D.routeConfig.canActivate:null;if(!A||0===A.length)return(0,oe.of)(!0);const k=A.map(q=>Je(()=>{const te=gr(D)??m,Oe=dn(q,te);return dr(function go(v){return v&&Fs(v.canActivate)}(Oe)?Oe.canActivate(D,v):te.runInContext(()=>Oe(D,v))).pipe((0,lr.P)())}));return(0,oe.of)(k).pipe(cs())}(v,k.route,m))),(0,lr.P)(k=>!0!==k,!0))}(A,q,v,D):(0,oe.of)(Oe)),(0,Y.U)(Oe=>({...m,guardsResult:Oe})))})}(this.environmentInjector,te=>this.events.next(te)),(0,br.b)(te=>{if(A.guardsResult=te.guardsResult,un(te.guardsResult))throw fr(0,te.guardsResult);const Oe=new Yr(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(te.urlAfterRedirects),te.targetSnapshot,!!te.guardsResult);this.events.next(Oe)}),(0,Jn.h)(te=>!!te.guardsResult||(m.restoreHistory(te),this.cancelNavigationTransition(te,"",3),!1)),$e(te=>{if(te.guards.canActivateChecks.length)return(0,oe.of)(te).pipe((0,br.b)(Oe=>{const ut=new vs(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(Oe.urlAfterRedirects),Oe.targetSnapshot);this.events.next(ut)}),(0,_t.w)(Oe=>{let ut=!1;return(0,oe.of)(Oe).pipe(function C(v,D){return(0,tr.zg)(m=>{const{targetSnapshot:A,guards:{canActivateChecks:k}}=m;if(!k.length)return(0,oe.of)(m);let q=0;return(0,Ce.D)(k).pipe((0,Mr.b)(te=>function N(v,D,m,A){const k=v.routeConfig,q=v._resolve;return void 0!==k?.title&&!Pe(k)&&(q[Mn]=k.title),function T(v,D,m,A){const k=function H(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===k.length)return(0,oe.of)({});const q={};return(0,Ce.D)(k).pipe((0,tr.zg)(te=>function he(v,D,m,A){const k=gr(D)??A,q=dn(v,k);return dr(q.resolve?q.resolve(D,m):k.runInContext(()=>q(D,m)))}(v[te],D,m,A).pipe((0,lr.P)(),(0,br.b)(Oe=>{q[te]=Oe}))),Gt(1),function xn(v){return D=>D.lift(new Dn(v))}(q),(0,vr.K)(te=>ls(te)?Ge.E:(0,bt._)(te)))}(q,v,D,A).pipe((0,Y.U)(te=>(v._resolvedData=te,v.data=li(v,m).resolve,k&&Pe(k)&&(v.data[Mn]=k.title),null)))}(te.route,A,v,D)),(0,br.b)(()=>q++),Gt(1),(0,tr.zg)(te=>q===k.length?(0,oe.of)(m):Ge.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,br.b)({next:()=>ut=!0,complete:()=>{ut||(m.restoreHistory(Oe),this.cancelNavigationTransition(Oe,"",2))}}))}),(0,br.b)(Oe=>{const ut=new xs(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(Oe.urlAfterRedirects),Oe.targetSnapshot);this.events.next(ut)}))}),$e(te=>{const Oe=ut=>{const Kt=[];ut.routeConfig?.loadComponent&&!ut.routeConfig._loadedComponent&&Kt.push(this.configLoader.loadComponent(ut.routeConfig).pipe((0,br.b)(qt=>{ut.component=qt}),(0,Y.U)(()=>{})));for(const qt of ut.children)Kt.push(...Oe(qt));return Kt};return xe(Oe(te.targetSnapshot.root)).pipe((0,kt.d)(),(0,on.q)(1))}),$e(()=>this.afterPreactivation()),(0,Y.U)(te=>{const Oe=function ve(v,D,m){const A=qe(v,D._root,m?m._root:void 0);return new Jr(A,D)}(m.routeReuseStrategy,te.targetSnapshot,te.currentRouterState);return A={...te,targetRouterState:Oe}}),(0,br.b)(te=>{m.currentUrlTree=te.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl),m.routerState=te.targetRouterState,"deferred"===m.urlUpdateStrategy&&(te.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,te),m.browserUrlTree=te.urlAfterRedirects)}),((v,D,m,A)=>(0,Y.U)(k=>(new Ao(D,k.targetRouterState,k.currentRouterState,m,A).activate(v),k)))(this.rootContexts,m.routeReuseStrategy,te=>this.events.next(te),this.inputBindingEnabled),(0,on.q)(1),(0,br.b)({next:te=>{k=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new bn(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(te.targetRouterState.snapshot),te.resolve(!0)},complete:()=>{k=!0}}),(0,Sr.x)(()=>{k||q||this.cancelNavigationTransition(A,"",1),this.currentNavigation?.id===A.id&&(this.currentNavigation=null)}),(0,vr.K)(te=>{if(q=!0,ir(te)){Vi(te)||(m.navigated=!0,m.restoreHistory(A,!0));const Oe=new _r(A.id,this.urlSerializer.serialize(A.extractedUrl),te.message,te.cancellationCode);if(this.events.next(Oe),Vi(te)){const ut=m.urlHandlingStrategy.merge(te.url,m.rawUrlTree),Kt={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||cr(A.source)};m.scheduleNavigation(ut,ys,null,Kt,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{m.restoreHistory(A,!0);const Oe=new Ei(A.id,this.urlSerializer.serialize(A.extractedUrl),te,A.targetSnapshot??void 0);this.events.next(Oe);try{A.resolve(m.errorHandler(te))}catch(ut){A.reject(ut)}}return Ge.E}))}))}cancelNavigationTransition(m,A,k){const q=new _r(m.id,this.urlSerializer.serialize(m.extractedUrl),A,k);this.events.next(q),m.resolve(!1)}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function cr(v){return v!==ys}let wn=(()=>{class v{buildTitle(m){let A,k=m.root;for(;void 0!==k;)A=this.getResolvedTitleForRoute(k)??A,k=k.children.find(q=>q.outlet===St);return A}getResolvedTitleForRoute(m){return m.data[Mn]}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=h.Yz7({token:v,factory:function(){return(0,h.f3M)(Ar)},providedIn:"root"}),v})(),Ar=(()=>{class v extends wn{constructor(m){super(),this.title=m}updateTitle(m){const A=this.buildTitle(m);void 0!==A&&this.title.setTitle(A)}}return v.\u0275fac=function(m){return new(m||v)(h.LFG(nt.Dx))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),ti=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=h.Yz7({token:v,factory:function(){return(0,h.f3M)(Bs)},providedIn:"root"}),v})();class Ii{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let Bs=(()=>{class v extends Ii{}return v.\u0275fac=function(){let D;return function(A){return(D||(D=h.n5z(v)))(A||v)}}(),v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Si=new h.OlP("",{providedIn:"root",factory:()=>({})});let Vs=(()=>{class v{}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=h.Yz7({token:v,factory:function(){return(0,h.f3M)(oo)},providedIn:"root"}),v})(),oo=(()=>{class v{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,A){return m}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var Ur=(()=>((Ur=Ur||{})[Ur.COMPLETE=0]="COMPLETE",Ur[Ur.FAILED=1]="FAILED",Ur[Ur.REDIRECTING=2]="REDIRECTING",Ur))();function st(v,D){v.events.pipe((0,Jn.h)(m=>m instanceof bn||m instanceof _r||m instanceof Ei||m instanceof Tr),(0,Y.U)(m=>m instanceof bn||m instanceof Tr?Ur.COMPLETE:m instanceof _r&&(0===m.code||1===m.code)?Ur.REDIRECTING:Ur.FAILED),(0,Jn.h)(m=>m!==Ur.REDIRECTING),(0,on.q)(1)).subscribe(()=>{D()})}function ur(v){throw v}function dl(v,D,m){return D.parse("/")}const $a={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ns=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Si,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||ur,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Vs),this.routeReuseStrategy=(0,h.f3M)(ti),this.titleStrategy=(0,h.f3M)(wn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(Et,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)($t),this.urlSerializer=(0,h.f3M)(en),this.location=(0,h.f3M)(yt.Ye),this.componentInputBindingEnabled=!!(0,h.f3M)(L,{optional:!0}),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zn(0,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ys,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const A="popstate"===m.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,A,m.state)},0)}))}navigateToSyncWithBrowser(m,A,k){const q={replaceUrl:!0},te=k?.navigationId?k:null;if(k){const ut={...k};delete ut.navigationId,delete ut.\u0275routerPageId,0!==Object.keys(ut).length&&(q.state=ut)}const Oe=this.parseUrl(m);this.scheduleNavigation(Oe,A,te,q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(To),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,A={}){const{relativeTo:k,queryParams:q,fragment:te,queryParamsHandling:Oe,preserveFragment:ut}=A,Kt=ut?this.currentUrlTree.fragment:te;let Vr,qt=null;switch(Oe){case"merge":qt={...this.currentUrlTree.queryParams,...q};break;case"preserve":qt=this.currentUrlTree.queryParams;break;default:qt=q||null}null!==qt&&(qt=this.removeEmptyProps(qt));try{Vr=Hr(k?k.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),Vr=this.currentUrlTree.root}return nr(Vr,m,qt,Kt??null)}navigateByUrl(m,A={skipLocationChange:!1}){const k=un(m)?m:this.parseUrl(m),q=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(q,ys,null,A)}navigate(m,A={skipLocationChange:!1}){return function Vo(v){for(let D=0;D<v.length;D++)if(null==v[D])throw new h.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,A),A)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let A;try{A=this.urlSerializer.parse(m)}catch(k){A=this.malformedUriErrorHandler(k,this.urlSerializer,m)}return A}isActive(m,A){let k;if(k=!0===A?{...$a}:!1===A?{...Oi}:A,un(m))return In(this.currentUrlTree,m,k);const q=this.parseUrl(m);return In(this.currentUrlTree,q,k)}removeEmptyProps(m){return Object.keys(m).reduce((A,k)=>{const q=m[k];return null!=q&&(A[k]=q),A},{})}scheduleNavigation(m,A,k,q,te){if(this.disposed)return Promise.resolve(!1);let Oe,ut,Kt;te?(Oe=te.resolve,ut=te.reject,Kt=te.promise):Kt=new Promise((Vr,rs)=>{Oe=Vr,ut=rs});const qt=this.pendingTasks.add();return st(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(qt))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:q,resolve:Oe,reject:ut,promise:Kt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kt.catch(Vr=>Promise.reject(Vr))}setBrowserUrl(m,A){const k=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(k)||A.extras.replaceUrl){const te={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(k,"",te)}else{const q={...A.extras.state,...this.generateNgRouterState(A.id,(this.browserPageId??0)+1)};this.location.go(k,"",q)}}restoreHistory(m,A=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-(this.browserPageId??this.currentPageId);0!==q?this.location.historyGo(q):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===q&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,A){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:A}:{navigationId:m}}}return v.\u0275fac=function(m){return new(m||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Ms=(()=>{class v{constructor(m,A,k,q,te,Oe){this.router=m,this.route=A,this.tabIndexAttribute=k,this.renderer=q,this.el=te,this.locationStrategy=Oe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new pt.xQ;const ut=te.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ut||"area"===ut,this.isAnchorElement?this.subscription=m.events.subscribe(Kt=>{Kt instanceof bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,h.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,h.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,h.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,A,k,q,te){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||A||k||q||te||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,A){const k=this.renderer,q=this.el.nativeElement;null!==A?k.setAttribute(q,m,A):k.removeAttribute(q,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(m){return new(m||v)(h.Y36(ns),h.Y36(pi),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(yt.S$))},v.\u0275dir=h.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,A){1&m&&h.NdJ("click",function(q){return A.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&m&&h.uIk("target",A.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),v})();class dc{}let ds=(()=>{class v{constructor(m,A,k,q,te){this.router=m,this.injector=k,this.preloadingStrategy=q,this.loader=te}setUpPreloading(){this.subscription=this.router.events.pipe((0,Jn.h)(m=>m instanceof bn),(0,Mr.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,A){const k=[];for(const q of A){q.providers&&!q._injector&&(q._injector=(0,h.MMx)(q.providers,m,`Route: ${q.path}`));const te=q._injector??m,Oe=q._loadedInjector??te;(q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent)&&k.push(this.preloadConfig(te,q)),(q.children||q._loadedRoutes)&&k.push(this.processRoutes(Oe,q.children??q._loadedRoutes))}return(0,Ce.D)(k).pipe((0,Fe.J)())}preloadConfig(m,A){return this.preloadingStrategy.preload(A,()=>{let k;k=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(m,A):(0,oe.of)(null);const q=k.pipe((0,tr.zg)(te=>null===te?(0,oe.of)(void 0):(A._loadedRoutes=te.routes,A._loadedInjector=te.injector,this.processRoutes(te.injector??m,te.routes))));if(A.loadComponent&&!A._loadedComponent){const te=this.loader.loadComponent(A);return(0,Ce.D)([q,te]).pipe((0,Fe.J)())}return q})}}return v.\u0275fac=function(m){return new(m||v)(h.LFG(ns),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(dc),h.LFG(sn))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Ps=new h.OlP("");let _o=(()=>{class v{constructor(m,A,k,q,te={}){this.urlSerializer=m,this.transitions=A,this.viewportScroller=k,this.zone=q,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ss?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof bn?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof Tr&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Qe&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qe(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return v.\u0275fac=function(m){h.$Z()},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})();function eo(v,D){return{\u0275kind:v,\u0275providers:D}}function Ni(){const v=(0,h.f3M)(h.zs3);return D=>{const m=v.get(h.z2F);if(D!==m.components[0])return;const A=v.get(ns),k=v.get(ca);1===v.get(yo)&&A.initialNavigation(),v.get(ua,null,h.XFs.Optional)?.setUpPreloading(),v.get(Ps,null,h.XFs.Optional)?.init(),A.resetRootComponentType(m.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const ca=new h.OlP("",{factory:()=>new pt.xQ}),yo=new h.OlP("",{providedIn:"root",factory:()=>1}),ua=new h.OlP("");function da(v){return eo(0,[{provide:ua,useExisting:ds},{provide:dc,useExisting:v}])}const Ki=new h.OlP("ROUTER_FORROOT_GUARD"),Ro=[yt.Ye,{provide:en,useClass:Rr},ns,jt,{provide:pi,useFactory:function Cs(v){return v.routerState.root},deps:[ns]},sn,[]];function Br(){return new h.PXZ("Router",ns)}let pl=(()=>{class v{constructor(m){}static forRoot(m,A){return{ngModule:v,providers:[Ro,[],{provide:Et,multi:!0,useValue:m},{provide:Ki,useFactory:Ga,deps:[[ns,new h.FiY,new h.tp0]]},{provide:Si,useValue:A||{}},A?.useHash?{provide:yt.S$,useClass:yt.Do}:{provide:yt.S$,useClass:yt.b0},{provide:Ps,useFactory:()=>{const v=(0,h.f3M)(yt.EM),D=(0,h.f3M)(h.R0b),m=(0,h.f3M)(Si),A=(0,h.f3M)($t),k=(0,h.f3M)(en);return m.scrollOffset&&v.setOffset(m.scrollOffset),new _o(k,A,v,D,m)}},A?.preloadingStrategy?da(A.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Br},A?.initialNavigation?Oo(A):[],A?.bindToComponentInputs?eo(8,[fe,{provide:L,useExisting:fe}]).\u0275providers:[],[{provide:$o,useFactory:Ni},{provide:h.tb,multi:!0,useExisting:$o}]]}}static forChild(m){return{ngModule:v,providers:[{provide:Et,multi:!0,useValue:m}]}}}return v.\u0275fac=function(m){return new(m||v)(h.LFG(Ki,8))},v.\u0275mod=h.oAB({type:v}),v.\u0275inj=h.cJS({}),v})();function Ga(v){return"guarded"}function Oo(v){return["disabled"===v.initialNavigation?eo(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const D=(0,h.f3M)(ns);return()=>{D.setUpLocationChangeListener()}}},{provide:yo,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?eo(2,[{provide:yo,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:D=>{const m=D.get(yt.V_,Promise.resolve());return()=>m.then(()=>new Promise(A=>{const k=D.get(ns),q=D.get(ca);st(k,()=>{A(!0)}),D.get($t).afterPreactivation=()=>(A(!0),q.closed?(0,oe.of)(void 0):q),k.initialNavigation()}))}}]).\u0275providers:[]]}const $o=new h.OlP("")},3942:(At,Be,U)=>{U.d(Be,{Z:()=>Bt});var h=U(2090),J=U(4859),Q=U(6881),Ce=U(1877);class oe{constructor(Fe,lt){this._delegate=Fe,this.firebase=lt,(0,Q._addComponent)(Fe,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(Fe,lt=Q._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(Fe);return!Ge.isInitialized()&&"EXPLICIT"===(null===(He=Ge.getComponent())||void 0===He?void 0:He.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:lt})}_removeServiceInstance(Fe,lt=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(lt)}_addComponent(Fe){(0,Q._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,Q._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function ye(){const dt=function ge(dt){const Fe={},lt={__esModule:!0,initializeApp:function Je(pt,yt={}){const Y=Q.initializeApp(pt,yt);if((0,h.r3)(Fe,Y.name))return Fe[Y.name];const _t=new dt(Y,lt);return Fe[Y.name]=_t,_t},app:Ge,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function bt(pt){const yt=pt.name,Y=yt.replace("-compat","");if(Q._registerComponent(pt)&&"PUBLIC"===pt.type){const _t=(on=Ge())=>{if("function"!=typeof on[Y])throw Ie.create("invalid-app-argument",{appName:yt});return on[Y]()};void 0!==pt.serviceProps&&(0,h.ZB)(_t,pt.serviceProps),lt[Y]=_t,dt.prototype[Y]=function(...on){return this._getService.bind(this,yt).apply(this,pt.multipleInstances?on:[])}}return"PUBLIC"===pt.type?lt[Y]:null},removeApp:function He(pt){delete Fe[pt]},useAsService:function Pt(pt,yt){return"serverAuth"===yt?null:yt},modularAPIs:Q}};function Ge(pt){if(!(0,h.r3)(Fe,pt=pt||Q._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:pt});return Fe[pt]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function et(){return Object.keys(Fe).map(pt=>Fe[pt])}}),Ge.App=dt,lt}(oe);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function Fe(lt){(0,h.ZB)(dt,lt)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),dt}(),ce=new Ce.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Bt=se;!function Ye(dt){(0,Q.registerVersion)("@firebase/app-compat","0.2.13",dt)}()},6881:(At,Be,U)=>{U.r(Be),U.d(Be,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>mr,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>Yn,_addOrOverwriteComponent:()=>$r,_apps:()=>ft,_clearComponents:()=>Bn,_components:()=>dr,_getProvider:()=>an,_registerComponent:()=>In,_removeServiceInstance:()=>Qr,deleteApp:()=>Rn,getApp:()=>On,getApps:()=>Xr,initializeApp:()=>_n,onLog:()=>Rr,registerVersion:()=>en,setLogLevel:()=>Gr});var h=U(5861),J=U(4859),Q=U(1877),Ce=U(2090);const oe=(We,ke)=>ke.some(rt=>We instanceof rt);let ie,Ie;const se=new WeakMap,ce=new WeakMap,le=new WeakMap,xe=new WeakMap,Ye=new WeakMap;let Fe={get(We,ke,rt){if(We instanceof IDBTransaction){if("done"===ke)return ce.get(We);if("objectStoreNames"===ke)return We.objectStoreNames||le.get(We);if("store"===ke)return rt.objectStoreNames[1]?void 0:rt.objectStore(rt.objectStoreNames[0])}return Je(We[ke])},set:(We,ke,rt)=>(We[ke]=rt,!0),has:(We,ke)=>We instanceof IDBTransaction&&("done"===ke||"store"===ke)||ke in We};function Ge(We){return"function"==typeof We?function He(We){return We!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(We)?function(...ke){return We.apply(et(this),ke),Je(se.get(this))}:function(...ke){return Je(We.apply(et(this),ke))}:function(ke,...rt){const Lt=We.call(et(this),ke,...rt);return le.set(Lt,ke.sort?ke.sort():[ke]),Je(Lt)}}(We):(We instanceof IDBTransaction&&function dt(We){if(ce.has(We))return;const ke=new Promise((rt,Lt)=>{const zt=()=>{We.removeEventListener("complete",un),We.removeEventListener("error",yn),We.removeEventListener("abort",yn)},un=()=>{rt(),zt()},yn=()=>{Lt(We.error||new DOMException("AbortError","AbortError")),zt()};We.addEventListener("complete",un),We.addEventListener("error",yn),We.addEventListener("abort",yn)});ce.set(We,ke)}(We),oe(We,function ge(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(We,Fe):We)}function Je(We){if(We instanceof IDBRequest)return function Bt(We){const ke=new Promise((rt,Lt)=>{const zt=()=>{We.removeEventListener("success",un),We.removeEventListener("error",yn)},un=()=>{rt(Je(We.result)),zt()},yn=()=>{Lt(We.error),zt()};We.addEventListener("success",un),We.addEventListener("error",yn)});return ke.then(rt=>{rt instanceof IDBCursor&&se.set(rt,We)}).catch(()=>{}),Ye.set(ke,We),ke}(We);if(xe.has(We))return xe.get(We);const ke=Ge(We);return ke!==We&&(xe.set(We,ke),Ye.set(ke,We)),ke}const et=We=>Ye.get(We),pt=["get","getKey","getAll","getAllKeys","count"],yt=["put","add","delete","clear"],Y=new Map;function _t(We,ke){if(!(We instanceof IDBDatabase)||ke in We||"string"!=typeof ke)return;if(Y.get(ke))return Y.get(ke);const rt=ke.replace(/FromIndex$/,""),Lt=ke!==rt,zt=yt.includes(rt);if(!(rt in(Lt?IDBIndex:IDBObjectStore).prototype)||!zt&&!pt.includes(rt))return;const un=function(){var yn=(0,h.Z)(function*(Hr,...nr){const er=this.transaction(Hr,zt?"readwrite":"readonly");let qn=er.store;return Lt&&(qn=qn.index(nr.shift())),(yield Promise.all([qn[rt](...nr),zt&&er.done]))[0]});return function(nr){return yn.apply(this,arguments)}}();return Y.set(ke,un),un}!function lt(We){Fe=We(Fe)}(We=>({...We,get:(ke,rt,Lt)=>_t(ke,rt)||We.get(ke,rt,Lt),has:(ke,rt)=>!!_t(ke,rt)||We.has(ke,rt)}));class on{constructor(ke){this.container=ke}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function Nr(We){const ke=We.getComponent();return"VERSION"===ke?.type}(rt)){const Lt=rt.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(rt=>rt).join(" ")}}const Jn="@firebase/app",lr=new Q.Yd("@firebase/app"),Xt="[DEFAULT]",wt={[Jn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ft=new Map,dr=new Map;function Yn(We,ke){try{We.container.addComponent(ke)}catch(rt){lr.debug(`Component ${ke.name} failed to register with FirebaseApp ${We.name}`,rt)}}function $r(We,ke){We.container.addOrOverwriteComponent(ke)}function In(We){const ke=We.name;if(dr.has(ke))return lr.debug(`There were multiple attempts to register component ${ke}.`),!1;dr.set(ke,We);for(const rt of ft.values())Yn(rt,We);return!0}function an(We,ke){const rt=We.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),We.container.getProvider(ke)}function Qr(We,ke,rt=Xt){an(We,ke).clearInstance(rt)}function Bn(){dr.clear()}const Qt=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pr{constructor(ke,rt,Lt){this._isDeleted=!1,this._options=Object.assign({},ke),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ke){this._isDeleted=ke}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const mr="9.23.0";function _n(We,ke={}){let rt=We;"object"!=typeof ke&&(ke={name:ke});const Lt=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},ke),zt=Lt.name;if("string"!=typeof zt||!zt)throw Qt.create("bad-app-name",{appName:String(zt)});if(rt||(rt=(0,Ce.aH)()),!rt)throw Qt.create("no-options");const un=ft.get(zt);if(un){if((0,Ce.vZ)(rt,un.options)&&(0,Ce.vZ)(Lt,un.config))return un;throw Qt.create("duplicate-app",{appName:zt})}const yn=new J.H0(zt);for(const nr of dr.values())yn.addComponent(nr);const Hr=new Pr(rt,Lt,yn);return ft.set(zt,Hr),Hr}function On(We=Xt){const ke=ft.get(We);if(!ke&&We===Xt&&(0,Ce.aH)())return _n();if(!ke)throw Qt.create("no-app",{appName:We});return ke}function Xr(){return Array.from(ft.values())}function Rn(We){return xr.apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(We){const ke=We.name;ft.has(ke)&&(ft.delete(ke),yield Promise.all(We.container.getProviders().map(rt=>rt.delete())),We.isDeleted=!0)})).apply(this,arguments)}function en(We,ke,rt){var Lt;let zt=null!==(Lt=wt[We])&&void 0!==Lt?Lt:We;rt&&(zt+=`-${rt}`);const un=zt.match(/\s|\//),yn=ke.match(/\s|\//);if(un||yn){const Hr=[`Unable to register library "${zt}" with version "${ke}":`];return un&&Hr.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),un&&yn&&Hr.push("and"),yn&&Hr.push(`version name "${ke}" contains illegal characters (whitespace or "/")`),void lr.warn(Hr.join(" "))}In(new J.wA(`${zt}-version`,()=>({library:zt,version:ke}),"VERSION"))}function Rr(We,ke){if(null!==We&&"function"!=typeof We)throw Qt.create("invalid-log-argument");(0,Q.Am)(We,ke)}function Gr(We){(0,Q.Ub)(We)}const Zn="firebase-heartbeat-database",Cr=1,_e="firebase-heartbeat-store";let $=null;function G(){return $||($=function bt(We,ke,{blocked:rt,upgrade:Lt,blocking:zt,terminated:un}={}){const yn=indexedDB.open(We,ke),Hr=Je(yn);return Lt&&yn.addEventListener("upgradeneeded",nr=>{Lt(Je(yn.result),nr.oldVersion,nr.newVersion,Je(yn.transaction),nr)}),rt&&yn.addEventListener("blocked",nr=>rt(nr.oldVersion,nr.newVersion,nr)),Hr.then(nr=>{un&&nr.addEventListener("close",()=>un()),zt&&nr.addEventListener("versionchange",er=>zt(er.oldVersion,er.newVersion,er))}).catch(()=>{}),Hr}(Zn,Cr,{upgrade:(We,ke)=>{0===ke&&We.createObjectStore(_e)}}).catch(We=>{throw Qt.create("idb-open",{originalErrorMessage:We.message})})),$}function X(){return(X=(0,h.Z)(function*(We){try{return yield(yield G()).transaction(_e).objectStore(_e).get(gt(We))}catch(ke){if(ke instanceof Ce.ZR)lr.warn(ke.message);else{const rt=Qt.create("idb-get",{originalErrorMessage:ke?.message});lr.warn(rt.message)}}})).apply(this,arguments)}function Te(We,ke){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,h.Z)(function*(We,ke){try{const Lt=(yield G()).transaction(_e,"readwrite");yield Lt.objectStore(_e).put(ke,gt(We)),yield Lt.done}catch(rt){if(rt instanceof Ce.ZR)lr.warn(rt.message);else{const Lt=Qt.create("idb-set",{originalErrorMessage:rt?.message});lr.warn(Lt.message)}}})).apply(this,arguments)}function gt(We){return`${We.name}!${We.options.appId}`}class kn{constructor(ke){this.container=ke,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new zr(rt),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var ke=this;return(0,h.Z)(function*(){const Lt=ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=Zt();if(null===ke._heartbeatsCache&&(ke._heartbeatsCache=yield ke._heartbeatsCachePromise),ke._heartbeatsCache.lastSentHeartbeatDate!==zt&&!ke._heartbeatsCache.heartbeats.some(un=>un.date===zt))return ke._heartbeatsCache.heartbeats.push({date:zt,agent:Lt}),ke._heartbeatsCache.heartbeats=ke._heartbeatsCache.heartbeats.filter(un=>{const yn=new Date(un.date).valueOf();return Date.now()-yn<=2592e6}),ke._storage.overwrite(ke._heartbeatsCache)})()}getHeartbeatsHeader(){var ke=this;return(0,h.Z)(function*(){if(null===ke._heartbeatsCache&&(yield ke._heartbeatsCachePromise),null===ke._heartbeatsCache||0===ke._heartbeatsCache.heartbeats.length)return"";const rt=Zt(),{heartbeatsToSend:Lt,unsentEntries:zt}=function Sn(We,ke=1024){const rt=[];let Lt=We.slice();for(const zt of We){const un=rt.find(yn=>yn.agent===zt.agent);if(un){if(un.dates.push(zt.date),ki(rt)>ke){un.dates.pop();break}}else if(rt.push({agent:zt.agent,dates:[zt.date]}),ki(rt)>ke){rt.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:Lt}}(ke._heartbeatsCache.heartbeats),un=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Lt}));return ke._heartbeatsCache.lastSentHeartbeatDate=rt,zt.length>0?(ke._heartbeatsCache.heartbeats=zt,yield ke._storage.overwrite(ke._heartbeatsCache)):(ke._heartbeatsCache.heartbeats=[],ke._storage.overwrite(ke._heartbeatsCache)),un})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class zr{constructor(ke){this.app=ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ke=this;return(0,h.Z)(function*(){return(yield ke._canUseIndexedDBPromise)&&(yield function W(We){return X.apply(this,arguments)}(ke.app))||{heartbeats:[]}})()}overwrite(ke){var rt=this;return(0,h.Z)(function*(){var Lt;if(yield rt._canUseIndexedDBPromise){const un=yield rt.read();return Te(rt.app,{lastSentHeartbeatDate:null!==(Lt=ke.lastSentHeartbeatDate)&&void 0!==Lt?Lt:un.lastSentHeartbeatDate,heartbeats:ke.heartbeats})}})()}add(ke){var rt=this;return(0,h.Z)(function*(){var Lt;if(yield rt._canUseIndexedDBPromise){const un=yield rt.read();return Te(rt.app,{lastSentHeartbeatDate:null!==(Lt=ke.lastSentHeartbeatDate)&&void 0!==Lt?Lt:un.lastSentHeartbeatDate,heartbeats:[...un.heartbeats,...ke.heartbeats]})}})()}}function ki(We){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Li(We){In(new J.wA("platform-logger",ke=>new on(ke),"PRIVATE")),In(new J.wA("heartbeat",ke=>new kn(ke),"PRIVATE")),en(Jn,"0.9.13",We),en(Jn,"0.9.13","esm2017"),en("fire-js","")}("")},4859:(At,Be,U)=>{U.d(Be,{H0:()=>ge,wA:()=>Q,zt:()=>oe});var h=U(5861),J=U(2090);class Q{constructor(se,ce,le){this.name=se,this.instanceFactory=ce,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const Ce="[DEFAULT]";class oe{constructor(se,ce){this.name=se,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const ce=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(ce)){const le=new J.BH;if(this.instancesDeferred.set(ce,le),this.isInitialized(ce)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:ce});xe&&le.resolve(xe)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(se){var ce;const le=this.normalizeInstanceIdentifier(se?.identifier),xe=null!==(ce=se?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch(Ye){if(xe)return null;throw Ye}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Ie(ye){return"EAGER"===ye.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[ce,le]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(ce);try{const Ye=this.getOrInitializeService({instanceIdentifier:xe});le.resolve(Ye)}catch{}}}}clearInstance(se=Ce){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,h.Z)(function*(){const ce=Array.from(se.instances.values());yield Promise.all([...ce.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...ce.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=Ce){return this.instances.has(se)}getOptions(se=Ce){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:ce={}}=se,le=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:le,options:ce});for(const[Ye,Bt]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier(Ye)&&Bt.resolve(xe);return xe}onInit(se,ce){var le;const xe=this.normalizeInstanceIdentifier(ce),Ye=null!==(le=this.onInitCallbacks.get(xe))&&void 0!==le?le:new Set;Ye.add(se),this.onInitCallbacks.set(xe,Ye);const Bt=this.instances.get(xe);return Bt&&se(Bt,xe),()=>{Ye.delete(se)}}invokeOnInitCallbacks(se,ce){const le=this.onInitCallbacks.get(ce);if(le)for(const xe of le)try{xe(se,ce)}catch{}}getOrInitializeService({instanceIdentifier:se,options:ce={}}){let le=this.instances.get(se);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=se,ye===Ce?void 0:ye),options:ce}),this.instances.set(se,le),this.instancesOptions.set(se,ce),this.invokeOnInitCallbacks(le,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,le)}catch{}var ye;return le||null}normalizeInstanceIdentifier(se=Ce){return this.component?this.component.multipleInstances?se:Ce:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const ce=this.getProvider(se.name);if(ce.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);ce.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const ce=new oe(se,this);return this.providers.set(se,ce),ce}getProviders(){return Array.from(this.providers.values())}}},1877:(At,Be,U)=>{U.d(Be,{Am:()=>ye,Ub:()=>ge,Yd:()=>Ie,in:()=>J});const h=[];var J=(()=>((J=J||{})[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J))();const Q={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Ce=J.INFO,oe={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ie=(se,ce,...le)=>{if(ce<se.logLevel)return;const xe=(new Date).toISOString(),Ye=oe[ce];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Ye](`[${xe}]  ${se.name}:`,...le)};class Ie{constructor(ce){this.name=ce,this._logLevel=Ce,this._logHandler=ie,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in J))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?Q[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...ce),this._logHandler(this,J.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...ce),this._logHandler(this,J.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,J.INFO,...ce),this._logHandler(this,J.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,J.WARN,...ce),this._logHandler(this,J.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...ce),this._logHandler(this,J.ERROR,...ce)}}function ge(se){h.forEach(ce=>{ce.setLogLevel(se)})}function ye(se,ce){for(const le of h){let xe=null;ce&&ce.level&&(xe=Q[ce.level]),le.userLogHandler=null===se?null:(Ye,Bt,...dt)=>{const Fe=dt.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch{return null}}).filter(lt=>lt).join(" ");Bt>=(xe??Ye.logLevel)&&se({level:J[Bt].toLowerCase(),message:Fe,args:dt,type:Ye.name})}}}},259:(At,Be,U)=>{U.d(Be,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=U(6881);(0,h.registerVersion)("firebase","9.23.0","app")},9260:(At,Be,U)=>{U.d(Be,{Z:()=>h.Z});var h=U(3942);h.Z.registerVersion("firebase","9.23.0","app-compat")},8073:(At,Be,U)=>{U.r(Be);var h=U(5861),J=U(3942),Q=U(2090),Ce=U(6881);function ge(f,a){var c={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&a.indexOf(g)<0&&(c[g]=f[g]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var P=0;for(g=Object.getOwnPropertySymbols(f);P<g.length;P++)a.indexOf(g[P])<0&&Object.prototype.propertyIsEnumerable.call(f,g[P])&&(c[g[P]]=f[g[P]])}return c}var Jn=U(1877),tr=U(4859);const Mr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const cn=function kt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Gt=function It(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gn=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),An=new Jn.Yd("@firebase/auth");function Gn(f,...a){An.logLevel<=Jn.in.ERROR&&An.error(`Auth (${Ce.SDK_VERSION}): ${f}`,...a)}function xn(f,...a){throw Kn(f,...a)}function Dn(f,...a){return Kn(f,...a)}function nn(f,a,c){const g=Object.assign(Object.assign({},Gt()),{[a]:c});return new Q.LL("auth","Firebase",g).create(a,{appName:f.name})}function Sr(f,a,c){if(!(a instanceof c))throw c.name!==a.constructor.name&&xn(f,"argument-error"),nn(f,"argument-error",`Type of ${a.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kn(f,...a){if("string"!=typeof f){const c=a[0],g=[...a.slice(1)];return g[0]&&(g[0].appName=f.name),f._errorFactory.create(c,...g)}return gn.create(f,...a)}function nt(f,a,...c){if(!f)throw Kn(a,...c)}function St(f){const a="INTERNAL ASSERTION FAILED: "+f;throw Gn(a),new Error(a)}function Mn(f,a){f||St(a)}function Mt(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function rr(){return"http:"===Pn()||"https:"===Pn()}function Pn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class wt{constructor(a,c){this.shortDelay=a,this.longDelay=c,Mn(c>a,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function mn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rr()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ft(f,a){Mn(f.emulator,"Emulator should always be set here");const{url:c}=f.emulator;return a?`${c}${a.startsWith("/")?a.slice(1):a}`:c}class dr{static initialize(a,c,g){this.fetchImpl=a,c&&(this.headersImpl=c),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void St("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void St("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void St("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$r=new wt(3e4,6e4);function In(f,a){return f.tenantId&&!a.tenantId?Object.assign(Object.assign({},a),{tenantId:f.tenantId}):a}function an(f,a,c,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,h.Z)(function*(f,a,c,g,P={}){return Bn(f,P,(0,h.Z)(function*(){let F={},pe={};g&&("GET"===a?pe=g:F={body:JSON.stringify(g)});const Me=(0,Q.xO)(Object.assign({key:f.config.apiKey},pe)).slice(1),ot=yield f._getAdditionalHeaders();return ot["Content-Type"]="application/json",f.languageCode&&(ot["X-Firebase-Locale"]=f.languageCode),dr.fetch()(mr(f,f.config.apiHost,c,Me),Object.assign({method:a,headers:ot,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Bn(f,a,c){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(f,a,c){f._canInitEmulator=!1;const g=Object.assign(Object.assign({},Yn),a);try{const P=new _n(f),F=yield Promise.race([c(),P.promise]);P.clearNetworkTimeout();const pe=yield F.json();if("needConfirmation"in pe)throw On(f,"account-exists-with-different-credential",pe);if(F.ok&&!("errorMessage"in pe))return pe;{const Me=F.ok?pe.errorMessage:pe.error.message,[ot,Xe]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw On(f,"credential-already-in-use",pe);if("EMAIL_EXISTS"===ot)throw On(f,"email-already-in-use",pe);if("USER_DISABLED"===ot)throw On(f,"user-disabled",pe);const Dt=g[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw nn(f,Dt,Xe);xn(f,Dt)}}catch(P){if(P instanceof Q.ZR)throw P;xn(f,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function Qt(f,a,c,g){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,h.Z)(function*(f,a,c,g,P={}){const F=yield an(f,a,c,g,P);return"mfaPendingCredential"in F&&xn(f,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function mr(f,a,c,g){const P=`${a}${c}?${g}`;return f.config.emulator?ft(f.config,P):`${f.config.apiScheme}://${P}`}class _n{constructor(a){this.auth=a,this.timer=null,this.promise=new Promise((c,g)=>{this.timer=setTimeout(()=>g(Dn(this.auth,"network-request-failed")),$r.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(f,a,c){const g={appName:f.name};c.email&&(g.email=c.email),c.phoneNumber&&(g.phoneNumber=c.phoneNumber);const P=Dn(f,a,g);return P.customData._tokenResponse=c,P}function Rn(){return(Rn=(0,h.Z)(function*(f,a){return an(f,"POST","/v1/accounts:delete",a)})).apply(this,arguments)}function en(){return(en=(0,h.Z)(function*(f,a){return an(f,"POST","/v1/accounts:update",a)})).apply(this,arguments)}function Gr(){return(Gr=(0,h.Z)(function*(f,a){return an(f,"POST","/v1/accounts:lookup",a)})).apply(this,arguments)}function Zn(f){if(f)try{const a=new Date(Number(f));if(!isNaN(a.getTime()))return a.toUTCString()}catch{}}function $(){return($=(0,h.Z)(function*(f,a=!1){const c=(0,Q.m9)(f),g=yield c.getIdToken(a),P=W(g);nt(P&&P.exp&&P.auth_time&&P.iat,c.auth,"internal-error");const F="object"==typeof P.firebase?P.firebase:void 0,pe=F?.sign_in_provider;return{claims:P,token:g,authTime:Zn(G(P.auth_time)),issuedAtTime:Zn(G(P.iat)),expirationTime:Zn(G(P.exp)),signInProvider:pe||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function G(f){return 1e3*Number(f)}function W(f){const[a,c,g]=f.split(".");if(void 0===a||void 0===c||void 0===g)return Gn("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,Q.tV)(c);return P?JSON.parse(P):(Gn("Failed to decode base64 JWT payload"),null)}catch(P){return Gn("Caught error parsing JWT payload as JSON",P?.toString()),null}}function Te(f,a){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,h.Z)(function*(f,a,c=!1){if(c)return a;try{return yield a}catch(g){throw g instanceof Q.ZR&&function gt({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(g)&&f.auth.currentUser===f&&(yield f.auth.signOut()),g}})).apply(this,arguments)}class Jt{constructor(a){this.user=a,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(a){var c;if(a){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const P=(null!==(c=this.user.stsTokenManager.expirationTime)&&void 0!==c?c:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(a=!1){var c=this;if(!this.isRunning)return;const g=this.getInterval(a);this.timerId=setTimeout((0,h.Z)(function*(){yield c.iteration()}),g)}iteration(){var a=this;return(0,h.Z)(function*(){try{yield a.user.getIdToken(!0)}catch(c){return void("auth/network-request-failed"===c?.code&&a.schedule(!0))}a.schedule()})()}}class rn{constructor(a,c){this.createdAt=a,this.lastLoginAt=c,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zn(this.lastLoginAt),this.creationTime=Zn(this.createdAt)}_copy(a){this.createdAt=a.createdAt,this.lastLoginAt=a.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(f){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,h.Z)(function*(f){var a;const c=f.auth,g=yield f.getIdToken(),P=yield Te(f,function Rr(f,a){return Gr.apply(this,arguments)}(c,{idToken:g}));nt(P?.users.length,c,"internal-error");const F=P.users[0];f._notifyReloadListener(F);const pe=null!==(a=F.providerUserInfo)&&void 0!==a&&a.length?function Li(f){return f.map(a=>{var{providerId:c}=a,g=ge(a,["providerId"]);return{providerId:c,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(F.providerUserInfo):[],Me=function ki(f,a){return[...f.filter(g=>!a.some(P=>P.providerId===g.providerId)),...a]}(f.providerData,pe),Dt=!!f.isAnonymous&&!(f.email&&F.passwordHash||Me?.length),Ut={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:Me,metadata:new rn(F.createdAt,F.lastLoginAt),isAnonymous:Dt};Object.assign(f,Ut)}),Zt.apply(this,arguments)}function zr(){return(zr=(0,h.Z)(function*(f){const a=(0,Q.m9)(f);yield kn(a),yield a.auth._persistUserIfCurrent(a),a.auth._notifyListenersIfCurrent(a)})).apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(f,a){const c=yield Bn(f,{},(0,h.Z)(function*(){const g=(0,Q.xO)({grant_type:"refresh_token",refresh_token:a}).slice(1),{tokenApiHost:P,apiKey:F}=f.config,pe=mr(f,P,"/v1/token",`key=${F}`),Me=yield f._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",dr.fetch()(pe,{method:"POST",headers:Me,body:g})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(a){nt(a.idToken,"internal-error"),nt(typeof a.idToken<"u","internal-error"),nt(typeof a.refreshToken<"u","internal-error");const c="expiresIn"in a&&typeof a.expiresIn<"u"?Number(a.expiresIn):function X(f){const a=W(f);return nt(a,"internal-error"),nt(typeof a.exp<"u","internal-error"),nt(typeof a.iat<"u","internal-error"),Number(a.exp)-Number(a.iat)}(a.idToken);this.updateTokensAndExpiration(a.idToken,a.refreshToken,c)}getToken(a,c=!1){var g=this;return(0,h.Z)(function*(){return nt(!g.accessToken||g.refreshToken,a,"user-token-expired"),c||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(a,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(a,c){var g=this;return(0,h.Z)(function*(){const{accessToken:P,refreshToken:F,expiresIn:pe}=yield function We(f,a){return ke.apply(this,arguments)}(a,c);g.updateTokensAndExpiration(P,F,Number(pe))})()}updateTokensAndExpiration(a,c,g){this.refreshToken=c||null,this.accessToken=a||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(a,c){const{refreshToken:g,accessToken:P,expirationTime:F}=c,pe=new rt;return g&&(nt("string"==typeof g,"internal-error",{appName:a}),pe.refreshToken=g),P&&(nt("string"==typeof P,"internal-error",{appName:a}),pe.accessToken=P),F&&(nt("number"==typeof F,"internal-error",{appName:a}),pe.expirationTime=F),pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(a){this.accessToken=a.accessToken,this.refreshToken=a.refreshToken,this.expirationTime=a.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return St("not implemented")}}function Lt(f,a){nt("string"==typeof f||typeof f>"u","internal-error",{appName:a})}class zt{constructor(a){var{uid:c,auth:g,stsTokenManager:P}=a,F=ge(a,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=c,this.auth=g,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new rn(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(a){var c=this;return(0,h.Z)(function*(){const g=yield Te(c,c.stsTokenManager.getToken(c.auth,a));return nt(g,c.auth,"internal-error"),c.accessToken!==g&&(c.accessToken=g,yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)),g})()}getIdTokenResult(a){return function _e(f){return $.apply(this,arguments)}(this,a)}reload(){return function Sn(f){return zr.apply(this,arguments)}(this)}_assign(a){this!==a&&(nt(this.uid===a.uid,this.auth,"internal-error"),this.displayName=a.displayName,this.photoURL=a.photoURL,this.email=a.email,this.emailVerified=a.emailVerified,this.phoneNumber=a.phoneNumber,this.isAnonymous=a.isAnonymous,this.tenantId=a.tenantId,this.providerData=a.providerData.map(c=>Object.assign({},c)),this.metadata._copy(a.metadata),this.stsTokenManager._assign(a.stsTokenManager))}_clone(a){const c=new zt(Object.assign(Object.assign({},this),{auth:a,stsTokenManager:this.stsTokenManager._clone()}));return c.metadata._copy(this.metadata),c}_onReload(a){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=a,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(a){this.reloadListener?this.reloadListener(a):this.reloadUserInfo=a}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(a,c=!1){var g=this;return(0,h.Z)(function*(){let P=!1;a.idToken&&a.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(a),P=!0),c&&(yield kn(g)),yield g.auth._persistUserIfCurrent(g),P&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var a=this;return(0,h.Z)(function*(){const c=yield a.getIdToken();return yield Te(a,function Xr(f,a){return Rn.apply(this,arguments)}(a.auth,{idToken:c})),a.stsTokenManager.clearRefreshToken(),a.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(a=>Object.assign({},a)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(a,c){var g,P,F,pe,Me,ot,Xe,Dt;const Ut=null!==(g=c.displayName)&&void 0!==g?g:void 0,Wn=null!==(P=c.email)&&void 0!==P?P:void 0,ui=null!==(F=c.phoneNumber)&&void 0!==F?F:void 0,sa=null!==(pe=c.photoURL)&&void 0!==pe?pe:void 0,Nl=null!==(Me=c.tenantId)&&void 0!==Me?Me:void 0,Pc=null!==(ot=c._redirectEventId)&&void 0!==ot?ot:void 0,lu=null!==(Xe=c.createdAt)&&void 0!==Xe?Xe:void 0,Rc=null!==(Dt=c.lastLoginAt)&&void 0!==Dt?Dt:void 0,{uid:Oc,emailVerified:cu,isAnonymous:xu,providerData:uu,stsTokenManager:ku}=c;nt(Oc&&ku,a,"internal-error");const Da=rt.fromJSON(this.name,ku);nt("string"==typeof Oc,a,"internal-error"),Lt(Ut,a.name),Lt(Wn,a.name),nt("boolean"==typeof cu,a,"internal-error"),nt("boolean"==typeof xu,a,"internal-error"),Lt(ui,a.name),Lt(sa,a.name),Lt(Nl,a.name),Lt(Pc,a.name),Lt(lu,a.name),Lt(Rc,a.name);const sl=new zt({uid:Oc,auth:a,email:Wn,emailVerified:cu,displayName:Ut,isAnonymous:xu,photoURL:sa,phoneNumber:ui,tenantId:Nl,stsTokenManager:Da,createdAt:lu,lastLoginAt:Rc});return uu&&Array.isArray(uu)&&(sl.providerData=uu.map(yd=>Object.assign({},yd))),Pc&&(sl._redirectEventId=Pc),sl}static _fromIdTokenResponse(a,c,g=!1){return(0,h.Z)(function*(){const P=new rt;P.updateFromServerResponse(c);const F=new zt({uid:c.localId,auth:a,stsTokenManager:P,isAnonymous:g});return yield kn(F),F})()}}const un=new Map;function yn(f){Mn(f instanceof Function,"Expected a class definition");let a=un.get(f);return a?(Mn(a instanceof f,"Instance stored in cache mismatched with class"),a):(a=new f,un.set(f,a),a)}const nr=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(c,g){var P=this;return(0,h.Z)(function*(){P.storage[c]=g})()}_get(c){var g=this;return(0,h.Z)(function*(){const P=g.storage[c];return void 0===P?null:P})()}_remove(c){var g=this;return(0,h.Z)(function*(){delete g.storage[c]})()}_addListener(c,g){}_removeListener(c,g){}}return f.type="NONE",f})();function er(f,a,c){return`firebase:${f}:${a}:${c}`}class qn{constructor(a,c,g){this.persistence=a,this.auth=c,this.userKey=g;const{config:P,name:F}=this.auth;this.fullUserKey=er(this.userKey,P.apiKey,F),this.fullPersistenceKey=er("persistence",P.apiKey,F),this.boundEventHandler=c._onStorageEvent.bind(c),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(a){return this.persistence._set(this.fullUserKey,a.toJSON())}getCurrentUser(){var a=this;return(0,h.Z)(function*(){const c=yield a.persistence._get(a.fullUserKey);return c?zt._fromJSON(a.auth,c):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(a){var c=this;return(0,h.Z)(function*(){if(c.persistence===a)return;const g=yield c.getCurrentUser();return yield c.removeCurrentUser(),c.persistence=a,g?c.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(a,c,g="authUser"){return(0,h.Z)(function*(){if(!c.length)return new qn(yn(nr),a,g);const P=(yield Promise.all(c.map(function(){var Xe=(0,h.Z)(function*(Dt){if(yield Dt._isAvailable())return Dt});return function(Dt){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let F=P[0]||yn(nr);const pe=er(g,a.config.apiKey,a.name);let Me=null;for(const Xe of c)try{const Dt=yield Xe._get(pe);if(Dt){const Ut=zt._fromJSON(a,Dt);Xe!==F&&(Me=Ut),F=Xe;break}}catch{}const ot=P.filter(Xe=>Xe._shouldAllowMigration);return F._shouldAllowMigration&&ot.length?(F=ot[0],Me&&(yield F._set(pe,Me.toJSON())),yield Promise.all(c.map(function(){var Xe=(0,h.Z)(function*(Dt){if(Dt!==F)try{yield Dt._remove(pe)}catch{}});return function(Dt){return Xe.apply(this,arguments)}}())),new qn(F,a,g)):new qn(F,a,g)})()}}function di(f){const a=f.toLowerCase();if(a.includes("opera/")||a.includes("opr/")||a.includes("opios/"))return"Opera";if(Ti(a))return"IEMobile";if(a.includes("msie")||a.includes("trident/"))return"IE";if(a.includes("edge/"))return"Edge";if(is(a))return"Firefox";if(a.includes("silk/"))return"Silk";if(Fi(a))return"Blackberry";if(vi(a))return"Webos";if(Kr(a))return"Safari";if((a.includes("chrome/")||Ts(a))&&!a.includes("edge/"))return"Chrome";if(_s(a))return"Android";{const g=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function is(f=(0,Q.z$)()){return/firefox\//i.test(f)}function Kr(f=(0,Q.z$)()){const a=f.toLowerCase();return a.includes("safari/")&&!a.includes("chrome/")&&!a.includes("crios/")&&!a.includes("android")}function Ts(f=(0,Q.z$)()){return/crios\//i.test(f)}function Ti(f=(0,Q.z$)()){return/iemobile/i.test(f)}function _s(f=(0,Q.z$)()){return/android/i.test(f)}function Fi(f=(0,Q.z$)()){return/blackberry/i.test(f)}function vi(f=(0,Q.z$)()){return/webos/i.test(f)}function Yi(f=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Qi(f=(0,Q.z$)()){return Yi(f)||_s(f)||vi(f)||Fi(f)||/windows phone/i.test(f)||Ti(f)}function Xi(f,a=[]){let c;switch(f){case"Browser":c=di((0,Q.z$)());break;case"Worker":c=`${di((0,Q.z$)())}-${f}`;break;default:c=f}const g=a.length?a.join(","):"FirebaseCore-web";return`${c}/JsCore/${Ce.SDK_VERSION}/${g}`}function ai(){return(ai=(0,h.Z)(function*(f){return(yield an(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ss(f,a){return bn.apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(f,a){return an(f,"GET","/v2/recaptchaConfig",In(f,a))})).apply(this,arguments)}function _r(f){return void 0!==f&&void 0!==f.getResponse}function Tr(f){return void 0!==f&&void 0!==f.enterprise}class Ei{constructor(a){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===a.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=a.recaptchaKey.split("/")[3],this.emailPasswordEnabled=a.recaptchaEnforcementState.some(c=>"EMAIL_PASSWORD_PROVIDER"===c.provider&&"OFF"!==c.enforcementState)}}function Ji(f){return new Promise((a,c)=>{const g=document.createElement("script");g.setAttribute("src",f),g.onload=a,g.onerror=P=>{const F=Dn("internal-error");F.customData=P,c(F)},g.type="text/javascript",g.charset="UTF-8",function hr(){var f,a;return null!==(a=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==a?a:document}().appendChild(g)})}function Yr(f){return`__${f}${Math.floor(1e6*Math.random())}`}class De{constructor(a){this.type="recaptcha-enterprise",this.auth=Qe(a)}verify(a="verify",c=!1){var g=this;return(0,h.Z)(function*(){function F(){return F=(0,h.Z)(function*(Me){if(!c){if(null==Me.tenantId&&null!=Me._agentRecaptchaConfig)return Me._agentRecaptchaConfig.siteKey;if(null!=Me.tenantId&&void 0!==Me._tenantRecaptchaConfigs[Me.tenantId])return Me._tenantRecaptchaConfigs[Me.tenantId].siteKey}return new Promise(function(){var ot=(0,h.Z)(function*(Xe,Dt){ss(Me,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ut=>{if(void 0!==Ut.recaptchaKey){const Wn=new Ei(Ut);return null==Me.tenantId?Me._agentRecaptchaConfig=Wn:Me._tenantRecaptchaConfigs[Me.tenantId]=Wn,Xe(Wn.siteKey)}Dt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ut=>{Dt(Ut)})});return function(Xe,Dt){return ot.apply(this,arguments)}}())}),F.apply(this,arguments)}function pe(Me,ot,Xe){const Dt=window.grecaptcha;Tr(Dt)?Dt.enterprise.ready(()=>{Dt.enterprise.execute(Me,{action:a}).then(Ut=>{ot(Ut)}).catch(()=>{ot("NO_RECAPTCHA")})}):Xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Me,ot)=>{(function P(Me){return F.apply(this,arguments)})(g.auth).then(Xe=>{if(!c&&Tr(window.grecaptcha))pe(Xe,Me,ot);else{if(typeof window>"u")return void ot(new Error("RecaptchaVerifier is only supported in browser"));Ji("https://www.google.com/recaptcha/enterprise.js?render="+Xe).then(()=>{pe(Xe,Me,ot)}).catch(Dt=>{ot(Dt)})}}).catch(Xe=>{ot(Xe)})})})()}}function re(f,a,c){return me.apply(this,arguments)}function me(){return(me=(0,h.Z)(function*(f,a,c,g=!1){const P=new De(f);let F;try{F=yield P.verify(c)}catch{F=yield P.verify(c,!0)}const pe=Object.assign({},a);return Object.assign(pe,g?{captchaResp:F}:{captchaResponse:F}),Object.assign(pe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(pe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),pe})).apply(this,arguments)}class Re{constructor(a){this.auth=a,this.queue=[]}pushCallback(a,c){const g=F=>new Promise((pe,Me)=>{try{pe(a(F))}catch(ot){Me(ot)}});g.onAbort=c,this.queue.push(g);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(a){var c=this;return(0,h.Z)(function*(){if(c.auth.currentUser===a)return;const g=[];try{for(const P of c.queue)yield P(a),P.onAbort&&g.push(P.onAbort)}catch(P){g.reverse();for(const F of g)try{F()}catch{}throw c.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class tt{constructor(a,c,g,P){this.app=a,this.heartbeatServiceProvider=c,this.appCheckServiceProvider=g,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tn(this),this.idTokenSubscription=new tn(this),this.beforeStateQueue=new Re(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=a.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(a,c){var g=this;return c&&(this._popupRedirectResolver=yn(c)),this._initializationPromise=this.queue((0,h.Z)(function*(){var P,F;if(!g._deleted&&(g.persistenceManager=yield qn.create(g,a),!g._deleted)){if(null!==(P=g._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(c),g.lastNotifiedUid=(null===(F=g.currentUser)||void 0===F?void 0:F.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var a=this;return(0,h.Z)(function*(){if(a._deleted)return;const c=yield a.assertedPersistence.getCurrentUser();if(a.currentUser||c){if(a.currentUser&&c&&a.currentUser.uid===c.uid)return a._currentUser._assign(c),void(yield a.currentUser.getIdToken());yield a._updateCurrentUser(c,!0)}})()}initializeCurrentUser(a){var c=this;return(0,h.Z)(function*(){var g;const P=yield c.assertedPersistence.getCurrentUser();let F=P,pe=!1;if(a&&c.config.authDomain){yield c.getOrInitRedirectPersistenceManager();const Me=null===(g=c.redirectUser)||void 0===g?void 0:g._redirectEventId,ot=F?._redirectEventId,Xe=yield c.tryRedirectSignIn(a);(!Me||Me===ot)&&Xe?.user&&(F=Xe.user,pe=!0)}if(!F)return c.directlySetCurrentUser(null);if(!F._redirectEventId){if(pe)try{yield c.beforeStateQueue.runMiddleware(F)}catch(Me){F=P,c._popupRedirectResolver._overrideRedirectResult(c,()=>Promise.reject(Me))}return F?c.reloadAndSetCurrentUserOrClear(F):c.directlySetCurrentUser(null)}return nt(c._popupRedirectResolver,c,"argument-error"),yield c.getOrInitRedirectPersistenceManager(),c.redirectUser&&c.redirectUser._redirectEventId===F._redirectEventId?c.directlySetCurrentUser(F):c.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(a){var c=this;return(0,h.Z)(function*(){let g=null;try{g=yield c._popupRedirectResolver._completeRedirectFn(c,a,!0)}catch{yield c._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(a){var c=this;return(0,h.Z)(function*(){try{yield kn(a)}catch(g){if("auth/network-request-failed"!==g?.code)return c.directlySetCurrentUser(null)}return c.directlySetCurrentUser(a)})()}useDeviceLanguage(){this.languageCode=function Xt(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var a=this;return(0,h.Z)(function*(){a._deleted=!0})()}updateCurrentUser(a){var c=this;return(0,h.Z)(function*(){const g=a?(0,Q.m9)(a):null;return g&&nt(g.auth.config.apiKey===c.config.apiKey,c,"invalid-user-token"),c._updateCurrentUser(g&&g._clone(c))})()}_updateCurrentUser(a,c=!1){var g=this;return(0,h.Z)(function*(){if(!g._deleted)return a&&nt(g.tenantId===a.tenantId,g,"tenant-id-mismatch"),c||(yield g.beforeStateQueue.runMiddleware(a)),g.queue((0,h.Z)(function*(){yield g.directlySetCurrentUser(a),g.notifyAuthListeners()}))})()}signOut(){var a=this;return(0,h.Z)(function*(){return yield a.beforeStateQueue.runMiddleware(null),(a.redirectPersistenceManager||a._popupRedirectResolver)&&(yield a._setRedirectUser(null)),a._updateCurrentUser(null,!0)})()}setPersistence(a){var c=this;return this.queue((0,h.Z)(function*(){yield c.assertedPersistence.setPersistence(yn(a))}))}initializeRecaptchaConfig(){var a=this;return(0,h.Z)(function*(){const c=yield ss(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),g=new Ei(c);null==a.tenantId?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,g.emailPasswordEnabled&&new De(a).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(a){this._errorFactory=new Q.LL("auth","Firebase",a())}onAuthStateChanged(a,c,g){return this.registerStateListener(this.authStateSubscription,a,c,g)}beforeAuthStateChanged(a,c){return this.beforeStateQueue.pushCallback(a,c)}onIdTokenChanged(a,c,g){return this.registerStateListener(this.idTokenSubscription,a,c,g)}toJSON(){var a;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(a=this._currentUser)||void 0===a?void 0:a.toJSON()}}_setRedirectUser(a,c){var g=this;return(0,h.Z)(function*(){const P=yield g.getOrInitRedirectPersistenceManager(c);return null===a?P.removeCurrentUser():P.setCurrentUser(a)})()}getOrInitRedirectPersistenceManager(a){var c=this;return(0,h.Z)(function*(){if(!c.redirectPersistenceManager){const g=a&&yn(a)||c._popupRedirectResolver;nt(g,c,"argument-error"),c.redirectPersistenceManager=yield qn.create(c,[yn(g._redirectPersistence)],"redirectUser"),c.redirectUser=yield c.redirectPersistenceManager.getCurrentUser()}return c.redirectPersistenceManager})()}_redirectUserForId(a){var c=this;return(0,h.Z)(function*(){var g,P;return c._isInitialized&&(yield c.queue((0,h.Z)(function*(){}))),(null===(g=c._currentUser)||void 0===g?void 0:g._redirectEventId)===a?c._currentUser:(null===(P=c.redirectUser)||void 0===P?void 0:P._redirectEventId)===a?c.redirectUser:null})()}_persistUserIfCurrent(a){var c=this;return(0,h.Z)(function*(){if(a===c.currentUser)return c.queue((0,h.Z)(function*(){return c.directlySetCurrentUser(a)}))})()}_notifyListenersIfCurrent(a){a===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var a,c;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(c=null===(a=this.currentUser)||void 0===a?void 0:a.uid)&&void 0!==c?c:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(a,c,g,P){if(this._deleted)return()=>{};const F="function"==typeof c?c:c.next.bind(c),pe=this._isInitialized?Promise.resolve():this._initializationPromise;return nt(pe,this,"internal-error"),pe.then(()=>F(this.currentUser)),"function"==typeof c?a.addObserver(c,g,P):a.addObserver(c)}directlySetCurrentUser(a){var c=this;return(0,h.Z)(function*(){c.currentUser&&c.currentUser!==a&&c._currentUser._stopProactiveRefresh(),a&&c.isProactiveRefreshEnabled&&a._startProactiveRefresh(),c.currentUser=a,a?yield c.assertedPersistence.setCurrentUser(a):yield c.assertedPersistence.removeCurrentUser()})()}queue(a){return this.operations=this.operations.then(a,a),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(a){!a||this.frameworks.includes(a)||(this.frameworks.push(a),this.frameworks.sort(),this.clientVersion=Xi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var a=this;return(0,h.Z)(function*(){var c;const g={"X-Client-Version":a.clientVersion};a.app.options.appId&&(g["X-Firebase-gmpid"]=a.app.options.appId);const P=yield null===(c=a.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getHeartbeatsHeader();P&&(g["X-Firebase-Client"]=P);const F=yield a._getAppCheckToken();return F&&(g["X-Firebase-AppCheck"]=F),g})()}_getAppCheckToken(){var a=this;return(0,h.Z)(function*(){var c;const g=yield null===(c=a.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getToken();return g?.error&&function fn(f,...a){An.logLevel<=Jn.in.WARN&&An.warn(`Auth (${Ce.SDK_VERSION}): ${f}`,...a)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function Qe(f){return(0,Q.m9)(f)}class tn{constructor(a){this.auth=a,this.observer=null,this.addObserver=(0,Q.ne)(c=>this.observer=c)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $n(f){const a=f.indexOf(":");return a<0?"":f.substr(0,a+1)}function yr(f){if(!f)return null;const a=Number(f);return isNaN(a)?null:a}class Jr{constructor(a,c){this.providerId=a,this.signInMethod=c}toJSON(){return St("not implemented")}_getIdTokenResponse(a){return St("not implemented")}_linkToIdToken(a,c){return St("not implemented")}_getReauthenticationResolver(a){return St("not implemented")}}function zn(f,a){return os.apply(this,arguments)}function os(){return(os=(0,h.Z)(function*(f,a){return an(f,"POST","/v1/accounts:resetPassword",In(f,a))})).apply(this,arguments)}function pi(f,a){return li.apply(this,arguments)}function li(){return(li=(0,h.Z)(function*(f,a){return an(f,"POST","/v1/accounts:update",a)})).apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(f,a){return an(f,"POST","/v1/accounts:update",In(f,a))})).apply(this,arguments)}function bi(f,a){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(f,a){return Qt(f,"POST","/v1/accounts:signInWithPassword",In(f,a))})).apply(this,arguments)}function es(f,a){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(f,a){return an(f,"POST","/v1/accounts:sendOobCode",In(f,a))})).apply(this,arguments)}function z(){return(z=(0,h.Z)(function*(f,a){return es(f,a)})).apply(this,arguments)}function ee(f,a){return L.apply(this,arguments)}function L(){return(L=(0,h.Z)(function*(f,a){return es(f,a)})).apply(this,arguments)}function fe(f,a){return ve.apply(this,arguments)}function ve(){return(ve=(0,h.Z)(function*(f,a){return es(f,a)})).apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(f,a){return es(f,a)})).apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(f,a){return Qt(f,"POST","/v1/accounts:signInWithEmailLink",In(f,a))})).apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(f,a){return Qt(f,"POST","/v1/accounts:signInWithEmailLink",In(f,a))})).apply(this,arguments)}class Vi extends Jr{constructor(a,c,g,P=null){super("password",g),this._email=a,this._password=c,this._tenantId=P}static _fromEmailAndPassword(a,c){return new Vi(a,c,"password")}static _fromEmailAndCode(a,c,g=null){return new Vi(a,c,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(a){const c="string"==typeof a?JSON.parse(a):a;if(c?.email&&c?.password){if("password"===c.signInMethod)return this._fromEmailAndPassword(c.email,c.password);if("emailLink"===c.signInMethod)return this._fromEmailAndCode(c.email,c.password,c.tenantId)}return null}_getIdTokenResponse(a){var c=this;return(0,h.Z)(function*(){var g;switch(c.signInMethod){case"password":const P={returnSecureToken:!0,email:c._email,password:c._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(g=a._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const F=yield re(a,P,"signInWithPassword");return bi(a,F)}return bi(a,P).catch(function(){var F=(0,h.Z)(function*(pe){if("auth/missing-recaptcha-token"===pe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Me=yield re(a,P,"signInWithPassword");return bi(a,Me)}return Promise.reject(pe)});return function(pe){return F.apply(this,arguments)}}());case"emailLink":return function Ft(f,a){return Qn.apply(this,arguments)}(a,{email:c._email,oobCode:c._password});default:xn(a,"internal-error")}})()}_linkToIdToken(a,c){var g=this;return(0,h.Z)(function*(){switch(g.signInMethod){case"password":return pi(a,{idToken:c,returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function fr(f,a){return pr.apply(this,arguments)}(a,{idToken:c,email:g._email,oobCode:g._password});default:xn(a,"internal-error")}})()}_getReauthenticationResolver(a){return this._getIdTokenResponse(a)}}function ir(f,a){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(f,a){return Qt(f,"POST","/v1/accounts:signInWithIdp",In(f,a))})).apply(this,arguments)}class ri extends Jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(a){const c=new ri(a.providerId,a.signInMethod);return a.idToken||a.accessToken?(a.idToken&&(c.idToken=a.idToken),a.accessToken&&(c.accessToken=a.accessToken),a.nonce&&!a.pendingToken&&(c.nonce=a.nonce),a.pendingToken&&(c.pendingToken=a.pendingToken)):a.oauthToken&&a.oauthTokenSecret?(c.accessToken=a.oauthToken,c.secret=a.oauthTokenSecret):xn("argument-error"),c}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(a){const c="string"==typeof a?JSON.parse(a):a,{providerId:g,signInMethod:P}=c,F=ge(c,["providerId","signInMethod"]);if(!g||!P)return null;const pe=new ri(g,P);return pe.idToken=F.idToken||void 0,pe.accessToken=F.accessToken||void 0,pe.secret=F.secret,pe.nonce=F.nonce,pe.pendingToken=F.pendingToken||null,pe}_getIdTokenResponse(a){return ir(a,this.buildRequest())}_linkToIdToken(a,c){const g=this.buildRequest();return g.idToken=c,ir(a,g)}_getReauthenticationResolver(a){const c=this.buildRequest();return c.autoCreate=!1,ir(a,c)}buildRequest(){const a={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)a.pendingToken=this.pendingToken;else{const c={};this.idToken&&(c.id_token=this.idToken),this.accessToken&&(c.access_token=this.accessToken),this.secret&&(c.oauth_token_secret=this.secret),c.providerId=this.providerId,this.nonce&&!this.pendingToken&&(c.nonce=this.nonce),a.postBody=(0,Q.xO)(c)}return a}}function fo(){return(fo=(0,h.Z)(function*(f,a){return an(f,"POST","/v1/accounts:sendVerificationCode",In(f,a))})).apply(this,arguments)}function Ys(){return(Ys=(0,h.Z)(function*(f,a){return Qt(f,"POST","/v1/accounts:signInWithPhoneNumber",In(f,a))})).apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(f,a){const c=yield Qt(f,"POST","/v1/accounts:signInWithPhoneNumber",In(f,a));if(c.temporaryProof)throw On(f,"account-exists-with-different-credential",c);return c})).apply(this,arguments)}const aa={USER_NOT_FOUND:"user-not-found"};function Mi(){return(Mi=(0,h.Z)(function*(f,a){return Qt(f,"POST","/v1/accounts:signInWithPhoneNumber",In(f,Object.assign(Object.assign({},a),{operation:"REAUTH"})),aa)})).apply(this,arguments)}class qs extends Jr{constructor(a){super("phone","phone"),this.params=a}static _fromVerification(a,c){return new qs({verificationId:a,verificationCode:c})}static _fromTokenResponse(a,c){return new qs({phoneNumber:a,temporaryProof:c})}_getIdTokenResponse(a){return function Ks(f,a){return Ys.apply(this,arguments)}(a,this._makeVerificationRequest())}_linkToIdToken(a,c){return function as(f,a){return Zs.apply(this,arguments)}(a,Object.assign({idToken:c},this._makeVerificationRequest()))}_getReauthenticationResolver(a){return function To(f,a){return Mi.apply(this,arguments)}(a,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:a,phoneNumber:c,verificationId:g,verificationCode:P}=this.params;return a&&c?{temporaryProof:a,phoneNumber:c}:{sessionInfo:g,code:P}}toJSON(){const a={providerId:this.providerId};return this.params.phoneNumber&&(a.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(a.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(a.verificationCode=this.params.verificationCode),this.params.verificationId&&(a.verificationId=this.params.verificationId),a}static fromJSON(a){"string"==typeof a&&(a=JSON.parse(a));const{verificationId:c,verificationCode:g,phoneNumber:P,temporaryProof:F}=a;return g||c||P||F?new qs({verificationId:c,verificationCode:g,phoneNumber:P,temporaryProof:F}):null}}class Qs{constructor(a){var c,g,P,F,pe,Me;const ot=(0,Q.zd)((0,Q.pd)(a)),Xe=null!==(c=ot.apiKey)&&void 0!==c?c:null,Dt=null!==(g=ot.oobCode)&&void 0!==g?g:null,Ut=function gr(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=ot.mode)&&void 0!==P?P:null);nt(Xe&&Dt&&Ut,"argument-error"),this.apiKey=Xe,this.operation=Ut,this.code=Dt,this.continueUrl=null!==(F=ot.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(pe=ot.languageCode)&&void 0!==pe?pe:null,this.tenantId=null!==(Me=ot.tenantId)&&void 0!==Me?Me:null}static parseLink(a){const c=function ks(f){const a=(0,Q.zd)((0,Q.pd)(f)).link,c=a?(0,Q.zd)((0,Q.pd)(a)).deep_link_id:null,g=(0,Q.zd)((0,Q.pd)(f)).deep_link_id;return(g?(0,Q.zd)((0,Q.pd)(g)).link:null)||g||c||a||f}(a);try{return new Qs(c)}catch{return null}}}let Ls=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(c,g){return Vi._fromEmailAndPassword(c,g)}static credentialWithLink(c,g){const P=Qs.parseLink(g);return nt(P,"argument-error"),Vi._fromEmailAndCode(c,P.code,P.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class gi{constructor(a){this.providerId=a,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(a){this.defaultLanguageCode=a}setCustomParameters(a){return this.customParameters=a,this}getCustomParameters(){return this.customParameters}}class mi extends gi{constructor(){super(...arguments),this.scopes=[]}addScope(a){return this.scopes.includes(a)||this.scopes.push(a),this}getScopes(){return[...this.scopes]}}class Ci extends mi{static credentialFromJSON(a){const c="string"==typeof a?JSON.parse(a):a;return nt("providerId"in c&&"signInMethod"in c,"argument-error"),ri._fromParams(c)}credential(a){return this._credential(Object.assign(Object.assign({},a),{nonce:a.rawNonce}))}_credential(a){return nt(a.idToken||a.accessToken,"argument-error"),ri._fromParams(Object.assign(Object.assign({},a),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(a){return Ci.oauthCredentialFromTaggedObject(a)}static credentialFromError(a){return Ci.oauthCredentialFromTaggedObject(a.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;const{oauthIdToken:c,oauthAccessToken:g,oauthTokenSecret:P,pendingToken:F,nonce:pe,providerId:Me}=a;if(!g&&!P&&!c&&!F||!Me)return null;try{return new Ci(Me)._credential({idToken:c,accessToken:g,nonce:pe,pendingToken:F})}catch{return null}}}let dn=(()=>{class f extends mi{constructor(){super("facebook.com")}static credential(c){return ri._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return f.credential(c.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),no=(()=>{class f extends mi{constructor(){super("google.com"),this.addScope("profile")}static credential(c,g){return ri._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:c,accessToken:g})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:g,oauthAccessToken:P}=c;if(!g&&!P)return null;try{return f.credential(g,P)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Xs=(()=>{class f extends mi{constructor(){super("github.com")}static credential(c){return ri._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return f.credential(c.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class sr extends Jr{constructor(a,c){super(a,a),this.pendingToken=c}_getIdTokenResponse(a){return ir(a,this.buildRequest())}_linkToIdToken(a,c){const g=this.buildRequest();return g.idToken=c,ir(a,g)}_getReauthenticationResolver(a){const c=this.buildRequest();return c.autoCreate=!1,ir(a,c)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(a){const c="string"==typeof a?JSON.parse(a):a,{providerId:g,signInMethod:P,pendingToken:F}=c;return g&&P&&F&&g===P?new sr(g,F):null}static _create(a,c){return new sr(a,c)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ir extends gi{constructor(a){nt(a.startsWith("saml."),"argument-error"),super(a)}static credentialFromResult(a){return Ir.samlCredentialFromTaggedObject(a)}static credentialFromError(a){return Ir.samlCredentialFromTaggedObject(a.customData||{})}static credentialFromJSON(a){const c=sr.fromJSON(a);return nt(c,"argument-error"),c}static samlCredentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;const{pendingToken:c,providerId:g}=a;if(!c||!g)return null;try{return sr._create(g,c)}catch{return null}}}let po=(()=>{class f extends mi{constructor(){super("twitter.com")}static credential(c,g){return ri._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:c,oauthTokenSecret:g})}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthAccessToken:g,oauthTokenSecret:P}=c;if(!g||!P)return null;try{return f.credential(g,P)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function go(f,a){return Us.apply(this,arguments)}function Us(){return(Us=(0,h.Z)(function*(f,a){return Qt(f,"POST","/v1/accounts:signUp",In(f,a))})).apply(this,arguments)}class Or{constructor(a){this.user=a.user,this.providerId=a.providerId,this._tokenResponse=a._tokenResponse,this.operationType=a.operationType}static _fromIdTokenResponse(a,c,g,P=!1){return(0,h.Z)(function*(){const F=yield zt._fromIdTokenResponse(a,g,P),pe=Hi(g);return new Or({user:F,providerId:pe,_tokenResponse:g,operationType:c})})()}static _forOperation(a,c,g){return(0,h.Z)(function*(){yield a._updateTokensIfNecessary(g,!0);const P=Hi(g);return new Or({user:a,providerId:P,_tokenResponse:g,operationType:c})})()}}function Hi(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function Di(){return(Di=(0,h.Z)(function*(f){var a;const c=Qe(f);if(yield c._initializationPromise,null!==(a=c.currentUser)&&void 0!==a&&a.isAnonymous)return new Or({user:c.currentUser,providerId:null,operationType:"signIn"});const g=yield go(c,{returnSecureToken:!0}),P=yield Or._fromIdTokenResponse(c,"signIn",g,!0);return yield c._updateCurrentUser(P.user),P})).apply(this,arguments)}class ls extends Q.ZR{constructor(a,c,g,P){var F;super(c.code,c.message),this.operationType=g,this.user=P,Object.setPrototypeOf(this,ls.prototype),this.customData={appName:a.name,tenantId:null!==(F=a.tenantId)&&void 0!==F?F:void 0,_serverResponse:c.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(a,c,g,P){return new ls(a,c,g,P)}}function Wr(f,a,c,g){return("reauthenticate"===a?c._getReauthenticationResolver(f):c._getIdTokenResponse(f)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?ls._fromErrorAndOperation(f,F,a,g):F})}function cs(f){return new Set(f.map(({providerId:a})=>a).filter(a=>!!a))}function ro(){return ro=(0,h.Z)(function*(f,a){const c=(0,Q.m9)(f);yield Pi(!0,c,a);const{providerUserInfo:g}=yield function xr(f,a){return en.apply(this,arguments)}(c.auth,{idToken:yield c.getIdToken(),deleteProvider:[a]}),P=cs(g||[]);return c.providerData=c.providerData.filter(F=>P.has(F.providerId)),P.has("phone")||(c.phoneNumber=null),yield c.auth._persistUserIfCurrent(c),c}),ro.apply(this,arguments)}function io(f,a){return us.apply(this,arguments)}function us(){return(us=(0,h.Z)(function*(f,a,c=!1){const g=yield Te(f,a._linkToIdToken(f.auth,yield f.getIdToken()),c);return Or._forOperation(f,"link",g)})).apply(this,arguments)}function Pi(f,a,c){return so.apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(f,a,c){yield kn(a);const P=!1===f?"provider-already-linked":"no-such-provider";nt(cs(a.providerData).has(c)===f,a.auth,P)})).apply(this,arguments)}function j(f,a){return _.apply(this,arguments)}function _(){return(_=(0,h.Z)(function*(f,a,c=!1){const{auth:g}=f,P="reauthenticate";try{const F=yield Te(f,Wr(g,P,a,f),c);nt(F.idToken,g,"internal-error");const pe=W(F.idToken);nt(pe,g,"internal-error");const{sub:Me}=pe;return nt(f.uid===Me,g,"user-mismatch"),Or._forOperation(f,P,F)}catch(F){throw"auth/user-not-found"===F?.code&&xn(g,"user-mismatch"),F}})).apply(this,arguments)}function E(f,a){return R.apply(this,arguments)}function R(){return(R=(0,h.Z)(function*(f,a,c=!1){const g="signIn",P=yield Wr(f,g,a),F=yield Or._fromIdTokenResponse(f,g,P);return c||(yield f._updateCurrentUser(F.user)),F})).apply(this,arguments)}function V(f,a){return ne.apply(this,arguments)}function ne(){return(ne=(0,h.Z)(function*(f,a){return E(Qe(f),a)})).apply(this,arguments)}function Ee(f,a){return be.apply(this,arguments)}function be(){return(be=(0,h.Z)(function*(f,a){const c=(0,Q.m9)(f);return yield Pi(!1,c,a.providerId),io(c,a)})).apply(this,arguments)}function Ue(f,a){return je.apply(this,arguments)}function je(){return(je=(0,h.Z)(function*(f,a){return j((0,Q.m9)(f),a)})).apply(this,arguments)}function Ot(){return(Ot=(0,h.Z)(function*(f,a){return Qt(f,"POST","/v1/accounts:signInWithCustomToken",In(f,a))})).apply(this,arguments)}function Tn(){return Tn=(0,h.Z)(function*(f,a){const c=Qe(f),g=yield function Rt(f,a){return Ot.apply(this,arguments)}(c,{token:a,returnSecureToken:!0}),P=yield Or._fromIdTokenResponse(c,"signIn",g);return yield c._updateCurrentUser(P.user),P}),Tn.apply(this,arguments)}class Wt{constructor(a,c){this.factorId=a,this.uid=c.mfaEnrollmentId,this.enrollmentTime=new Date(c.enrolledAt).toUTCString(),this.displayName=c.displayName}static _fromServerResponse(a,c){return"phoneInfo"in c?hn._fromServerResponse(a,c):"totpInfo"in c?En._fromServerResponse(a,c):xn(a,"internal-error")}}class hn extends Wt{constructor(a){super("phone",a),this.phoneNumber=a.phoneInfo}static _fromServerResponse(a,c){return new hn(c)}}class En extends Wt{constructor(a){super("totp",a)}static _fromServerResponse(a,c){return new En(c)}}function wr(f,a,c){var g;nt((null===(g=c.url)||void 0===g?void 0:g.length)>0,f,"invalid-continue-uri"),nt(typeof c.dynamicLinkDomain>"u"||c.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),a.continueUrl=c.url,a.dynamicLinkDomain=c.dynamicLinkDomain,a.canHandleCodeInApp=c.handleCodeInApp,c.iOS&&(nt(c.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),a.iOSBundleId=c.iOS.bundleId),c.android&&(nt(c.android.packageName.length>0,f,"missing-android-pkg-name"),a.androidInstallApp=c.android.installApp,a.androidMinimumVersionCode=c.android.minimumVersion,a.androidPackageName=c.android.packageName)}function Zr(){return Zr=(0,h.Z)(function*(f,a,c){var g;const P=Qe(f),F={requestType:"PASSWORD_RESET",email:a,clientType:"CLIENT_TYPE_WEB"};if(null!==(g=P._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const pe=yield re(P,F,"getOobCode",!0);c&&wr(P,pe,c),yield ee(P,pe)}else c&&wr(P,F,c),yield ee(P,F).catch(function(){var pe=(0,h.Z)(function*(Me){if("auth/missing-recaptcha-token"!==Me.code)return Promise.reject(Me);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ot=yield re(P,F,"getOobCode",!0);c&&wr(P,ot,c),yield ee(P,ot)}});return function(Me){return pe.apply(this,arguments)}}())}),Zr.apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(f,a,c){yield zn((0,Q.m9)(f),{oobCode:a,newPassword:c})})).apply(this,arguments)}function Cn(){return Cn=(0,h.Z)(function*(f,a){yield function Bi(f,a){return wi.apply(this,arguments)}((0,Q.m9)(f),{oobCode:a})}),Cn.apply(this,arguments)}function si(f,a){return ji.apply(this,arguments)}function ji(){return(ji=(0,h.Z)(function*(f,a){const c=(0,Q.m9)(f),g=yield zn(c,{oobCode:a}),P=g.requestType;switch(nt(P,c,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nt(g.newEmail,c,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nt(g.mfaInfo,c,"internal-error");default:nt(g.email,c,"internal-error")}let F=null;return g.mfaInfo&&(F=Wt._fromServerResponse(Qe(c),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:F},operation:P}})).apply(this,arguments)}function Es(){return(Es=(0,h.Z)(function*(f,a){const{data:c}=yield si((0,Q.m9)(f),a);return c.email})).apply(this,arguments)}function Ri(){return Ri=(0,h.Z)(function*(f,a,c){var g;const P=Qe(f),F={returnSecureToken:!0,email:a,password:c,clientType:"CLIENT_TYPE_WEB"};let pe;if(null!==(g=P._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const Xe=yield re(P,F,"signUpPassword");pe=go(P,Xe)}else pe=go(P,F).catch(function(){var Xe=(0,h.Z)(function*(Dt){if("auth/missing-recaptcha-token"===Dt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ut=yield re(P,F,"signUpPassword");return go(P,Ut)}return Promise.reject(Dt)});return function(Dt){return Xe.apply(this,arguments)}}());const Me=yield pe.catch(Xe=>Promise.reject(Xe)),ot=yield Or._fromIdTokenResponse(P,"signIn",Me);return yield P._updateCurrentUser(ot.user),ot}),Ri.apply(this,arguments)}function C(){return C=(0,h.Z)(function*(f,a,c){var g;const P=Qe(f),F={requestType:"EMAIL_SIGNIN",email:a,clientType:"CLIENT_TYPE_WEB"};function pe(Me,ot){nt(ot.handleCodeInApp,P,"argument-error"),ot&&wr(P,Me,ot)}if(null!==(g=P._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const Me=yield re(P,F,"getOobCode",!0);pe(Me,c),yield fe(P,Me)}else pe(F,c),yield fe(P,F).catch(function(){var Me=(0,h.Z)(function*(ot){if("auth/missing-recaptcha-token"!==ot.code)return Promise.reject(ot);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield re(P,F,"getOobCode",!0);pe(Xe,c),yield fe(P,Xe)}});return function(ot){return Me.apply(this,arguments)}}())}),C.apply(this,arguments)}function H(){return(H=(0,h.Z)(function*(f,a,c){const g=(0,Q.m9)(f),P=Ls.credentialWithLink(a,c||Mt());return nt(P._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),V(g,P)})).apply(this,arguments)}function Pe(){return(Pe=(0,h.Z)(function*(f,a){return an(f,"POST","/v1/accounts:createAuthUri",In(f,a))})).apply(this,arguments)}function Et(){return Et=(0,h.Z)(function*(f,a){const g={identifier:a,continueUri:rr()?Mt():"http://localhost"},{signinMethods:P}=yield function he(f,a){return Pe.apply(this,arguments)}((0,Q.m9)(f),g);return P||[]}),Et.apply(this,arguments)}function Ct(){return Ct=(0,h.Z)(function*(f,a){const c=(0,Q.m9)(f),P={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};a&&wr(c.auth,P,a);const{email:F}=yield function Nn(f,a){return z.apply(this,arguments)}(c.auth,P);F!==f.email&&(yield f.reload())}),Ct.apply(this,arguments)}function $t(){return $t=(0,h.Z)(function*(f,a,c){const g=(0,Q.m9)(f),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:a};c&&wr(g.auth,F,c);const{email:pe}=yield function qe(f,a){return vt.apply(this,arguments)}(g.auth,F);pe!==f.email&&(yield f.reload())}),$t.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(f,a){return an(f,"POST","/v1/accounts:update",a)})).apply(this,arguments)}function ti(){return ti=(0,h.Z)(function*(f,{displayName:a,photoURL:c}){if(void 0===a&&void 0===c)return;const g=(0,Q.m9)(f),F={idToken:yield g.getIdToken(),displayName:a,photoUrl:c,returnSecureToken:!0},pe=yield Te(g,function cr(f,a){return wn.apply(this,arguments)}(g.auth,F));g.displayName=pe.displayName||null,g.photoURL=pe.photoUrl||null;const Me=g.providerData.find(({providerId:ot})=>"password"===ot);Me&&(Me.displayName=g.displayName,Me.photoURL=g.photoURL),yield g._updateTokensIfNecessary(pe)}),ti.apply(this,arguments)}function Si(f,a,c){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,h.Z)(function*(f,a,c){const{auth:g}=f,F={idToken:yield f.getIdToken(),returnSecureToken:!0};a&&(F.email=a),c&&(F.password=c);const pe=yield Te(f,pi(g,F));yield f._updateTokensIfNecessary(pe,!0)})).apply(this,arguments)}class Ur{constructor(a,c,g={}){this.isNewUser=a,this.providerId=c,this.profile=g}}class st extends Ur{constructor(a,c,g,P){super(a,c,g),this.username=P}}class ur extends Ur{constructor(a,c){super(a,"facebook.com",c)}}class dl extends st{constructor(a,c){super(a,"github.com",c,"string"==typeof c?.login?c?.login:null)}}class $a extends Ur{constructor(a,c){super(a,"google.com",c)}}class Oi extends st{constructor(a,c,g){super(a,"twitter.com",c,g)}}function ns(f){const{user:a,_tokenResponse:c}=f;return a.isAnonymous&&!c?{providerId:null,isNewUser:!1,profile:null}:function oo(f){var a,c;if(!f)return null;const{providerId:g}=f,P=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},F=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!g&&f?.idToken){const pe=null===(c=null===(a=W(f.idToken))||void 0===a?void 0:a.firebase)||void 0===c?void 0:c.sign_in_provider;if(pe)return new Ur(F,"anonymous"!==pe&&"custom"!==pe?pe:null)}if(!g)return null;switch(g){case"facebook.com":return new ur(F,P);case"github.com":return new dl(F,P);case"google.com":return new $a(F,P);case"twitter.com":return new Oi(F,P,f.screenName||null);case"custom":case"anonymous":return new Ur(F,null);default:return new Ur(F,g,P)}}(c)}class bs{constructor(a,c,g){this.type=a,this.credential=c,this.auth=g}static _fromIdtoken(a,c){return new bs("enroll",a,c)}static _fromMfaPendingCredential(a){return new bs("signin",a)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(a){var c,g;if(a?.multiFactorSession){if(null!==(c=a.multiFactorSession)&&void 0!==c&&c.pendingCredential)return bs._fromMfaPendingCredential(a.multiFactorSession.pendingCredential);if(null!==(g=a.multiFactorSession)&&void 0!==g&&g.idToken)return bs._fromIdtoken(a.multiFactorSession.idToken)}return null}}class Cs{constructor(a,c,g){this.session=a,this.hints=c,this.signInResolver=g}static _fromError(a,c){const g=Qe(a),P=c.customData._serverResponse,F=(P.mfaInfo||[]).map(Me=>Wt._fromServerResponse(g,Me));nt(P.mfaPendingCredential,g,"internal-error");const pe=bs._fromMfaPendingCredential(P.mfaPendingCredential);return new Cs(pe,F,function(){var Me=(0,h.Z)(function*(ot){const Xe=yield ot._process(g,pe);delete P.mfaInfo,delete P.mfaPendingCredential;const Dt=Object.assign(Object.assign({},P),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(c.operationType){case"signIn":const Ut=yield Or._fromIdTokenResponse(g,c.operationType,Dt);return yield g._updateCurrentUser(Ut.user),Ut;case"reauthenticate":return nt(c.user,g,"internal-error"),Or._forOperation(c.user,c.operationType,Dt);default:xn(g,"internal-error")}});return function(ot){return Me.apply(this,arguments)}}())}resolveSignIn(a){var c=this;return(0,h.Z)(function*(){return c.signInResolver(a)})()}}class ca{constructor(a){this.user=a,this.enrolledFactors=[],a._onReload(c=>{c.mfaInfo&&(this.enrolledFactors=c.mfaInfo.map(g=>Wt._fromServerResponse(a.auth,g)))})}static _fromUser(a){return new ca(a)}getSession(){var a=this;return(0,h.Z)(function*(){return bs._fromIdtoken(yield a.user.getIdToken(),a.user.auth)})()}enroll(a,c){var g=this;return(0,h.Z)(function*(){const P=a,F=yield g.getSession(),pe=yield Te(g.user,P._process(g.user.auth,F,c));return yield g.user._updateTokensIfNecessary(pe),g.user.reload()})()}unenroll(a){var c=this;return(0,h.Z)(function*(){const g="string"==typeof a?a:a.uid,P=yield c.user.getIdToken();try{const F=yield Te(c.user,function Ni(f,a){return an(f,"POST","/v2/accounts/mfaEnrollment:withdraw",In(f,a))}(c.user.auth,{idToken:P,mfaEnrollmentId:g}));c.enrolledFactors=c.enrolledFactors.filter(({uid:pe})=>pe!==g),yield c.user._updateTokensIfNecessary(F),yield c.user.reload()}catch(F){throw F}})()}}const yo=new WeakMap,Ho="__sak";class jo{constructor(a,c){this.storageRetriever=a,this.type=c}_isAvailable(){try{return this.storage?(this.storage.setItem(Ho,"1"),this.storage.removeItem(Ho),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(a,c){return this.storage.setItem(a,JSON.stringify(c)),Promise.resolve()}_get(a){const c=this.storage.getItem(a);return Promise.resolve(c?JSON.parse(c):null)}_remove(a){return this.storage.removeItem(a),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mo=(()=>{class f extends jo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(c,g)=>this.onStorageEvent(c,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ua(){const f=(0,Q.z$)();return Kr(f)||Yi(f)}()&&function hi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qi(),this._shouldAllowMigration=!0}forAllChangedKeys(c){for(const g of Object.keys(this.listeners)){const P=this.storage.getItem(g),F=this.localCache[g];P!==F&&c(g,F,P)}}onStorageEvent(c,g=!1){if(!c.key)return void this.forAllChangedKeys((Me,ot,Xe)=>{this.notifyListeners(Me,Xe)});const P=c.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(P);if(c.newValue!==Me)null!==c.newValue?this.storage.setItem(P,c.newValue):this.storage.removeItem(P);else if(this.localCache[P]===c.newValue&&!g)return}const F=()=>{const Me=this.storage.getItem(P);!g&&this.localCache[P]===Me||this.notifyListeners(P,Me)},pe=this.storage.getItem(P);!function qi(){return(0,Q.w1)()&&10===document.documentMode}()||pe===c.newValue||c.newValue===c.oldValue?F():setTimeout(F,10)}notifyListeners(c,g){this.localCache[c]=g;const P=this.listeners[c];if(P)for(const F of Array.from(P))F(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((c,g,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:c,oldValue:g,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(c,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[c]||(this.listeners[c]=new Set,this.localCache[c]=this.storage.getItem(c)),this.listeners[c].add(g)}_removeListener(c,g){this.listeners[c]&&(this.listeners[c].delete(g),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(c,g){var P=()=>super._set,F=this;return(0,h.Z)(function*(){yield P().call(F,c,g),F.localCache[c]=JSON.stringify(g)})()}_get(c){var g=()=>super._get,P=this;return(0,h.Z)(function*(){const F=yield g().call(P,c);return P.localCache[c]=JSON.stringify(F),F})()}_remove(c){var g=()=>super._remove,P=this;return(0,h.Z)(function*(){yield g().call(P,c),delete P.localCache[c]})()}}return f.type="LOCAL",f})(),Po=(()=>{class f extends jo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(c,g){}_removeListener(c,g){}}return f.type="SESSION",f})();let Ro=(()=>{class f{constructor(c){this.eventTarget=c,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){const g=this.receivers.find(F=>F.isListeningto(c));if(g)return g;const P=new f(c);return this.receivers.push(P),P}isListeningto(c){return this.eventTarget===c}handleEvent(c){var g=this;return(0,h.Z)(function*(){const P=c,{eventId:F,eventType:pe,data:Me}=P.data,ot=g.handlersMap[pe];if(!ot?.size)return;P.ports[0].postMessage({status:"ack",eventId:F,eventType:pe});const Xe=Array.from(ot).map(function(){var Ut=(0,h.Z)(function*(Wn){return Wn(P.origin,Me)});return function(Wn){return Ut.apply(this,arguments)}}()),Dt=yield function Ki(f){return Promise.all(f.map(function(){var a=(0,h.Z)(function*(c){try{return{fulfilled:!0,value:yield c}}catch(g){return{fulfilled:!1,reason:g}}});return function(c){return a.apply(this,arguments)}}()))}(Xe);P.ports[0].postMessage({status:"done",eventId:F,eventType:pe,response:Dt})})()}_subscribe(c,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[c]||(this.handlersMap[c]=new Set),this.handlersMap[c].add(g)}_unsubscribe(c,g){this.handlersMap[c]&&g&&this.handlersMap[c].delete(g),(!g||0===this.handlersMap[c].size)&&delete this.handlersMap[c],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Br(f="",a=10){let c="";for(let g=0;g<a;g++)c+=Math.floor(10*Math.random());return f+c}class pl{constructor(a){this.target=a,this.handlers=new Set}removeMessageHandler(a){a.messageChannel&&(a.messageChannel.port1.removeEventListener("message",a.onMessage),a.messageChannel.port1.close()),this.handlers.delete(a)}_send(a,c,g=50){var P=this;return(0,h.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let pe,Me;return new Promise((ot,Xe)=>{const Dt=Br("",20);F.port1.start();const Ut=setTimeout(()=>{Xe(new Error("unsupported_event"))},g);Me={messageChannel:F,onMessage(Wn){const ui=Wn;if(ui.data.eventId===Dt)switch(ui.data.status){case"ack":clearTimeout(Ut),pe=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(pe),ot(ui.data.response);break;default:clearTimeout(Ut),clearTimeout(pe),Xe(new Error("invalid_response"))}}},P.handlers.add(Me),F.port1.addEventListener("message",Me.onMessage),P.target.postMessage({eventType:a,eventId:Dt,data:c},[F.port2])}).finally(()=>{Me&&P.removeMessageHandler(Me)})})()}}function _i(){return window}function ha(){return typeof _i().WorkerGlobalScope<"u"&&"function"==typeof _i().importScripts}function Oo(){return(Oo=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ma="firebaseLocalStorageDb",zo="firebaseLocalStorage",Wo="fbase_key";class Go{constructor(a){this.request=a}toPromise(){return new Promise((a,c)=>{this.request.addEventListener("success",()=>{a(this.request.result)}),this.request.addEventListener("error",()=>{c(this.request.error)})})}}function vo(f,a){return f.transaction([zo],a?"readwrite":"readonly").objectStore(zo)}function D(){const f=indexedDB.open(Ma,1);return new Promise((a,c)=>{f.addEventListener("error",()=>{c(f.error)}),f.addEventListener("upgradeneeded",()=>{const g=f.result;try{g.createObjectStore(zo,{keyPath:Wo})}catch(P){c(P)}}),f.addEventListener("success",(0,h.Z)(function*(){const g=f.result;g.objectStoreNames.contains(zo)?a(g):(g.close(),yield function v(){const f=indexedDB.deleteDatabase(Ma);return new Go(f).toPromise()}(),a(yield D()))}))})}function m(f,a,c){return A.apply(this,arguments)}function A(){return(A=(0,h.Z)(function*(f,a,c){const g=vo(f,!0).put({[Wo]:a,value:c});return new Go(g).toPromise()})).apply(this,arguments)}function q(){return(q=(0,h.Z)(function*(f,a){const c=vo(f,!1).get(a),g=yield new Go(c).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function te(f,a){const c=vo(f,!0).delete(a);return new Go(c).toPromise()}const qt=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var c=this;return(0,h.Z)(function*(){return c.db||(c.db=yield D()),c.db})()}_withRetries(c){var g=this;return(0,h.Z)(function*(){let P=0;for(;;)try{const F=yield g._openDb();return yield c(F)}catch(F){if(P++>3)throw F;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var c=this;return(0,h.Z)(function*(){return ha()?c.initializeReceiver():c.initializeSender()})()}initializeReceiver(){var c=this;return(0,h.Z)(function*(){c.receiver=Ro._getInstance(function Hs(){return ha()?self:null}()),c.receiver._subscribe("keyChanged",function(){var g=(0,h.Z)(function*(P,F){return{keyProcessed:(yield c._poll()).includes(F.key)}});return function(P,F){return g.apply(this,arguments)}}()),c.receiver._subscribe("ping",function(){var g=(0,h.Z)(function*(P,F){return["keyChanged"]});return function(P,F){return g.apply(this,arguments)}}())})()}initializeSender(){var c=this;return(0,h.Z)(function*(){var g,P;if(c.activeServiceWorker=yield function Ga(){return Oo.apply(this,arguments)}(),!c.activeServiceWorker)return;c.sender=new pl(c.activeServiceWorker);const F=yield c.sender._send("ping",{},800);F&&null!==(g=F[0])&&void 0!==g&&g.fulfilled&&null!==(P=F[0])&&void 0!==P&&P.value.includes("keyChanged")&&(c.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(c){var g=this;return(0,h.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function $o(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:c},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const c=yield D();return yield m(c,Ho,"1"),yield te(c,Ho),!0}catch{}return!1})()}_withPendingWrite(c){var g=this;return(0,h.Z)(function*(){g.pendingWrites++;try{yield c()}finally{g.pendingWrites--}})()}_set(c,g){var P=this;return(0,h.Z)(function*(){return P._withPendingWrite((0,h.Z)(function*(){return yield P._withRetries(F=>m(F,c,g)),P.localCache[c]=g,P.notifyServiceWorker(c)}))})()}_get(c){var g=this;return(0,h.Z)(function*(){const P=yield g._withRetries(F=>function k(f,a){return q.apply(this,arguments)}(F,c));return g.localCache[c]=P,P})()}_remove(c){var g=this;return(0,h.Z)(function*(){return g._withPendingWrite((0,h.Z)(function*(){return yield g._withRetries(P=>te(P,c)),delete g.localCache[c],g.notifyServiceWorker(c)}))})()}_poll(){var c=this;return(0,h.Z)(function*(){const g=yield c._withRetries(pe=>{const Me=vo(pe,!1).getAll();return new Go(Me).toPromise()});if(!g)return[];if(0!==c.pendingWrites)return[];const P=[],F=new Set;for(const{fbase_key:pe,value:Me}of g)F.add(pe),JSON.stringify(c.localCache[pe])!==JSON.stringify(Me)&&(c.notifyListeners(pe,Me),P.push(pe));for(const pe of Object.keys(c.localCache))c.localCache[pe]&&!F.has(pe)&&(c.notifyListeners(pe,null),P.push(pe));return P})()}notifyListeners(c,g){this.localCache[c]=g;const P=this.listeners[c];if(P)for(const F of Array.from(P))F(g)}startPolling(){var c=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return c._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(c,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[c]||(this.listeners[c]=new Set,this._get(c)),this.listeners[c].add(g)}_removeListener(c,g){this.listeners[c]&&(this.listeners[c].delete(g),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),zi=1e12;class js{constructor(a){this.auth=a,this.counter=zi,this._widgets=new Map}render(a,c){const g=this.counter;return this._widgets.set(g,new xo(a,this.auth.name,c||{})),this.counter++,g}reset(a){var c;const g=a||zi;null===(c=this._widgets.get(g))||void 0===c||c.delete(),this._widgets.delete(g)}getResponse(a){var c;return(null===(c=this._widgets.get(a||zi))||void 0===c?void 0:c.getResponse())||""}execute(a){var c=this;return(0,h.Z)(function*(){var g;return null===(g=c._widgets.get(a||zi))||void 0===g||g.execute(),""})()}}class xo{constructor(a,c,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof a?document.getElementById(a):a;nt(P,"argument-error",{appName:c}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hl(f){const a=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<f;g++)a.push(c.charAt(Math.floor(62*Math.random())));return a.join("")}(50);const{callback:a,"expired-callback":c}=this.params;if(a)try{a(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,c)try{c()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ka=Yr("rcb"),fa=new wt(3e4,6e4);class pc{constructor(){var a;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(a=_i().grecaptcha)||void 0===a||!a.render)}load(a,c=""){return nt(function Ds(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(c),a,"argument-error"),this.shouldResolveImmediately(c)&&_r(_i().grecaptcha)?Promise.resolve(_i().grecaptcha):new Promise((g,P)=>{const F=_i().setTimeout(()=>{P(Dn(a,"network-request-failed"))},fa.get());_i()[Ka]=()=>{_i().clearTimeout(F),delete _i()[Ka];const Me=_i().grecaptcha;if(!Me||!_r(Me))return void P(Dn(a,"internal-error"));const ot=Me.render;Me.render=(Xe,Dt)=>{const Ut=ot(Xe,Dt);return this.counter++,Ut},this.hostLanguage=c,g(Me)},Ji(`https://www.google.com/recaptcha/api.js??${(0,Q.xO)({onload:Ka,render:"explicit",hl:c})}`).catch(()=>{clearTimeout(F),P(Dn(a,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(a){var c;return!(null===(c=_i().grecaptcha)||void 0===c||!c.render)&&(a===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ko{load(a){return(0,h.Z)(function*(){return new js(a)})()}clearedOneInstance(){}}const gc="recaptcha",Yo={theme:"light",type:"image"};class ml{constructor(a,c=Object.assign({},Yo),g){this.parameters=c,this.type=gc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qe(g),this.isInvisible="invisible"===this.parameters.size,nt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof a?document.getElementById(a):a;nt(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ko:new pc,this.validateStartingState()}verify(){var a=this;return(0,h.Z)(function*(){a.assertNotDestroyed();const c=yield a.render(),g=a.getAssertedRecaptcha();return g.getResponse(c)||new Promise(F=>{const pe=Me=>{Me&&(a.tokenChangeListeners.delete(pe),F(Me))};a.tokenChangeListeners.add(pe),a.isInvisible&&g.execute(c)})})()}render(){try{this.assertNotDestroyed()}catch(a){return Promise.reject(a)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(a=>{throw this.renderPromise=null,a})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(a=>{this.container.removeChild(a)})}validateStartingState(){nt(!this.parameters.sitekey,this.auth,"argument-error"),nt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),nt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(a){return c=>{if(this.tokenChangeListeners.forEach(g=>g(c)),"function"==typeof a)a(c);else if("string"==typeof a){const g=_i()[a];"function"==typeof g&&g(c)}}}assertNotDestroyed(){nt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var a=this;return(0,h.Z)(function*(){if(yield a.init(),!a.widgetId){let c=a.container;if(!a.isInvisible){const g=document.createElement("div");c.appendChild(g),c=g}a.widgetId=a.getAssertedRecaptcha().render(c,a.parameters)}return a.widgetId})()}init(){var a=this;return(0,h.Z)(function*(){nt(rr()&&!ha(),a.auth,"internal-error"),yield function Fc(){let f=null;return new Promise(a=>{"complete"!==document.readyState?(f=()=>a(),window.addEventListener("load",f)):a()}).catch(a=>{throw f&&window.removeEventListener("load",f),a})}(),a.recaptcha=yield a._recaptchaLoader.load(a.auth,a.auth.languageCode||void 0);const c=yield function ys(f){return ai.apply(this,arguments)}(a.auth);nt(c,a.auth,"internal-error"),a.parameters.sitekey=c})()}getAssertedRecaptcha(){return nt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ya{constructor(a,c){this.verificationId=a,this.onConfirmation=c}confirm(a){const c=qs._fromVerification(this.verificationId,a);return this.onConfirmation(c)}}function ko(){return(ko=(0,h.Z)(function*(f,a,c){const g=Qe(f),P=yield pa(g,a,(0,Q.m9)(c));return new Ya(P,F=>V(g,F))})).apply(this,arguments)}function _l(){return(_l=(0,h.Z)(function*(f,a,c){const g=(0,Q.m9)(f);yield Pi(!1,g,"phone");const P=yield pa(g.auth,a,(0,Q.m9)(c));return new Ya(P,F=>Ee(g,F))})).apply(this,arguments)}function qo(){return(qo=(0,h.Z)(function*(f,a,c){const g=(0,Q.m9)(f),P=yield pa(g.auth,a,(0,Q.m9)(c));return new Ya(P,F=>Ue(g,F))})).apply(this,arguments)}function pa(f,a,c){return $l.apply(this,arguments)}function $l(){return $l=(0,h.Z)(function*(f,a,c){var g;const P=yield c.verify();try{let F;if(nt("string"==typeof P,f,"argument-error"),nt(c.type===gc,f,"argument-error"),F="string"==typeof a?{phoneNumber:a}:a,"session"in F){const pe=F.session;if("phoneNumber"in F)return nt("enroll"===pe.type,f,"internal-error"),(yield function hl(f,a){return an(f,"POST","/v2/accounts/mfaEnrollment:start",In(f,a))}(f,{idToken:pe.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{nt("signin"===pe.type,f,"internal-error");const Me=(null===(g=F.multiFactorHint)||void 0===g?void 0:g.uid)||F.multiFactorUid;return nt(Me,f,"missing-multi-factor-info"),(yield function Vr(f,a){return an(f,"POST","/v2/accounts/mfaSignIn:start",In(f,a))}(f,{mfaPendingCredential:pe.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pe}=yield function oa(f,a){return fo.apply(this,arguments)}(f,{phoneNumber:F.phoneNumber,recaptchaToken:P});return pe}}finally{c._reset()}}),$l.apply(this,arguments)}function Qo(){return(Qo=(0,h.Z)(function*(f,a){yield io((0,Q.m9)(f),a)})).apply(this,arguments)}let Oa=(()=>{class f{constructor(c){this.providerId=f.PROVIDER_ID,this.auth=Qe(c)}verifyPhoneNumber(c,g){return pa(this.auth,c,(0,Q.m9)(g))}static credential(c,g){return qs._fromVerification(c,g)}static credentialFromResult(c){return f.credentialFromTaggedObject(c)}static credentialFromError(c){return f.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{phoneNumber:g,temporaryProof:P}=c;return g&&P?qs._fromTokenResponse(g,P):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function lo(f,a){return a?yn(a):(nt(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Na extends Jr{constructor(a){super("custom","custom"),this.params=a}_getIdTokenResponse(a){return ir(a,this._buildIdpRequest())}_linkToIdToken(a,c){return ir(a,this._buildIdpRequest(c))}_getReauthenticationResolver(a){return ir(a,this._buildIdpRequest())}_buildIdpRequest(a){const c={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return a&&(c.idToken=a),c}}function mc(f){return E(f.auth,new Na(f),f.bypassAuthState)}function _c(f){const{auth:a,user:c}=f;return nt(c,a,"internal-error"),j(c,new Na(f),f.bypassAuthState)}function zl(f){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,h.Z)(function*(f){const{auth:a,user:c}=f;return nt(c,a,"internal-error"),io(c,new Na(f),f.bypassAuthState)})).apply(this,arguments)}class Fo{constructor(a,c,g,P,F=!1){this.auth=a,this.resolver=g,this.user=P,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(c)?c:[c]}execute(){var a=this;return new Promise(function(){var c=(0,h.Z)(function*(g,P){a.pendingPromise={resolve:g,reject:P};try{a.eventManager=yield a.resolver._initialize(a.auth),yield a.onExecution(),a.eventManager.registerConsumer(a)}catch(F){a.reject(F)}});return function(g,P){return c.apply(this,arguments)}}())}onAuthEvent(a){var c=this;return(0,h.Z)(function*(){const{urlResponse:g,sessionId:P,postBody:F,tenantId:pe,error:Me,type:ot}=a;if(Me)return void c.reject(Me);const Xe={auth:c.auth,requestUri:g,sessionId:P,tenantId:pe||void 0,postBody:F||void 0,user:c.user,bypassAuthState:c.bypassAuthState};try{c.resolve(yield c.getIdpTask(ot)(Xe))}catch(Dt){c.reject(Dt)}})()}onError(a){this.reject(a)}getIdpTask(a){switch(a){case"signInViaPopup":case"signInViaRedirect":return mc;case"linkViaPopup":case"linkViaRedirect":return zl;case"reauthViaPopup":case"reauthViaRedirect":return _c;default:xn(this.auth,"internal-error")}}resolve(a){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(a),this.unregisterAndCleanUp()}reject(a){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(a),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xo=new wt(2e3,1e4);function wo(){return(wo=(0,h.Z)(function*(f,a,c){const g=Qe(f);Sr(f,a,gi);const P=lo(g,c);return new ga(g,"signInViaPopup",a,P).executeNotNull()})).apply(this,arguments)}function xa(){return(xa=(0,h.Z)(function*(f,a,c){const g=(0,Q.m9)(f);Sr(g.auth,a,gi);const P=lo(g.auth,c);return new ga(g.auth,"reauthViaPopup",a,P,g).executeNotNull()})).apply(this,arguments)}function El(){return(El=(0,h.Z)(function*(f,a,c){const g=(0,Q.m9)(f);Sr(g.auth,a,gi);const P=lo(g.auth,c);return new ga(g.auth,"linkViaPopup",a,P,g).executeNotNull()})).apply(this,arguments)}let ga=(()=>{class f extends Fo{constructor(c,g,P,F,pe){super(c,g,F,pe),this.provider=P,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var c=this;return(0,h.Z)(function*(){const g=yield c.execute();return nt(g,c.auth,"internal-error"),g})()}onExecution(){var c=this;return(0,h.Z)(function*(){Mn(1===c.filter.length,"Popup operations only handle one event");const g=Br();c.authWindow=yield c.resolver._openPopup(c.auth,c.provider,c.filter[0],g),c.authWindow.associatedEvent=g,c.resolver._originValidation(c.auth).catch(P=>{c.reject(P)}),c.resolver._isIframeWebStorageSupported(c.auth,P=>{P||c.reject(Dn(c.auth,"web-storage-unsupported"))}),c.pollUserCancellation()})()}get eventId(){var c;return(null===(c=this.authWindow)||void 0===c?void 0:c.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const c=()=>{var g,P;this.pollId=null!==(P=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(c,Xo.get())};c()}}return f.currentPopupAction=null,f})();const Wl="pendingRedirect",Gl=new Map;class Kl extends Fo{constructor(a,c,g=!1){super(a,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],c,void 0,g),this.eventId=null}execute(){var a=()=>super.execute,c=this;return(0,h.Z)(function*(){let g=Gl.get(c.auth._key());if(!g){try{const F=(yield function Bc(f,a){return ma.apply(this,arguments)}(c.resolver,c.auth))?yield a().call(c):null;g=()=>Promise.resolve(F)}catch(P){g=()=>Promise.reject(P)}Gl.set(c.auth._key(),g)}return c.bypassAuthState||Gl.set(c.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(a){var c=()=>super.onAuthEvent,g=this;return(0,h.Z)(function*(){if("signInViaRedirect"===a.type)return c().call(g,a);if("unknown"!==a.type){if(a.eventId){const P=yield g.auth._redirectUserForId(a.eventId);if(P)return g.user=P,c().call(g,a);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ma(){return(ma=(0,h.Z)(function*(f,a){const c=Jo(a),g=ya(f);if(!(yield g._isAvailable()))return!1;const P="true"===(yield g._get(c));return yield g._remove(c),P})).apply(this,arguments)}function yc(f,a){return _a.apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(f,a){return ya(f)._set(Jo(a),"true")})).apply(this,arguments)}function ka(f,a){Gl.set(f._key(),a)}function ya(f){return yn(f._redirectPersistence)}function Jo(f){return er(Wl,f.config.apiKey,f.name)}function hs(f,a,c){return function xi(f,a,c){return va.apply(this,arguments)}(f,a,c)}function va(){return(va=(0,h.Z)(function*(f,a,c){const g=Qe(f);Sr(f,a,gi),yield g._initializationPromise;const P=lo(g,c);return yield yc(P,g),P._openRedirect(g,a,"signInViaRedirect")})).apply(this,arguments)}function Yl(f,a,c){return function Ea(f,a,c){return Za.apply(this,arguments)}(f,a,c)}function Za(){return(Za=(0,h.Z)(function*(f,a,c){const g=(0,Q.m9)(f);Sr(g.auth,a,gi),yield g.auth._initializationPromise;const P=lo(g.auth,c);yield yc(P,g.auth);const F=yield Ne(g);return P._openRedirect(g.auth,a,"reauthViaRedirect",F)})).apply(this,arguments)}function wl(f,a,c){return function bl(f,a,c){return b.apply(this,arguments)}(f,a,c)}function b(){return(b=(0,h.Z)(function*(f,a,c){const g=(0,Q.m9)(f);Sr(g.auth,a,gi),yield g.auth._initializationPromise;const P=lo(g.auth,c);yield Pi(!1,g,a.providerId),yield yc(P,g.auth);const F=yield Ne(g);return P._openRedirect(g.auth,a,"linkViaRedirect",F)})).apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(f,a){return yield Qe(f)._initializationPromise,ae(f,a,!1)})).apply(this,arguments)}function ae(f,a){return Se.apply(this,arguments)}function Se(){return(Se=(0,h.Z)(function*(f,a,c=!1){const g=Qe(f),P=lo(g,a),pe=yield new Kl(g,P,c).execute();return pe&&!c&&(delete pe.user._redirectEventId,yield g._persistUserIfCurrent(pe.user),yield g._setRedirectUser(null,a)),pe})).apply(this,arguments)}function Ne(f){return ze.apply(this,arguments)}function ze(){return(ze=(0,h.Z)(function*(f){const a=Br(`${f.uid}:::`);return f._redirectEventId=a,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),a})).apply(this,arguments)}class Tt{constructor(a){this.auth=a,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(a){this.consumers.add(a),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,a)&&(this.sendToConsumer(this.queuedRedirectEvent,a),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(a){this.consumers.delete(a)}onEvent(a){if(this.hasEventBeenHandled(a))return!1;let c=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(a,g)&&(c=!0,this.sendToConsumer(a,g),this.saveEventToCache(a))}),this.hasHandledPotentialRedirect||!function Hn(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ln(f);default:return!1}}(a)||(this.hasHandledPotentialRedirect=!0,c||(this.queuedRedirectEvent=a,c=!0)),c}sendToConsumer(a,c){var g;if(a.error&&!Ln(a)){const P=(null===(g=a.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";c.onError(Dn(this.auth,P))}else c.onAuthEvent(a)}isEventForConsumer(a,c){const g=null===c.eventId||!!a.eventId&&a.eventId===c.eventId;return c.filter.includes(a.type)&&g}hasEventBeenHandled(a){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yt(a))}saveEventToCache(a){this.cachedEventUids.add(Yt(a)),this.lastProcessedEventTime=Date.now()}}function Yt(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(a=>a).join("-")}function Ln({type:f,error:a}){return"unknown"===f&&"auth/no-auth-event"===a?.code}function Is(f){return ci.apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(f,a={}){return an(f,"GET","/v1/projects",a)})).apply(this,arguments)}const ea=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wa=/^https?/;function fs(){return(fs=(0,h.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:a}=yield Is(f);for(const c of a)try{if(bo(c))return}catch{}xn(f,"unauthorized-domain")})).apply(this,arguments)}function bo(f){const a=Mt(),{protocol:c,hostname:g}=new URL(a);if(f.startsWith("chrome-extension://")){const pe=new URL(f);return""===pe.hostname&&""===g?"chrome-extension:"===c&&f.replace("chrome-extension://","")===a.replace("chrome-extension://",""):"chrome-extension:"===c&&pe.hostname===g}if(!wa.test(c))return!1;if(ea.test(f))return g===f;const P=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(g)}const Fa=new wt(3e4,6e4);function vc(){const f=_i().___jsl;if(f?.H)for(const a of Object.keys(f.H))if(f.H[a].r=f.H[a].r||[],f.H[a].L=f.H[a].L||[],f.H[a].r=[...f.H[a].L],f.CP)for(let c=0;c<f.CP.length;c++)f.CP[c]=null}let Zl=null;const sd=new wt(5e3,15e3),qa="__/auth/iframe",ql="emulator/auth/iframe",od={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ec(f){const a=f.config;nt(a.authDomain,f,"auth-domain-config-required");const c=a.emulator?ft(a,ql):`https://${f.config.authDomain}/${qa}`,g={apiKey:a.apiKey,appName:f.name,v:Ce.SDK_VERSION},P=zd.get(f.config.apiHost);P&&(g.eid=P);const F=f._getFrameworks();return F.length&&(g.fw=F.join(",")),`${c}?${(0,Q.xO)(g).slice(1)}`}function yu(){return yu=(0,h.Z)(function*(f){const a=yield function id(f){return Zl=Zl||function Cl(f){return new Promise((a,c)=>{var g,P,F;function pe(){vc(),gapi.load("gapi.iframes",{callback:()=>{a(gapi.iframes.getContext())},ontimeout:()=>{vc(),c(Dn(f,"network-request-failed"))},timeout:Fa.get()})}if(null!==(P=null===(g=_i().gapi)||void 0===g?void 0:g.iframes)&&void 0!==P&&P.Iframe)a(gapi.iframes.getContext());else{if(null===(F=_i().gapi)||void 0===F||!F.load){const Me=Yr("iframefcb");return _i()[Me]=()=>{gapi.load?pe():c(Dn(f,"network-request-failed"))},Ji(`https://apis.google.com/js/api.js?onload=${Me}`).catch(ot=>c(ot))}pe()}}).catch(a=>{throw Zl=null,a})}(f),Zl}(f),c=_i().gapi;return nt(c,f,"internal-error"),a.open({where:document.body,url:Ec(f),messageHandlersFilter:c.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:od,dontclear:!0},g=>new Promise(function(){var P=(0,h.Z)(function*(F,pe){yield g.restyle({setHideOnLeave:!1});const Me=Dn(f,"network-request-failed"),ot=_i().setTimeout(()=>{pe(Me)},sd.get());function Xe(){_i().clearTimeout(ot),F(g)}g.ping(Xe).then(Xe,()=>{pe(Me)})});return function(F,pe){return P.apply(this,arguments)}}()))}),yu.apply(this,arguments)}const Dl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vu{constructor(a){this.window=a,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vc="__/auth/handler",ld="emulator/auth/handler",Eu=encodeURIComponent("fac");function Sl(f,a,c,g,P,F){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,h.Z)(function*(f,a,c,g,P,F){nt(f.config.authDomain,f,"auth-domain-config-required"),nt(f.config.apiKey,f,"invalid-api-key");const pe={apiKey:f.config.apiKey,appName:f.name,authType:c,redirectUrl:g,v:Ce.SDK_VERSION,eventId:P};if(a instanceof gi){a.setDefaultLanguage(f.languageCode),pe.providerId=a.providerId||"",(0,Q.xb)(a.getCustomParameters())||(pe.customParameters=JSON.stringify(a.getCustomParameters()));for(const[Dt,Ut]of Object.entries(F||{}))pe[Dt]=Ut}if(a instanceof mi){const Dt=a.getScopes().filter(Ut=>""!==Ut);Dt.length>0&&(pe.scopes=Dt.join(","))}f.tenantId&&(pe.tid=f.tenantId);const Me=pe;for(const Dt of Object.keys(Me))void 0===Me[Dt]&&delete Me[Dt];const ot=yield f._getAppCheckToken(),Xe=ot?`#${Eu}=${encodeURIComponent(ot)}`:"";return`${function wu({config:f}){return f.emulator?ft(f,ld):`https://${f.authDomain}/${Vc}`}(f)}?${(0,Q.xO)(Me).slice(1)}${Xe}`})).apply(this,arguments)}const bu="webStorageSupport",jc=class Hc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Po,this._completeRedirectFn=ae,this._overrideRedirectResult=ka}_openPopup(a,c,g,P){var F=this;return(0,h.Z)(function*(){var pe;Mn(null===(pe=F.eventManagers[a._key()])||void 0===pe?void 0:pe.manager,"_initialize() not called before _openPopup()");const Me=yield Sl(a,c,g,Mt(),P);return function Qa(f,a,c,g=500,P=600){const F=Math.max((window.screen.availHeight-P)/2,0).toString(),pe=Math.max((window.screen.availWidth-g)/2,0).toString();let Me="";const ot=Object.assign(Object.assign({},Dl),{width:g.toString(),height:P.toString(),top:F,left:pe}),Xe=(0,Q.z$)().toLowerCase();c&&(Me=Ts(Xe)?"_blank":c),is(Xe)&&(a=a||"http://localhost",ot.scrollbars="yes");const Dt=Object.entries(ot).reduce((Wn,[ui,sa])=>`${Wn}${ui}=${sa},`,"");if(function Zi(f=(0,Q.z$)()){var a;return Yi(f)&&!(null===(a=window.navigator)||void 0===a||!a.standalone)}(Xe)&&"_self"!==Me)return function Wd(f,a){const c=document.createElement("a");c.href=f,c.target=a;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),c.dispatchEvent(g)}(a||"",Me),new vu(null);const Ut=window.open(a||"",Me,Dt);nt(Ut,f,"popup-blocked");try{Ut.focus()}catch{}return new vu(Ut)}(a,Me,Br())})()}_openRedirect(a,c,g,P){var F=this;return(0,h.Z)(function*(){return yield F._originValidation(a),function gl(f){_i().location.href=f}(yield Sl(a,c,g,Mt(),P)),new Promise(()=>{})})()}_initialize(a){const c=a._key();if(this.eventManagers[c]){const{manager:P,promise:F}=this.eventManagers[c];return P?Promise.resolve(P):(Mn(F,"If manager is not set, promise should be"),F)}const g=this.initAndGetManager(a);return this.eventManagers[c]={promise:g},g.catch(()=>{delete this.eventManagers[c]}),g}initAndGetManager(a){var c=this;return(0,h.Z)(function*(){const g=yield function _u(f){return yu.apply(this,arguments)}(a),P=new Tt(a);return g.register("authEvent",F=>(nt(F?.authEvent,a,"invalid-auth-event"),{status:P.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),c.eventManagers[a._key()]={manager:P},c.iframes[a._key()]=g,P})()}_isIframeWebStorageSupported(a,c){this.iframes[a._key()].send(bu,{type:bu},P=>{var F;const pe=null===(F=P?.[0])||void 0===F?void 0:F[bu];void 0!==pe&&c(!!pe),xn(a,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(a){const c=a._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function La(f){return fs.apply(this,arguments)}(a)),this.originValidationPromises[c]}get _shouldInitProactively(){return Qi()||Kr()||Yi()}};class Gd{constructor(a){this.factorId=a}_process(a,c,g){switch(c.type){case"enroll":return this._finalizeEnroll(a,c.credential,g);case"signin":return this._finalizeSignIn(a,c.credential);default:return St("unexpected MultiFactorSessionType")}}}class $c extends Gd{constructor(a){super("phone"),this.credential=a}static _fromCredential(a){return new $c(a)}_finalizeEnroll(a,c,g){return function fl(f,a){return an(f,"POST","/v2/accounts/mfaEnrollment:finalize",In(f,a))}(a,{idToken:c,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(a,c){return function rs(f,a){return an(f,"POST","/v2/accounts/mfaSignIn:finalize",In(f,a))}(a,{mfaPendingCredential:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kd=(()=>{class f{constructor(){}static assertion(c){return $c._fromCredential(c)}}return f.FACTOR_ID="phone",f})();var Os="@firebase/auth";class ba{constructor(a){this.auth=a,this.internalListeners=new Map}getUid(){var a;return this.assertAuthConfigured(),(null===(a=this.auth.currentUser)||void 0===a?void 0:a.uid)||null}getToken(a){var c=this;return(0,h.Z)(function*(){return c.assertAuthConfigured(),yield c.auth._initializationPromise,c.auth.currentUser?{accessToken:yield c.auth.currentUser.getIdToken(a)}:null})()}addAuthTokenListener(a){if(this.assertAuthConfigured(),this.internalListeners.has(a))return;const c=this.auth.onIdTokenChanged(g=>{a(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(a,c),this.updateProactiveRefresh()}removeAuthTokenListener(a){this.assertAuthConfigured();const c=this.internalListeners.get(a);c&&(this.internalListeners.delete(a),c(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nl(){return window}(0,Q.Pz)("authIdTokenMaxAge"),function co(f){(0,Ce._registerComponent)(new tr.wA("auth",(a,{options:c})=>{const g=a.getProvider("app").getImmediate(),P=a.getProvider("heartbeat"),F=a.getProvider("app-check-internal"),{apiKey:pe,authDomain:Me}=g.options;nt(pe&&!pe.includes(":"),"invalid-api-key",{appName:g.name});const ot={apiKey:pe,authDomain:Me,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xi(f)},Xe=new tt(g,P,F,ot);return function jt(f,a){const c=a?.persistence||[],g=(Array.isArray(c)?c:[c]).map(yn);a?.errorMap&&f._updateErrorMap(a.errorMap),f._initializeWithPersistence(g,a?.popupRedirectResolver)}(Xe,c),Xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((a,c,g)=>{a.getProvider("auth-internal").initialize()})),(0,Ce._registerComponent)(new tr.wA("auth-internal",a=>{const c=Qe(a.getProvider("auth").getImmediate());return new ba(c)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)(Os,"0.23.2",function Ca(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,Ce.registerVersion)(Os,"0.23.2","esm2017")}("Browser");function zc(){return zc=(0,h.Z)(function*(f,a,c){var g;const{BuildInfo:P}=nl();Mn(a.sessionId,"AuthEvent did not contain a session ID");const F=yield function tc(f){return nc.apply(this,arguments)}(a.sessionId),pe={};return Yi()?pe.ibi=P.packageName:_s()?pe.apn=P.packageName:xn(f,"operation-not-supported-in-this-environment"),P.displayName&&(pe.appDisplayName=P.displayName),pe.sessionId=F,Sl(f,c,a.type,void 0,null!==(g=a.eventId)&&void 0!==g?g:void 0,pe)}),zc.apply(this,arguments)}function Wc(){return(Wc=(0,h.Z)(function*(f){const{BuildInfo:a}=nl(),c={};Yi()?c.iosBundleId=a.packageName:_s()?c.androidPackageName=a.packageName:xn(f,"operation-not-supported-in-this-environment"),yield Is(f,c)})).apply(this,arguments)}function Al(){return(Al=(0,h.Z)(function*(f,a,c){const{cordova:g}=nl();let P=()=>{};try{yield new Promise((F,pe)=>{let Me=null;function ot(){var Ut;F();const Wn=null===(Ut=g.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof Wn&&Wn(),"function"==typeof c?.close&&c.close()}function Xe(){Me||(Me=window.setTimeout(()=>{pe(Dn(f,"redirect-cancelled-by-user"))},2e3))}function Dt(){"visible"===document?.visibilityState&&Xe()}a.addPassiveListener(ot),document.addEventListener("resume",Xe,!1),_s()&&document.addEventListener("visibilitychange",Dt,!1),P=()=>{a.removePassiveListener(ot),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",Dt,!1),Me&&window.clearTimeout(Me)}})}finally{P()}})).apply(this,arguments)}function nc(){return(nc=(0,h.Z)(function*(f){const a=function bc(f){if(Mn(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const a=new ArrayBuffer(f.length),c=new Uint8Array(a);for(let g=0;g<f.length;g++)c[g]=f.charCodeAt(g);return c}(f),c=yield crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(c)).map(P=>P.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ml extends Tt{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(a=>{this.resolveInialized=a})}addPassiveListener(a){this.passiveListeners.add(a)}removePassiveListener(a){this.passiveListeners.delete(a)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(a){return this.resolveInialized(),this.passiveListeners.forEach(c=>c(a)),super.onEvent(a)}initialized(){var a=this;return(0,h.Z)(function*(){yield a.initPromise})()}}function Kc(f){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,h.Z)(function*(f){const a=yield Dc()._get(Ic(f));return a&&(yield Dc()._remove(Ic(f))),a})).apply(this,arguments)}function Iu(){const f=[];for(let c=0;c<20;c++){const g=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return f.join("")}function Dc(){return yn(Mo)}function Ic(f){return er("authEvent",f.config.apiKey,f.name)}function Pl(f){if(!f?.includes("?"))return{};const[a,...c]=f.split("?");return(0,Q.zd)(c.join("?"))}const rc=class fd{constructor(){this._redirectPersistence=Po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ae,this._overrideRedirectResult=ka}_initialize(a){var c=this;return(0,h.Z)(function*(){const g=a._key();let P=c.eventManagers.get(g);return P||(P=new Ml(a),c.eventManagers.set(g,P),c.attachCallbackListeners(a,P)),P})()}_openPopup(a){xn(a,"operation-not-supported-in-this-environment")}_openRedirect(a,c,g,P){var F=this;return(0,h.Z)(function*(){!function ps(f){var a,c,g,P,F,pe,Me,ot,Xe,Dt;const Ut=nl();nt("function"==typeof(null===(a=Ut?.universalLinks)||void 0===a?void 0:a.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),nt(typeof(null===(c=Ut?.BuildInfo)||void 0===c?void 0:c.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),nt("function"==typeof(null===(F=null===(P=null===(g=Ut?.cordova)||void 0===g?void 0:g.plugins)||void 0===P?void 0:P.browsertab)||void 0===F?void 0:F.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nt("function"==typeof(null===(ot=null===(Me=null===(pe=Ut?.cordova)||void 0===pe?void 0:pe.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===ot?void 0:ot.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nt("function"==typeof(null===(Dt=null===(Xe=Ut?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===Dt?void 0:Dt.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(a);const pe=yield F._initialize(a);yield pe.initialized(),pe.resetRedirect(),function yi(){Gl.clear()}(),yield F._originValidation(a);const Me=function Gc(f,a,c=null){return{type:a,eventId:c,urlResponse:null,sessionId:Iu(),postBody:null,tenantId:f.tenantId,error:Dn(f,"no-auth-event")}}(a,g,P);yield function Do(f,a){return Dc()._set(Ic(f),a)}(a,Me);const ot=yield function Jl(f,a,c){return zc.apply(this,arguments)}(a,Me,c),Xe=yield function Du(f){const{cordova:a}=nl();return new Promise(c=>{a.plugins.browsertab.isAvailable(g=>{let P=null;g?a.plugins.browsertab.openUrl(f):P=a.InAppBrowser.open(f,function Ui(f=(0,Q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),c(P)})})}(ot);return function ec(f,a,c){return Al.apply(this,arguments)}(a,pe,Xe)})()}_isIframeWebStorageSupported(a,c){throw new Error("Method not implemented.")}_originValidation(a){const c=a._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function cd(f){return Wc.apply(this,arguments)}(a)),this.originValidationPromises[c]}attachCallbackListeners(a,c){const{universalLinks:g,handleOpenURL:P,BuildInfo:F}=nl(),pe=setTimeout((0,h.Z)(function*(){yield Kc(a),c.onEvent(Su())}),500),Me=function(){var Dt=(0,h.Z)(function*(Ut){clearTimeout(pe);const Wn=yield Kc(a);let ui=null;Wn&&Ut?.url&&(ui=function ud(f,a){var c,g;const P=function hd(f){const a=Pl(f),c=a.link?decodeURIComponent(a.link):void 0,g=Pl(c).link,P=a.deep_link_id?decodeURIComponent(a.deep_link_id):void 0;return Pl(P).link||P||g||c||f}(a);if(P.includes("/__/auth/callback")){const F=Pl(P),pe=F.firebaseError?function dd(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(F.firebaseError)):null,Me=null===(g=null===(c=pe?.code)||void 0===c?void 0:c.split("auth/"))||void 0===g?void 0:g[1],ot=Me?Dn(Me):null;return ot?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:ot,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:P,postBody:null}}return null}(Wn,Ut.url)),c.onEvent(ui||Su())});return function(Wn){return Dt.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,Me);const ot=P,Xe=`${F.packageName.toLowerCase()}://`;nl().handleOpenURL=function(){var Dt=(0,h.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(Xe)&&Me({url:Ut}),"function"==typeof ot)try{ot(Ut)}catch(Wn){console.error(Wn)}});return function(Ut){return Dt.apply(this,arguments)}}()}};function Su(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Dn("no-auth-event")}}function na(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Qc(f=(0,Q.z$)()){return!("file:"!==na()&&"ionic:"!==na()&&"capacitor:"!==na()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ac(){try{const f=self.localStorage,a=Br();if(f)return f.setItem(a,"1"),f.removeItem(a),!function gd(f=(0,Q.z$)()){return function Tc(){return(0,Q.w1)()&&11===document?.documentMode}()||function Uo(f=(0,Q.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,Q.hl)()}catch{return Mc()&&(0,Q.hl)()}return!1}function Mc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jc(){return(function Sc(){return"http:"===na()||"https:"===na()}()||(0,Q.ru)()||Qc())&&!function Xc(){return(0,Q.b$)()||(0,Q.UG)()}()&&Ac()&&!Mc()}function eu(){return Qc()&&typeof document<"u"}function ic(){return(ic=(0,h.Z)(function*(){return!!eu()&&new Promise(f=>{const a=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(a),f(!0)})})})).apply(this,arguments)}const $s={LOCAL:"local",NONE:"none",SESSION:"session"},Rl=nt,Pu="persistence";function nu(f){return ra.apply(this,arguments)}function ra(){return(ra=(0,h.Z)(function*(f){yield f._initializationPromise;const a=ru(),c=er(Pu,f.config.apiKey,f.name);a&&a.setItem(c,f._getPersistence())})).apply(this,arguments)}function ru(){var f;try{return(null===(f=function Mu(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const md=nt;class rl{constructor(){this.browserResolver=yn(jc),this.cordovaResolver=yn(rc),this.underlyingResolver=null,this._redirectPersistence=Po,this._completeRedirectFn=ae,this._overrideRedirectResult=ka}_initialize(a){var c=this;return(0,h.Z)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._initialize(a)})()}_openPopup(a,c,g,P){var F=this;return(0,h.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(a,c,g,P)})()}_openRedirect(a,c,g,P){var F=this;return(0,h.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(a,c,g,P)})()}_isIframeWebStorageSupported(a,c){this.assertedUnderlyingResolver._isIframeWebStorageSupported(a,c)}_originValidation(a){return this.assertedUnderlyingResolver._originValidation(a)}get _shouldInitProactively(){return eu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return md(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var a=this;return(0,h.Z)(function*(){if(a.underlyingResolver)return;const c=yield function Au(){return ic.apply(this,arguments)}();a.underlyingResolver=c?a.cordovaResolver:a.browserResolver})()}}function sc(f){return f.unwrap()}function Ou(f){return iu(f)}function iu(f){const{_tokenResponse:a}=f instanceof Q.ZR?f.customData:f;if(!a)return null;if(!(f instanceof Q.ZR)&&"temporaryProof"in a&&"phoneNumber"in a)return Oa.credentialFromResult(f);const c=a.providerId;if(!c||c===Mr.PASSWORD)return null;let g;switch(c){case Mr.GOOGLE:g=no;break;case Mr.FACEBOOK:g=dn;break;case Mr.GITHUB:g=Xs;break;case Mr.TWITTER:g=po;break;default:const{oauthIdToken:P,oauthAccessToken:F,oauthTokenSecret:pe,pendingToken:Me,nonce:ot}=a;return F||pe||P||Me?Me?c.startsWith("saml.")?sr._create(c,Me):ri._fromParams({providerId:c,signInMethod:c,pendingToken:Me,idToken:P,accessToken:F}):new Ci(c).credential({idToken:P,accessToken:F,rawNonce:ot}):null}return f instanceof Q.ZR?g.credentialFromError(f):g.credentialFromResult(f)}function zs(f,a){return a.catch(c=>{throw c instanceof Q.ZR&&function Nu(f,a){var c;const g=null===(c=a.customData)||void 0===c?void 0:c._tokenResponse;if("auth/multi-factor-auth-required"===a?.code)a.resolver=new oc(f,function eo(f,a){var c;const g=(0,Q.m9)(f),P=a;return nt(a.customData.operationType,g,"argument-error"),nt(null===(c=P.customData._serverResponse)||void 0===c?void 0:c.mfaPendingCredential,g,"argument-error"),Cs._fromError(g,P)}(f,a));else if(g){const P=iu(a),F=a;P&&(F.credential=P,F.tenantId=g.tenantId||void 0,F.email=g.email||void 0,F.phoneNumber=g.phoneNumber||void 0)}}(f,c),c}).then(c=>{const P=c.user;return{operationType:c.operationType,credential:Ou(c),additionalUserInfo:ns(c),user:ia.getOrCreate(P)}})}function su(f,a){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,h.Z)(function*(f,a){const c=yield a;return{verificationId:c.verificationId,confirm:g=>zs(f,c.confirm(g))}})).apply(this,arguments)}class oc{constructor(a,c){this.resolver=c,this.auth=function _d(f){return f.wrapped()}(a)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(a){return zs(sc(this.auth),this.resolver.resolveSignIn(a))}}class ia{constructor(a){this._delegate=a,this.multiFactor=function Bl(f){const a=(0,Q.m9)(f);return yo.has(a)||yo.set(a,ca._fromUser(a)),yo.get(a)}(a)}static getOrCreate(a){return ia.USER_MAP.has(a)||ia.USER_MAP.set(a,new ia(a)),ia.USER_MAP.get(a)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(a){return this._delegate.getIdTokenResult(a)}getIdToken(a){return this._delegate.getIdToken(a)}linkAndRetrieveDataWithCredential(a){return this.linkWithCredential(a)}linkWithCredential(a){var c=this;return(0,h.Z)(function*(){return zs(c.auth,Ee(c._delegate,a))})()}linkWithPhoneNumber(a,c){var g=this;return(0,h.Z)(function*(){return su(g.auth,function jl(f,a,c){return _l.apply(this,arguments)}(g._delegate,a,c))})()}linkWithPopup(a){var c=this;return(0,h.Z)(function*(){return zs(c.auth,function vl(f,a,c){return El.apply(this,arguments)}(c._delegate,a,rl))})()}linkWithRedirect(a){var c=this;return(0,h.Z)(function*(){return yield nu(Qe(c.auth)),wl(c._delegate,a,rl)})()}reauthenticateAndRetrieveDataWithCredential(a){return this.reauthenticateWithCredential(a)}reauthenticateWithCredential(a){var c=this;return(0,h.Z)(function*(){return zs(c.auth,Ue(c._delegate,a))})()}reauthenticateWithPhoneNumber(a,c){return su(this.auth,function Zo(f,a,c){return qo.apply(this,arguments)}(this._delegate,a,c))}reauthenticateWithPopup(a){return zs(this.auth,function Rs(f,a,c){return xa.apply(this,arguments)}(this._delegate,a,rl))}reauthenticateWithRedirect(a){var c=this;return(0,h.Z)(function*(){return yield nu(Qe(c.auth)),Yl(c._delegate,a,rl)})()}sendEmailVerification(a){return function sn(f,a){return Ct.apply(this,arguments)}(this._delegate,a)}unlink(a){var c=this;return(0,h.Z)(function*(){return yield function mo(f,a){return ro.apply(this,arguments)}(c._delegate,a),c})()}updateEmail(a){return function Ii(f,a){return Si((0,Q.m9)(f),a,null)}(this._delegate,a)}updatePassword(a){return function Bs(f,a){return Si((0,Q.m9)(f),null,a)}(this._delegate,a)}updatePhoneNumber(a){return function Uc(f,a){return Qo.apply(this,arguments)}(this._delegate,a)}updateProfile(a){return function Ar(f,a){return ti.apply(this,arguments)}(this._delegate,a)}verifyBeforeUpdateEmail(a,c){return function Xn(f,a,c){return $t.apply(this,arguments)}(this._delegate,a,c)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ia.USER_MAP=new WeakMap;const Ba=nt;let ac=(()=>{class f{constructor(c,g){if(this.app=c,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:P}=c.options;Ba(P,"invalid-api-key",{appName:c.name}),Ba(P,"invalid-api-key",{appName:c.name});const F=typeof window<"u"?rl:void 0;this._delegate=g.initialize({options:{persistence:au(P,c.name),popupRedirectResolver:F}}),this._delegate._updateErrorMap(cn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ia.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(c){this._delegate.languageCode=c}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(c){this._delegate.tenantId=c}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(c,g){!function fi(f,a,c){const g=Qe(f);nt(g._canInitEmulator,g,"emulator-config-failed"),nt(/^https?:\/\//.test(a),g,"invalid-emulator-scheme");const P=!!c?.disableWarnings,F=$n(a),{host:pe,port:Me}=function ht(f){const a=$n(f),c=/(\/\/)?([^?#/]+)/.exec(f.substr(a.length));if(!c)return{host:"",port:null};const g=c[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(g);if(P){const F=P[1];return{host:F,port:yr(g.substr(F.length+1))}}{const[F,pe]=g.split(":");return{host:F,port:yr(pe)}}}(a);g.config.emulator={url:`${F}//${pe}${null===Me?"":`:${Me}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:pe,port:Me,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function Ai(){function f(){const a=document.createElement("p"),c=a.style;a.innerText="Running in emulator mode. Do not use with production credentials.",c.position="fixed",c.width="100%",c.backgroundColor="#ffffff",c.border=".1em solid #000000",c.color="#b50000",c.bottom="0px",c.left="0px",c.margin="0px",c.zIndex="10000",c.textAlign="center",a.classList.add("firebase-emulator-warning"),document.body.appendChild(a)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,c,g)}applyActionCode(c){return function ii(f,a){return Cn.apply(this,arguments)}(this._delegate,c)}checkActionCode(c){return si(this._delegate,c)}confirmPasswordReset(c,g){return function or(f,a,c){return Gi.apply(this,arguments)}(this._delegate,c,g)}createUserWithEmailAndPassword(c,g){var P=this;return(0,h.Z)(function*(){return zs(P._delegate,function Js(f,a,c){return Ri.apply(this,arguments)}(P._delegate,c,g))})()}fetchProvidersForEmail(c){return this.fetchSignInMethodsForEmail(c)}fetchSignInMethodsForEmail(c){return function $e(f,a){return Et.apply(this,arguments)}(this._delegate,c)}isSignInWithEmailLink(c){return function N(f,a){const c=Qs.parseLink(a);return"EMAIL_SIGNIN"===c?.operation}(0,c)}getRedirectResult(){var c=this;return(0,h.Z)(function*(){Ba(Jc(),c._delegate,"operation-not-supported-in-this-environment");const g=yield function M(f,a){return B.apply(this,arguments)}(c._delegate,rl);return g?zs(c._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(c){!function pd(f,a){Qe(f)._logFramework(a)}(this._delegate,c)}onAuthStateChanged(c,g,P){const{next:F,error:pe,complete:Me}=ou(c,g,P);return this._delegate.onAuthStateChanged(F,pe,Me)}onIdTokenChanged(c,g,P){const{next:F,error:pe,complete:Me}=ou(c,g,P);return this._delegate.onIdTokenChanged(F,pe,Me)}sendSignInLinkToEmail(c,g){return function ws(f,a,c){return C.apply(this,arguments)}(this._delegate,c,g)}sendPasswordResetEmail(c,g){return function Lr(f,a,c){return Zr.apply(this,arguments)}(this._delegate,c,g||void 0)}setPersistence(c){var g=this;return(0,h.Z)(function*(){let P;switch(function tu(f,a){Rl(Object.values($s).includes(a),f,"invalid-persistence-type"),(0,Q.b$)()?Rl(a!==$s.SESSION,f,"unsupported-persistence-type"):(0,Q.UG)()?Rl(a===$s.NONE,f,"unsupported-persistence-type"):Mc()?Rl(a===$s.NONE||a===$s.LOCAL&&(0,Q.hl)(),f,"unsupported-persistence-type"):Rl(a===$s.NONE||Ac(),f,"unsupported-persistence-type")}(g._delegate,c),c){case $s.SESSION:P=Po;break;case $s.LOCAL:P=(yield yn(qt)._isAvailable())?qt:Mo;break;case $s.NONE:P=nr;break;default:return xn("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(P)})()}signInAndRetrieveDataWithCredential(c){return this.signInWithCredential(c)}signInAnonymously(){return zs(this._delegate,function ja(f){return Di.apply(this,arguments)}(this._delegate))}signInWithCredential(c){return zs(this._delegate,V(this._delegate,c))}signInWithCustomToken(c){return zs(this._delegate,function Vn(f,a){return Tn.apply(this,arguments)}(this._delegate,c))}signInWithEmailAndPassword(c,g){return zs(this._delegate,function qr(f,a,c){return V((0,Q.m9)(f),Ls.credential(a,c))}(this._delegate,c,g))}signInWithEmailLink(c,g){return zs(this._delegate,function T(f,a,c){return H.apply(this,arguments)}(this._delegate,c,g))}signInWithPhoneNumber(c,g){return su(this._delegate,function Ra(f,a,c){return ko.apply(this,arguments)}(this._delegate,c,g))}signInWithPopup(c){var g=this;return(0,h.Z)(function*(){return Ba(Jc(),g._delegate,"operation-not-supported-in-this-environment"),zs(g._delegate,function yl(f,a,c){return wo.apply(this,arguments)}(g._delegate,c,rl))})()}signInWithRedirect(c){var g=this;return(0,h.Z)(function*(){return Ba(Jc(),g._delegate,"operation-not-supported-in-this-environment"),yield nu(g._delegate),hs(g._delegate,c,rl)})()}updateCurrentUser(c){return this._delegate.updateCurrentUser(c)}verifyPasswordResetCode(c){return function Fr(f,a){return Es.apply(this,arguments)}(this._delegate,c)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=$s,f})();function ou(f,a,c){let g=f;"function"!=typeof f&&({next:g,error:a,complete:c}=f);const P=g;return{next:pe=>P(pe&&ia.getOrCreate(pe)),error:a,complete:c}}function au(f,a){const c=function Ru(f,a){const c=ru();if(!c)return[];const g=er(Pu,f,a);switch(c.getItem(g)){case $s.NONE:return[nr];case $s.LOCAL:return[qt,Po];case $s.SESSION:return[Po];default:return[]}}(f,a);if(typeof self<"u"&&!c.includes(qt)&&c.push(qt),typeof window<"u")for(const g of[Mo,Po])c.includes(g)||c.push(g);return c.includes(nr)||c.push(nr),c}class il{constructor(){this.providerId="phone",this._delegate=new Oa(sc(J.Z.auth()))}static credential(a,c){return Oa.credential(a,c)}verifyPhoneNumber(a,c){return this._delegate.verifyPhoneNumber(a,c)}unwrap(){return this._delegate}}il.PHONE_SIGN_IN_METHOD=Oa.PHONE_SIGN_IN_METHOD,il.PROVIDER_ID=Oa.PROVIDER_ID;const Va=nt;class gs{constructor(a,c,g=J.Z.app()){var P;Va(null===(P=g.options)||void 0===P?void 0:P.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new ml(a,c,g.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function lc(f){f.INTERNAL.registerComponent(new tr.wA("auth-compat",a=>{const c=a.getProvider("app-compat").getImmediate(),g=a.getProvider("auth");return new ac(c,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ls,FacebookAuthProvider:dn,GithubAuthProvider:Xs,GoogleAuthProvider:no,OAuthProvider:Ci,SAMLAuthProvider:Ir,PhoneAuthProvider:il,PhoneMultiFactorGenerator:Kd,RecaptchaVerifier:gs,TwitterAuthProvider:po,Auth:ac,AuthCredential:Jr,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.2")}(J.Z)},4115:(At,Be,U)=>{U.d(Be,{KC:()=>Wi,kb:()=>Nn});var h=U(2223),J=U(4755);const Q=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function Ce(){return(0,h.f3M)(J.K0)}}),oe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Nr,Ie=(()=>{class z{constructor(L){this.value="ltr",this.change=new h.vpe,L&&(this.value=function ie(z){const ee=z?.toLowerCase()||"";return"auto"===ee&&typeof navigator<"u"&&navigator?.language?oe.test(navigator.language)?"rtl":"ltr":"rtl"===ee?"rtl":"ltr"}((L.body?L.body.dir:null)||(L.documentElement?L.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return z.\u0275fac=function(L){return new(L||z)(h.LFG(Q,8))},z.\u0275prov=h.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),ye=(()=>{class z{}return z.\u0275fac=function(L){return new(L||z)},z.\u0275mod=h.oAB({type:z}),z.\u0275inj=h.cJS({}),z})(),_t=(()=>{class z{}return z.\u0275fac=function(L){return new(L||z)},z.\u0275mod=h.oAB({type:z}),z.\u0275inj=h.cJS({}),z})();try{Nr=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Nr=!1}let It,Jn=(()=>{class z{constructor(L){this._platformId=L,this.isBrowser=this._platformId?(0,J.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Nr)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return z.\u0275fac=function(L){return new(L||z)(h.LFG(h.Lbi))},z.\u0275prov=h.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),tr=(()=>{class z{}return z.\u0275fac=function(L){return new(L||z)},z.\u0275mod=h.oAB({type:z}),z.\u0275inj=h.cJS({}),z})();function gn(){if("object"!=typeof document||!document)return 0;if(null==It){const z=document.createElement("div"),ee=z.style;z.dir="rtl",ee.width="1px",ee.overflow="auto",ee.visibility="hidden",ee.pointerEvents="none",ee.position="absolute";const L=document.createElement("div"),fe=L.style;fe.width="2px",fe.height="1px",z.appendChild(L),document.body.appendChild(z),It=0,0===z.scrollLeft&&(z.scrollLeft=1,It=0===z.scrollLeft?1:2),z.remove()}return It}function nn(z){return null!=z&&"false"!=`${z}`}function Sr(z,ee=0){return function Kn(z){return!isNaN(parseFloat(z))&&!isNaN(Number(z))}(z)?Number(z):ee}var rr=U(8929),Pn=U(6787),mn=U(6498),Xt=U(6688),wt=U(7043),ft=U(4850);function Yn(z,ee,L,fe){return(0,wt.m)(L)&&(fe=L,L=void 0),fe?Yn(z,ee,L).pipe((0,ft.U)(ve=>(0,Xt.k)(ve)?fe(...ve):fe(ve))):new mn.y(ve=>{$r(z,ee,function qe(vt){ve.next(arguments.length>1?Array.prototype.slice.call(arguments):vt)},ve,L)})}function $r(z,ee,L,fe,ve){let qe;if(function Qr(z){return z&&"function"==typeof z.addEventListener&&"function"==typeof z.removeEventListener}(z)){const vt=z;z.addEventListener(ee,L,ve),qe=()=>vt.removeEventListener(ee,L,ve)}else if(function an(z){return z&&"function"==typeof z.on&&"function"==typeof z.off}(z)){const vt=z;z.on(ee,L),qe=()=>vt.off(ee,L)}else if(function In(z){return z&&"function"==typeof z.addListener&&"function"==typeof z.removeListener}(z)){const vt=z;z.addListener(ee,L),qe=()=>vt.removeListener(ee,L)}else{if(!z||!z.length)throw new TypeError("Invalid event target");for(let vt=0,Ft=z.length;vt<Ft;vt++)$r(z[vt],ee,L,fe,ve)}fe.add(qe)}var Bn=U(6686),Qt=U(2268);const mr=new class Pr extends Qt.v{flush(ee){this.active=!0,this.scheduled=void 0;const{actions:L}=this;let fe,ve=-1,qe=L.length;ee=ee||L.shift();do{if(fe=ee.execute(ee.state,ee.delay))break}while(++ve<qe&&(ee=L.shift()));if(this.active=!1,fe){for(;++ve<qe&&(ee=L.shift());)ee.unsubscribe();throw fe}}}(class Er extends Bn.o{constructor(ee,L){super(ee,L),this.scheduler=ee,this.work=L}requestAsyncId(ee,L,fe=0){return null!==fe&&fe>0?super.requestAsyncId(ee,L,fe):(ee.actions.push(this),ee.scheduled||(ee.scheduled=requestAnimationFrame(()=>ee.flush(null))))}recycleAsyncId(ee,L,fe=0){if(null!==fe&&fe>0||null===fe&&this.delay>0)return super.recycleAsyncId(ee,L,fe);0===ee.actions.length&&(cancelAnimationFrame(L),ee.scheduled=void 0)}});var On=U(1086),Xr=U(2986),Rn=U(1177);class en{constructor(ee,L,fe){this.project=ee,this.concurrent=L,this.scheduler=fe}call(ee,L){return L.subscribe(new Rr(ee,this.project,this.concurrent,this.scheduler))}}class Rr extends Rn.Ds{constructor(ee,L,fe,ve){super(ee),this.project=L,this.concurrent=fe,this.scheduler=ve,this.index=0,this.active=0,this.hasCompleted=!1,fe<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(ee){const{subscriber:L,result:fe,value:ve,index:qe}=ee;L.subscribeToProjection(fe,ve,qe)}_next(ee){const L=this.destination;if(L.closed)return void this._complete();const fe=this.index++;if(this.active<this.concurrent){L.next(ee);try{const{project:ve}=this,qe=ve(ee,fe);this.scheduler?this.destination.add(this.scheduler.schedule(Rr.dispatch,0,{subscriber:this,result:qe,value:ee,index:fe})):this.subscribeToProjection(qe,ee,fe)}catch(ve){L.error(ve)}}else this.buffer.push(ee)}subscribeToProjection(ee,L,fe){this.active++,this.destination.add((0,Rn.ft)(ee,new Rn.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(ee){this._next(ee)}notifyComplete(){const ee=this.buffer;this.active--,ee&&ee.length>0&&this._next(ee.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Gr=U(3489);class Cr{constructor(ee,L){this.predicate=ee,this.inclusive=L}call(ee,L){return L.subscribe(new _e(ee,this.predicate,this.inclusive))}}class _e extends Gr.L{constructor(ee,L,fe){super(ee),this.predicate=L,this.inclusive=fe,this.index=0}_next(ee){const L=this.destination;let fe;try{fe=this.predicate(ee,this.index++)}catch(ve){return void L.error(ve)}this.nextOrComplete(ee,fe)}nextOrComplete(ee,L){const fe=this.destination;L?fe.next(ee):(this.inclusive&&fe.next(ee),fe.complete())}}var $=U(7625),G=U(537);const rn="function"==typeof Float32Array;function kn(z,ee){return 1-3*ee+3*z}function Zt(z,ee){return 3*ee-6*z}function Sn(z){return 3*z}function zr(z,ee,L){return((kn(ee,L)*z+Zt(ee,L))*z+Sn(ee))*z}function ki(z,ee,L){return 3*kn(ee,L)*z*z+2*Zt(ee,L)*z+Sn(ee)}function ke(z){return z}function rt(z,ee,L,fe){if(!(0<=z&&z<=1&&0<=L&&L<=1))throw new Error("bezier x values must be in [0, 1] range");if(z===ee&&L===fe)return ke;let ve=rn?new Float32Array(11):new Array(11);for(let vt=0;vt<11;++vt)ve[vt]=zr(.1*vt,z,L);return function(Ft){return 0===Ft?0:1===Ft?1:zr(function qe(vt){let Ft=0,Qn=1;for(;10!==Qn&&ve[Qn]<=vt;++Qn)Ft+=.1;--Qn;let Vi=Ft+(vt-ve[Qn])/(ve[Qn+1]-ve[Qn])*.1,ir=ki(Vi,z,L);return ir>=.001?function We(z,ee,L,fe){for(let ve=0;ve<4;++ve){let qe=ki(ee,L,fe);if(0===qe)return ee;ee-=(zr(ee,L,fe)-z)/qe}return ee}(vt,Vi,z,L):0===ir?Vi:function Li(z,ee,L,fe,ve){let qe,vt,Ft=0;do{vt=ee+(L-ee)/2,qe=zr(vt,fe,ve)-z,qe>0?L=vt:ee=vt}while(Math.abs(qe)>1e-7&&++Ft<10);return vt}(vt,Ft,Ft+.1,z,L)}(Ft),ee,fe)}}const Lt=new h.OlP("SMOOTH_SCROLL_OPTIONS");let zt=(()=>{class z{get _w(){return this._document.defaultView}get _now(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now}constructor(L,fe,ve){this._document=L,this._platform=fe,this._onGoingScrolls=new Map,this._defaultOptions={duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1},...ve}}_scrollElement(L,fe,ve){L.scrollLeft=fe,L.scrollTop=ve}_getElement(L,fe){return"string"==typeof L?(fe||this._document).querySelector(L):function Mn(z){return z instanceof h.SBq?z.nativeElement:z}(L)}_initSmoothScroll(L){return this._onGoingScrolls.has(L)&&this._onGoingScrolls.get(L).next(),this._onGoingScrolls.set(L,new rr.xQ).get(L)}_isFinished(L,fe,ve){return L.currentX!==L.x||L.currentY!==L.y||(fe.next(),ve(),!1)}_interrupted(L,fe){return(0,Pn.T)(Yn(L,"wheel",{passive:!0,capture:!0}),Yn(L,"touchmove",{passive:!0,capture:!0}),fe).pipe((0,Xr.q)(1))}_destroy(L,fe){fe.complete(),this._onGoingScrolls.delete(L)}_step(L){return new mn.y(fe=>{let ve=(this._now()-L.startTime)/L.duration;ve=ve>1?1:ve;const qe=L.easing(ve);L.currentX=L.startX+(L.x-L.startX)*qe,L.currentY=L.startY+(L.y-L.startY)*qe,this._scrollElement(L.scrollable,L.currentX,L.currentY),mr.schedule(()=>fe.next(L))})}_applyScrollToOptions(L,fe){if(!fe.duration)return this._scrollElement(L,fe.left,fe.top),Promise.resolve();const ve=this._initSmoothScroll(L),qe={scrollable:L,startTime:this._now(),startX:L.scrollLeft,startY:L.scrollTop,x:null==fe.left?L.scrollLeft:~~fe.left,y:null==fe.top?L.scrollTop:~~fe.top,duration:fe.duration,easing:rt(fe.easing.x1,fe.easing.y1,fe.easing.x2,fe.easing.y2)};return new Promise(vt=>{(0,On.of)(null).pipe(function xr(z,ee=Number.POSITIVE_INFINITY,L){return ee=(ee||0)<1?Number.POSITIVE_INFINITY:ee,fe=>fe.lift(new en(z,ee,L))}(()=>this._step(qe).pipe(function Zn(z,ee=!1){return L=>L.lift(new Cr(z,ee))}(Ft=>this._isFinished(Ft,ve,vt)))),(0,$.R)(this._interrupted(L,ve)),(0,G.x)(()=>this._destroy(L,ve))).subscribe()})}scrollTo(L,fe){if((0,J.NF)(this._platform)){const ve=this._getElement(L),qe="rtl"===getComputedStyle(ve).direction,vt=gn(),Ft={...this._defaultOptions,...fe,left:null==fe.left?qe?fe.end:fe.start:fe.left,right:null==fe.right?qe?fe.start:fe.end:fe.right};return null!=Ft.bottom&&(Ft.top=ve.scrollHeight-ve.clientHeight-Ft.bottom),qe&&0!==vt?(null!=Ft.left&&(Ft.right=ve.scrollWidth-ve.clientWidth-Ft.left),2===vt?Ft.left=Ft.right:1===vt&&(Ft.left=Ft.right?-Ft.right:Ft.right)):null!=Ft.right&&(Ft.left=ve.scrollWidth-ve.clientWidth-Ft.right),this._applyScrollToOptions(ve,Ft)}return Promise.resolve()}scrollToElement(L,fe,ve={}){const qe=this._getElement(L),vt=this._getElement(fe,qe),Ft={...ve,left:vt.offsetLeft+(ve.left||0),top:vt.offsetTop+(ve.top||0)};return vt?this.scrollTo(qe,Ft):Promise.resolve()}}return z.\u0275fac=function(L){return new(L||z)(h.LFG(J.K0),h.LFG(h.Lbi),h.LFG(Lt,8))},z.\u0275prov=h.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),yn=(()=>{class z{}return z.\u0275fac=function(L){return new(L||z)},z.\u0275mod=h.oAB({type:z}),z.\u0275inj=h.cJS({}),z})();var Hr=U(591),nr=U(2654),er=U(8896),qn=U(2868),di=U(7545),is=U(353);function Kr(z,ee=is.P){return L=>L.lift(new Ts(z,ee))}class Ts{constructor(ee,L){this.dueTime=ee,this.scheduler=L}call(ee,L){return L.subscribe(new Ti(ee,this.dueTime,this.scheduler))}}class Ti extends Gr.L{constructor(ee,L,fe){super(ee),this.dueTime=L,this.scheduler=fe,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(ee){this.clearDebounce(),this.lastValue=ee,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_s,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:ee}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(ee)}}clearDebounce(){const ee=this.debouncedSubscription;null!==ee&&(this.remove(ee),ee.unsubscribe(),this.debouncedSubscription=null)}}function _s(z){z.debouncedNext()}var Fi=U(5778);function vi(...z){const ee=z.length;if(0===ee)throw new Error("list of properties cannot be empty.");return L=>(0,ft.U)(function Yi(z,ee){return fe=>{let ve=fe;for(let qe=0;qe<ee;qe++){const vt=ve?.[z[qe]];if(void 0===vt)return;ve=vt}return ve}}(z,ee))(L)}var Ui=U(1709);class qi{call(ee,L){return L.subscribe(new Qi(ee))}}class Qi extends Gr.L{constructor(ee){super(ee),this.hasPrev=!1}_next(ee){let L;this.hasPrev?L=[this.prev,ee]:this.hasPrev=!0,this.prev=ee,L&&this.destination.next(L)}}var hi=U(2198);class ys{constructor(ee){this.durationSelector=ee}call(ee,L){return L.subscribe(new ai(ee,this.durationSelector))}}class ai extends Rn.Ds{constructor(ee,L){super(ee),this.durationSelector=L,this.hasValue=!1}_next(ee){if(this.value=ee,this.hasValue=!0,!this.throttled){let L;try{const{durationSelector:ve}=this;L=ve(ee)}catch(ve){return this.destination.error(ve)}const fe=(0,Rn.ft)(L,new Rn.IY(this));!fe||fe.closed?this.clearThrottle():this.add(this.throttled=fe)}}clearThrottle(){const{value:ee,hasValue:L,throttled:fe}=this;fe&&(this.remove(fe),this.throttled=void 0,fe.unsubscribe()),L&&(this.value=void 0,this.hasValue=!1,this.destination.next(ee))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var ss=U(4241),bn=U(2866);function Tr(z){const{index:ee,period:L,subscriber:fe}=z;if(fe.next(ee),!fe.closed){if(-1===L)return fe.complete();z.index=ee+1,this.schedule(z,L)}}const hr=["scrollbarY"],Ji=["scrollbarX"];function Yr(z,ee){if(1&z&&h._UZ(0,"scrollbar-x",null,4),2&z){const L=h.oxw(2);h.uIk("scrollable",L.state.isHorizontallyScrollable)("fit",L.state.verticalUsed)}}function vs(z,ee){if(1&z&&h._UZ(0,"scrollbar-y",null,5),2&z){const L=h.oxw(2);h.uIk("scrollable",L.state.isVerticallyScrollable)("fit",L.state.horizontalUsed)}}function xs(z,ee){if(1&z&&(h.ynx(0),h.YNc(1,Yr,2,2,"scrollbar-x",3),h.YNc(2,vs,2,2,"scrollbar-y",3),h.BQk()),2&z){const L=h.oxw();h.xp6(1),h.Q6J("ngIf",L.state.horizontalUsed),h.xp6(1),h.Q6J("ngIf",L.state.verticalUsed)}}const ho=["*"];function De(z){return(0,qn.b)(()=>{z.onselectstart=()=>!1})}function re(z){return(0,qn.b)(()=>{z.onselectstart=null})}function me(){return(0,qn.b)(z=>z.stopPropagation())}function Re(z,ee){return z.clientX>=ee.left&&z.clientX<=ee.left+ee.width&&z.clientY>=ee.top&&z.clientY<=ee.top+ee.height}let tt=(()=>{class z{get clientHeight(){return this.nativeElement.clientHeight}get clientWidth(){return this.nativeElement.clientWidth}get scrollHeight(){return this.nativeElement.scrollHeight}get scrollWidth(){return this.nativeElement.scrollWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get scrollMaxX(){return this.scrollWidth-this.clientWidth}get scrollMaxY(){return this.scrollHeight-this.clientHeight}get contentHeight(){return this.contentWrapperElement?.clientHeight||0}get contentWidth(){return this.contentWrapperElement?.clientWidth||0}constructor(L){this.viewPort=L,this.nativeElement=L.nativeElement}activatePointerEvents(L,fe){this.hovered=new mn.y(ve=>{const qe=Yn(this.nativeElement,"mousemove",{passive:!0}),vt=L?qe:qe.pipe(me()),Ft=Yn(this.nativeElement,"mouseleave",{passive:!0}).pipe((0,ft.U)(()=>!1));(0,Pn.T)(vt,Ft).pipe((0,qn.b)(Qn=>ve.next(Qn)),(0,$.R)(fe)).subscribe()}),this.clicked=new mn.y(ve=>{const qe=Yn(this.nativeElement,"mousedown",{passive:!0}).pipe((0,qn.b)(Ft=>ve.next(Ft))),vt=Yn(this.nativeElement,"mouseup",{passive:!0}).pipe((0,qn.b)(()=>ve.next(!1)));qe.pipe((0,di.w)(()=>vt),(0,$.R)(fe)).subscribe()})}setAsWrapper(){this.nativeElement.className="ng-native-scrollbar-hider ng-scroll-layer",this.nativeElement.firstElementChild&&(this.nativeElement.firstElementChild.className="ng-scroll-layer")}setAsViewport(L){this.nativeElement.className=`ng-native-scrollbar-hider ng-scroll-viewport ${L}`,this.nativeElement.firstElementChild&&(this.contentWrapperElement=this.nativeElement.firstElementChild,this.contentWrapperElement.classList.add("ng-scroll-content"))}scrollYTo(L){this.nativeElement.scrollTop=L}scrollXTo(L){this.nativeElement.scrollLeft=L}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(h.SBq))},z.\u0275dir=h.lG2({type:z,selectors:[["","scrollViewport",""]]}),z})(),Qe=(()=>{class z{}return z.\u0275fac=function(L){return new(L||z)},z.\u0275dir=h.lG2({type:z}),z})();const tn=new h.OlP("NG_SCROLLBAR_OPTIONS"),jn={viewClass:"",trackClass:"",thumbClass:"",track:"vertical",appearance:"compact",visibility:"native",position:"native",pointerEventsMethod:"viewport",trackClickScrollDuration:300,minThumbSize:20,windowResizeDebounce:0,sensorDebounce:0,scrollAuditTime:0,viewportPropagateMouseMove:!0,autoHeightDisabled:!0,autoWidthDisabled:!0,sensorDisabled:!1,pointerEventsDisabled:!1};let jt=(()=>{class z{constructor(L){this.globalOptions=L?{...jn,...L}:jn,this.rtlScrollAxisType=gn()}}return z.\u0275fac=function(L){return new(L||z)(h.LFG(tn,8))},z.\u0275prov=h.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),fi=(()=>{class z{constructor(L,fe,ve){this.document=L,this.manager=fe,this.platform=ve,this._scrollbarSize=new Hr.X(this.getNativeScrollbarSize()),this.scrollbarSize=this._scrollbarSize.asObservable(),ve.isBrowser&&Yn(this.document.defaultView,"resize",{passive:!0}).pipe(Kr(this.manager.globalOptions.windowResizeDebounce),(0,ft.U)(()=>this.getNativeScrollbarSize()),(0,Fi.x)(),(0,qn.b)(qe=>this._scrollbarSize.next(qe))).subscribe()}getNativeScrollbarSize(){if(!this.platform.isBrowser)return 0;if(this.platform.IOS)return 6;const L=this.document.createElement("div");L.className="ng-scrollbar-measure",L.style.left="0px",L.style.overflow="scroll",L.style.position="fixed",L.style.top="-9999px",this.document.body.appendChild(L);const fe=L.getBoundingClientRect().right;return this.document.body.removeChild(L),fe}}return z.\u0275fac=function(L){return new(L||z)(h.LFG(J.K0),h.LFG(jt),h.LFG(Jn))},z.\u0275prov=h.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),$n=(()=>{class z{constructor(L,fe,ve){this.renderer=fe,this.hideNativeScrollbar=ve,this._subscriber=nr.w.EMPTY,this._subscriber=ve.scrollbarSize.subscribe(qe=>{this.renderer.setStyle(L.nativeElement,"--native-scrollbar-size",`-${qe}px`,h.JOm.DashCase)})}ngOnDestroy(){this._subscriber.unsubscribe()}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(fi))},z.\u0275dir=h.lG2({type:z,selectors:[["","hideNativeScrollbar",""]]}),z})(),ht=(()=>{class z{constructor(L){this.el=L}set ngAttr(L){for(const[fe,ve]of Object.entries(L))this.el.nativeElement.setAttribute(fe,ve)}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(h.SBq))},z.\u0275dir=h.lG2({type:z,selectors:[["","ngAttr",""]],inputs:{ngAttr:"ngAttr"}}),z})(),yr=(()=>{class z{get debounce(){return this._debounce}set debounce(L){this._debounce=Sr(L),this._subscribe()}get disabled(){return this._disabled}set disabled(L){this._disabled=nn(L),this._disabled?this._unsubscribe():this._subscribe()}constructor(L,fe,ve){if(this.zone=L,this.platform=fe,this.scrollbar=ve,this._disabled=!1,this._currentSubscription=null,this.event=new h.vpe,!ve)throw new Error("[NgScrollbar Resize Sensor Directive]: Host element must be an NgScrollbar component.")}ngAfterContentInit(){!this._currentSubscription&&!this._disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){if(this._unsubscribe(),this.platform.isBrowser){const L=new mn.y(fe=>{this._resizeObserver=new ResizeObserver(ve=>fe.next(ve)),this._resizeObserver.observe(this.scrollbar.viewport.nativeElement),this.scrollbar.viewport.contentWrapperElement&&this._resizeObserver.observe(this.scrollbar.viewport.contentWrapperElement)});this.zone.runOutsideAngular(()=>{this._currentSubscription=(this._debounce?L.pipe(Kr(this._debounce)):L).subscribe(this.event)})}}_unsubscribe(){this._resizeObserver?.disconnect(),this._currentSubscription?.unsubscribe()}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(h.R0b),h.Y36(Jn),h.Y36(Qe))},z.\u0275dir=h.lG2({type:z,selectors:[["","resizeSensor",""]],inputs:{debounce:["sensorDebounce","debounce"],disabled:["sensorDisabled","disabled"]},outputs:{event:"resizeSensor"}}),z})(),Ai=(()=>{class z{get clicked(){const L=Yn(this.trackElement,"mousedown",{passive:!0}).pipe(me(),De(this.document)),fe=Yn(this.document,"mouseup",{passive:!0}).pipe(me(),re(this.document),(0,di.w)(()=>er.E));return(0,Pn.T)(L,fe)}get clientRect(){return this.trackElement.getBoundingClientRect()}constructor(L,fe,ve){this.cmp=L,this.trackElement=fe,this.document=ve}onTrackClicked(L,fe,ve){return(0,On.of)(L).pipe(vi(this.pageProperty),(0,ft.U)(qe=>(qe-this.offset-fe/2)/this.size*ve),(0,qn.b)(qe=>{this.cmp.scrollTo({...this.mapToScrollToOption(qe),duration:Sr(this.cmp.trackClickScrollDuration)})}))}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(Qe),h.Y36(HTMLElement),h.Y36(Document))},z.\u0275dir=h.lG2({type:z}),z})(),Jr=(()=>{class z extends Ai{get pageProperty(){return"pageX"}get offset(){return this.clientRect.left}get size(){return this.trackElement.clientWidth}constructor(L,fe,ve){super(L,fe.nativeElement,ve),this.cmp=L,this.document=ve}mapToScrollToOption(L){return{left:L}}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(Qe),h.Y36(h.SBq),h.Y36(J.K0))},z.\u0275dir=h.lG2({type:z,selectors:[["","scrollbarTrackX",""]],features:[h.qOj]}),z})(),zn=(()=>{class z extends Ai{get pageProperty(){return"pageY"}get offset(){return this.clientRect.top}get size(){return this.trackElement.clientHeight}constructor(L,fe,ve){super(L,fe.nativeElement,ve),this.cmp=L,this.document=ve}mapToScrollToOption(L){return{top:L}}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(Qe),h.Y36(h.SBq),h.Y36(J.K0))},z.\u0275dir=h.lG2({type:z,selectors:[["","scrollbarTrackY",""]],features:[h.qOj]}),z})(),os=(()=>{class z{get trackMax(){return this.track.size-this.size}get clientRect(){return this.thumbElement.getBoundingClientRect()}get clicked(){return Yn(this.thumbElement,"mousedown",{passive:!0}).pipe(me())}constructor(L,fe,ve,qe){this.cmp=L,this.track=fe,this.thumbElement=ve,this.document=qe,this._dragging=new rr.xQ,this.dragging=this._dragging.pipe((0,Fi.x)())}update(){const L=function pi(z,ee,L){return Math.max(~~(z/ee*z),L)}(this.track.size,this.viewportScrollSize,this.cmp.minThumbSize),fe=function li(z,ee,L){return z*L/ee}(this.viewportScrollOffset,this.viewportScrollMax,this.trackMax);mr.schedule(()=>this.updateStyles(this.handleDirection(fe,this.trackMax),L))}dragged(L){let fe,ve;const qe=(0,On.of)(L).pipe(De(this.document),(0,qn.b)(()=>{fe=this.trackMax,ve=this.viewportScrollMax,this.setDragging(!0)})),vt=Yn(this.document,"mousemove",{capture:!0,passive:!0}).pipe(me()),Ft=Yn(this.document,"mouseup",{capture:!0}).pipe(me(),re(this.document),(0,qn.b)(()=>this.setDragging(!1)));return qe.pipe(vi(this.pageProperty),(0,ft.U)(Qn=>Qn-this.dragStartOffset),(0,Ui.zg)(Qn=>vt.pipe(vi(this.clientProperty),(0,ft.U)(fr=>fr-this.track.offset),(0,ft.U)(fr=>ve*(fr-Qn)/fe),(0,ft.U)(fr=>this.handleDrag(fr,ve)),(0,qn.b)(fr=>this.scrollTo(fr)),(0,$.R)(Ft))))}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(Qe),h.Y36(Ai),h.Y36(HTMLElement),h.Y36(Document))},z.\u0275dir=h.lG2({type:z,outputs:{dragging:"dragging"}}),z})(),Bi=(()=>{class z extends os{get clientProperty(){return"clientX"}get pageProperty(){return"pageX"}get viewportScrollSize(){return this.cmp.viewport.scrollWidth}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get dragStartOffset(){return this.clientRect.left+this.document.defaultView.pageXOffset||0}get size(){return this.thumbElement.clientWidth}constructor(L,fe,ve,qe,vt){super(L,fe,ve.nativeElement,qe),this.cmp=L,this.track=fe,this.element=ve,this.document=qe,this.dir=vt}updateStyles(L,fe){this.thumbElement.style.width=`${fe}px`,this.thumbElement.style.transform=`translate3d(${L}px, 0, 0)`}handleDrag(L,fe){if("rtl"===this.dir.value){if(1===this.cmp.manager.rtlScrollAxisType)return L-fe;if(2===this.cmp.manager.rtlScrollAxisType)return fe-L}return L}handleDirection(L,fe){if("rtl"===this.dir.value){if(2===this.cmp.manager.rtlScrollAxisType)return-L;if(0===this.cmp.manager.rtlScrollAxisType)return L-fe}return L}setDragging(L){this.cmp.setDragging({horizontalDragging:L})}scrollTo(L){this.cmp.viewport.scrollXTo(L)}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(Qe),h.Y36(Jr),h.Y36(h.SBq),h.Y36(J.K0),h.Y36(Ie))},z.\u0275dir=h.lG2({type:z,selectors:[["","scrollbarThumbX",""]],features:[h.qOj]}),z})(),wi=(()=>{class z extends os{get pageProperty(){return"pageY"}get viewportScrollSize(){return this.cmp.viewport.scrollHeight}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get clientProperty(){return"clientY"}get dragStartOffset(){return this.clientRect.top+this.document.defaultView.pageYOffset||0}get size(){return this.thumbElement.clientHeight}constructor(L,fe,ve,qe){super(L,fe,ve.nativeElement,qe),this.cmp=L,this.track=fe,this.element=ve,this.document=qe}updateStyles(L,fe){this.thumbElement.style.height=`${fe}px`,this.thumbElement.style.transform=`translate3d(0px, ${L}px, 0)`}handleDrag(L){return L}handleDirection(L){return L}setDragging(L){this.cmp.setDragging({verticalDragging:L})}scrollTo(L){this.cmp.viewport.scrollYTo(L)}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(Qe),h.Y36(zn),h.Y36(h.SBq),h.Y36(J.K0))},z.\u0275dir=h.lG2({type:z,selectors:[["","scrollbarThumbY",""]],features:[h.qOj]}),z})(),bi=(()=>{class z{constructor(L,fe,ve,qe,vt){this.el=L,this.cmp=fe,this.platform=ve,this.document=qe,this.zone=vt,this.destroyed=new rr.xQ}activatePointerEvents(){let L,fe,ve;return"viewport"===this.cmp.pointerEventsMethod?(this.viewportTrackClicked=new rr.xQ,this.viewportThumbClicked=new rr.xQ,this.cmp.viewport.activatePointerEvents(this.cmp.viewportPropagateMouseMove,this.destroyed),L=this.viewportThumbClicked,fe=this.viewportTrackClicked,ve=this.cmp.viewport.hovered.pipe((0,ft.U)(qe=>!!qe&&Re(qe,this.el.getBoundingClientRect())),(0,Fi.x)(),(0,qn.b)(qe=>this.document.onselectstart=qe?()=>!1:null)),this.cmp.viewport.clicked.pipe((0,qn.b)(qe=>{qe?Re(qe,this.thumb.clientRect)?this.viewportThumbClicked.next(qe):Re(qe,this.track.clientRect)&&(this.cmp.setClicked(!0),this.viewportTrackClicked.next(qe)):this.cmp.setClicked(!1)}),(0,$.R)(this.destroyed)).subscribe()):(L=this.thumb.clicked,fe=this.track.clicked,ve=this.hovered),(0,Pn.T)(ve.pipe((0,qn.b)(qe=>this.setHovered(qe))),L.pipe((0,di.w)(qe=>this.thumb.dragged(qe))),fe.pipe((0,di.w)(qe=>this.track.onTrackClicked(qe,this.thumb.size,this.viewportScrollSize))))}get hovered(){const L=Yn(this.el,"mouseenter",{passive:!0}).pipe(me(),(0,ft.U)(()=>!0)),fe=Yn(this.el,"mouseleave",{passive:!0}).pipe(me(),(0,ft.U)(()=>!1));return(0,Pn.T)(L,fe)}ngOnInit(){this.zone.runOutsideAngular(()=>{!(this.platform.IOS||this.platform.ANDROID)&&!this.cmp.pointerEventsDisabled&&this.activatePointerEvents().pipe((0,$.R)(this.destroyed)).subscribe(),(0,Pn.T)(this.cmp.scrolled,this.cmp.updated).pipe((0,qn.b)(()=>this.thumb?.update()),(0,$.R)(this.destroyed)).subscribe()})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete(),this.viewportThumbClicked&&this.viewportTrackClicked&&(this.viewportTrackClicked.complete(),this.viewportThumbClicked.complete())}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(HTMLElement),h.Y36(Qe),h.Y36(Jn),h.Y36(Document),h.Y36(h.R0b))},z.\u0275dir=h.lG2({type:z}),z})(),ei=(()=>{class z extends bi{get viewportScrollSize(){return this.cmp.viewport.scrollHeight}constructor(L,fe,ve,qe,vt){super(L.nativeElement,fe,ve,qe,vt),this.cmp=fe,this.platform=ve,this.document=qe,this.zone=vt}setHovered(L){this.cmp.setHovered({verticalHovered:L})}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(h.SBq),h.Y36(Qe),h.Y36(Jn),h.Y36(J.K0),h.Y36(h.R0b))},z.\u0275cmp=h.Xpm({type:z,selectors:[["scrollbar-y"]],viewQuery:function(L,fe){if(1&L&&(h.Gf(zn,7),h.Gf(wi,7)),2&L){let ve;h.iGM(ve=h.CRH())&&(fe.track=ve.first),h.iGM(ve=h.CRH())&&(fe.thumb=ve.first)}},hostVars:2,hostBindings:function(L,fe){2&L&&h.ekj("scrollbar-control",!0)},features:[h.qOj],decls:2,vars:6,consts:[["scrollbarTrackY",""],["scrollbarThumbY",""]],template:function(L,fe){1&L&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.qZA()),2&L&&(h.Gre("ng-scrollbar-track ",fe.cmp.trackClass,""),h.xp6(1),h.Gre("ng-scrollbar-thumb ",fe.cmp.thumbClass,""))},dependencies:[wi,zn],styles:[".ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}  .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control{left:unset;right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}"],changeDetection:0}),z})(),es=(()=>{class z extends bi{get viewportScrollSize(){return this.cmp.viewport.scrollWidth}constructor(L,fe,ve,qe,vt){super(L.nativeElement,fe,ve,qe,vt),this.cmp=fe,this.platform=ve,this.document=qe,this.zone=vt}setHovered(L){this.cmp.setHovered({horizontalHovered:L})}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(h.SBq),h.Y36(Qe),h.Y36(Jn),h.Y36(J.K0),h.Y36(h.R0b))},z.\u0275cmp=h.Xpm({type:z,selectors:[["scrollbar-x"]],viewQuery:function(L,fe){if(1&L&&(h.Gf(Jr,7),h.Gf(Bi,7)),2&L){let ve;h.iGM(ve=h.CRH())&&(fe.track=ve.first),h.iGM(ve=h.CRH())&&(fe.thumb=ve.first)}},hostVars:2,hostBindings:function(L,fe){2&L&&h.ekj("scrollbar-control",!0)},features:[h.qOj],decls:2,vars:6,consts:[["scrollbarTrackX",""],["scrollbarThumbX",""]],template:function(L,fe){1&L&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.qZA()),2&L&&(h.Gre("ng-scrollbar-track ",fe.cmp.trackClass,""),h.xp6(1),h.Gre("ng-scrollbar-thumb ",fe.cmp.thumbClass,""))},dependencies:[Bi,Jr],styles:[".ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}  .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:unset}  .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}"],changeDetection:0}),z})(),Wi=(()=>{class z{get disabled(){return this._disabled}set disabled(L){this._disabled=nn(L)}get sensorDisabled(){return this._sensorDisabled}set sensorDisabled(L){this._sensorDisabled=nn(L)}get pointerEventsDisabled(){return this._pointerEventsDisabled}set pointerEventsDisabled(L){this._pointerEventsDisabled=nn(L)}get viewportPropagateMouseMove(){return this._viewportPropagateMouseMove}set viewportPropagateMouseMove(L){this._viewportPropagateMouseMove=nn(L)}get autoHeightDisabled(){return this._autoHeightDisabled}set autoHeightDisabled(L){this._autoHeightDisabled=nn(L)}get autoWidthDisabled(){return this._autoWidthDisabled}set autoWidthDisabled(L){this._autoWidthDisabled=nn(L)}get nativeElement(){return this.el.nativeElement}constructor(L,fe,ve,qe,vt,Ft){this.el=L,this.zone=fe,this.changeDetectorRef=ve,this.dir=qe,this.smoothScroll=vt,this.manager=Ft,this._disabled=!1,this._sensorDisabled=this.manager.globalOptions.sensorDisabled,this._pointerEventsDisabled=this.manager.globalOptions.pointerEventsDisabled,this._autoHeightDisabled=this.manager.globalOptions.autoHeightDisabled,this._autoWidthDisabled=this.manager.globalOptions.autoWidthDisabled,this._viewportPropagateMouseMove=this.manager.globalOptions.viewportPropagateMouseMove,this.viewClass=this.manager.globalOptions.viewClass,this.trackClass=this.manager.globalOptions.trackClass,this.thumbClass=this.manager.globalOptions.thumbClass,this.minThumbSize=this.manager.globalOptions.minThumbSize,this.trackClickScrollDuration=this.manager.globalOptions.trackClickScrollDuration,this.pointerEventsMethod=this.manager.globalOptions.pointerEventsMethod,this.track=this.manager.globalOptions.track,this.visibility=this.manager.globalOptions.visibility,this.appearance=this.manager.globalOptions.appearance,this.position=this.manager.globalOptions.position,this.sensorDebounce=this.manager.globalOptions.sensorDebounce,this.scrollAuditTime=this.manager.globalOptions.scrollAuditTime,this.updated=new h.vpe,this.state={},this.destroyed=new rr.xQ}updateState(){let L=!1,fe=!1,ve=!1,qe=!1;("all"===this.track||"vertical"===this.track)&&(ve=this.viewport.scrollHeight>this.viewport.clientHeight,L="always"===this.visibility||ve),("all"===this.track||"horizontal"===this.track)&&(qe=this.viewport.scrollWidth>this.viewport.clientWidth,fe="always"===this.visibility||qe),this.setState({position:this.position,track:this.track,appearance:this.appearance,visibility:this.visibility,deactivated:this.disabled,dir:this.dir.value,pointerEventsMethod:this.pointerEventsMethod,verticalUsed:L,horizontalUsed:fe,isVerticallyScrollable:ve,isHorizontallyScrollable:qe})}setState(L){this.state={...this.state,...L},this.changeDetectorRef.detectChanges()}getScrolledByDirection(L){let fe;return this.scrolled.pipe((0,qn.b)(ve=>fe=ve),vi("target",L),function Zi(){return z=>z.lift(new qi)}(),(0,hi.h)(([ve,qe])=>ve!==qe),(0,ft.U)(()=>fe))}setHovered(L){this.zone.run(()=>this.setState({...L}))}setDragging(L){this.zone.run(()=>this.setState({...L}))}setClicked(L){this.zone.run(()=>this.setState({scrollbarClicked:L}))}ngOnInit(){this.zone.runOutsideAngular(()=>{this.customViewPort?(this.viewport=this.customViewPort,this.defaultViewPort.setAsWrapper()):this.viewport=this.defaultViewPort,this.viewport.setAsViewport(this.viewClass);let L=Yn(this.viewport.nativeElement,"scroll",{passive:!0});L=this.scrollAuditTime?L.pipe(function Ei(z,ee=is.P){return function Xi(z){return function(L){return L.lift(new ys(z))}}(()=>function _r(z=0,ee,L){let fe=-1;return(0,ss.k)(ee)?fe=Number(ee)<1?1:Number(ee):(0,bn.K)(ee)&&(L=ee),(0,bn.K)(L)||(L=is.P),new mn.y(ve=>{const qe=(0,ss.k)(z)?z:+z-L.now();return L.schedule(Tr,qe,{index:0,period:fe,subscriber:ve})})}(z,ee))}(this.scrollAuditTime)):L,this.scrolled=L.pipe((0,$.R)(this.destroyed)),this.verticalScrolled=this.getScrolledByDirection("scrollTop"),this.horizontalScrolled=this.getScrolledByDirection("scrollLeft")})}ngOnChanges(L){this.viewport&&this.update()}ngAfterViewInit(){this.update(),this.dir.change.pipe((0,qn.b)(()=>this.update()),(0,$.R)(this.destroyed)).subscribe()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}update(){this.autoHeightDisabled||this.updateHeight(),this.autoWidthDisabled||this.updateWidth(),this.updateState(),this.updated.next()}scrollTo(L){return this.smoothScroll.scrollTo(this.viewport.nativeElement,L)}scrollToElement(L,fe){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,L,fe)}updateHeight(){this.nativeElement.style.height="standard"===this.appearance&&this.scrollbarX?`${this.viewport.contentHeight+this.scrollbarX.nativeElement.clientHeight}px`:`${this.viewport.contentHeight}px`}updateWidth(){this.nativeElement.style.width="standard"===this.appearance&&this.scrollbarY?`${this.viewport.contentWidth+this.scrollbarY.nativeElement.clientWidth}px`:`${this.viewport.contentWidth}px`}}return z.\u0275fac=function(L){return new(L||z)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(h.sBO),h.Y36(Ie),h.Y36(zt),h.Y36(jt))},z.\u0275cmp=h.Xpm({type:z,selectors:[["ng-scrollbar"]],contentQueries:function(L,fe,ve){if(1&L&&h.Suo(ve,tt,7),2&L){let qe;h.iGM(qe=h.CRH())&&(fe.customViewPort=qe.first)}},viewQuery:function(L,fe){if(1&L&&(h.Gf(hr,5,h.SBq),h.Gf(Ji,5,h.SBq),h.Gf(tt,7)),2&L){let ve;h.iGM(ve=h.CRH())&&(fe.scrollbarY=ve.first),h.iGM(ve=h.CRH())&&(fe.scrollbarX=ve.first),h.iGM(ve=h.CRH())&&(fe.defaultViewPort=ve.first)}},hostVars:2,hostBindings:function(L,fe){2&L&&h.ekj("ng-scrollbar",!0)},inputs:{disabled:"disabled",sensorDisabled:"sensorDisabled",pointerEventsDisabled:"pointerEventsDisabled",viewportPropagateMouseMove:"viewportPropagateMouseMove",autoHeightDisabled:"autoHeightDisabled",autoWidthDisabled:"autoWidthDisabled",viewClass:"viewClass",trackClass:"trackClass",thumbClass:"thumbClass",minThumbSize:"minThumbSize",trackClickScrollDuration:"trackClickScrollDuration",pointerEventsMethod:"pointerEventsMethod",track:"track",visibility:"visibility",appearance:"appearance",position:"position",sensorDebounce:"sensorDebounce",scrollAuditTime:"scrollAuditTime"},outputs:{updated:"updated"},exportAs:["ngScrollbar"],features:[h._Bn([{provide:Qe,useExisting:z}]),h.TTD],ngContentSelectors:ho,decls:6,vars:4,consts:[[1,"ng-scrollbar-wrapper",3,"ngAttr"],[1,"ng-scroll-viewport-wrapper",3,"sensorDebounce","sensorDisabled","resizeSensor"],["scrollViewport","","hideNativeScrollbar",""],[4,"ngIf"],["scrollbarX",""],["scrollbarY",""]],template:function(L,fe){1&L&&(h.F$t(),h.TgZ(0,"div",0)(1,"div",1),h.NdJ("resizeSensor",function(){return fe.update()}),h.TgZ(2,"div",2)(3,"div"),h.Hsn(4),h.qZA()()(),h.YNc(5,xs,3,2,"ng-container",3),h.qZA()),2&L&&(h.Q6J("ngAttr",fe.state),h.xp6(1),h.Q6J("sensorDebounce",fe.sensorDebounce)("sensorDisabled",fe.sensorDisabled),h.xp6(4),h.Q6J("ngIf",!fe.disabled))},dependencies:[J.O5,tt,$n,ht,yr,ei,es],styles:[".ng-scrollbar-measure{scrollbar-width:none;-ms-overflow-style:none}  .ng-scrollbar-measure::-webkit-scrollbar{display:none}[_nghost-%COMP%]{--scrollbar-border-radius: 7px;--scrollbar-padding: 4px;--scrollbar-track-color: transparent;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-size: 5px;--scrollbar-hover-size: var(--scrollbar-size);--scrollbar-overscroll-behavior: initial;--scrollbar-transition-duration: .4s;--scrollbar-transition-delay: .8s;--scrollbar-thumb-transition: height ease-out .15s, width ease-out .15s;--scrollbar-track-transition: height ease-out .15s, width ease-out .15s;display:block;position:relative;height:100%;max-height:100%;max-width:100%;box-sizing:content-box!important}[_nghost-%COMP%] > .ng-scrollbar-wrapper[_ngcontent-%COMP%]{--scrollbar-total-size: calc(var(--scrollbar-size) + var(--scrollbar-padding) * 2);--vertical-scrollbar-size: var(--scrollbar-size);--horizontal-scrollbar-size: var(--scrollbar-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalDragging=true][_ngcontent-%COMP%]{--vertical-scrollbar-size: var(--scrollbar-hover-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalDragging=true][_ngcontent-%COMP%]{--horizontal-scrollbar-size: var(--scrollbar-hover-size);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:0;bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:var(--scrollbar-total-size);bottom:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport::-webkit-scrollbar{display:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{bottom:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{left:0;right:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{right:0;left:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%] > .scrollbar-control[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:var(--scrollbar-transition-duration);transition-delay:var(--scrollbar-transition-delay)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:hover > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:active > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:focus > .scrollbar-control[_ngcontent-%COMP%]{opacity:1;transition-duration:var(--scrollbar-transition-duration);transition-delay:0ms}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow:auto}.ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{overflow:hidden}.ng-scroll-viewport[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;contain:strict;will-change:scroll-position;overscroll-behavior:var(--scrollbar-overscroll-behavior)}  .ng-scroll-content{display:inline-block;min-width:100%}.ng-scrollbar-wrapper[_ngcontent-%COMP%], .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], .ng-scroll-layer[_ngcontent-%COMP%],   .ng-scroll-viewport{position:absolute;inset:0}",".ng-scrollbar-wrapper[pointerEventsMethod=viewport]>.scrollbar-control{pointer-events:none}  .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}  .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:var(--scrollbar-track-transition)}  .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}  .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:var(--scrollbar-track-transition);cursor:default}  .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:var(--scrollbar-thumb-transition)}"],changeDetection:0}),z})(),Nn=(()=>{class z{static withConfig(L){return{ngModule:z,providers:[{provide:tn,useValue:L}]}}}return z.\u0275fac=function(L){return new(L||z)},z.\u0275mod=h.oAB({type:z}),z.\u0275inj=h.cJS({imports:[J.ez,ye,_t,tr,yn]}),z})()},5861:(At,Be,U)=>{function h(Q,Ce,oe,ie,Ie,ge,ye){try{var se=Q[ge](ye),ce=se.value}catch(le){return void oe(le)}se.done?Ce(ce):Promise.resolve(ce).then(ie,Ie)}function J(Q){return function(){var Ce=this,oe=arguments;return new Promise(function(ie,Ie){var ge=Q.apply(Ce,oe);function ye(ce){h(ge,ie,Ie,ye,se,"next",ce)}function se(ce){h(ge,ie,Ie,ye,se,"throw",ce)}ye(void 0)})}}U.d(Be,{Z:()=>J})}},At=>{At(At.s=3144)}]);