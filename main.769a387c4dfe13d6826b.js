(self.webpackChunkchat_on_angular=self.webpackChunkchat_on_angular||[]).push([[179],{8255:ot=>{function Ie(M){return Promise.resolve().then(()=>{var T=new Error("Cannot find module '"+M+"'");throw T.code="MODULE_NOT_FOUND",T})}Ie.keys=()=>[],Ie.resolve=Ie,Ie.id=8255,ot.exports=Ie},8583:(ot,Ie,M)=>{"use strict";M.d(Ie,{mr:()=>pe,ez:()=>Bo,K0:()=>le,Do:()=>Et,V_:()=>H,Ye:()=>dt,S$:()=>Ze,mk:()=>it,sg:()=>Qe,O5:()=>z,b0:()=>rt,lw:()=>$,EM:()=>hn,JF:()=>_i,NF:()=>Ar,PM:()=>ys,w_:()=>j,bD:()=>co,q:()=>S,Mx:()=>Ue,HT:()=>se});var T=M(7716);let R=null;function S(){return R}function se(b){R||(R=b)}class j{}const le=new T.OlP("DocumentToken");let $=(()=>{class b{historyGo(_){throw new Error("Not implemented")}}return b.\u0275fac=function(_){return new(_||b)},b.\u0275prov=(0,T.Yz7)({factory:G,token:b,providedIn:"platform"}),b})();function G(){return(0,T.LFG)(ne)}const H=new T.OlP("Location Initialized");let ne=(()=>{class b extends ${constructor(_){super(),this._doc=_,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(_){const N=S().getGlobalEventTarget(this._doc,"window");return N.addEventListener("popstate",_,!1),()=>N.removeEventListener("popstate",_)}onHashChange(_){const N=S().getGlobalEventTarget(this._doc,"window");return N.addEventListener("hashchange",_,!1),()=>N.removeEventListener("hashchange",_)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(_){this.location.pathname=_}pushState(_,N,Z){k()?this._history.pushState(_,N,Z):this.location.hash=Z}replaceState(_,N,Z){k()?this._history.replaceState(_,N,Z):this.location.hash=Z}forward(){this._history.forward()}back(){this._history.back()}historyGo(_=0){this._history.go(_)}getState(){return this._history.state}}return b.\u0275fac=function(_){return new(_||b)(T.LFG(le))},b.\u0275prov=(0,T.Yz7)({factory:te,token:b,providedIn:"platform"}),b})();function k(){return!!window.history.pushState}function te(){return new ne((0,T.LFG)(le))}function be(b,x){if(0==b.length)return x;if(0==x.length)return b;let _=0;return b.endsWith("/")&&_++,x.startsWith("/")&&_++,2==_?b+x.substring(1):1==_?b+x:b+"/"+x}function Re(b){const x=b.match(/#|\?|$/),_=x&&x.index||b.length;return b.slice(0,_-("/"===b[_-1]?1:0))+b.slice(_)}function Se(b){return b&&"?"!==b[0]?"?"+b:b}let Ze=(()=>{class b{historyGo(_){throw new Error("Not implemented")}}return b.\u0275fac=function(_){return new(_||b)},b.\u0275prov=(0,T.Yz7)({factory:Oe,token:b,providedIn:"root"}),b})();function Oe(b){const x=(0,T.LFG)(le).location;return new rt((0,T.LFG)($),x&&x.origin||"")}const pe=new T.OlP("appBaseHref");let rt=(()=>{class b extends Ze{constructor(_,N){if(super(),this._platformLocation=_,this._removeListenerFns=[],null==N&&(N=this._platformLocation.getBaseHrefFromDOM()),null==N)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=N}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(_){this._removeListenerFns.push(this._platformLocation.onPopState(_),this._platformLocation.onHashChange(_))}getBaseHref(){return this._baseHref}prepareExternalUrl(_){return be(this._baseHref,_)}path(_=!1){const N=this._platformLocation.pathname+Se(this._platformLocation.search),Z=this._platformLocation.hash;return Z&&_?`${N}${Z}`:N}pushState(_,N,Z,Me){const Fe=this.prepareExternalUrl(Z+Se(Me));this._platformLocation.pushState(_,N,Fe)}replaceState(_,N,Z,Me){const Fe=this.prepareExternalUrl(Z+Se(Me));this._platformLocation.replaceState(_,N,Fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(_=0){var N,Z;null===(Z=(N=this._platformLocation).historyGo)||void 0===Z||Z.call(N,_)}}return b.\u0275fac=function(_){return new(_||b)(T.LFG($),T.LFG(pe,8))},b.\u0275prov=T.Yz7({token:b,factory:b.\u0275fac}),b})(),Et=(()=>{class b extends Ze{constructor(_,N){super(),this._platformLocation=_,this._baseHref="",this._removeListenerFns=[],null!=N&&(this._baseHref=N)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(_){this._removeListenerFns.push(this._platformLocation.onPopState(_),this._platformLocation.onHashChange(_))}getBaseHref(){return this._baseHref}path(_=!1){let N=this._platformLocation.hash;return null==N&&(N="#"),N.length>0?N.substring(1):N}prepareExternalUrl(_){const N=be(this._baseHref,_);return N.length>0?"#"+N:N}pushState(_,N,Z,Me){let Fe=this.prepareExternalUrl(Z+Se(Me));0==Fe.length&&(Fe=this._platformLocation.pathname),this._platformLocation.pushState(_,N,Fe)}replaceState(_,N,Z,Me){let Fe=this.prepareExternalUrl(Z+Se(Me));0==Fe.length&&(Fe=this._platformLocation.pathname),this._platformLocation.replaceState(_,N,Fe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(_=0){var N,Z;null===(Z=(N=this._platformLocation).historyGo)||void 0===Z||Z.call(N,_)}}return b.\u0275fac=function(_){return new(_||b)(T.LFG($),T.LFG(pe,8))},b.\u0275prov=T.Yz7({token:b,factory:b.\u0275fac}),b})(),dt=(()=>{class b{constructor(_,N){this._subject=new T.vpe,this._urlChangeListeners=[],this._platformStrategy=_;const Z=this._platformStrategy.getBaseHref();this._platformLocation=N,this._baseHref=Re(At(Z)),this._platformStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}path(_=!1){return this.normalize(this._platformStrategy.path(_))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(_,N=""){return this.path()==this.normalize(_+Se(N))}normalize(_){return b.stripTrailingSlash(function(b,x){return b&&x.startsWith(b)?x.substring(b.length):x}(this._baseHref,At(_)))}prepareExternalUrl(_){return _&&"/"!==_[0]&&(_="/"+_),this._platformStrategy.prepareExternalUrl(_)}go(_,N="",Z=null){this._platformStrategy.pushState(Z,"",_,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+Se(N)),Z)}replaceState(_,N="",Z=null){this._platformStrategy.replaceState(Z,"",_,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+Se(N)),Z)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(_=0){var N,Z;null===(Z=(N=this._platformStrategy).historyGo)||void 0===Z||Z.call(N,_)}onUrlChange(_){this._urlChangeListeners.push(_),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(N=>{this._notifyUrlChangeListeners(N.url,N.state)}))}_notifyUrlChangeListeners(_="",N){this._urlChangeListeners.forEach(Z=>Z(_,N))}subscribe(_,N,Z){return this._subject.subscribe({next:_,error:N,complete:Z})}}return b.\u0275fac=function(_){return new(_||b)(T.LFG(Ze),T.LFG($))},b.normalizeQueryParams=Se,b.joinWithSlash=be,b.stripTrailingSlash=Re,b.\u0275prov=(0,T.Yz7)({factory:_t,token:b,providedIn:"root"}),b})();function _t(){return new dt((0,T.LFG)(Ze),(0,T.LFG)($))}function At(b){return b.replace(/\/index.html$/,"")}var ye=(()=>((ye=ye||{})[ye.Zero=0]="Zero",ye[ye.One=1]="One",ye[ye.Two=2]="Two",ye[ye.Few=3]="Few",ye[ye.Many=4]="Many",ye[ye.Other=5]="Other",ye))();const me=T.kL8;class V{}let we=(()=>{class b extends V{constructor(_){super(),this.locale=_}getPluralCategory(_,N){switch(me(N||this.locale)(_)){case ye.Zero:return"zero";case ye.One:return"one";case ye.Two:return"two";case ye.Few:return"few";case ye.Many:return"many";default:return"other"}}}return b.\u0275fac=function(_){return new(_||b)(T.LFG(T.soG))},b.\u0275prov=T.Yz7({token:b,factory:b.\u0275fac}),b})();function Ue(b,x){x=encodeURIComponent(x);for(const _ of b.split(";")){const N=_.indexOf("="),[Z,Me]=-1==N?[_,""]:[_.slice(0,N),_.slice(N+1)];if(Z.trim()===x)return decodeURIComponent(Me)}return null}let it=(()=>{class b{constructor(_,N,Z,Me){this._iterableDiffers=_,this._keyValueDiffers=N,this._ngEl=Z,this._renderer=Me,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(_){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof _?_.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(_){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof _?_.split(/\s+/):_,this._rawClass&&((0,T.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const _=this._iterableDiffer.diff(this._rawClass);_&&this._applyIterableChanges(_)}else if(this._keyValueDiffer){const _=this._keyValueDiffer.diff(this._rawClass);_&&this._applyKeyValueChanges(_)}}_applyKeyValueChanges(_){_.forEachAddedItem(N=>this._toggleClass(N.key,N.currentValue)),_.forEachChangedItem(N=>this._toggleClass(N.key,N.currentValue)),_.forEachRemovedItem(N=>{N.previousValue&&this._toggleClass(N.key,!1)})}_applyIterableChanges(_){_.forEachAddedItem(N=>{if("string"!=typeof N.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,T.AaK)(N.item)}`);this._toggleClass(N.item,!0)}),_.forEachRemovedItem(N=>this._toggleClass(N.item,!1))}_applyClasses(_){_&&(Array.isArray(_)||_ instanceof Set?_.forEach(N=>this._toggleClass(N,!0)):Object.keys(_).forEach(N=>this._toggleClass(N,!!_[N])))}_removeClasses(_){_&&(Array.isArray(_)||_ instanceof Set?_.forEach(N=>this._toggleClass(N,!1)):Object.keys(_).forEach(N=>this._toggleClass(N,!1)))}_toggleClass(_,N){(_=_.trim())&&_.split(/\s+/g).forEach(Z=>{N?this._renderer.addClass(this._ngEl.nativeElement,Z):this._renderer.removeClass(this._ngEl.nativeElement,Z)})}}return b.\u0275fac=function(_){return new(_||b)(T.Y36(T.ZZ4),T.Y36(T.aQg),T.Y36(T.SBq),T.Y36(T.Qsj))},b.\u0275dir=T.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),b})();class Je{constructor(x,_,N,Z){this.$implicit=x,this.ngForOf=_,this.index=N,this.count=Z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qe=(()=>{class b{constructor(_,N,Z){this._viewContainer=_,this._template=N,this._differs=Z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(_){this._ngForOf=_,this._ngForOfDirty=!0}set ngForTrackBy(_){this._trackByFn=_}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(_){_&&(this._template=_)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const _=this._ngForOf;if(!this._differ&&_)try{this._differ=this._differs.find(_).create(this.ngForTrackBy)}catch(N){throw new Error(`Cannot find a differ supporting object '${_}' of type '${function(b){return b.name||typeof b}(_)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const _=this._differ.diff(this._ngForOf);_&&this._applyChanges(_)}}_applyChanges(_){const N=[];_.forEachOperation((Z,Me,Fe)=>{if(null==Z.previousIndex){const vt=this._viewContainer.createEmbeddedView(this._template,new Je(null,this._ngForOf,-1,-1),null===Fe?void 0:Fe),Gt=new mt(Z,vt);N.push(Gt)}else if(null==Fe)this._viewContainer.remove(null===Me?void 0:Me);else if(null!==Me){const vt=this._viewContainer.get(Me);this._viewContainer.move(vt,Fe);const Gt=new mt(Z,vt);N.push(Gt)}});for(let Z=0;Z<N.length;Z++)this._perViewChange(N[Z].view,N[Z].record);for(let Z=0,Me=this._viewContainer.length;Z<Me;Z++){const Fe=this._viewContainer.get(Z);Fe.context.index=Z,Fe.context.count=Me,Fe.context.ngForOf=this._ngForOf}_.forEachIdentityChange(Z=>{this._viewContainer.get(Z.currentIndex).context.$implicit=Z.item})}_perViewChange(_,N){_.context.$implicit=N.item}static ngTemplateContextGuard(_,N){return!0}}return b.\u0275fac=function(_){return new(_||b)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(T.ZZ4))},b.\u0275dir=T.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),b})();class mt{constructor(x,_){this.record=x,this.view=_}}let z=(()=>{class b{constructor(_,N){this._viewContainer=_,this._context=new U,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=N}set ngIf(_){this._context.$implicit=this._context.ngIf=_,this._updateView()}set ngIfThen(_){ue("ngIfThen",_),this._thenTemplateRef=_,this._thenViewRef=null,this._updateView()}set ngIfElse(_){ue("ngIfElse",_),this._elseTemplateRef=_,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(_,N){return!0}}return b.\u0275fac=function(_){return new(_||b)(T.Y36(T.s_b),T.Y36(T.Rgc))},b.\u0275dir=T.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),b})();class U{constructor(){this.$implicit=null,this.ngIf=null}}function ue(b,x){if(x&&!x.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,T.AaK)(x)}'.`)}let Bo=(()=>{class b{}return b.\u0275fac=function(_){return new(_||b)},b.\u0275mod=T.oAB({type:b}),b.\u0275inj=T.cJS({providers:[{provide:V,useClass:we}]}),b})();const co="browser";function Ar(b){return b===co}function ys(b){return"server"===b}let hn=(()=>{class b{}return b.\u0275prov=(0,T.Yz7)({token:b,providedIn:"root",factory:()=>new _s((0,T.LFG)(le),window)}),b})();class _s{constructor(x,_){this.document=x,this.window=_,this.offset=()=>[0,0]}setOffset(x){this.offset=Array.isArray(x)?()=>x:x}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(x){this.supportsScrolling()&&this.window.scrollTo(x[0],x[1])}scrollToAnchor(x){if(!this.supportsScrolling())return;const _=function(b,x){const _=b.getElementById(x)||b.getElementsByName(x)[0];if(_)return _;if("function"==typeof b.createTreeWalker&&b.body&&(b.body.createShadowRoot||b.body.attachShadow)){const N=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let Z=N.currentNode;for(;Z;){const Me=Z.shadowRoot;if(Me){const Fe=Me.getElementById(x)||Me.querySelector(`[name="${x}"]`);if(Fe)return Fe}Z=N.nextNode()}}return null}(this.document,x);_&&(this.scrollToElement(_),this.attemptFocus(_))}setHistoryScrollRestoration(x){if(this.supportScrollRestoration()){const _=this.window.history;_&&_.scrollRestoration&&(_.scrollRestoration=x)}}scrollToElement(x){const _=x.getBoundingClientRect(),N=_.left+this.window.pageXOffset,Z=_.top+this.window.pageYOffset,Me=this.offset();this.window.scrollTo(N-Me[0],Z-Me[1])}attemptFocus(x){return x.focus(),this.document.activeElement===x}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const x=Kr(this.window.history)||Kr(Object.getPrototypeOf(this.window.history));return!(!x||!x.writable&&!x.set)}catch(x){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(x){return!1}}}function Kr(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class _i{}},7716:(ot,Ie,M)=>{"use strict";M.d(Ie,{deG:()=>Od,tb:()=>I_,AFp:()=>C_,ip1:()=>mp,CZH:()=>Fl,hGG:()=>kT,z2F:()=>Zu,sBO:()=>DD,Sil:()=>Xu,_Vd:()=>Sl,EJc:()=>S_,SBq:()=>No,qLn:()=>Us,vpe:()=>Fo,gxx:()=>cl,tBr:()=>Os,XFs:()=>Ee,OlP:()=>kn,zs3:()=>Bn,ZZ4:()=>cd,aQg:()=>dd,soG:()=>Cd,YKP:()=>my,v3s:()=>mT,h0i:()=>ya,PXZ:()=>cT,R0b:()=>pi,FiY:()=>zi,Lbi:()=>w_,g9A:()=>D_,Qsj:()=>lD,FYo:()=>ud,JOm:()=>Oi,Tiy:()=>Wh,q3G:()=>pn,tp0:()=>Mi,EAV:()=>ET,Rgc:()=>Vu,dDg:()=>x_,DyG:()=>Ua,q4F:()=>$h,GfV:()=>uy,s_b:()=>pd,ifc:()=>ut,eFA:()=>L_,G48:()=>rT,Gpc:()=>ne,X6Q:()=>Dp,_c5:()=>MT,VLi:()=>nT,c2e:()=>T_,zSh:()=>Tu,wAp:()=>Nt,vHH:()=>Re,EiD:()=>ha,mCW:()=>qr,qzn:()=>To,JVY:()=>tf,pB0:()=>of,eBb:()=>_c,L6k:()=>nf,LAX:()=>rf,cg1:()=>Nh,Tjo:()=>RT,kL8:()=>xv,yhl:()=>yc,dqk:()=>tn,sIi:()=>Au,CqO:()=>Th,QGY:()=>Ih,F4k:()=>Lm,RDi:()=>Qr,AaK:()=>$,z3N:()=>Ki,qOj:()=>dh,TTD:()=>Bo,_Bn:()=>iy,xp6:()=>fg,uIk:()=>ph,ekj:()=>Mh,Suo:()=>e_,Xpm:()=>Zt,lG2:()=>Ur,Yz7:()=>Lt,cJS:()=>Mt,oAB:()=>kr,Yjl:()=>yr,Y36:()=>xu,_UZ:()=>Nm,BQk:()=>wh,ynx:()=>Dh,qZA:()=>Ch,TgZ:()=>bh,EpF:()=>Fm,n5z:()=>sn,Ikx:()=>Oh,LFG:()=>Tn,$8M:()=>En,NdJ:()=>Sh,CRH:()=>t_,oxw:()=>Um,Hsn:()=>Hm,F$t:()=>jm,Q6J:()=>_h,VKq:()=>$y,iGM:()=>Jy,Jf7:()=>Vc,CHM:()=>Cs,LSH:()=>tl,kYT:()=>Vr,Akn:()=>qi,YNc:()=>Cm,_uU:()=>fv,Oqu:()=>Ph,hij:()=>nd,Gf:()=>qy});var T=M(9765),R=M(5319),S=M(7574),X=M(6682),se=M(8819);function j(e){for(let t in e)if(e[t]===j)return t;throw Error("Could not find renamed property on target object.")}function le(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map($).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function G(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const H=j({__forward_ref__:j});function ne(e){return e.__forward_ref__=ne,e.toString=function(){return $(this())},e}function k(e){return te(e)?e():e}function te(e){return"function"==typeof e&&e.hasOwnProperty(H)&&e.__forward_ref__===ne}class Re extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Oe(e){return"string"==typeof e?e:null==e?"":String(e)}function pe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Oe(e)}function _t(e,t){const n=t?` in ${t}`:"";throw new Re("201",`No provider for ${pe(e)} found${n}`)}function tt(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Lt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Mt(e){return{providers:e.providers||[],imports:e.imports||[]}}function xt(e){return Qt(e,me)||Qt(e,Ne)}function Qt(e,t){return e.hasOwnProperty(t)?e[t]:null}function Tt(e){return e&&(e.hasOwnProperty(De)||e.hasOwnProperty(et))?e[De]:null}const me=j({\u0275prov:j}),De=j({\u0275inj:j}),Ne=j({ngInjectableDef:j}),et=j({ngInjectorDef:j});var Ee=(()=>((Ee=Ee||{})[Ee.Default=0]="Default",Ee[Ee.Host=1]="Host",Ee[Ee.Self=2]="Self",Ee[Ee.SkipSelf=4]="SkipSelf",Ee[Ee.Optional=8]="Optional",Ee))();let ct;function Dt(e){const t=ct;return ct=e,t}function gn(e,t,n){const r=xt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ee.Optional?null:void 0!==t?t:void _t($(e),"Injector")}function Nn(e){return{toString:e}.toString()}var mn=(()=>((mn=mn||{})[mn.OnPush=0]="OnPush",mn[mn.Default=1]="Default",mn))(),ut=(()=>((ut=ut||{})[ut.Emulated=0]="Emulated",ut[ut.None=2]="None",ut[ut.ShadowDom=3]="ShadowDom",ut))();const Rt="undefined"!=typeof globalThis&&globalThis,Pt="undefined"!=typeof window&&window,qn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,tn=Rt||"undefined"!=typeof global&&global||Pt||qn,nn={},q=[],Y=j({\u0275cmp:j}),he=j({\u0275dir:j}),Ce=j({\u0275pipe:j}),de=j({\u0275mod:j}),nt=j({\u0275loc:j}),at=j({\u0275fac:j}),St=j({__NG_ELEMENT_ID__:j});let en=0;function Zt(e){return Nn(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===mn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||q,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ut.Emulated,id:"c",styles:e.styles||q,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,l=e.features,c=e.pipes;return r.id+=en++,r.inputs=Br(e.inputs,n),r.outputs=Br(e.outputs),l&&l.forEach(d=>d(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(xn):null,r.pipeDefs=c?()=>("function"==typeof c?c():c).map(Fn):null,r})}function xn(e){return yt(e)||function(e){return e[he]||null}(e)}function Fn(e){return function(e){return e[Ce]||null}(e)}const ur={};function kr(e){return Nn(()=>{const t={type:e.type,bootstrap:e.bootstrap||q,declarations:e.declarations||q,imports:e.imports||q,exports:e.exports||q,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ur[e.id]=e.type),t})}function Vr(e,t){return Nn(()=>{const n=In(e,!0);n.declarations=t.declarations||q,n.imports=t.imports||q,n.exports=t.exports||q})}function Br(e,t){if(null==e)return nn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],l=s;Array.isArray(s)&&(l=s[1],s=s[0]),n[s]=r,t&&(t[s]=l)}return n}const Ur=Zt;function yr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function yt(e){return e[Y]||null}function In(e,t){const n=e[de]||null;if(!n&&!0===t)throw new Error(`Type ${$(e)} does not have '\u0275mod' property.`);return n}const A=11;function kt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Kn(e){return Array.isArray(e)&&!0===e[1]}function Yr(e){return 0!=(8&e.flags)}function Wn(e){return 2==(2&e.flags)}function vi(e){return 1==(1&e.flags)}function Er(e){return null!==e.template}function er(e){return 0!=(512&e[2])}function Rr(e,t){return e.hasOwnProperty(at)?e[at]:null}class uo{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bo(){return co}function co(e){return e.type.prototype.ngOnChanges&&(e.setInput=vs),Uo}function Uo(){const e=Ar(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===nn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function vs(e,t,n,r){const s=Ar(e)||function(e,t){return e[jr]=t}(e,{previous:nn,current:null}),l=s.current||(s.current={}),c=s.previous,d=this.declaredInputs[n],g=c[d];l[d]=new uo(g&&g.currentValue,t,c===nn),e[r]=t}Bo.ngInherit=!0;const jr="__ngSimpleChanges__";function Ar(e){return e[jr]||null}let Kr;function Qr(e){Kr=e}function b(e){return!!e.listen}const _={createRenderer:(e,t)=>void 0!==Kr?Kr:"undefined"!=typeof document?document:void 0};function Z(e){for(;Array.isArray(e);)e=e[0];return e}function vt(e,t){return Z(t[e])}function Gt(e,t){return Z(t[e.index])}function un(e,t){return e.data[t]}function rn(e,t){const n=t[e];return kt(n)?n:n[0]}function _n(e){return 4==(4&e[2])}function Ln(e){return 128==(128&e[2])}function Gn(e,t){return null==t?null:e[t]}function Hr(e){e[18]=0}function Zn(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const wt={lFrame:si(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function bs(){return wt.bindingsEnabled}function He(){return wt.lFrame.lView}function on(){return wt.lFrame.tView}function Cs(e){return wt.lFrame.contextLView=e,e[8]}function Pn(){let e=Ds();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ds(){return wt.lFrame.currentTNode}function Cr(e,t){const n=wt.lFrame;n.currentTNode=e,n.isParent=t}function ws(){return wt.lFrame.isParent}function bi(){wt.lFrame.isParent=!1}function ji(){return wt.isInCheckNoChangesMode}function oi(e){wt.isInCheckNoChangesMode=e}function Hi(){return wt.lFrame.bindingIndex++}function Xr(e){const t=wt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Hl(e,t){const n=wt.lFrame;n.bindingIndex=n.bindingRootIndex=e,hr(t)}function hr(e){wt.lFrame.currentDirectiveIndex=e}function Ho(){return wt.lFrame.currentQueryIndex}function Is(e){wt.lFrame.currentQueryIndex=e}function Oa(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Ts(e,t,n){if(n&Ee.SkipSelf){let s=t,l=e;for(;!(s=s.parent,null!==s||n&Ee.Host||(s=Oa(l),null===s||(l=l[15],10&s.type))););if(null===s)return!1;t=s,e=l}const r=wt.lFrame=Wo();return r.currentTNode=t,r.lView=e,!0}function Ci(e){const t=Wo(),n=e[1];wt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Wo(){const e=wt.lFrame,t=null===e?null:e.child;return null===t?si(e):t}function si(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Na(){const e=wt.lFrame;return wt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Fa=Na;function Di(){const e=Na();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Yn(){return wt.lFrame.selectedIndex}function Pr(e){wt.lFrame.selectedIndex=e}function An(){const e=wt.lFrame;return un(e.tView,e.selectedIndex)}function Ii(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const l=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:d,ngAfterViewInit:g,ngAfterViewChecked:y,ngOnDestroy:w}=l;c&&(e.contentHooks||(e.contentHooks=[])).push(-n,c),d&&((e.contentHooks||(e.contentHooks=[])).push(n,d),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,d)),g&&(e.viewHooks||(e.viewHooks=[])).push(-n,g),y&&((e.viewHooks||(e.viewHooks=[])).push(n,y),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,y)),null!=w&&(e.destroyHooks||(e.destroyHooks=[])).push(n,w)}}function po(e,t,n){Ti(e,t,3,n)}function go(e,t,n,r){(3&e[2])===n&&Ti(e,t,n,r)}function $o(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ti(e,t,n,r){const l=null!=r?r:-1,c=t.length-1;let d=0;for(let g=void 0!==r?65535&e[18]:0;g<c;g++)if("number"==typeof t[g+1]){if(d=t[g],null!=r&&d>=r)break}else t[g]<0&&(e[18]+=65536),(d<l||-1==l)&&(Jn(e,n,t,g),e[18]=(4294901760&e[18])+g+2),g++}function Jn(e,t,n,r){const s=n[r]<0,l=n[r+1],d=e[s?-n[r]:n[r]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{l.call(d)}finally{}}}else try{l.call(d)}finally{}}class Zr{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ss(e,t,n){const r=b(e);let s=0;for(;s<n.length;){const l=n[s];if("number"==typeof l){if(0!==l)break;s++;const c=n[s++],d=n[s++],g=n[s++];r?e.setAttribute(t,d,g,c):t.setAttributeNS(c,d,g)}else{const c=l,d=n[++s];Yo(c)?r&&e.setProperty(t,c,d):r?e.setAttribute(t,c,d):t.setAttribute(c,d),s++}}return s}function ta(e){return 3===e||4===e||6===e}function Yo(e){return 64===e.charCodeAt(0)}function Wi(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||zl(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function zl(e,t,n,r,s){let l=0,c=e.length;if(-1===t)c=-1;else for(;l<e.length;){const d=e[l++];if("number"==typeof d){if(d===t){c=-1;break}if(d>t){c=l-1;break}}}for(;l<e.length;){const d=e[l];if("number"==typeof d)break;if(d===n){if(null===r)return void(null!==s&&(e[l+1]=s));if(r===e[l+1])return void(e[l+2]=s)}l++,null!==r&&l++,null!==s&&l++}-1!==c&&(e.splice(c,0,t),l=c+1),e.splice(l++,0,n),null!==r&&e.splice(l++,0,r),null!==s&&e.splice(l++,0,s)}function Ri(e){return-1!==e}function $i(e){return 32767&e}function mo(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let na=!0;function Gi(e){const t=na;return na=e,t}let ka=0;function vo(e,t){const n=Ko(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Rs(r.data,e),Rs(t,null),Rs(r.blueprint,null));const s=As(e,t),l=e.injectorIndex;if(Ri(s)){const c=$i(s),d=mo(s,t),g=d[1].data;for(let y=0;y<8;y++)t[l+y]=d[c+y]|g[c+y]}return t[l+8]=s,l}function Rs(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ko(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function As(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){const l=s[1],c=l.type;if(r=2===c?l.declTNode:1===c?s[6]:null,null===r)return-1;if(n++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Qo(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(St)&&(r=n[St]),null==r&&(r=n[St]=ka++);const s=255&r;t.data[e+(s>>5)]|=1<<s}(e,t,n)}function Va(e,t,n){if(n&Ee.Optional)return e;_t(t,"NodeInjector")}function Ql(e,t,n,r){if(n&Ee.Optional&&void 0===r&&(r=null),0==(n&(Ee.Self|Ee.Host))){const s=e[9],l=Dt(void 0);try{return s?s.get(t,r,n&Ee.Optional):gn(t,r,n&Ee.Optional)}finally{Dt(l)}}return Va(r,t,n)}function m(e,t,n,r=Ee.Default,s){if(null!==e){const l=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(St)?e[St]:void 0;return"number"==typeof t?t>=0?255&t:h:t}(n);if("function"==typeof l){if(!Ts(t,e,r))return r&Ee.Host?Va(s,n,r):Ql(t,n,r,s);try{const c=l(r);if(null!=c||r&Ee.Optional)return c;_t(n)}finally{Fa()}}else if("number"==typeof l){let c=null,d=Ko(e,t),g=-1,y=r&Ee.Host?t[16][6]:null;for((-1===d||r&Ee.SkipSelf)&&(g=-1===d?As(e,t):t[d+8],-1!==g&&Pe(r,!1)?(c=t[1],d=$i(g),t=mo(g,t)):d=-1);-1!==d;){const w=t[1];if(re(l,d,w.data)){const F=E(d,t,n,c,r,y);if(F!==p)return F}g=t[d+8],-1!==g&&Pe(r,t[1].data[d+8]===y)&&re(l,d,t)?(c=w,d=$i(g),t=mo(g,t)):d=-1}}}return Ql(t,n,r,s)}const p={};function h(){return new ht(Pn(),He())}function E(e,t,n,r,s,l){const c=t[1],d=c.data[e+8],w=D(d,c,n,null==r?Wn(d)&&na:r!=c&&0!=(3&d.type),s&Ee.Host&&l===d);return null!==w?P(t,c,w,d):p}function D(e,t,n,r,s){const l=e.providerIndexes,c=t.data,d=1048575&l,g=e.directiveStart,w=l>>20,B=s?d+w:e.directiveEnd;for(let ee=r?d:d+w;ee<B;ee++){const ae=c[ee];if(ee<g&&n===ae||ee>=g&&ae.type===n)return ee}if(s){const ee=c[g];if(ee&&Er(ee)&&ee.type===n)return g}return null}function P(e,t,n,r){let s=e[n];const l=t.data;if(function(e){return e instanceof Zr}(s)){const c=s;c.resolving&&function(e,t){throw new Re("200",`Circular dependency in DI detected for ${e}`)}(pe(l[n]));const d=Gi(c.canSeeViewProviders);c.resolving=!0;const g=c.injectImpl?Dt(c.injectImpl):null;Ts(e,r,Ee.Default);try{s=e[n]=c.factory(void 0,l,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:l}=t.type.prototype;if(r){const c=co(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),l&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l))}(n,l[n],t)}finally{null!==g&&Dt(g),Gi(d),c.resolving=!1,Fa()}}return s}function re(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Pe(e,t){return!(e&Ee.Self||e&Ee.Host&&t)}class ht{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return m(this._tNode,this._lView,t,r,n)}}function sn(e){return Nn(()=>{const t=e.prototype.constructor,n=t[at]||It(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const l=s[at]||It(s);if(l&&l!==n)return l;s=Object.getPrototypeOf(s)}return l=>new l})}function It(e){return te(e)?()=>{const t=It(k(e));return t&&t()}:Rr(e)}function En(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let s=0;for(;s<r;){const l=n[s];if(ta(l))break;if(0===l)s+=2;else if("number"==typeof l)for(s++;s<r&&"string"==typeof n[s];)s++;else{if(l===t)return n[s+1];s+=2}}}return null}(Pn(),e)}const Ir="__parameters__";function rr(e,t,n){return Nn(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...l){if(this instanceof s)return r.apply(this,l),this;const c=new s(...l);return d.annotation=c,d;function d(g,y,w){const F=g.hasOwnProperty(Ir)?g[Ir]:Object.defineProperty(g,Ir,{value:[]})[Ir];for(;F.length<=w;)F.push(null);return(F[w]=F[w]||[]).push(c),g}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class kn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Lt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Od=new kn("AnalyzeForEntryComponents"),Ua=Function;function Jr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Jr(r,t)):t!==e&&t.push(r)}return t}function ir(e,t){e.forEach(n=>Array.isArray(n)?ir(n,t):t(n))}function _o(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Jo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Eo(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Wr(e,t,n){let r=qo(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function bo(e,t){const n=qo(e,t);if(n>=0)return e[1|n]}function qo(e,t){return function(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){const l=r+(s-r>>1),c=e[l<<n];if(t===c)return l<<n;c>t?s=l:r=l+1}return~(s<<n)}(e,t,1)}const aa={},iu="__NG_DI_FLAG__",xs="ngTempTokenPath",cc=/\n/gm,ou="__source",la=j({provide:String,useValue:j});let ts;function Co(e){const t=ts;return ts=e,t}function Ga(e,t=Ee.Default){if(void 0===ts)throw new Error("inject() must be called from an injection context");return null===ts?gn(e,void 0,t):ts.get(e,t&Ee.Optional?null:void 0,t)}function Tn(e,t=Ee.Default){return(ct||Ga)(k(e),t)}function ns(e){const t=[];for(let n=0;n<e.length;n++){const r=k(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let s,l=Ee.Default;for(let c=0;c<r.length;c++){const d=r[c],g=dc(d);"number"==typeof g?-1===g?s=d.token:l|=g:s=d}t.push(Tn(s,l))}else t.push(Tn(r))}return t}function Do(e,t){return e[iu]=t,e.prototype[iu]=t,e}function dc(e){return e[iu]}function fc(e,t,n,r){const s=e[xs];throw t[ou]&&s.unshift(t[ou]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=$(t);if(Array.isArray(t))s=t.map($).join(" -> ");else if("object"==typeof t){let l=[];for(let c in t)if(t.hasOwnProperty(c)){let d=t[c];l.push(c+":"+("string"==typeof d?JSON.stringify(d):$(d)))}s=`{${l.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(cc,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[xs]=null,e}const Os=Do(rr("Inject",e=>({token:e})),-1),zi=Do(rr("Optional"),8),Mi=Do(rr("SkipSelf"),4);let os;function or(e){var t;return(null===(t=function(){if(void 0===os&&(os=null,tn.trustedTypes))try{os=tn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return os}())||void 0===t?void 0:t.createHTML(e))||e}class Io{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qd extends Io{getTypeName(){return"HTML"}}class vc extends Io{getTypeName(){return"Style"}}class ef extends Io{getTypeName(){return"Script"}}class cu extends Io{getTypeName(){return"URL"}}class Za extends Io{getTypeName(){return"ResourceURL"}}function Ki(e){return e instanceof Io?e.changingThisBreaksApplicationSecurity:e}function To(e,t){const n=yc(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function yc(e){return e instanceof Io&&e.getTypeName()||null}function tf(e){return new qd(e)}function nf(e){return new vc(e)}function _c(e){return new ef(e)}function rf(e){return new cu(e)}function of(e){return new Za(e)}class du{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(or(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class bc{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=or(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=or(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let s=n.length-1;0<s;s--){const c=n.item(s).name;("xmlns:ns1"===c||0===c.indexOf("ns1:"))&&t.removeAttribute(c)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const af=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ls=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qr(e){return(e=String(e)).match(af)||e.match(Ls)?e:"unsafe:"+e}function ei(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function So(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Dc=ei("area,br,col,hr,img,wbr"),ss=ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wc=ei("rp,rt"),ks=So(Dc,So(ss,ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),So(wc,ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),So(wc,ss)),da=ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fa=ei("srcset"),Ja=So(da,fa,ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),df=ei("script,style,template");class Ic{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=this.checkClobberedElement(n,n.nextSibling);if(s){n=s;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!ks.hasOwnProperty(n))return this.sanitizedSomething=!0,!df.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let s=0;s<r.length;s++){const l=r.item(s),c=l.name,d=c.toLowerCase();if(!Ja.hasOwnProperty(d)){this.sanitizedSomething=!0;continue}let g=l.value;da[d]&&(g=qr(g)),fa[d]&&(e=g,g=(e=String(e)).split(",").map(t=>qr(t.trim())).join(", ")),this.buf.push(" ",c,'="',Rc(g),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();ks.hasOwnProperty(n)&&!Dc.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Rc(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Tc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sc=/([^\#-~ |!])/g;function Rc(e){return e.replace(/&/g,"&amp;").replace(Tc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Sc,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tr;function ha(e,t){let n=null;try{Tr=Tr||function(e){const t=new bc(e);return function(){try{return!!(new window.DOMParser).parseFromString(or(""),"text/html")}catch(e){return!1}}()?new du(t):t}(e);let r=t?String(t):"";n=Tr.getInertBodyElement(r);let s=5,l=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=l,l=n.innerHTML,n=Tr.getInertBodyElement(r)}while(r!==l);return or((new Ic).sanitizeChildren(xi(n)||n))}finally{if(n){const r=xi(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function xi(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function tl(e){const t=function(){const e=He();return e&&e[12]}();return t?t.sanitize(pn.URL,e)||"":To(e,"URL")?Ki(e):qr(Oe(e))}const hu="__ngContext__";function sr(e,t){e[hu]=t}function rl(e){const t=function(e){return e[hu]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function il(e){return e.ngOriginalError}function Df(e,...t){e.error(...t)}class Us{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=this._findContext(t),s=(e=t)&&e.ngErrorLogger||Df;var e;s(this._console,"ERROR",t),n&&s(this._console,"ORIGINAL ERROR",n),r&&s(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?t.ngDebugContext||this._findContext(il(t)):null}_findOriginalError(t){let n=t&&il(t);for(;n&&il(n);)n=il(n);return n||null}}const kc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(tn))();function Vc(e){return e.ownerDocument.defaultView}function Pi(e){return e instanceof Function?e():e}var Oi=(()=>((Oi=Oi||{})[Oi.Important=1]="Important",Oi[Oi.DashCase=2]="DashCase",Oi))();function ls(e,t){return undefined(e,t)}function Mo(e){const t=e[3];return Kn(t)?t[3]:t}function _u(e){return Wc(e[13])}function Eu(e){return Wc(e[4])}function Wc(e){for(;null!==e&&!Kn(e);)e=e[4];return e}function Hs(e,t,n,r,s){if(null!=r){let l,c=!1;Kn(r)?l=r:kt(r)&&(c=!0,r=r[0]);const d=Z(r);0===e&&null!==n?null==s?O(t,n,d):C(t,n,d,s||null,!0):1===e&&null!==n?C(t,n,d,s||null,!0):2===e?function(e,t,n){const r=J(e,t);r&&function(e,t,n,r){b(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,d,c):3===e&&t.destroyNode(d),null!=l&&function(e,t,n,r,s){const l=n[7];l!==Z(n)&&Hs(t,e,r,l,s);for(let d=10;d<n.length;d++){const g=n[d];ga(g[1],g,e,t,r,l)}}(t,e,l,n,s)}}function Cu(e,t,n){return b(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Gc(e,t){const n=e[9],r=n.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Zn(s,-1)),n.splice(r,1)}function Du(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Gc(s,r),t>0&&(e[n-1][4]=r[4]);const l=Jo(e,10+t);!function(e,t){ga(e,t,t[A],2,null,null),t[0]=null,t[6]=null}(r[1],r);const c=l[19];null!==c&&c.detachView(l[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function o(e,t){if(!(256&t[2])){const n=t[A];b(n)&&n.destroyNode&&ga(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return i(e[1],e);for(;t;){let n=null;if(kt(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)kt(t)&&i(t[1],t),t=t[3];null===t&&(t=e),kt(t)&&i(t[1],t),n=t&&t[4]}t=n}}(t)}}function i(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof Zr)){const l=n[r+1];if(Array.isArray(l))for(let c=0;c<l.length;c+=2){const d=s[l[c]],g=l[c+1];try{g.call(d)}finally{}}else try{l.call(s)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let s=-1;if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const c=n[l+1],d="function"==typeof c?c(t):Z(t[c]),g=r[s=n[l+2]],y=n[l+3];"boolean"==typeof y?d.removeEventListener(n[l],g,y):y>=0?r[s=y]():r[s=-y].unsubscribe(),l+=2}else{const c=r[s=n[l+1]];n[l].call(c)}if(null!==r){for(let l=s+1;l<r.length;l++)r[l]();t[7]=null}}(e,t),1===t[1].type&&b(t[A])&&t[A].destroy();const n=t[17];if(null!==n&&Kn(t[3])){n!==t[3]&&Gc(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function f(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const s=e.data[r.directiveStart].encapsulation;if(s===ut.None||s===ut.Emulated)return null}return Gt(r,n)}(e,t.parent,n)}function C(e,t,n,r,s){b(e)?e.insertBefore(t,n,r,s):t.insertBefore(n,r,s)}function O(e,t,n){b(e)?e.appendChild(t,n):t.appendChild(n)}function L(e,t,n,r,s){null!==r?C(e,t,n,r,s):O(e,t,n)}function J(e,t){return b(e)?e.parentNode(t):t.parentNode}function Le(e,t,n){return ft(e,t,n)}let ft=function(e,t,n){return 40&e.type?Gt(e,n):null};function Wt(e,t,n,r){const s=f(e,r,t),l=t[A],d=Le(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(n))for(let g=0;g<n.length;g++)L(l,s,n[g],d,!1);else L(l,s,n,d,!1)}function Vn(e,t){if(null!==t){const n=t.type;if(3&n)return Gt(t,e);if(4&n)return Ws(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Vn(e,r);{const s=e[t.index];return Kn(s)?Ws(-1,s):Z(s)}}if(32&n)return ls(t,e)()||Z(e[t.index]);{const r=fi(e,t);return null!==r?Array.isArray(r)?r[0]:Vn(Mo(e[16]),r):Vn(e,t.next)}}return null}function fi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ws(e,t){const n=10+e+1;if(n<t.length){const r=t[n],s=r[1].firstChild;if(null!==s)return Vn(r,s)}return t[7]}function pa(e,t,n,r,s,l,c){for(;null!=n;){const d=r[n.index],g=n.type;if(c&&0===t&&(d&&sr(Z(d),r),n.flags|=4),64!=(64&n.flags))if(8&g)pa(e,t,n.child,r,s,l,!1),Hs(t,e,s,d,l);else if(32&g){const y=ls(n,r);let w;for(;w=y();)Hs(t,e,s,w,l);Hs(t,e,s,d,l)}else 16&g?og(e,t,r,n,s,l):Hs(t,e,s,d,l);n=c?n.projectionNext:n.next}}function ga(e,t,n,r,s,l){pa(n,r,e.firstChild,t,s,l,!1)}function og(e,t,n,r,s,l){const c=n[16],g=c[6].projection[r.projection];if(Array.isArray(g))for(let y=0;y<g.length;y++)Hs(t,e,s,g[y],l);else pa(e,t,g,c[3],s,l,!0)}function sg(e,t,n){b(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Vf(e,t,n){b(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function ag(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const l=t.length;if(s+l===r||e.charCodeAt(s+l)<=32)return s}n=s+1}}const lg="ng-template";function mE(e,t,n){let r=0;for(;r<e.length;){let s=e[r++];if(n&&"class"===s){if(s=e[r],-1!==ag(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function ug(e){return 4===e.type&&e.value!==lg}function vE(e,t,n){return t===(4!==e.type||n?e.value:lg)}function yE(e,t,n){let r=4;const s=e.attrs||[],l=function(e){for(let t=0;t<e.length;t++)if(ta(e[t]))return t;return e.length}(s);let c=!1;for(let d=0;d<t.length;d++){const g=t[d];if("number"!=typeof g){if(!c)if(4&r){if(r=2|1&r,""!==g&&!vE(e,g,n)||""===g&&1===t.length){if(Qi(r))return!1;c=!0}}else{const y=8&r?g:t[++d];if(8&r&&null!==e.attrs){if(!mE(e.attrs,y,n)){if(Qi(r))return!1;c=!0}continue}const F=_E(8&r?"class":g,s,ug(e),n);if(-1===F){if(Qi(r))return!1;c=!0;continue}if(""!==y){let B;B=F>l?"":s[F+1].toLowerCase();const ee=8&r?B:null;if(ee&&-1!==ag(ee,y,0)||2&r&&y!==B){if(Qi(r))return!1;c=!0}}}}else{if(!c&&!Qi(r)&&!Qi(g))return!1;if(c&&Qi(g))continue;c=!1,r=g|1&r}}return Qi(r)||c}function Qi(e){return 0==(1&e)}function _E(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let l=!1;for(;s<t.length;){const c=t[s];if(c===e)return s;if(3===c||6===c)l=!0;else{if(1===c||2===c){let d=t[++s];for(;"string"==typeof d;)d=t[++s];continue}if(4===c)break;if(0===c){s+=4;continue}}s+=l?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function cg(e,t,n=!1){for(let r=0;r<t.length;r++)if(yE(e,t[r],n))return!0;return!1}function DE(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let s=0;s<e.length;s++)if(e[s]!==r[s])continue e;return!0}}return!1}function dg(e,t){return e?":not("+t.trim()+")":t}function wE(e){let t=e[0],n=1,r=2,s="",l=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const d=e[++n];s+="["+c+(d.length>0?'="'+d+'"':"")+"]"}else 8&r?s+="."+c:4&r&&(s+=" "+c);else""!==s&&!Qi(c)&&(t+=dg(l,s),s=""),r=c,l=l||!Qi(r);n++}return""!==s&&(t+=dg(l,s)),t}const zt={};function fg(e){hg(on(),He(),Yn()+e,ji())}function hg(e,t,n,r){if(!r)if(3==(3&t[2])){const l=e.preOrderCheckHooks;null!==l&&po(t,l,n)}else{const l=e.preOrderHooks;null!==l&&go(t,l,0,n)}Pr(n)}function Yc(e,t){return e<<17|t<<2}function Xi(e){return e>>17&32767}function Bf(e){return 2|e}function us(e){return(131068&e)>>2}function Uf(e,t){return-131069&e|t<<2}function jf(e){return 1|e}function Dg(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],l=n[r+1];if(-1!==l){const c=e.data[l];Is(s),c.contentQueries(2,t[l],l)}}}function wu(e,t,n,r,s,l,c,d,g,y){const w=t.blueprint.slice();return w[0]=s,w[2]=140|r,Hr(w),w[3]=w[15]=e,w[8]=n,w[10]=c||e&&e[10],w[A]=d||e&&e[A],w[12]=g||e&&e[12]||null,w[9]=y||e&&e[9]||null,w[6]=l,w[16]=2==t.type?e[16]:w,w}function al(e,t,n,r,s){let l=e.data[t];if(null===l)l=function(e,t,n,r,s){const l=Ds(),c=ws(),g=e.data[t]=function(e,t,n,r,s,l){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?l:l&&l.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=g),null!==l&&(c?null==l.child&&null!==g.parent&&(l.child=g):null===l.next&&(l.next=g)),g}(e,t,n,r,s),wt.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=n,l.value=r,l.attrs=s;const c=function(){const e=wt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===c?-1:c.injectorIndex}return Cr(l,!0),l}function ll(e,t,n,r){if(0===n)return-1;const s=t.length;for(let l=0;l<n;l++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function Iu(e,t,n){Ci(t);try{const r=e.viewQuery;null!==r&&rh(1,r,n);const s=e.template;null!==s&&wg(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Dg(e,t),e.staticViewQueries&&rh(2,e.viewQuery,n);const l=e.components;null!==l&&function(e,t){for(let n=0;n<t.length;n++)r0(e,t[n])}(t,l)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Di()}}function ul(e,t,n,r){const s=t[2];if(256==(256&s))return;Ci(t);const l=ji();try{Hr(t),function(e){wt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&wg(e,t,n,2,r);const c=3==(3&s);if(!l)if(c){const y=e.preOrderCheckHooks;null!==y&&po(t,y,null)}else{const y=e.preOrderHooks;null!==y&&go(t,y,0,null),$o(t,0)}if(function(e){for(let t=_u(e);null!==t;t=Eu(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const s=n[r],l=s[3];0==(1024&s[2])&&Zn(l,1),s[2]|=1024}}}(t),function(e){for(let t=_u(e);null!==t;t=Eu(t))for(let n=10;n<t.length;n++){const r=t[n],s=r[1];Ln(r)&&ul(s,r,s.template,r[8])}}(t),null!==e.contentQueries&&Dg(e,t),!l)if(c){const y=e.contentCheckHooks;null!==y&&po(t,y)}else{const y=e.contentHooks;null!==y&&go(t,y,1),$o(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)Pr(~s);else{const l=s,c=n[++r],d=n[++r];Hl(c,l),d(2,t[l])}}}finally{Pr(-1)}}(e,t);const d=e.components;null!==d&&function(e,t){for(let n=0;n<t.length;n++)n0(e,t[n])}(t,d);const g=e.viewQuery;if(null!==g&&rh(2,g,r),!l)if(c){const y=e.viewCheckHooks;null!==y&&po(t,y)}else{const y=e.viewHooks;null!==y&&go(t,y,2),$o(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),l||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Zn(t[3],-1))}finally{Di()}}function kE(e,t,n,r){const s=t[10],l=!ji(),c=_n(t);try{l&&!c&&s.begin&&s.begin(),c&&Iu(e,t,r),ul(e,t,n,r)}finally{l&&!c&&s.end&&s.end()}}function wg(e,t,n,r,s){const l=Yn(),c=2&r;try{Pr(-1),c&&t.length>20&&hg(e,t,20,ji()),n(r,s)}finally{Pr(l)}}function Ig(e,t,n){if(Yr(t)){const s=t.directiveEnd;for(let l=t.directiveStart;l<s;l++){const c=e.data[l];c.contentQueries&&c.contentQueries(1,n[l],l)}}}function Qf(e,t,n){!bs()||(function(e,t,n,r){const s=n.directiveStart,l=n.directiveEnd;e.firstCreatePass||vo(n,t),sr(r,t);const c=n.initialInputs;for(let d=s;d<l;d++){const g=e.data[d],y=Er(g);y&&ZE(t,n,g);const w=P(t,e,d,n);sr(w,t),null!==c&&JE(0,d-s,w,g,0,c),y&&(rn(n.index,t)[8]=w)}}(e,t,n,Gt(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,s=n.directiveEnd,c=n.index,d=wt.lFrame.currentDirectiveIndex;try{Pr(c);for(let g=r;g<s;g++){const y=e.data[g],w=t[g];hr(g),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&Og(y,w)}}finally{Pr(-1),hr(d)}}(e,t,n))}function Xf(e,t,n=Gt){const r=t.localNames;if(null!==r){let s=t.index+1;for(let l=0;l<r.length;l+=2){const c=r[l+1],d=-1===c?n(t,e):e[c];e[s++]=d}}}function Tg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Qc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Qc(e,t,n,r,s,l,c,d,g,y){const w=20+r,F=w+s,B=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:zt);return n}(w,F),ee="function"==typeof y?y():y;return B[1]={type:e,blueprint:B,template:n,queries:null,viewQuery:d,declTNode:t,data:B.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:g,consts:ee,incompleteFirstPass:!1}}function Ag(e,t,n,r){const s=Bg(t);null===n?s.push(r):(s.push(n),e.firstCreatePass&&Ug(e).push(r,s.length-1))}function Mg(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,s):n[r]=[t,s]}return n}function hi(e,t,n,r,s,l,c,d){const g=Gt(t,n);let w,y=t.inputs;!d&&null!=y&&(w=y[r])?(Wg(e,n,w,r,s),Wn(t)&&function(e,t){const n=rn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=c?c(s,t.value||"",r):s,b(l)?l.setProperty(g,r,s):Yo(r)||(g.setProperty?g.setProperty(r,s):g[r]=s))}function Zf(e,t,n,r){let s=!1;if(bs()){const l=function(e,t,n){const r=e.directiveRegistry;let s=null;if(r)for(let l=0;l<r.length;l++){const c=r[l];cg(n,c.selectors,!1)&&(s||(s=[]),Qo(vo(n,t),e,c.type),Er(c)?(Ng(e,n),s.unshift(c)):s.push(c))}return s}(e,t,n),c=null===r?null:{"":-1};if(null!==l){s=!0,Fg(n,e.data.length,l.length);for(let w=0;w<l.length;w++){const F=l[w];F.providersResolver&&F.providersResolver(F)}let d=!1,g=!1,y=ll(e,t,l.length,null);for(let w=0;w<l.length;w++){const F=l[w];n.mergedAttrs=Wi(n.mergedAttrs,F.hostAttrs),Lg(e,n,t,y,F),XE(y,F,c),null!==F.contentQueries&&(n.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(n.flags|=128);const B=F.type.prototype;!d&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),d=!0),!g&&(B.ngOnChanges||B.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),g=!0),y++}!function(e,t){const r=t.directiveEnd,s=e.data,l=t.attrs,c=[];let d=null,g=null;for(let y=t.directiveStart;y<r;y++){const w=s[y],F=w.inputs,B=null===l||ug(t)?null:qE(F,l);c.push(B),d=Mg(F,y,d),g=Mg(w.outputs,y,g)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=16),d.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=c,t.inputs=d,t.outputs=g}(e,n)}c&&function(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const l=n[t[s+1]];if(null==l)throw new Re("301",`Export of name '${t[s+1]}' not found!`);r.push(t[s],l)}}}(n,r,c)}return n.mergedAttrs=Wi(n.mergedAttrs,n.attrs),s}function Pg(e,t,n,r,s,l){const c=l.hostBindings;if(c){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const g=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=g&&d.push(g),d.push(r,s,c)}}function Og(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ng(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function XE(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Er(t)&&(n[""]=e)}}function Fg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Lg(e,t,n,r,s){e.data[r]=s;const l=s.factory||(s.factory=Rr(s.type)),c=new Zr(l,Er(s),null);e.blueprint[r]=c,n[r]=c,Pg(e,t,0,r,ll(e,n,s.hostVars,zt),s)}function ZE(e,t,n){const r=Gt(t,e),s=Tg(n),l=e[10],c=Xc(e,wu(e,s,null,n.onPush?64:16,r,t,l,l.createRenderer(r,n),null,null));e[t.index]=c}function xo(e,t,n,r,s,l){const c=Gt(e,t);!function(e,t,n,r,s,l,c){if(null==l)b(e)?e.removeAttribute(t,s,n):t.removeAttribute(s);else{const d=null==c?Oe(l):c(l,r||"",s);b(e)?e.setAttribute(t,s,d,n):n?t.setAttributeNS(n,s,d):t.setAttribute(s,d)}}(t[A],c,l,e.value,n,r,s)}function JE(e,t,n,r,s,l){const c=l[t];if(null!==c){const d=r.setInput;for(let g=0;g<c.length;){const y=c[g++],w=c[g++],F=c[g++];null!==d?r.setInput(n,F,y,w):n[w]=F}}}function qE(e,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[r+1])),r+=2}else r+=2;else r+=4}return n}function kg(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function n0(e,t){const n=rn(t,e);if(Ln(n)){const r=n[1];80&n[2]?ul(r,n,r.template,n[8]):n[5]>0&&qf(n)}}function qf(e){for(let r=_u(e);null!==r;r=Eu(r))for(let s=10;s<r.length;s++){const l=r[s];if(1024&l[2]){const c=l[1];ul(c,l,c.template,l[8])}else l[5]>0&&qf(l)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const s=rn(n[r],e);Ln(s)&&s[5]>0&&qf(s)}}function r0(e,t){const n=rn(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Iu(r,n,n[8])}function Xc(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function eh(e){for(;e;){e[2]|=64;const t=Mo(e);if(er(e)&&!t)return e;e=t}return null}function nh(e,t,n){const r=t[10];r.begin&&r.begin();try{ul(e,t,e.template,n)}catch(s){throw Hg(t,s),s}finally{r.end&&r.end()}}function Vg(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=rl(n),s=r[1];kE(s,r,s.template,n)}}(e[8])}function rh(e,t,n){Is(0),t(e,n)}const l0=(()=>Promise.resolve(null))();function Bg(e){return e[7]||(e[7]=[])}function Ug(e){return e.cleanup||(e.cleanup=[])}function Hg(e,t){const n=e[9],r=n?n.get(Us,null):null;r&&r.handleError(t)}function Wg(e,t,n,r,s){for(let l=0;l<n.length;){const c=n[l++],d=n[l++],g=t[c],y=e.data[c];null!==y.setInput?y.setInput(g,s,r,d):g[d]=s}}function ds(e,t,n){const r=vt(t,e);!function(e,t,n){b(e)?e.setValue(t,n):t.textContent=n}(e[A],r,n)}function Zc(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,l=0;if(null!==t)for(let c=0;c<t.length;c++){const d=t[c];"number"==typeof d?l=d:1==l?s=G(s,d):2==l&&(r=G(r,d+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}const cl=new kn("INJECTOR",-1);class $g{get(t,n=aa){if(n===aa){const r=new Error(`NullInjectorError: No provider for ${$(t)}!`);throw r.name="NullInjectorError",r}return n}}const Tu=new kn("Set Injector scope."),Su={},d0={};let ih;function Gg(){return void 0===ih&&(ih=new $g),ih}function Yg(e,t=null,n=null,r){return new h0(e,n,t||Gg(),r)}class h0{constructor(t,n,r,s=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];n&&ir(n,d=>this.processProvider(d,t,n)),ir([t],d=>this.processInjectorType(d,[],l)),this.records.set(cl,dl(void 0,this));const c=this.records.get(Tu);this.scope=null!=c?c.value:null,this.source=s||("object"==typeof t?null:$(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=aa,r=Ee.Default){this.assertNotDestroyed();const s=Co(this),l=Dt(void 0);try{if(!(r&Ee.SkipSelf)){let d=this.records.get(t);if(void 0===d){const g=("function"==typeof(e=t)||"object"==typeof e&&e instanceof kn)&&xt(t);d=g&&this.injectableDefInScope(g)?dl(oh(t),Su):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(r&Ee.Self?Gg():this.parent).get(t,n=r&Ee.Optional&&n===aa?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[xs]=c[xs]||[]).unshift($(t)),s)throw c;return fc(c,t,"R3InjectorError",this.source)}throw c}finally{Dt(l),Co(s)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,s)=>t.push($(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=k(t)))return!1;let s=Tt(t);const l=null==s&&t.ngModule||void 0,c=void 0===l?t:l,d=-1!==r.indexOf(c);if(void 0!==l&&(s=Tt(l)),null==s)return!1;if(null!=s.imports&&!d){let w;r.push(c);try{ir(s.imports,F=>{this.processInjectorType(F,n,r)&&(void 0===w&&(w=[]),w.push(F))})}finally{}if(void 0!==w)for(let F=0;F<w.length;F++){const{ngModule:B,providers:ee}=w[F];ir(ee,ae=>this.processProvider(ae,B,ee||q))}}this.injectorDefTypes.add(c);const g=Rr(c)||(()=>new c);this.records.set(c,dl(g,Su));const y=s.providers;if(null!=y&&!d){const w=t;ir(y,F=>this.processProvider(F,w,y))}return void 0!==l&&void 0!==t.providers}processProvider(t,n,r){let s=fl(t=k(t))?t:k(t&&t.provide);const l=Kg(e=t)?dl(void 0,e.useValue):dl(zg(e),Su);var e;if(fl(t)||!0!==t.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=dl(void 0,Su,!0),c.factory=()=>ns(c.multi),this.records.set(s,c)),s=t,c.multi.push(t)}this.records.set(s,l)}hydrate(t,n){return n.value===Su&&(n.value=d0,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=k(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function oh(e){const t=xt(e),n=null!==t?t.factory:Rr(e);if(null!==n)return n;if(e instanceof kn)throw new Error(`Token ${$(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=Eo(t,"?");throw new Error(`Can't resolve all parameters for ${$(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[me]||e[Ne]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function zg(e,t,n){let r;if(fl(e)){const s=k(e);return Rr(s)||oh(s)}if(Kg(e))r=()=>k(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...ns(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Tn(k(e.useExisting));else{const s=k(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Rr(s)||oh(s);r=()=>new s(...ns(e.deps))}return r}function dl(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Kg(e){return null!==e&&"object"==typeof e&&la in e}function fl(e){return"function"==typeof e}const Qg=function(e,t,n){return function(e,t=null,n=null,r){const s=Yg(e,t,n,r);return s._resolveInjectorDefTypes(),s}({name:n},t,e,n)};let Bn=(()=>{class e{static create(n,r){return Array.isArray(n)?Qg(n,r,""):Qg(n.providers,n.parent,n.name||"")}}return e.THROW_IF_NOT_FOUND=aa,e.NULL=new $g,e.\u0275prov=Lt({token:e,providedIn:"any",factory:()=>Tn(cl)}),e.__NG_ELEMENT_ID__=-1,e})();function N0(e,t){Ii(rl(e)[1],Pn())}function dh(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let s;if(Er(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(n){r.push(s);const c=e;c.inputs=fh(e.inputs),c.declaredInputs=fh(e.declaredInputs),c.outputs=fh(e.outputs);const d=s.hostBindings;d&&V0(e,d);const g=s.viewQuery,y=s.contentQueries;if(g&&L0(e,g),y&&k0(e,y),le(e.inputs,s.inputs),le(e.declaredInputs,s.declaredInputs),le(e.outputs,s.outputs),Er(s)&&s.data.animation){const w=e.data;w.animation=(w.animation||[]).concat(s.data.animation)}}const l=s.features;if(l)for(let c=0;c<l.length;c++){const d=l[c];d&&d.ngInherit&&d(e),d===dh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=Wi(s.hostAttrs,n=Wi(n,s.hostAttrs))}}(r)}function fh(e){return e===nn?{}:e===q?[]:e}function L0(e,t){const n=e.viewQuery;e.viewQuery=n?(r,s)=>{t(r,s),n(r,s)}:t}function k0(e,t){const n=e.contentQueries;e.contentQueries=n?(r,s,l)=>{t(r,s,l),n(r,s,l)}:t}function V0(e,t){const n=e.hostBindings;e.hostBindings=n?(r,s)=>{t(r,s),n(r,s)}:t}let Jc=null;function hl(){if(!Jc){const e=tn.Symbol;if(e&&e.iterator)Jc=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Jc=r)}}}return Jc}function Au(e){return!!hh(e)&&(Array.isArray(e)||!(e instanceof Map)&&hl()in e)}function hh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Nr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ph(e,t,n,r){const s=He();return Nr(s,Hi(),t)&&(on(),xo(An(),s,e,t,n,r)),ph}function Cm(e,t,n,r,s,l,c,d){const g=He(),y=on(),w=e+20,F=y.firstCreatePass?function(e,t,n,r,s,l,c,d,g){const y=t.consts,w=al(t,e,4,c||null,Gn(y,d));Zf(t,n,w,Gn(y,g)),Ii(t,w);const F=w.tViews=Qc(2,w,r,s,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,y);return null!==t.queries&&(t.queries.template(t,w),F.queries=t.queries.embeddedTView(w)),w}(w,y,g,t,n,r,s,l,c):y.data[w];Cr(F,!1);const B=g[A].createComment("");Wt(y,g,B,F),sr(B,g),Xc(g,g[w]=kg(B,g,B,F)),vi(F)&&Qf(y,g,F),null!=c&&Xf(g,F,d)}function xu(e,t=Ee.Default){const n=He();return null===n?Tn(e,t):m(Pn(),n,k(e),t)}function _h(e,t,n){const r=He();return Nr(r,Hi(),t)&&hi(on(),An(),r,e,t,r[A],n,!1),_h}function Eh(e,t,n,r,s){const c=s?"class":"style";Wg(e,n,t.inputs[c],c,r)}function bh(e,t,n,r){const s=He(),l=on(),c=20+e,d=s[A],g=s[c]=Cu(d,t,wt.lFrame.currentNamespace),y=l.firstCreatePass?function(e,t,n,r,s,l,c){const d=t.consts,y=al(t,e,2,s,Gn(d,l));return Zf(t,n,y,Gn(d,c)),null!==y.attrs&&Zc(y,y.attrs,!1),null!==y.mergedAttrs&&Zc(y,y.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,y),y}(c,l,s,0,t,n,r):l.data[c];Cr(y,!0);const w=y.mergedAttrs;null!==w&&Ss(d,g,w);const F=y.classes;null!==F&&Vf(d,g,F);const B=y.styles;null!==B&&sg(d,g,B),64!=(64&y.flags)&&Wt(l,s,g,y),0===wt.lFrame.elementDepthCount&&sr(g,s),wt.lFrame.elementDepthCount++,vi(y)&&(Qf(l,s,y),Ig(l,y,s)),null!==r&&Xf(s,y)}function Ch(){let e=Pn();ws()?bi():(e=e.parent,Cr(e,!1));const t=e;wt.lFrame.elementDepthCount--;const n=on();n.firstCreatePass&&(Ii(n,e),Yr(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Eh(n,t,He(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Eh(n,t,He(),t.stylesWithoutHost,!1)}function Nm(e,t,n,r){bh(e,t,n,r),Ch()}function Dh(e,t,n){const r=He(),s=on(),l=e+20,c=s.firstCreatePass?function(e,t,n,r,s){const l=t.consts,c=Gn(l,r),d=al(t,e,8,"ng-container",c);return null!==c&&Zc(d,c,!0),Zf(t,n,d,Gn(l,s)),null!==t.queries&&t.queries.elementStart(t,d),d}(l,s,r,t,n):s.data[l];Cr(c,!0);const d=r[l]=r[A].createComment("");Wt(s,r,d,c),sr(d,r),vi(c)&&(Qf(s,r,c),Ig(s,c,r)),null!=n&&Xf(r,c)}function wh(){let e=Pn();const t=on();ws()?bi():(e=e.parent,Cr(e,!1)),t.firstCreatePass&&(Ii(t,e),Yr(e)&&t.queries.elementEnd(e))}function Fm(){return He()}function Ih(e){return!!e&&"function"==typeof e.then}function Lm(e){return!!e&&"function"==typeof e.subscribe}const Th=Lm;function Sh(e,t,n,r){const s=He(),l=on(),c=Pn();return function(e,t,n,r,s,l,c,d){const g=vi(r),w=e.firstCreatePass&&Ug(e),F=t[8],B=Bg(t);let ee=!0;if(3&r.type||d){const ve=Gt(r,t),ze=d?d(ve):ve,Be=B.length,bt=d?Vt=>d(Z(Vt[r.index])):r.index;if(b(n)){let Vt=null;if(!d&&g&&(Vt=function(e,t,n,r){const s=e.cleanup;if(null!=s)for(let l=0;l<s.length-1;l+=2){const c=s[l];if(c===n&&s[l+1]===r){const d=t[7],g=s[l+2];return d.length>g?d[g]:null}"string"==typeof c&&(l+=2)}return null}(e,t,s,r.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=l,Vt.__ngLastListenerFn__=l,ee=!1;else{l=Rh(r,t,F,l,!1);const cn=n.listen(ze,s,l);B.push(l,cn),w&&w.push(s,bt,Be,Be+1)}}else l=Rh(r,t,F,l,!0),ze.addEventListener(s,l,c),B.push(l),w&&w.push(s,bt,Be,c)}else l=Rh(r,t,F,l,!1);const ae=r.outputs;let Te;if(ee&&null!==ae&&(Te=ae[s])){const ve=Te.length;if(ve)for(let ze=0;ze<ve;ze+=2){const lr=t[Te[ze]][Te[ze+1]].subscribe(l),ki=B.length;B.push(l,lr),w&&w.push(s,r.index,ki,-(ki+1))}}}(l,s,s[A],c,e,t,!!n,r),Sh}function Bm(e,t,n,r){try{return!1!==n(r)}catch(s){return Hg(e,s),!1}}function Rh(e,t,n,r,s){return function l(c){if(c===Function)return r;const d=2&e.flags?rn(e.index,t):t;0==(32&t[2])&&eh(d);let g=Bm(t,0,r,c),y=l.__ngNextListenerFn__;for(;y;)g=Bm(t,0,y,c)&&g,y=y.__ngNextListenerFn__;return s&&!1===g&&(c.preventDefault(),c.returnValue=!1),g}}function Um(e=1){return function(e){return(wt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,wt.lFrame.contextLView))[8]}(e)}function Eb(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let s=0;s<t.length;s++){const l=t[s];if("*"!==l){if(null===r?cg(e,l,!0):DE(r,l))return s}else n=s}return n}function jm(e){const t=He()[16][6];if(!t.projection){const r=t.projection=Eo(e?e.length:1,null),s=r.slice();let l=t.child;for(;null!==l;){const c=e?Eb(l,e):0;null!==c&&(s[c]?s[c].projectionNext=l:r[c]=l,s[c]=l),l=l.next}}}function Hm(e,t=0,n){const r=He(),s=on(),l=al(s,20+e,16,null,n||null);null===l.projection&&(l.projection=t),bi(),64!=(64&l.flags)&&function(e,t,n){og(t[A],0,t,n,f(e,n,t),Le(n.parent||t[6],n,t))}(s,r,l)}function Jm(e,t,n,r,s){const l=e[n+1],c=null===t;let d=r?Xi(l):us(l),g=!1;for(;0!==d&&(!1===g||c);){const w=e[d+1];Db(e[d],t)&&(g=!0,e[d+1]=r?jf(w):Bf(w)),d=r?Xi(w):us(w)}g&&(e[n+1]=r?Bf(l):jf(l))}function Db(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&qo(e,t)>=0}const ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qm(e){return e.substring(ar.key,ar.keyEnd)}function wb(e){return e.substring(ar.value,ar.valueEnd)}function tv(e,t){const n=ar.textEnd;let r=ar.key=wl(e,t,n);return n===r?-1:(r=ar.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=rv(e,r,n),r=ar.value=wl(e,r,n),r=ar.valueEnd=function(e,t,n){let r=-1,s=-1,l=-1,c=t,d=c;for(;c<n;){const g=e.charCodeAt(c++);if(59===g)return d;34===g||39===g?d=c=iv(e,g,c,n):t===c-4&&85===l&&82===s&&76===r&&40===g?d=c=iv(e,41,c,n):g>32&&(d=c),l=s,s=r,r=-33&g}return d}(e,r,n),rv(e,r,n))}function wl(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function rv(e,t,n,r){return(t=wl(e,t,n))<n&&t++,t}function iv(e,t,n,r){let s=-1,l=n;for(;l<r;){const c=e.charCodeAt(l++);if(c==t&&92!==s)return l;s=92==c&&92===s?0:c}throw new Error}function Mh(e,t){return function(e,t,n,r){const s=He(),l=on(),c=Xr(2);l.firstUpdatePass&&av(l,e,c,r),t!==zt&&Nr(s,c,t)&&uv(l,l.data[Yn()],s,s[A],e,s[c+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=$(Ki(e)))),e}(t,n),r,c)}(e,t,null,!0),Mh}function qi(e){!function(e,t,n,r){const s=on(),l=Xr(2);s.firstUpdatePass&&av(s,null,l,r);const c=He();if(n!==zt&&Nr(c,l,n)){const d=s.data[Yn()];if(dv(d,r)&&!sv(s,l)){let g=r?d.classesWithoutHost:d.stylesWithoutHost;null!==g&&(n=G(g,n||"")),Eh(s,d,c,n,r)}else!function(e,t,n,r,s,l,c,d){s===zt&&(s=q);let g=0,y=0,w=0<s.length?s[0]:null,F=0<l.length?l[0]:null;for(;null!==w||null!==F;){const B=g<s.length?s[g+1]:void 0,ee=y<l.length?l[y+1]:void 0;let Te,ae=null;w===F?(g+=2,y+=2,B!==ee&&(ae=F,Te=ee)):null===F||null!==w&&w<F?(g+=2,ae=w):(y+=2,ae=F,Te=ee),null!==ae&&uv(e,t,n,r,ae,Te,c,d),w=g<s.length?s[g]:null,F=y<l.length?l[y]:null}}(s,d,c,c[A],c[l+1],c[l+1]=function(e,t,n){if(null==n||""===n)return q;const r=[],s=Ki(n);if(Array.isArray(s))for(let l=0;l<s.length;l++)e(r,s[l],!0);else if("object"==typeof s)for(const l in s)s.hasOwnProperty(l)&&e(r,l,s[l]);else"string"==typeof s&&t(r,s);return r}(e,t,n),r,l)}}(lv,Mb,e,!1)}function Mb(e,t){for(let n=function(e){return function(e){ar.key=0,ar.keyEnd=0,ar.value=0,ar.valueEnd=0,ar.textEnd=e.length}(e),tv(e,wl(e,0,ar.textEnd))}(t);n>=0;n=tv(t,n))lv(e,qm(t),wb(t))}function sv(e,t){return t>=e.expandoStartIndex}function av(e,t,n,r){const s=e.data;if(null===s[n+1]){const l=s[Yn()],c=sv(e,n);dv(l,r)&&null===t&&!c&&(t=!1),t=function(e,t,n,r){const s=function(e){const t=wt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=Pu(n=xh(null,e,t,n,r),t.attrs,r),l=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==s)if(n=xh(s,e,t,n,r),null===l){let g=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==us(r))return e[Xi(r)]}(e,t,r);void 0!==g&&Array.isArray(g)&&(g=xh(null,e,t,g[1],r),g=Pu(g,t.attrs,r),function(e,t,n,r){e[Xi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,g))}else l=function(e,t,n){let r;const s=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<s;l++)r=Pu(r,e[l].hostAttrs,n);return Pu(r,t.attrs,n)}(e,t,r)}return void 0!==l&&(r?t.residualClasses=l:t.residualStyles=l),n}(s,l,t,r),function(e,t,n,r,s,l){let c=l?t.classBindings:t.styleBindings,d=Xi(c),g=us(c);e[r]=n;let w,y=!1;if(Array.isArray(n)){const F=n;w=F[1],(null===w||qo(F,w)>0)&&(y=!0)}else w=n;if(s)if(0!==g){const B=Xi(e[d+1]);e[r+1]=Yc(B,d),0!==B&&(e[B+1]=Uf(e[B+1],r)),e[d+1]=function(e,t){return 131071&e|t<<17}(e[d+1],r)}else e[r+1]=Yc(d,0),0!==d&&(e[d+1]=Uf(e[d+1],r)),d=r;else e[r+1]=Yc(g,0),0===d?d=r:e[g+1]=Uf(e[g+1],r),g=r;y&&(e[r+1]=Bf(e[r+1])),Jm(e,w,r,!0),Jm(e,w,r,!1),function(e,t,n,r,s){const l=s?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&qo(l,t)>=0&&(n[r+1]=jf(n[r+1]))}(t,w,e,r,l),c=Yc(d,g),l?t.classBindings=c:t.styleBindings=c}(s,l,t,n,c,r)}}function xh(e,t,n,r,s){let l=null;const c=n.directiveEnd;let d=n.directiveStylingLast;for(-1===d?d=n.directiveStart:d++;d<c&&(l=t[d],r=Pu(r,l.hostAttrs,s),l!==e);)d++;return null!==e&&(n.directiveStylingLast=d),r}function Pu(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let l=0;l<t.length;l++){const c=t[l];"number"==typeof c?s=c:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Wr(e,c,!!n||t[++l]))}return void 0===e?null:e}function lv(e,t,n){Wr(e,t,Ki(n))}function uv(e,t,n,r,s,l,c,d){if(!(3&t.type))return;const g=e.data,y=g[d+1];td(function(e){return 1==(1&e)}(y)?cv(g,t,n,s,us(y),c):void 0)||(td(l)||function(e){return 2==(2&e)}(y)&&(l=cv(g,null,n,s,d,c)),function(e,t,n,r,s){const l=b(e);if(t)s?l?e.addClass(n,r):n.classList.add(r):l?e.removeClass(n,r):n.classList.remove(r);else{let c=-1===r.indexOf("-")?void 0:Oi.DashCase;if(null==s)l?e.removeStyle(n,r,c):n.style.removeProperty(r);else{const d="string"==typeof s&&s.endsWith("!important");d&&(s=s.slice(0,-10),c|=Oi.Important),l?e.setStyle(n,r,s,c):n.style.setProperty(r,s,d?"important":"")}}}(r,c,vt(Yn(),n),s,l))}function cv(e,t,n,r,s,l){const c=null===t;let d;for(;s>0;){const g=e[s],y=Array.isArray(g),w=y?g[1]:g,F=null===w;let B=n[s+1];B===zt&&(B=F?q:void 0);let ee=F?bo(B,r):w===r?B:void 0;if(y&&!td(ee)&&(ee=bo(g,r)),td(ee)&&(d=ee,c))return d;const ae=e[s+1];s=c?Xi(ae):us(ae)}if(null!==t){let g=l?t.residualClasses:t.residualStyles;null!=g&&(d=bo(g,r))}return d}function td(e){return void 0!==e}function dv(e,t){return 0!=(e.flags&(t?16:32))}function fv(e,t=""){const n=He(),r=on(),s=e+20,l=r.firstCreatePass?al(r,s,1,t,null):r.data[s],c=n[s]=function(e,t){return b(e)?e.createText(t):e.createTextNode(t)}(n[A],t);Wt(r,n,c,l),Cr(l,!1)}function Ph(e){return nd("",e,""),Ph}function nd(e,t,n){const r=He(),s=function(e,t,n,r){return Nr(e,Hi(),n)?t+Oe(n)+r:zt}(r,e,t,n);return s!==zt&&ds(r,Yn(),s),nd}function Oh(e,t,n){const r=He();return Nr(r,Hi(),t)&&hi(on(),An(),r,e,t,r[A],n,!0),Oh}const va=void 0;var iC=["en",[["a","p"],["AM","PM"],va],[["AM","PM"],va,va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",va,"{1} 'at' {0}",va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Il={};function Nh(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Pv(t);if(n)return n;const r=t.split("-")[0];if(n=Pv(r),n)return n;if("en"===r)return iC;throw new Error(`Missing locale data for the locale "${e}".`)}function xv(e){return Nh(e)[Nt.PluralCase]}function Pv(e){return e in Il||(Il[e]=tn.ng&&tn.ng.common&&tn.ng.common.locales&&tn.ng.common.locales[e]),Il[e]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const rd="en-US";let Ov=rd;function Fh(e){tt(e,"Expected localeId to be defined"),"string"==typeof e&&(Ov=e.toLowerCase().replace(/_/g,"-"))}function Vh(e,t,n,r,s){if(e=k(e),Array.isArray(e))for(let l=0;l<e.length;l++)Vh(e[l],t,n,r,s);else{const l=on(),c=He();let d=fl(e)?e:k(e.provide),g=zg(e);const y=Pn(),w=1048575&y.providerIndexes,F=y.directiveStart,B=y.providerIndexes>>20;if(fl(e)||!e.multi){const ee=new Zr(g,s,xu),ae=Uh(d,t,s?w:w+B,F);-1===ae?(Qo(vo(y,c),l,d),Bh(l,e,t.length),t.push(d),y.directiveStart++,y.directiveEnd++,s&&(y.providerIndexes+=1048576),n.push(ee),c.push(ee)):(n[ae]=ee,c[ae]=ee)}else{const ee=Uh(d,t,w+B,F),ae=Uh(d,t,w,w+B),Te=ee>=0&&n[ee],ve=ae>=0&&n[ae];if(s&&!ve||!s&&!Te){Qo(vo(y,c),l,d);const ze=function(e,t,n,r,s){const l=new Zr(e,n,xu);return l.multi=[],l.index=t,l.componentProviders=0,ry(l,s,r&&!n),l}(s?tD:eD,n.length,s,r,g);!s&&ve&&(n[ae].providerFactory=ze),Bh(l,e,t.length,0),t.push(d),y.directiveStart++,y.directiveEnd++,s&&(y.providerIndexes+=1048576),n.push(ze),c.push(ze)}else Bh(l,e,ee>-1?ee:ae,ry(n[s?ae:ee],g,!s&&r));!s&&r&&ve&&n[ae].componentProviders++}}}function Bh(e,t,n,r){const s=fl(t);if(s||function(e){return!!e.useClass}(t)){const c=(t.useClass||t).prototype.ngOnDestroy;if(c){const d=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const g=d.indexOf(n);-1===g?d.push(n,[r,c]):d[g+1].push(r,c)}else d.push(n,c)}}}function ry(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Uh(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function eD(e,t,n,r){return jh(this.multi,[])}function tD(e,t,n,r){const s=this.multi;let l;if(this.providerFactory){const c=this.providerFactory.componentProviders,d=P(n,n[1],this.providerFactory.index,r);l=d.slice(0,c),jh(s,l);for(let g=c;g<d.length;g++)l.push(d[g])}else l=[],jh(s,l);return l}function jh(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function iy(e,t=[]){return n=>{n.providersResolver=(r,s)=>function(e,t,n){const r=on();if(r.firstCreatePass){const s=Er(e);Vh(n,r.data,r.blueprint,s,!0),Vh(t,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,t)}}class oy{}const ay="ngComponent";class iD{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${$(e)}. Did you add it to @NgModule.entryComponents?`);return t[ay]=e,t}(t)}}let Sl=(()=>{class e{}return e.NULL=new iD,e})();function ld(...e){}function Rl(e,t){return new No(Gt(e,t))}const aD=function(){return Rl(Pn(),He())};let No=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=aD,e})();function ly(e){return e instanceof No?e.nativeElement:e}class ud{}let lD=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>cD(),e})();const cD=function(){const e=He(),n=rn(Pn().index,e);return function(e){return e[A]}(kt(n)?n:e)};let Wh=(()=>{class e{}return e.\u0275prov=Lt({token:e,providedIn:"root",factory:()=>null}),e})();class uy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $h=new uy("12.2.16");class cy{constructor(){}supports(t){return Au(t)}create(t){return new pD(t)}}const hD=(e,t)=>t;class pD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||hD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,l=null;for(;n||r;){const c=!r||n&&n.currentIndex<fy(r,s,l)?n:r,d=fy(c,s,l),g=c.currentIndex;if(c===r)s--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)s++;else{l||(l=[]);const y=d-s,w=g-s;if(y!=w){for(let B=0;B<y;B++){const ee=B<l.length?l[B]:l[B]=0,ae=ee+B;w<=ae&&ae<y&&(l[B]=ee+1)}l[c.previousIndex]=w-y}}d!==g&&t(c,d,g)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Au(t))throw new Error(`Error trying to diff '${$(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,l,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)l=t[d],c=this._trackByFn(d,l),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,l,c,d)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,c,d),r=!0),n=n._next}else s=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[hl()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,d=>{c=this._trackByFn(s,d),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,d,c,s)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,c,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,l,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,l,s)):t=this._addAfter(new gD(n,r),l,s),t}_verifyReinsertion(t,n,r,s){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==l?t=this._reinsertAfter(l,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,l=t._nextRemoved;return null===s?this._removalsHead=l:s._nextRemoved=l,null===l?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const s=null===n?this._itHead:n._next;return t._next=s,t._prev=n,null===s?this._itTail=t:s._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new dy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class gD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class dy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new mD,this.map.set(n,r)),r.add(t)}get(t,n){const s=this.map.get(t);return s?s.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fy(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class hy{constructor(){}supports(t){return t instanceof Map||hh(t)}create(){return new vD}}class vD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||hh(t)))throw new Error(`Error trying to diff '${$(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const l=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,l)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,n);const l=s._prev,c=s._next;return l&&(l._next=c),c&&(c._prev=l),s._next=null,s._prev=null,s}const r=new yD(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class yD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function py(){return new cd([new cy])}let cd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||py()),deps:[[e,new Mi,new zi]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=Lt({token:e,providedIn:"root",factory:py}),e})();function gy(){return new dd([new hy])}let dd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||gy()),deps:[[e,new Mi,new zi]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=Lt({token:e,providedIn:"root",factory:gy}),e})();function fd(e,t,n,r,s=!1){for(;null!==n;){const l=t[n.index];if(null!==l&&r.push(Z(l)),Kn(l))for(let d=10;d<l.length;d++){const g=l[d],y=g[1].firstChild;null!==y&&fd(g[1],g,y,r)}const c=n.type;if(8&c)fd(e,t,n.child,r);else if(32&c){const d=ls(n,t);let g;for(;g=d();)r.push(g)}else if(16&c){const d=fi(t,n);if(Array.isArray(d))r.push(...d);else{const g=Mo(t[16]);fd(g[1],g,d,r,!0)}}n=s?n.projectionNext:n.next}return r}class ku{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return fd(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Kn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Du(t,r),Jo(n,r))}this._attachedToViewContainer=!1}o(this._lView[1],this._lView)}onDestroy(t){Ag(this._lView[1],this._lView,null,t)}markForCheck(){eh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){oi(!0);try{nh(e,t,n)}finally{oi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ga(this._lView[1],t=this._lView,t[A],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ED extends ku{constructor(t){super(t),this._view=t}detectChanges(){Vg(this._view)}checkNoChanges(){!function(e){oi(!0);try{Vg(e)}finally{oi(!1)}}(this._view)}get context(){return null}}const CD=function(e){return function(e,t,n){if(Wn(e)&&!n){const r=rn(e.index,t);return new ku(r,r)}return 47&e.type?new ku(t[16],t):null}(Pn(),He(),16==(16&e))};let DD=(()=>{class e{}return e.__NG_ELEMENT_ID__=CD,e})();const TD=[new hy],RD=new cd([new cy]),AD=new dd(TD),xD=function(){return hd(Pn(),He())};let Vu=(()=>{class e{}return e.__NG_ELEMENT_ID__=xD,e})();const PD=Vu,OD=class extends PD{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=wu(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(r[19]=l.createEmbeddedView(n)),Iu(n,r,t),new ku(r)}};function hd(e,t){return 4&e.type?new OD(t,e,Rl(e,t)):null}class ya{}class my{}const LD=function(){return _y(Pn(),He())};let pd=(()=>{class e{}return e.__NG_ELEMENT_ID__=LD,e})();const VD=pd,vy=class extends VD{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Rl(this._hostTNode,this._hostLView)}get injector(){return new ht(this._hostTNode,this._hostLView)}get parentInjector(){const t=As(this._hostTNode,this._hostLView);if(Ri(t)){const n=mo(t,this._hostLView),r=$i(t);return new ht(n[1].data[r+8],n)}return new ht(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=yy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const s=t.createEmbeddedView(n||{});return this.insert(s,r),s}createComponent(t,n,r,s,l){const c=r||this.parentInjector;if(!l&&null==t.ngModule&&c){const g=c.get(ya,null);g&&(l=g)}const d=t.create(c,s,void 0,l);return this.insert(d.hostView,n),d}insert(t,n){const r=t._lView,s=r[1];if(Kn(r[3])){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const F=r[3],B=new vy(F,F[6],F[3]);B.detach(B.indexOf(t))}}const l=this._adjustIndex(n),c=this._lContainer;!function(e,t,n,r){const s=10+r,l=n.length;r>0&&(n[s-1][4]=t),r<l-10?(t[4]=n[s],_o(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const c=t[17];null!==c&&n!==c&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(c,t);const d=t[19];null!==d&&d.insertView(e),t[2]|=128}(s,r,c,l);const d=Ws(l,c),g=r[A],y=J(g,c[7]);return null!==y&&function(e,t,n,r,s,l){r[0]=s,r[6]=t,ga(e,r,n,1,s,l)}(s,c[6],g,r,y,d),t.attachToViewContainerRef(),_o(Gh(c),l,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=yy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Du(this._lContainer,n);r&&(Jo(Gh(this._lContainer),n),o(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Du(this._lContainer,n);return r&&null!=Jo(Gh(this._lContainer),n)?new ku(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function yy(e){return e[8]}function Gh(e){return e[8]||(e[8]=[])}function _y(e,t){let n;const r=t[e.index];if(Kn(r))n=r;else{let s;if(8&e.type)s=Z(r);else{const l=t[A];s=l.createComment("");const c=Gt(e,t);C(l,J(l,c),s,function(e,t){return b(e)?e.nextSibling(t):t.nextSibling}(l,c),!1)}t[e.index]=n=kg(r,t,s,e),Xc(t,n)}return new vy(n,e,t)}const Pl={};class By extends Sl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=yt(t);return new jy(n,this.ngModule)}}function Uy(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Nw=new kn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kc});class jy extends oy{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(wE).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Uy(this.componentDef.inputs)}get outputs(){return Uy(this.componentDef.outputs)}create(t,n,r,s){const l=(s=s||this.ngModule)?function(e,t){return{get:(n,r,s)=>{const l=e.get(n,Pl,s);return l!==Pl||r===Pl?l:t.get(n,r,s)}}}(t,s.injector):t,c=l.get(ud,_),d=l.get(Wh,null),g=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=r?function(e,t,n){if(b(e))return e.selectRootElement(t,n===ut.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(g,r,this.componentDef.encapsulation):Cu(c.createRenderer(null,this.componentDef),y,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(y)),F=this.componentDef.onPush?576:528,B=function(e,t){return{components:[],scheduler:e||kc,clean:l0,playerHandler:t||null,flags:0}}(),ee=Qc(0,null,null,1,0,null,null,null,null,null),ae=wu(null,ee,B,F,null,null,c,g,d,l);let Te,ve;Ci(ae);try{const ze=function(e,t,n,r,s,l){const c=n[1];n[20]=e;const g=al(c,20,2,"#host",null),y=g.mergedAttrs=t.hostAttrs;null!==y&&(Zc(g,y,!0),null!==e&&(Ss(s,e,y),null!==g.classes&&Vf(s,e,g.classes),null!==g.styles&&sg(s,e,g.styles)));const w=r.createRenderer(e,t),F=wu(n,Tg(t),null,t.onPush?64:16,n[20],g,r,w,l||null,null);return c.firstCreatePass&&(Qo(vo(g,n),c,t.type),Ng(c,g),Fg(g,n.length,1)),Xc(n,F),n[20]=F}(w,this.componentDef,ae,c,g);if(w)if(r)Ss(g,w,["ng-version",$h.full]);else{const{attrs:Be,classes:bt}=function(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let l=e[r];if("string"==typeof l)2===s?""!==l&&t.push(l,e[++r]):8===s&&n.push(l);else{if(!Qi(s))break;s=l}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Be&&Ss(g,w,Be),bt&&bt.length>0&&Vf(g,w,bt.join(" "))}if(ve=un(ee,20),void 0!==n){const Be=ve.projection=[];for(let bt=0;bt<this.ngContentSelectors.length;bt++){const Vt=n[bt];Be.push(null!=Vt?Array.from(Vt):null)}}Te=function(e,t,n,r,s){const l=n[1],c=function(e,t,n){const r=Pn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Lg(e,r,t,ll(e,t,1,null),n));const s=P(t,e,r.directiveStart,r);sr(s,t);const l=Gt(r,t);return l&&sr(l,t),s}(l,n,t);if(r.components.push(c),e[8]=c,s&&s.forEach(g=>g(c,t)),t.contentQueries){const g=Pn();t.contentQueries(1,c,g.directiveStart)}const d=Pn();return!l.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Pr(d.index),Pg(n[1],d,0,d.directiveStart,d.directiveEnd,t),Og(t,c)),c}(ze,this.componentDef,ae,B,[N0]),Iu(ee,ae,null)}finally{Di()}return new kw(this.componentType,Te,Rl(ve,ae),ae,ve)}}class kw extends class{}{constructor(t,n,r,s,l){super(),this.location=r,this._rootLView=s,this._tNode=l,this.instance=n,this.hostView=this.changeDetectorRef=new ED(s),this.componentType=t}get injector(){return new ht(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ol=new Map;class Uw extends ya{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new By(this);const r=In(t),s=t[nt]||null;s&&Fh(s),this._bootstrapComponents=Pi(r.bootstrap),this._r3Injector=Yg(t,n,[{provide:ya,useValue:this},{provide:Sl,useValue:this.componentFactoryResolver}],$(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Bn.THROW_IF_NOT_FOUND,r=Ee.Default){return t===Bn||t===ya||t===cl?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ip extends my{constructor(t){super(),this.moduleType=t,null!==In(t)&&function(e){const t=new Set;!function n(r){const s=In(r,!0),l=s.id;null!==l&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${$(t)} vs ${$(t.name)}`)}(l,Ol.get(l),r),Ol.set(l,r));const c=Pi(s.imports);for(const d of c)t.has(d)||(t.add(d),n(d))}(e)}(t)}create(t){return new Uw(this.moduleType,t)}}function $y(e,t,n,r){return function(e,t,n,r,s,l){const c=t+n;return Nr(e,c,s)?function(e,t,n){return e[t]=n}(e,c+1,l?r.call(l,s):r(s)):function(e,t){const n=e[t];return n===zt?void 0:n}(e,c+1)}(He(),function(){const e=wt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r)}function op(e){return t=>{setTimeout(e,void 0,t)}}const Fo=class extends T.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var s,l,c;let d=t,g=n||(()=>null),y=r;if(t&&"object"==typeof t){const F=t;d=null===(s=F.next)||void 0===s?void 0:s.bind(F),g=null===(l=F.error)||void 0===l?void 0:l.bind(F),y=null===(c=F.complete)||void 0===c?void 0:c.bind(F)}this.__isAsync&&(g=op(g),d&&(d=op(d)),y&&(y=op(y)));const w=super.subscribe({next:d,error:g,complete:y});return t instanceof R.w&&t.add(w),w}};function iI(){return this._results[hl()]()}class _d{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=hl(),r=_d.prototype;r[n]||(r[n]=iI)}get changes(){return this._changes||(this._changes=new Fo)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const s=Jr(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],l=t[r];if(n&&(s=n(s),l=n(l)),l!==s)return!1}return!0}(r._results,s,n))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class sp{constructor(t){this.queryList=t,this.matches=null}clone(){return new sp(this.queryList)}setDirty(){this.queryList.setDirty()}}class ap{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let l=0;l<r;l++){const c=n.getByIndex(l);s.push(this.queries[c.indexInDeclarationView].clone())}return new ap(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==i_(t,n).matches&&this.queries[n].setDirty()}}class Xy{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class lp{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,l=this.getByIndex(r).embeddedTView(t,s);l&&(l.indexInDeclarationView=r,null!==n?n.push(l):n=[l])}return null!==n?new lp(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class up{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new up(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const l=r[s];this.matchTNodeWithReadOption(t,n,aI(n,l)),this.matchTNodeWithReadOption(t,n,D(n,t,l,!1,!1))}else r===Vu?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,D(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===No||s===pd||s===Vu&&4&n.type)this.addMatch(n.index,-2);else{const l=D(n,t,s,!1,!1);null!==l&&this.addMatch(n.index,l)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function aI(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function uI(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Rl(e,t):4&e.type?hd(e,t):null}(t,e):-2===n?function(e,t,n){return n===No?Rl(t,e):n===Vu?hd(t,e):n===pd?_y(t,e):void 0}(e,t,r):P(e,e[1],n,t)}function Zy(e,t,n,r){const s=t[19].queries[r];if(null===s.matches){const l=e.data,c=n.matches,d=[];for(let g=0;g<c.length;g+=2){const y=c[g];d.push(y<0?null:uI(t,l[y],c[g+1],n.metadata.read))}s.matches=d}return s.matches}function cp(e,t,n,r){const s=e.queries.getByIndex(n),l=s.matches;if(null!==l){const c=Zy(e,t,s,n);for(let d=0;d<l.length;d+=2){const g=l[d];if(g>0)r.push(c[d/2]);else{const y=l[d+1],w=t[-g];for(let F=10;F<w.length;F++){const B=w[F];B[17]===B[3]&&cp(B[1],B,y,r)}if(null!==w[9]){const F=w[9];for(let B=0;B<F.length;B++){const ee=F[B];cp(ee[1],ee,y,r)}}}}}return r}function Jy(e){const t=He(),n=on(),r=Ho();Is(r+1);const s=i_(n,r);if(e.dirty&&_n(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const l=s.crossesNgTemplate?cp(n,t,r,[]):Zy(n,t,s,r);e.reset(l,ly),e.notifyOnChanges()}return!0}return!1}function qy(e,t,n){const r=on();r.firstCreatePass&&(r_(r,new Xy(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),n_(r,He(),t)}function e_(e,t,n,r){const s=on();if(s.firstCreatePass){const l=Pn();r_(s,new Xy(t,n,r),l.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}n_(s,He(),n)}function t_(){return e=He(),t=Ho(),e[19].queries[t].queryList;var e,t}function n_(e,t,n){const r=new _d(4==(4&n));Ag(e,t,r,r.destroy),null===t[19]&&(t[19]=new ap),t[19].queries.push(new sp(r))}function r_(e,t,n){null===e.queries&&(e.queries=new lp),e.queries.track(new up(t,n))}function i_(e,t){return e.queries.getByIndex(t)}const mp=new kn("Application Initializer");let Fl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=ld,this.reject=ld,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const l=this.appInits[s]();if(Ih(l))n.push(l);else if(Th(l)){const c=new Promise((d,g)=>{l.subscribe({complete:d,error:g})});n.push(c)}}Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Tn(mp,8))},e.\u0275prov=Lt({token:e,factory:e.\u0275fac}),e})();const C_=new kn("AppId"),UI={provide:C_,useFactory:function(){return`${vp()}${vp()}${vp()}`},deps:[]};function vp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const D_=new kn("Platform Initializer"),w_=new kn("Platform ID"),I_=new kn("appBootstrapListener");let T_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Lt({token:e,factory:e.\u0275fac}),e})();const Cd=new kn("LocaleId"),S_=new kn("DefaultCurrencyCode");class HI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const yp=function(e){return new ip(e)},WI=yp,$I=function(e){return Promise.resolve(yp(e))},R_=function(e){const t=yp(e),r=Pi(In(e).declarations).reduce((s,l)=>{const c=yt(l);return c&&s.push(new jy(c)),s},[]);return new HI(t,r)},GI=R_,YI=function(e){return Promise.resolve(R_(e))};let Xu=(()=>{class e{constructor(){this.compileModuleSync=WI,this.compileModuleAsync=$I,this.compileModuleAndAllComponentsSync=GI,this.compileModuleAndAllComponentsAsync=YI}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Lt({token:e,factory:e.\u0275fac}),e})();const QI=(()=>Promise.resolve(0))();function _p(e){"undefined"==typeof Zone?QI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class pi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fo(!1),this.onMicrotaskEmpty=new Fo(!1),this.onStable=new Fo(!1),this.onError=new Fo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let e=tn.requestAnimationFrame,t=tn.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(tn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,bp(e),e.isCheckStableRunning=!0,Ep(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),bp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,l,c,d)=>{try{return A_(e),n.invokeTask(s,l,c,d)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&t(),M_(e)}},onInvoke:(n,r,s,l,c,d,g)=>{try{return A_(e),n.invoke(s,l,c,d,g)}finally{e.shouldCoalesceRunChangeDetection&&t(),M_(e)}},onHasTask:(n,r,s,l)=>{n.hasTask(s,l),r===s&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,bp(e),Ep(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,r,s,l)=>(n.handleError(s,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const l=this._inner,c=l.scheduleEventTask("NgZoneEvent: "+s,t,ZI,ld,ld);try{return l.runTask(c,n,r)}finally{l.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const ZI={};function Ep(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function A_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function M_(e){e._nesting--,Ep(e)}class eT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fo,this.onMicrotaskEmpty=new Fo,this.onStable=new Fo,this.onError=new Fo}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}}let x_=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pi.assertNotInAngularZone(),_p(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_p(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==l),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,s){return[]}}return e.\u0275fac=function(n){return new(n||e)(Tn(pi))},e.\u0275prov=Lt({token:e,factory:e.\u0275fac}),e})(),P_=(()=>{class e{constructor(){this._applications=new Map,Cp.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Cp.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Lt({token:e,factory:e.\u0275fac}),e})();class tT{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function nT(e){Cp=e}let Cp=new tT,O_=!0,N_=!1;function Dp(){return N_=!0,O_}function rT(){if(N_)throw new Error("Cannot enable prod mode after platform setup.");O_=!1}let io;const F_=new kn("AllowMultipleToken");class cT{constructor(t,n){this.name=t,this.token=n}}function L_(e,t,n=[]){const r=`Platform: ${t}`,s=new kn(r);return(l=[])=>{let c=k_();if(!c||c.injector.get(F_,!1))if(e)e(n.concat(l).concat({provide:s,useValue:!0}));else{const d=n.concat(l).concat({provide:s,useValue:!0},{provide:Tu,useValue:"platform"});!function(e){if(io&&!io.destroyed&&!io.injector.get(F_,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");io=e.get(V_);const t=e.get(D_,null);t&&t.forEach(n=>n())}(Bn.create({providers:d,name:r}))}return function(e){const t=k_();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function k_(){return io&&!io.destroyed?io:null}let V_=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const d=function(e,t){let n;return n="noop"===e?new eT:("zone.js"===e?void 0:e)||new pi({enableLongStackTrace:Dp(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),g=[{provide:pi,useValue:d}];return d.run(()=>{const y=Bn.create({providers:g,parent:this.injector,name:n.moduleType.name}),w=n.create(y),F=w.injector.get(Us,null);if(!F)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return d.runOutsideAngular(()=>{const B=d.onError.subscribe({next:ee=>{F.handleError(ee)}});w.onDestroy(()=>{wp(this._modules,w),B.unsubscribe()})}),function(e,t,n){try{const r=n();return Ih(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(F,d,()=>{const B=w.injector.get(Fl);return B.runInitializers(),B.donePromise.then(()=>(Fh(w.injector.get(Cd,rd)||rd),this._moduleDoBootstrap(w),w))})})}bootstrapModule(n,r=[]){const s=B_({},r);return function(e,t,n){const r=new ip(n);return Promise.resolve(r)}(0,0,n).then(l=>this.bootstrapModuleFactory(l,s))}_moduleDoBootstrap(n){const r=n.injector.get(Zu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${$(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Tn(Bn))},e.\u0275prov=Lt({token:e,factory:e.\u0275fac}),e})();function B_(e,t){return Array.isArray(t)?t.reduce(B_,e):Object.assign(Object.assign({},e),t)}let Zu=(()=>{class e{constructor(n,r,s,l,c){this._zone=n,this._injector=r,this._exceptionHandler=s,this._componentFactoryResolver=l,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new S.y(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),g=new S.y(y=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{pi.assertNotInAngularZone(),_p(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{w.unsubscribe(),F.unsubscribe()}});this.isStable=(0,X.T)(d,g.pipe((0,se.B)()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=n instanceof oy?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(s.componentType);const l=function(e){return e.isBoundToModule}(s)?void 0:this._injector.get(ya),d=s.create(Bn.NULL,[],r||s.selector,l),g=d.location.nativeElement,y=d.injector.get(x_,null),w=y&&d.injector.get(P_);return y&&w&&w.registerApplication(g,y),d.onDestroy(()=>{this.detachView(d.hostView),wp(this.components,d),w&&w.unregisterApplication(g)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;wp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(I_,[]).concat(this._bootstrapListeners).forEach(s=>s(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Tn(pi),Tn(Bn),Tn(Us),Tn(Sl),Tn(Fl))},e.\u0275prov=Lt({token:e,factory:e.\u0275fac}),e})();function wp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class mT{}class yT{}const _T={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ET=(()=>{class e{constructor(n,r){this._compiler=n,this._config=r||_T}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,s]=n.split("#");return void 0===s&&(s="default"),M(8255)(r).then(l=>l[s]).then(l=>W_(l,r,s)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(n){let[r,s]=n.split("#"),l="NgFactory";return void 0===s&&(s="default",l=""),M(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(c=>c[s+l]).then(c=>W_(c,r,s))}}return e.\u0275fac=function(n){return new(n||e)(Tn(Xu),Tn(yT,8))},e.\u0275prov=Lt({token:e,factory:e.\u0275fac}),e})();function W_(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const RT=function(e){return null},MT=L_(null,"core",[{provide:w_,useValue:"unknown"},{provide:V_,deps:[Bn]},{provide:P_,deps:[]},{provide:T_,deps:[]}]),FT=[{provide:Zu,useClass:Zu,deps:[pi,Bn,Us,Sl,Fl]},{provide:Nw,deps:[pi],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Fl,useClass:Fl,deps:[[new zi,mp]]},{provide:Xu,useClass:Xu,deps:[]},UI,{provide:cd,useFactory:function(){return RD},deps:[]},{provide:dd,useFactory:function(){return AD},deps:[]},{provide:Cd,useFactory:function(e){return Fh(e=e||"undefined"!=typeof $localize&&$localize.locale||rd),e},deps:[[new Os(Cd),new zi,new Mi]]},{provide:S_,useValue:"USD"}];let kT=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Tn(Zu))},e.\u0275mod=kr({type:e}),e.\u0275inj=Mt({providers:FT}),e})()},1562:(ot,Ie,M)=>{"use strict";M.d(Ie,{zQ:()=>xe,ww:()=>fe,Qv:()=>At});var T=M(7716),R=M(9765),S=M(5917),X=M(7574),se=M(4402),j=M(6682),le=M(7771),$=M(5319),G=M(6136),H=M(7971),ne=M(8858);class k extends R.xQ{constructor($e=Number.POSITIVE_INFINITY,gt=Number.POSITIVE_INFINITY,Xe){super(),this.scheduler=Xe,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=$e<1?1:$e,this._windowTime=gt<1?1:gt,gt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow($e){if(!this.isStopped){const gt=this._events;gt.push($e),gt.length>this._bufferSize&&gt.shift()}super.next($e)}nextTimeWindow($e){this.isStopped||(this._events.push(new te(this._getNow(),$e)),this._trimBufferThenGetEvents()),super.next($e)}_subscribe($e){const gt=this._infiniteTimeWindow,Xe=gt?this._events:this._trimBufferThenGetEvents(),tt=this.scheduler,ke=Xe.length;let Ve;if(this.closed)throw new H.N;if(this.isStopped||this.hasError?Ve=$.w.EMPTY:(this.observers.push($e),Ve=new ne.W(this,$e)),tt&&$e.add($e=new G.ht($e,tt)),gt)for(let pt=0;pt<ke&&!$e.closed;pt++)$e.next(Xe[pt]);else for(let pt=0;pt<ke&&!$e.closed;pt++)$e.next(Xe[pt].value);return this.hasError?$e.error(this.thrownError):this.isStopped&&$e.complete(),Ve}_getNow(){return(this.scheduler||le.c).now()}_trimBufferThenGetEvents(){const $e=this._getNow(),gt=this._bufferSize,Xe=this._windowTime,tt=this._events,ke=tt.length;let Ve=0;for(;Ve<ke&&!($e-tt[Ve].time<Xe);)Ve++;return ke>gt&&(Ve=Math.max(Ve,ke-gt)),Ve>0&&tt.splice(0,Ve),tt}}class te{constructor($e,gt){this.time=$e,this.value=gt}}function be(Ye,$e,gt){let Xe;return Xe=Ye&&"object"==typeof Ye?Ye:{bufferSize:Ye,windowTime:$e,refCount:!1,scheduler:gt},tt=>tt.lift(function({bufferSize:Ye=Number.POSITIVE_INFINITY,windowTime:$e=Number.POSITIVE_INFINITY,refCount:gt,scheduler:Xe}){let tt,Ve,ke=0,pt=!1,Ft=!1;return function(an){let Mt;ke++,!tt||pt?(pt=!1,tt=new k(Ye,$e,Xe),Mt=tt.subscribe(this),Ve=an.subscribe({next(xt){tt.next(xt)},error(xt){pt=!0,tt.error(xt)},complete(){Ft=!0,Ve=void 0,tt.complete()}}),Ft&&(Ve=void 0)):Mt=tt.subscribe(this),this.add(()=>{ke--,Mt.unsubscribe(),Mt=void 0,Ve&&!Ft&&gt&&0===ke&&(Ve.unsubscribe(),Ve=void 0,tt=void 0)})}}(Xe))}var Se=M(3190);function Ze(Ye,$e){return $e?(0,Se.w)(()=>Ye,$e):(0,Se.w)(()=>Ye)}var Oe=M(8002),pe=M(8049),rt=M(2639),Et=M(5435),dt=M(57),_t=M(8583);const At=new T.OlP("angularfire2.auth.use-emulator"),Ht=new T.OlP("angularfire2.auth.settings"),ge=new T.OlP("angularfire2.auth.tenant-id"),ye=new T.OlP("angularfire2.auth.langugage-code"),Q=new T.OlP("angularfire2.auth.use-device-language"),ce=new T.OlP("angularfire.auth.persistence");let xe=(()=>{class Ye{constructor(gt,Xe,tt,ke,Ve,pt,Ft,Lt,an,Mt){const xt=new dt.HU(ke),Qt=(0,dt.ss)(xt),On=new R.xQ,Cn=(0,S.of)(void 0).pipe((0,G.QV)(xt.outsideAngular),(0,Se.w)(()=>ke.runOutsideAngular(()=>M.e(336).then(M.bind(M,1336)))),(0,Oe.U)(()=>(0,dt.on)(gt,ke,Xe)),(0,Oe.U)(Tt=>ke.runOutsideAngular(()=>{const me=Ve,De=pt;return(0,dt.sI)(`${Tt.name}.auth`,"AngularFireAuth",Tt,()=>{const Ne=ke.runOutsideAngular(()=>Tt.auth());if(me&&Ne.useEmulator(`http://${me.join(":")}`),Ft&&(Ne.tenantId=Ft),Ne.languageCode=Lt,an&&Ne.useDeviceLanguage(),De)for(const[et,Ee]of Object.entries(De))Ne.settings[et]=Ee;return Mt&&Ne.setPersistence(Mt),Ne},[me,Ft,Lt,an,De,Mt])})),be({bufferSize:1,refCount:!1}));if((0,_t.PM)(tt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,S.of)(null);else{Cn.pipe((0,pe.P)()).subscribe();const me=Cn.pipe((0,Se.w)(Ee=>Ee.getRedirectResult().then(ct=>ct,()=>null)),Qt,be({bufferSize:1,refCount:!1})),De=Ee=>new X.y(ct=>({unsubscribe:ke.runOutsideAngular(()=>Ee(ct))})),Ne=Cn.pipe((0,Se.w)(Ee=>De(Ee.onAuthStateChanged.bind(Ee)))),et=Cn.pipe((0,Se.w)(Ee=>De(Ee.onIdTokenChanged.bind(Ee))));this.authState=me.pipe(Ze(Ne),(0,rt.R)(xt.outsideAngular),(0,G.QV)(xt.insideAngular)),this.user=me.pipe(Ze(et),(0,rt.R)(xt.outsideAngular),(0,G.QV)(xt.insideAngular)),this.idToken=this.user.pipe((0,Se.w)(Ee=>Ee?(0,se.D)(Ee.getIdToken()):(0,S.of)(null))),this.idTokenResult=this.user.pipe((0,Se.w)(Ee=>Ee?(0,se.D)(Ee.getIdTokenResult()):(0,S.of)(null))),this.credential=(0,j.T)(me,On,this.authState.pipe((0,Et.h)(Ee=>!Ee))).pipe((0,Oe.U)(Ee=>(null==Ee?void 0:Ee.user)?Ee:null),(0,rt.R)(xt.outsideAngular),(0,G.QV)(xt.insideAngular))}return(0,dt.pX)(this,Cn,ke,{spy:{apply:(Tt,me,De)=>{(Tt.startsWith("signIn")||Tt.startsWith("createUser"))&&De.then(Ne=>On.next(Ne))}}})}}return Ye.\u0275fac=function(gt){return new(gt||Ye)(T.LFG(dt.Dh),T.LFG(dt.xv,8),T.LFG(T.Lbi),T.LFG(T.R0b),T.LFG(At,8),T.LFG(Ht,8),T.LFG(ge,8),T.LFG(ye,8),T.LFG(Q,8),T.LFG(ce,8))},Ye.\u0275prov=T.Yz7({factory:function(){return new Ye(T.LFG(dt.Dh),T.LFG(dt.xv,8),T.LFG(T.Lbi),T.LFG(T.R0b),T.LFG(At,8),T.LFG(Ht,8),T.LFG(ge,8),T.LFG(ye,8),T.LFG(Q,8),T.LFG(ce,8))},token:Ye,providedIn:"any"}),Ye})(),fe=(()=>{class Ye{}return Ye.\u0275fac=function(gt){return new(gt||Ye)},Ye.\u0275mod=T.oAB({type:Ye}),Ye.\u0275inj=T.cJS({providers:[xe]}),Ye})()},7318:(ot,Ie,M)=>{"use strict";M.d(Ie,{KQ:()=>Cn,JS:()=>Tt});var T=M(7716),R=M(3637),S=M(7574),X=M(5917),se=M(6682),j=M(5197),le=M(509);class G{constructor(De,Ne){this.observables=De,this.project=Ne}call(De,Ne){return Ne.subscribe(new H(De,this.observables,this.project))}}class H extends j.L{constructor(De,Ne,et){super(De),this.observables=Ne,this.project=et,this.toRespond=[];const Ee=Ne.length;this.values=new Array(Ee);for(let ct=0;ct<Ee;ct++)this.toRespond.push(ct);for(let ct=0;ct<Ee;ct++)this.add((0,le.D)(this,Ne[ct],void 0,ct))}notifyNext(De,Ne,et){this.values[et]=Ne;const Ee=this.toRespond;if(Ee.length>0){const ct=Ee.indexOf(et);-1!==ct&&Ee.splice(ct,1)}}notifyComplete(){}_next(De){if(0===this.toRespond.length){const Ne=[De,...this.values];this.project?this._tryProject(Ne):this.destination.next(Ne)}}_tryProject(De){let Ne;try{Ne=this.project.apply(this,De)}catch(et){return void this.destination.error(et)}this.destination.next(Ne)}}var ne=M(7393);class te{constructor(De){this.predicate=De}call(De,Ne){return Ne.subscribe(new be(De,this.predicate))}}class be extends ne.L{constructor(De,Ne){super(De),this.predicate=Ne,this.skipping=!0,this.index=0}_next(De){const Ne=this.destination;this.skipping&&this.tryCallPredicate(De),this.skipping||Ne.next(De)}tryCallPredicate(De){try{const Ne=this.predicate(De,this.index++);this.skipping=Boolean(Ne)}catch(Ne){this.destination.error(Ne)}}}var Re=M(8002),Se=M(8819),Ze=M(3190),Oe=M(2145),pe=M(7519),rt=M(57),dt=(M(9192),M(1562)),_t=M(2329);function Ht(me){return null==me}function ge(me){return"function"==typeof me.set}function ye(me,De){return ge(De)?De:me.ref(De)}function Q(me,De){if(function(me){return"string"==typeof me}(me))return De.stringCase();if(ge(me))return De.firebaseCase();if(function(me){return"function"==typeof me.exportVal}(me))return De.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof me)}function ce(me,De,Ne="on",et=R.z){return new S.y(Ee=>{let ct=null;return ct=me[Ne](De,(Bt,Dt)=>{et.schedule(()=>{Ee.next({snapshot:Bt,prevKey:Dt})}),"once"===Ne&&et.schedule(()=>Ee.complete())},Bt=>{et.schedule(()=>Ee.error(Bt))}),"on"===Ne?{unsubscribe(){null!=ct&&me.off(De,ct)}}:{unsubscribe(){}}}).pipe((0,Re.U)(Ee=>{const{snapshot:ct,prevKey:Bt}=Ee;let Dt=null;return ct.exists()&&(Dt=ct.key),{type:De,payload:ct,prevKey:Bt,key:Dt}}),(0,Se.B)())}function fe(me,De){const Ne=me.length;for(let et=0;et<Ne;et++)if(me[et].payload.key===De)return et;return-1}function $e(me,De){const{payload:Ne,prevKey:et,key:Ee}=De,ct=fe(me,Ee),Bt=function(me,De){if(Ht(De))return 0;{const Ne=fe(me,De);return-1===Ne?me.length:Ne+1}}(me,et);switch(De.type){case"value":if(De.payload&&De.payload.exists()){let Dt=null;De.payload.forEach(gn=>{const jn={payload:gn,type:"value",prevKey:Dt,key:gn.key};return Dt=gn.key,me=[...me,jn],!1})}return me;case"child_added":if(ct>-1){const Dt=me[ct-1];(Dt&&Dt.key||null)!==et&&(me=me.filter(gn=>gn.payload.key!==Ne.key)).splice(Bt,0,De)}else{if(null==et)return[De,...me];(me=me.slice()).splice(Bt,0,De)}return me;case"child_removed":return me.filter(Dt=>Dt.payload.key!==Ne.key);case"child_changed":return me.map(Dt=>Dt.payload.key===Ee?De:Dt);case"child_moved":if(ct>-1){const Dt=me.splice(ct,1)[0];return(me=me.slice()).splice(Bt,0,Dt),me}return me;default:return me}}function gt(me){return(Ht(me)||0===me.length)&&(me=["child_added","child_removed","child_changed","child_moved"]),me}function Xe(me,De,Ne){return function(me,De,Ne){return ce(me,"value","once",Ne).pipe((0,Ze.w)(et=>{const Ee=[(0,X.of)(et)];return De.forEach(ct=>Ee.push(ce(me,ct,"on",Ne))),(0,se.T)(...Ee).pipe((0,Oe.R)($e,[]))}),(0,pe.x)())}(me,De=gt(De),Ne)}function tt(me,De,Ne){const et=(De=gt(De)).map(Ee=>ce(me,Ee,"on",Ne));return(0,se.T)(...et)}function Ft(me,De){return function(et,Ee){return Q(et,{stringCase:()=>me.child(et)[De](Ee),firebaseCase:()=>et[De](Ee),snapshotCase:()=>et.ref[De](Ee)})}}function Lt(me){return function(Ne){return Ne?Q(Ne,{stringCase:()=>me.child(Ne).remove(),firebaseCase:()=>Ne.remove(),snapshotCase:()=>Ne.ref.remove()}):me.remove()}}function Mt(me,De){return function(){return ce(me,"value","on",De)}}const Qt=new T.OlP("angularfire2.realtimeDatabaseURL"),On=new T.OlP("angularfire2.database.use-emulator");let Cn=(()=>{class me{constructor(Ne,et,Ee,ct,Bt,Dt,gn){this.schedulers=new rt.HU(Bt),this.keepUnstableUntilFirst=(0,rt.ss)(this.schedulers);const jn=Dt,Nn=(0,rt.on)(Ne,Bt,et);!_t.Z.auth&&gn&&(0,rt.yq)(),this.database=(0,rt.sI)(`${Nn.name}.database.${Ee}`,"AngularFireDatabase",Nn,()=>{const mn=Bt.runOutsideAngular(()=>Nn.database(Ee||void 0));return jn&&mn.useEmulator(...jn),mn},[jn])}list(Ne,et){const Ee=this.schedulers.ngZone.runOutsideAngular(()=>ye(this.database,Ne));let ct=Ee;return et&&(ct=et(Ee)),function(me,De){const Ne=De.schedulers.outsideAngular,et=De.schedulers.ngZone.run(()=>me.ref);return{query:me,update:Ft(et,"update"),set:Ft(et,"set"),push:Ee=>et.push(Ee),remove:Lt(et),snapshotChanges:Ee=>Xe(me,Ee,Ne).pipe(De.keepUnstableUntilFirst),stateChanges:Ee=>tt(me,Ee,Ne).pipe(De.keepUnstableUntilFirst),auditTrail:Ee=>function(me,De,Ne){return function(me,De,Ne){return function(me,De){return ce(me,"value","on",De).pipe((0,Re.U)(Ne=>{let et;return Ne.payload.forEach(Ee=>(et=Ee.key,!1)),{data:Ne,lastKeyToLoad:et}}))}(me,Ne).pipe(function(...me){return De=>{let Ne;return"function"==typeof me[me.length-1]&&(Ne=me.pop()),De.lift(new G(me,Ne))}}(De),(0,Re.U)(([Ee,ct])=>{const Bt=Ee.lastKeyToLoad,Dt=ct.map(gn=>gn.key);return{actions:ct,lastKeyToLoad:Bt,loadedKeys:Dt}}),function(me){return De=>De.lift(new te(me))}(Ee=>-1===Ee.loadedKeys.indexOf(Ee.lastKeyToLoad)),(0,Re.U)(Ee=>Ee.actions))}(me,tt(me,De).pipe((0,Oe.R)((Ee,ct)=>[...Ee,ct],[])),Ne)}(me,Ee,Ne).pipe(De.keepUnstableUntilFirst),valueChanges:(Ee,ct)=>Xe(me,Ee,Ne).pipe((0,Re.U)(Dt=>Dt.map(gn=>ct&&ct.idField?Object.assign(Object.assign({},gn.payload.val()),{[ct.idField]:gn.key}):gn.payload.val())),De.keepUnstableUntilFirst)}}(ct,this)}object(Ne){return function(me,De){return{query:me,snapshotChanges:()=>Mt(me,De.schedulers.outsideAngular)().pipe(De.keepUnstableUntilFirst),update:Ne=>me.ref.update(Ne),set:Ne=>me.ref.set(Ne),remove:()=>me.ref.remove(),valueChanges:()=>Mt(me,De.schedulers.outsideAngular)().pipe(De.keepUnstableUntilFirst,(0,Re.U)(et=>et.payload.exists()?et.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ye(this.database,Ne)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return me.\u0275fac=function(Ne){return new(Ne||me)(T.LFG(rt.Dh),T.LFG(rt.xv,8),T.LFG(Qt,8),T.LFG(T.Lbi),T.LFG(T.R0b),T.LFG(On,8),T.LFG(dt.Qv,8))},me.\u0275prov=T.Yz7({factory:function(){return new me(T.LFG(rt.Dh),T.LFG(rt.xv,8),T.LFG(Qt,8),T.LFG(T.Lbi),T.LFG(T.R0b),T.LFG(On,8),T.LFG(dt.Qv,8))},token:me,providedIn:"any"}),me})(),Tt=(()=>{class me{}return me.\u0275fac=function(Ne){return new(Ne||me)},me.\u0275mod=T.oAB({type:me}),me.\u0275inj=T.cJS({providers:[Cn]}),me})()},57:(ot,Ie,M)=>{"use strict";M.d(Ie,{hO:()=>Ht,xv:()=>Ze,Dh:()=>Se,HU:()=>ne,GT:()=>Re,sI:()=>Ut,on:()=>rt,ss:()=>k,pX:()=>be,yq:()=>Et});var T=M(7771),R=M(3637),S=M(3342),X=M(2639),se=M(6136),j=M(7716),le=M(2329);function $(){}ot=M.hmd(ot);class G{constructor(ye,Q=T.N){this.zone=ye,this.delegate=Q}now(){return this.delegate.now()}schedule(ye,Q,ce){const xe=this.zone;return this.delegate.schedule(function(Ye){xe.runGuarded(()=>{ye.apply(this,[Ye])})},Q,ce)}}class H{constructor(ye){this.zone=ye,this.task=null}call(ye,Q){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$,{},$,$)),Q.pipe((0,S.b)({next:ce,complete:ce,error:ce})).subscribe(ye).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ne{constructor(ye){this.ngZone=ye,this.outsideAngular=ye.runOutsideAngular(()=>new G(Zone.current)),this.insideAngular=ye.run(()=>new G(Zone.current,R.z))}}function k(ge){return function(Q){return(Q=Q.lift(new H(ge.ngZone))).pipe((0,X.R)(ge.outsideAngular),(0,se.QV)(ge.insideAngular))}}const te=["ngOnDestroy"],be=(ge,ye,Q,ce={})=>new Proxy(ge,{get:(xe,fe)=>Q.runOutsideAngular(()=>{var Ye;if(ge[fe])return(null===(Ye=null==ce?void 0:ce.spy)||void 0===Ye?void 0:Ye.get)&&ce.spy.get(fe,ge[fe]),ge[fe];if(te.indexOf(fe)>-1)return()=>{};const $e=ye.toPromise().then(gt=>{const Xe=gt&&gt[fe];return"function"==typeof Xe?Xe.bind(gt):Xe&&Xe.then?Xe.then(tt=>Q.run(()=>tt)):Q.run(()=>Xe)});return new Proxy(()=>{},{get:(gt,Xe)=>$e[Xe],apply:(gt,Xe,tt)=>$e.then(ke=>{var Ve;const pt=ke&&ke(...tt);return(null===(Ve=null==ce?void 0:ce.spy)||void 0===Ve?void 0:Ve.apply)&&ce.spy.apply(fe,tt,pt),pt})})})}),Re=(ge,ye)=>{ye.forEach(Q=>{Object.getOwnPropertyNames(Q.prototype||Q).forEach(ce=>{Object.defineProperty(ge.prototype,ce,Object.getOwnPropertyDescriptor(Q.prototype||Q,ce))})})},Se=new j.OlP("angularfire2.app.options"),Ze=new j.OlP("angularfire2.app.nameOrConfig"),pe=new j.GfV("6.1.5");function rt(ge,ye,Q){const xe="object"==typeof Q&&Q||{};xe.name=xe.name||"string"==typeof Q&&Q||"[DEFAULT]";const Ye=le.Z.apps.filter($e=>$e&&$e.name===xe.name)[0]||ye.runOutsideAngular(()=>le.Z.initializeApp(ge,xe));try{JSON.stringify(ge)!==JSON.stringify(Ye.options)&&dt("error",`${Ye.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($e){}return Ye}const Et=()=>{dt("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},dt=(ge,...ye)=>{(0,j.X6Q)()&&"undefined"!=typeof console&&console[ge](...ye)};function Ut(ge,ye,Q,ce,xe){const[fe,...Ye]=globalThis.\u0275AngularfireInstanceCache.get(ge)||[];if(fe){try{xe.some(($e,gt)=>{const Xe=Ye[gt];return $e&&"object"==typeof $e?JSON.stringify($e)!==JSON.stringify(Xe):$e!==Xe})&&dt("error",`${ye} was already initialized on the ${Q.name} Firebase App instance with different settings.${ot.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch($e){}return fe}{const $e=ce();return globalThis.\u0275AngularfireInstanceCache.set(ge,[$e,...xe]),$e}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const At={provide:class{},useFactory:rt,deps:[Se,j.R0b,[new j.FiY,Ze]]};let Ht=(()=>{class ge{constructor(Q){le.Z.registerVersion("angularfire",pe.full,Q.toString()),le.Z.registerVersion("angular",j.q4F.full)}static initializeApp(Q,ce){return{ngModule:ge,providers:[{provide:Se,useValue:Q},{provide:Ze,useValue:ce}]}}}return ge.\u0275fac=function(Q){return new(Q||ge)(j.LFG(j.Lbi))},ge.\u0275mod=j.oAB({type:ge}),ge.\u0275inj=j.cJS({providers:[At]}),ge})()},5209:(ot,Ie,M)=>{"use strict";M.d(Ie,{gz:()=>lt,F0:()=>Jn,yS:()=>Go,Bz:()=>Gi,lC:()=>ea});var T=M(8583),R=M(7716),S=M(9765),X=M(7971);class se extends S.xQ{constructor(p){super(),this._value=p}get value(){return this.getValue()}_subscribe(p){const h=super._subscribe(p);return h&&!h.closed&&p.next(this._value),h}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new X.N;return this._value}next(p){super.next(this._value=p)}}var j=M(4869),le=M(9796),$=M(5197),G=M(509),H=M(6693);const ne={};class te{constructor(p){this.resultSelector=p}call(p,h){return h.subscribe(new be(p,this.resultSelector))}}class be extends $.L{constructor(p,h){super(p),this.resultSelector=h,this.active=0,this.values=[],this.observables=[]}_next(p){this.values.push(ne),this.observables.push(p)}_complete(){const p=this.observables,h=p.length;if(0===h)this.destination.complete();else{this.active=h,this.toRespond=h;for(let E=0;E<h;E++)this.add((0,G.D)(this,p[E],void 0,E))}}notifyComplete(p){0==(this.active-=1)&&this.destination.complete()}notifyNext(p,h,E){const D=this.values,K=this.toRespond?D[E]===ne?--this.toRespond:this.toRespond:0;D[E]=h,0===K&&(this.resultSelector?this._tryResultSelector(D):this.destination.next(D.slice()))}_tryResultSelector(p){let h;try{h=this.resultSelector.apply(this,p)}catch(E){return void this.destination.error(E)}this.destination.next(h)}}var Re=M(7574),Se=M(4402),Ze=M(9193);function Oe(m){return new Re.y(p=>{let h;try{h=m()}catch(D){return void p.error(D)}return(h?(0,Se.D)(h):(0,Ze.c)()).subscribe(p)})}var pe=M(5917),rt=M(3410),Et=M(8071),dt=M(2441),_t=M(9773);function Ut(m,p){return(0,_t.zg)(m,p,1)}var At=M(5435),Ht=M(7393),ge=M(7108);function ye(m){return function(h){return 0===m?(0,Ze.c)():h.lift(new Q(m))}}class Q{constructor(p){if(this.total=p,this.total<0)throw new ge.W}call(p,h){return h.subscribe(new ce(p,this.total))}}class ce extends Ht.L{constructor(p,h){super(p),this.total=h,this.ring=new Array,this.count=0}_next(p){const h=this.ring,E=this.total,D=this.count++;h.length<E?h.push(p):h[D%E]=p}_complete(){const p=this.destination;let h=this.count;if(h>0){const E=this.count>=this.total?this.total:this.count,D=this.ring;for(let P=0;P<E;P++){const K=h++%E;p.next(D[K])}}p.complete()}}var xe=M(4635),fe=M(5242),Ye=M(4487),gt=M(5319);class tt{constructor(p){this.callback=p}call(p,h){return h.subscribe(new ke(p,this.callback))}}class ke extends Ht.L{constructor(p,h){super(p),this.add(new gt.w(h))}}var Ve=M(8002),pt=M(3190),Ft=M(5257),Lt=M(9761),an=M(2145),Mt=M(5304),xt=M(8049),Qt=M(3342),On=M(1307),Cn=M(3282);class Tt{constructor(p,h){this.id=p,this.url=h}}class me extends Tt{constructor(p,h,E="imperative",D=null){super(p,h),this.navigationTrigger=E,this.restoredState=D}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class De extends Tt{constructor(p,h,E){super(p,h),this.urlAfterRedirects=E}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ne extends Tt{constructor(p,h,E){super(p,h),this.reason=E}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class et extends Tt{constructor(p,h,E){super(p,h),this.error=E}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ee extends Tt{constructor(p,h,E,D){super(p,h),this.urlAfterRedirects=E,this.state=D}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ct extends Tt{constructor(p,h,E,D){super(p,h),this.urlAfterRedirects=E,this.state=D}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bt extends Tt{constructor(p,h,E,D,P){super(p,h),this.urlAfterRedirects=E,this.state=D,this.shouldActivate=P}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dt extends Tt{constructor(p,h,E,D){super(p,h),this.urlAfterRedirects=E,this.state=D}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gn extends Tt{constructor(p,h,E,D){super(p,h),this.urlAfterRedirects=E,this.state=D}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jn{constructor(p){this.route=p}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nn{constructor(p){this.route=p}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mn{constructor(p){this.snapshot=p}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gi{constructor(p){this.snapshot=p}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(p){this.snapshot=p}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ut{constructor(p){this.snapshot=p}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(p,h,E){this.routerEvent=p,this.position=h,this.anchor=E}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class qn{constructor(p){this.params=p||{}}has(p){return Object.prototype.hasOwnProperty.call(this.params,p)}get(p){if(this.has(p)){const h=this.params[p];return Array.isArray(h)?h[0]:h}return null}getAll(p){if(this.has(p)){const h=this.params[p];return Array.isArray(h)?h:[h]}return[]}get keys(){return Object.keys(this.params)}}function Dn(m){return new qn(m)}const tn="ngNavigationCancelingError";function Hn(m){const p=Error("NavigationCancelingError: "+m);return p[tn]=!0,p}function nn(m,p,h){const E=h.path.split("/");if(E.length>m.length||"full"===h.pathMatch&&(p.hasChildren()||E.length<m.length))return null;const D={};for(let P=0;P<E.length;P++){const K=E[P],re=m[P];if(K.startsWith(":"))D[K.substring(1)]=re;else if(K!==re.path)return null}return{consumed:m.slice(0,E.length),posParams:D}}function Y(m,p){const h=m?Object.keys(m):void 0,E=p?Object.keys(p):void 0;if(!h||!E||h.length!=E.length)return!1;let D;for(let P=0;P<h.length;P++)if(D=h[P],!he(m[D],p[D]))return!1;return!0}function he(m,p){if(Array.isArray(m)&&Array.isArray(p)){if(m.length!==p.length)return!1;const h=[...m].sort(),E=[...p].sort();return h.every((D,P)=>E[P]===D)}return m===p}function Ce(m){return Array.prototype.concat.apply([],m)}function de(m){return m.length>0?m[m.length-1]:null}function at(m,p){for(const h in m)m.hasOwnProperty(h)&&p(m[h],h)}function St(m){return(0,R.CqO)(m)?m:(0,R.QGY)(m)?(0,Se.D)(Promise.resolve(m)):(0,pe.of)(m)}const Zt={exact:function ur(m,p,h){if(!In(m.segments,p.segments)||!Ur(m.segments,p.segments,h)||m.numberOfChildren!==p.numberOfChildren)return!1;for(const E in p.children)if(!m.children[E]||!ur(m.children[E],p.children[E],h))return!1;return!0},subset:Vr},Mn={exact:function(m,p){return Y(m,p)},subset:function(m,p){return Object.keys(p).length<=Object.keys(m).length&&Object.keys(p).every(h=>he(m[h],p[h]))},ignored:()=>!0};function xn(m,p,h){return Zt[h.paths](m.root,p.root,h.matrixParams)&&Mn[h.queryParams](m.queryParams,p.queryParams)&&!("exact"===h.fragment&&m.fragment!==p.fragment)}function Vr(m,p,h){return Br(m,p,p.segments,h)}function Br(m,p,h,E){if(m.segments.length>h.length){const D=m.segments.slice(0,h.length);return!(!In(D,h)||p.hasChildren()||!Ur(D,h,E))}if(m.segments.length===h.length){if(!In(m.segments,h)||!Ur(m.segments,h,E))return!1;for(const D in p.children)if(!m.children[D]||!Vr(m.children[D],p.children[D],E))return!1;return!0}{const D=h.slice(0,m.segments.length),P=h.slice(m.segments.length);return!!(In(m.segments,D)&&Ur(m.segments,D,E)&&m.children[Pt])&&Br(m.children[Pt],p,P,E)}}function Ur(m,p,h){return p.every((E,D)=>Mn[h](m[D].parameters,E.parameters))}class yr{constructor(p,h,E){this.root=p,this.queryParams=h,this.fragment=E}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dn(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class yt{constructor(p,h){this.segments=p,this.children=h,this.parent=null,at(h,(E,D)=>E.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jt(this)}}class ln{constructor(p,h){this.path=p,this.parameters=h}get parameterMap(){return this._parameterMap||(this._parameterMap=Dn(this.parameters)),this._parameterMap}toString(){return A(this)}}function In(m,p){return m.length===p.length&&m.every((h,E)=>h.path===p[E].path)}class Rn{}class st{parse(p){const h=new Qe(p);return new yr(h.parseRootSegment(),h.parseQueryParams(),h.parseFragment())}serialize(p){var m;return`${`/${wn(p.root,!0)}`}${function(m){const p=Object.keys(m).map(h=>{const E=m[h];return Array.isArray(E)?E.map(D=>`${dn(h)}=${dn(D)}`).join("&"):`${dn(h)}=${dn(E)}`}).filter(h=>!!h);return p.length?`?${p.join("&")}`:""}(p.queryParams)}${"string"==typeof p.fragment?`#${m=p.fragment,encodeURI(m)}`:""}`}}const jt=new st;function Jt(m){return m.segments.map(p=>A(p)).join("/")}function wn(m,p){if(!m.hasChildren())return Jt(m);if(p){const h=m.children[Pt]?wn(m.children[Pt],!1):"",E=[];return at(m.children,(D,P)=>{P!==Pt&&E.push(`${P}:${wn(D,!1)}`)}),E.length>0?`${h}(${E.join("//")})`:h}{const h=function(m,p){let h=[];return at(m.children,(E,D)=>{D===Pt&&(h=h.concat(p(E,D)))}),at(m.children,(E,D)=>{D!==Pt&&(h=h.concat(p(E,D)))}),h}(m,(E,D)=>D===Pt?[wn(m.children[Pt],!1)]:[`${D}:${wn(E,!1)}`]);return 1===Object.keys(m.children).length&&null!=m.children[Pt]?`${Jt(m)}/${h[0]}`:`${Jt(m)}/(${h.join("//")})`}}function _r(m){return encodeURIComponent(m).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dn(m){return _r(m).replace(/%3B/gi,";")}function vn(m){return _r(m).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dr(m){return decodeURIComponent(m)}function I(m){return dr(m.replace(/\+/g,"%20"))}function A(m){return`${vn(m.path)}${function(m){return Object.keys(m).map(p=>`;${vn(p)}=${vn(m[p])}`).join("")}(m.parameters)}`}const we=/^[^\/()?;=#]+/;function We(m){const p=m.match(we);return p?p[0]:""}const Ue=/^[^=?&#]+/,Ke=/^[^?&#]+/;class Qe{constructor(p){this.url=p,this.remaining=p}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const p={};if(this.consumeOptional("?"))do{this.parseQueryParam(p)}while(this.consumeOptional("&"));return p}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const p=[];for(this.peekStartsWith("(")||p.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),p.push(this.parseSegment());let h={};this.peekStartsWith("/(")&&(this.capture("/"),h=this.parseParens(!0));let E={};return this.peekStartsWith("(")&&(E=this.parseParens(!1)),(p.length>0||Object.keys(h).length>0)&&(E[Pt]=new yt(p,h)),E}parseSegment(){const p=We(this.remaining);if(""===p&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(p),new ln(dr(p),this.parseMatrixParams())}parseMatrixParams(){const p={};for(;this.consumeOptional(";");)this.parseParam(p);return p}parseParam(p){const h=We(this.remaining);if(!h)return;this.capture(h);let E="";if(this.consumeOptional("=")){const D=We(this.remaining);D&&(E=D,this.capture(E))}p[dr(h)]=dr(E)}parseQueryParam(p){const h=function(m){const p=m.match(Ue);return p?p[0]:""}(this.remaining);if(!h)return;this.capture(h);let E="";if(this.consumeOptional("=")){const K=function(m){const p=m.match(Ke);return p?p[0]:""}(this.remaining);K&&(E=K,this.capture(E))}const D=I(h),P=I(E);if(p.hasOwnProperty(D)){let K=p[D];Array.isArray(K)||(K=[K],p[D]=K),K.push(P)}else p[D]=P}parseParens(p){const h={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const E=We(this.remaining),D=this.remaining[E.length];if("/"!==D&&")"!==D&&";"!==D)throw new Error(`Cannot parse url '${this.url}'`);let P;E.indexOf(":")>-1?(P=E.substr(0,E.indexOf(":")),this.capture(P),this.capture(":")):p&&(P=Pt);const K=this.parseChildren();h[P]=1===Object.keys(K).length?K[Pt]:new yt([],K),this.consumeOptional("//")}return h}peekStartsWith(p){return this.remaining.startsWith(p)}consumeOptional(p){return!!this.peekStartsWith(p)&&(this.remaining=this.remaining.substring(p.length),!0)}capture(p){if(!this.consumeOptional(p))throw new Error(`Expected "${p}".`)}}class mt{constructor(p){this._root=p}get root(){return this._root.value}parent(p){const h=this.pathFromRoot(p);return h.length>1?h[h.length-2]:null}children(p){const h=ie(p,this._root);return h?h.children.map(E=>E.value):[]}firstChild(p){const h=ie(p,this._root);return h&&h.children.length>0?h.children[0].value:null}siblings(p){const h=z(p,this._root);return h.length<2?[]:h[h.length-2].children.map(D=>D.value).filter(D=>D!==p)}pathFromRoot(p){return z(p,this._root).map(h=>h.value)}}function ie(m,p){if(m===p.value)return p;for(const h of p.children){const E=ie(m,h);if(E)return E}return null}function z(m,p){if(m===p.value)return[p];for(const h of p.children){const E=z(m,h);if(E.length)return E.unshift(p),E}return[]}class U{constructor(p,h){this.value=p,this.children=h}toString(){return`TreeNode(${this.value})`}}function ue(m){const p={};return m&&m.children.forEach(h=>p[h.value.outlet]=h),p}class Ae extends mt{constructor(p,h){super(p),this.snapshot=h,vi(this,p)}toString(){return this.snapshot.toString()}}function qe(m,p){const h=function(m,p){const K=new Yr([],{},{},"",{},Pt,p,null,m.root,-1,{});return new Wn("",new U(K,[]))}(m,p),E=new se([new ln("",{})]),D=new se({}),P=new se({}),K=new se({}),re=new se(""),Pe=new lt(E,D,K,re,P,Pt,p,h.root);return Pe.snapshot=h.root,new Ae(new U(Pe,[]),h)}class lt{constructor(p,h,E,D,P,K,re,Pe){this.url=p,this.params=h,this.queryParams=E,this.fragment=D,this.data=P,this.outlet=K,this.component=re,this._futureSnapshot=Pe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.U)(p=>Dn(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.U)(p=>Dn(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kt(m,p="emptyOnly"){const h=m.pathFromRoot;let E=0;if("always"!==p)for(E=h.length-1;E>=1;){const D=h[E],P=h[E-1];if(D.routeConfig&&""===D.routeConfig.path)E--;else{if(P.component)break;E--}}return function(m){return m.reduce((p,h)=>({params:Object.assign(Object.assign({},p.params),h.params),data:Object.assign(Object.assign({},p.data),h.data),resolve:Object.assign(Object.assign({},p.resolve),h._resolvedData)}),{params:{},data:{},resolve:{}})}(h.slice(E))}class Yr{constructor(p,h,E,D,P,K,re,Pe,ht,sn,It){this.url=p,this.params=h,this.queryParams=E,this.fragment=D,this.data=P,this.outlet=K,this.component=re,this.routeConfig=Pe,this._urlSegment=ht,this._lastPathIndex=sn,this._resolve=It}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(E=>E.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wn extends mt{constructor(p,h){super(h),this.url=p,vi(this,h)}toString(){return Er(this._root)}}function vi(m,p){p.value._routerState=m,p.children.forEach(h=>vi(m,h))}function Er(m){const p=m.children.length>0?` { ${m.children.map(Er).join(", ")} } `:"";return`${m.value}${p}`}function er(m){if(m.snapshot){const p=m.snapshot,h=m._futureSnapshot;m.snapshot=h,Y(p.queryParams,h.queryParams)||m.queryParams.next(h.queryParams),p.fragment!==h.fragment&&m.fragment.next(h.fragment),Y(p.params,h.params)||m.params.next(h.params),function(m,p){if(m.length!==p.length)return!1;for(let h=0;h<m.length;++h)if(!Y(m[h],p[h]))return!1;return!0}(p.url,h.url)||m.url.next(h.url),Y(p.data,h.data)||m.data.next(h.data)}else m.snapshot=m._futureSnapshot,m.data.next(m._futureSnapshot.data)}function Lo(m,p){return Y(m.params,p.params)&&function(m,p){return In(m,p)&&m.every((h,E)=>Y(h.parameters,p[E].parameters))}(m.url,p.url)&&!(!m.parent!=!p.parent)&&(!m.parent||Lo(m.parent,p.parent))}function ao(m,p,h){if(h&&m.shouldReuseRoute(p.value,h.value.snapshot)){const E=h.value;E._futureSnapshot=p.value;const D=function(m,p,h){return p.children.map(E=>{for(const D of h.children)if(m.shouldReuseRoute(E.value,D.value.snapshot))return ao(m,E,D);return ao(m,E)})}(m,p,h);return new U(E,D)}{if(m.shouldAttach(p.value)){const P=m.retrieve(p.value);if(null!==P){const K=P.route;return Vi(p,K),K}}const E=function(m){return new lt(new se(m.url),new se(m.params),new se(m.queryParams),new se(m.fragment),new se(m.data),m.outlet,m.component,m)}(p.value),D=p.children.map(P=>ao(m,P));return new U(E,D)}}function Vi(m,p){if(m.value.routeConfig!==p.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(m.children.length!==p.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");p.value._futureSnapshot=m.value;for(let h=0;h<m.children.length;++h)Vi(m.children[h],p.children[h])}function ko(m){return"object"==typeof m&&null!=m&&!m.outlets&&!m.segmentPath}function lo(m){return"object"==typeof m&&null!=m&&m.outlets}function ps(m,p,h,E,D){let P={};return E&&at(E,(K,re)=>{P[re]=Array.isArray(K)?K.map(Pe=>`${Pe}`):`${K}`}),new yr(h.root===m?p:gs(h.root,m,p),P,D)}function gs(m,p,h){const E={};return at(m.children,(D,P)=>{E[P]=D===p?h:gs(D,p,h)}),new yt(m.segments,E)}class ri{constructor(p,h,E){if(this.isAbsolute=p,this.numberOfDoubleDots=h,this.commands=E,p&&E.length>0&&ko(E[0]))throw new Error("Root segment cannot have matrix parameters");const D=E.find(lo);if(D&&D!==de(E))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bi{constructor(p,h,E){this.segmentGroup=p,this.processChildren=h,this.index=E}}function yi(m,p,h){if(m||(m=new yt([],{})),0===m.segments.length&&m.hasChildren())return $n(m,p,h);const E=function(m,p,h){let E=0,D=p;const P={match:!1,pathIndex:0,commandIndex:0};for(;D<m.segments.length;){if(E>=h.length)return P;const K=m.segments[D],re=h[E];if(lo(re))break;const Pe=`${re}`,ht=E<h.length-1?h[E+1]:null;if(D>0&&void 0===Pe)break;if(Pe&&ht&&"object"==typeof ht&&void 0===ht.outlets){if(!uo(Pe,ht,K))return P;E+=2}else{if(!uo(Pe,{},K))return P;E++}D++}return{match:!0,pathIndex:D,commandIndex:E}}(m,p,h),D=h.slice(E.commandIndex);if(E.match&&E.pathIndex<m.segments.length){const P=new yt(m.segments.slice(0,E.pathIndex),{});return P.children[Pt]=new yt(m.segments.slice(E.pathIndex),m.children),$n(P,0,D)}return E.match&&0===D.length?new yt(m.segments,{}):E.match&&!m.hasChildren()?fr(m,p,h):E.match?$n(m,0,D):fr(m,p,h)}function $n(m,p,h){if(0===h.length)return new yt(m.segments,{});{const E=function(m){return lo(m[0])?m[0].outlets:{[Pt]:m}}(h),D={};return at(E,(P,K)=>{"string"==typeof P&&(P=[P]),null!==P&&(D[K]=yi(m.children[K],p,P))}),at(m.children,(P,K)=>{void 0===E[K]&&(D[K]=P)}),new yt(m.segments,D)}}function fr(m,p,h){const E=m.segments.slice(0,p);let D=0;for(;D<h.length;){const P=h[D];if(lo(P)){const Pe=ms(P.outlets);return new yt(E,Pe)}if(0===D&&ko(h[0])){E.push(new ln(m.segments[p].path,Rr(h[0]))),D++;continue}const K=lo(P)?P.outlets[Pt]:`${P}`,re=D<h.length-1?h[D+1]:null;K&&re&&ko(re)?(E.push(new ln(K,Rr(re))),D+=2):(E.push(new ln(K,{})),D++)}return new yt(E,{})}function ms(m){const p={};return at(m,(h,E)=>{"string"==typeof h&&(h=[h]),null!==h&&(p[E]=fr(new yt([],{}),0,h))}),p}function Rr(m){const p={};return at(m,(h,E)=>p[E]=`${h}`),p}function uo(m,p,h){return m==h.path&&Y(p,h.parameters)}class co{constructor(p,h,E,D){this.routeReuseStrategy=p,this.futureState=h,this.currState=E,this.forwardEvent=D}activate(p){const h=this.futureState._root,E=this.currState?this.currState._root:null;this.deactivateChildRoutes(h,E,p),er(this.futureState.root),this.activateChildRoutes(h,E,p)}deactivateChildRoutes(p,h,E){const D=ue(h);p.children.forEach(P=>{const K=P.value.outlet;this.deactivateRoutes(P,D[K],E),delete D[K]}),at(D,(P,K)=>{this.deactivateRouteAndItsChildren(P,E)})}deactivateRoutes(p,h,E){const D=p.value,P=h?h.value:null;if(D===P)if(D.component){const K=E.getContext(D.outlet);K&&this.deactivateChildRoutes(p,h,K.children)}else this.deactivateChildRoutes(p,h,E);else P&&this.deactivateRouteAndItsChildren(h,E)}deactivateRouteAndItsChildren(p,h){this.routeReuseStrategy.shouldDetach(p.value.snapshot)?this.detachAndStoreRouteSubtree(p,h):this.deactivateRouteAndOutlet(p,h)}detachAndStoreRouteSubtree(p,h){const E=h.getContext(p.value.outlet);if(E&&E.outlet){const D=E.outlet.detach(),P=E.children.onOutletDeactivated();this.routeReuseStrategy.store(p.value.snapshot,{componentRef:D,route:p,contexts:P})}}deactivateRouteAndOutlet(p,h){const E=h.getContext(p.value.outlet),D=E&&p.value.component?E.children:h,P=ue(p);for(const K of Object.keys(P))this.deactivateRouteAndItsChildren(P[K],D);E&&E.outlet&&(E.outlet.deactivate(),E.children.onOutletDeactivated(),E.attachRef=null,E.resolver=null,E.route=null)}activateChildRoutes(p,h,E){const D=ue(h);p.children.forEach(P=>{this.activateRoutes(P,D[P.value.outlet],E),this.forwardEvent(new ut(P.value.snapshot))}),p.children.length&&this.forwardEvent(new gi(p.value.snapshot))}activateRoutes(p,h,E){const D=p.value,P=h?h.value:null;if(er(D),D===P)if(D.component){const K=E.getOrCreateContext(D.outlet);this.activateChildRoutes(p,h,K.children)}else this.activateChildRoutes(p,h,E);else if(D.component){const K=E.getOrCreateContext(D.outlet);if(this.routeReuseStrategy.shouldAttach(D.snapshot)){const re=this.routeReuseStrategy.retrieve(D.snapshot);this.routeReuseStrategy.store(D.snapshot,null),K.children.onOutletReAttached(re.contexts),K.attachRef=re.componentRef,K.route=re.route.value,K.outlet&&K.outlet.attach(re.componentRef,re.route.value),Uo(re.route)}else{const re=function(m){for(let p=m.parent;p;p=p.parent){const h=p.routeConfig;if(h&&h._loadedConfig)return h._loadedConfig;if(h&&h.component)return null}return null}(D.snapshot),Pe=re?re.module.componentFactoryResolver:null;K.attachRef=null,K.route=D,K.resolver=Pe,K.outlet&&K.outlet.activateWith(D,Pe),this.activateChildRoutes(p,null,K.children)}}else this.activateChildRoutes(p,null,E)}}function Uo(m){er(m.value),m.children.forEach(Uo)}class jr{constructor(p,h){this.routes=p,this.module=h}}function Ar(m){return"function"==typeof m}function zr(m){return m instanceof yr}const Kr=Symbol("INITIAL_VALUE");function Qr(){return(0,pt.w)(m=>function(...m){let p,h;return(0,j.K)(m[m.length-1])&&(h=m.pop()),"function"==typeof m[m.length-1]&&(p=m.pop()),1===m.length&&(0,le.k)(m[0])&&(m=m[0]),(0,H.n)(m,h).lift(new te(p))}(m.map(p=>p.pipe((0,Ft.q)(1),(0,Lt.O)(Kr)))).pipe((0,an.R)((p,h)=>{let E=!1;return h.reduce((D,P,K)=>D!==Kr?D:(P===Kr&&(E=!0),E||!1!==P&&K!==h.length-1&&!zr(P)?D:P),p)},Kr),(0,At.h)(p=>p!==Kr),(0,Ve.U)(p=>zr(p)?p:!0===p),(0,Ft.q)(1)))}let Ui=(()=>{class m{}return m.\u0275fac=function(h){return new(h||m)},m.\u0275cmp=R.Xpm({type:m,selectors:[["ng-component"]],decls:1,vars:0,template:function(h,E){1&h&&R._UZ(0,"router-outlet")},directives:function(){return[ea]},encapsulation:2}),m})();function _i(m,p=""){for(let h=0;h<m.length;h++){const E=m[h];b(E,x(p,E))}}function b(m,p){m.children&&_i(m.children,p)}function x(m,p){return p?m||p.path?m&&!p.path?`${m}/`:!m&&p.path?p.path:`${m}/${p.path}`:"":m}function _(m){const p=m.children&&m.children.map(_),h=p?Object.assign(Object.assign({},m),{children:p}):Object.assign({},m);return!h.component&&(p||h.loadChildren)&&h.outlet&&h.outlet!==Pt&&(h.component=Ui),h}function N(m){return m.outlet||Pt}function Z(m,p){const h=m.filter(E=>N(E)===p);return h.push(...m.filter(E=>N(E)!==p)),h}const Me={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fe(m,p,h){var E;if(""===p.path)return"full"===p.pathMatch&&(m.hasChildren()||h.length>0)?Object.assign({},Me):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const P=(p.matcher||nn)(h,m,p);if(!P)return Object.assign({},Me);const K={};at(P.posParams,(Pe,ht)=>{K[ht]=Pe.path});const re=P.consumed.length>0?Object.assign(Object.assign({},K),P.consumed[P.consumed.length-1].parameters):K;return{matched:!0,consumedSegments:P.consumed,lastChild:P.consumed.length,parameters:re,positionalParamSegments:null!==(E=P.posParams)&&void 0!==E?E:{}}}function vt(m,p,h,E,D="corrected"){if(h.length>0&&function(m,p,h){return h.some(E=>rn(m,p,E)&&N(E)!==Pt)}(m,h,E)){const K=new yt(p,function(m,p,h,E){const D={};D[Pt]=E,E._sourceSegment=m,E._segmentIndexShift=p.length;for(const P of h)if(""===P.path&&N(P)!==Pt){const K=new yt([],{});K._sourceSegment=m,K._segmentIndexShift=p.length,D[N(P)]=K}return D}(m,p,E,new yt(h,m.children)));return K._sourceSegment=m,K._segmentIndexShift=p.length,{segmentGroup:K,slicedSegments:[]}}if(0===h.length&&function(m,p,h){return h.some(E=>rn(m,p,E))}(m,h,E)){const K=new yt(m.segments,function(m,p,h,E,D,P){const K={};for(const re of E)if(rn(m,h,re)&&!D[N(re)]){const Pe=new yt([],{});Pe._sourceSegment=m,Pe._segmentIndexShift="legacy"===P?m.segments.length:p.length,K[N(re)]=Pe}return Object.assign(Object.assign({},D),K)}(m,p,h,E,m.children,D));return K._sourceSegment=m,K._segmentIndexShift=p.length,{segmentGroup:K,slicedSegments:h}}const P=new yt(m.segments,m.children);return P._sourceSegment=m,P._segmentIndexShift=p.length,{segmentGroup:P,slicedSegments:h}}function rn(m,p,h){return(!(m.hasChildren()||p.length>0)||"full"!==h.pathMatch)&&""===h.path}function _n(m,p,h,E){return!!(N(m)===E||E!==Pt&&rn(p,h,m))&&("**"===m.path||Fe(p,m,h).matched)}function Ln(m,p,h){return 0===p.length&&!m.children[h]}class Mr{constructor(p){this.segmentGroup=p||null}}class Gn{constructor(p){this.urlTree=p}}function Hr(m){return new Re.y(p=>p.error(new Mr(m)))}function Zn(m){return new Re.y(p=>p.error(new Gn(m)))}function wt(m){return new Re.y(p=>p.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${m}'`)))}class Xs{constructor(p,h,E,D,P){this.configLoader=h,this.urlSerializer=E,this.urlTree=D,this.config=P,this.allowRedirects=!0,this.ngModule=p.get(R.h0i)}apply(){const p=vt(this.urlTree.root,[],[],this.config).segmentGroup,h=new yt(p.segments,p.children);return this.expandSegmentGroup(this.ngModule,this.config,h,Pt).pipe((0,Ve.U)(P=>this.createUrlTree(bs(P),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Mt.K)(P=>{if(P instanceof Gn)return this.allowRedirects=!1,this.match(P.urlTree);throw P instanceof Mr?this.noMatchError(P):P}))}match(p){return this.expandSegmentGroup(this.ngModule,this.config,p.root,Pt).pipe((0,Ve.U)(D=>this.createUrlTree(bs(D),p.queryParams,p.fragment))).pipe((0,Mt.K)(D=>{throw D instanceof Mr?this.noMatchError(D):D}))}noMatchError(p){return new Error(`Cannot match any routes. URL Segment: '${p.segmentGroup}'`)}createUrlTree(p,h,E){const D=p.segments.length>0?new yt([],{[Pt]:p}):p;return new yr(D,h,E)}expandSegmentGroup(p,h,E,D){return 0===E.segments.length&&E.hasChildren()?this.expandChildren(p,h,E).pipe((0,Ve.U)(P=>new yt([],P))):this.expandSegment(p,E,h,E.segments,D,!0)}expandChildren(p,h,E){const D=[];for(const P of Object.keys(E.children))"primary"===P?D.unshift(P):D.push(P);return(0,Se.D)(D).pipe(Ut(P=>{const K=E.children[P],re=Z(h,P);return this.expandSegmentGroup(p,re,K,P).pipe((0,Ve.U)(Pe=>({segment:Pe,outlet:P})))}),(0,an.R)((P,K)=>(P[K.outlet]=K.segment,P),{}),function(m,p){const h=arguments.length>=2;return E=>E.pipe(m?(0,At.h)((D,P)=>m(D,P,E)):Ye.y,ye(1),h?(0,fe.d)(p):(0,xe.T)(()=>new rt.K))}())}expandSegment(p,h,E,D,P,K){return(0,Se.D)(E).pipe(Ut(re=>this.expandSegmentAgainstRoute(p,h,E,re,D,P,K).pipe((0,Mt.K)(ht=>{if(ht instanceof Mr)return(0,pe.of)(null);throw ht}))),(0,xt.P)(re=>!!re),(0,Mt.K)((re,Pe)=>{if(re instanceof rt.K||"EmptyError"===re.name){if(Ln(h,D,P))return(0,pe.of)(new yt([],{}));throw new Mr(h)}throw re}))}expandSegmentAgainstRoute(p,h,E,D,P,K,re){return _n(D,h,P,K)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(p,h,D,P,K):re&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(p,h,E,D,P,K):Hr(h):Hr(h)}expandSegmentAgainstRouteUsingRedirect(p,h,E,D,P,K){return"**"===D.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(p,E,D,K):this.expandRegularSegmentAgainstRouteUsingRedirect(p,h,E,D,P,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(p,h,E,D){const P=this.applyRedirectCommands([],E.redirectTo,{});return E.redirectTo.startsWith("/")?Zn(P):this.lineralizeSegments(E,P).pipe((0,_t.zg)(K=>{const re=new yt(K,{});return this.expandSegment(p,re,h,K,D,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(p,h,E,D,P,K){const{matched:re,consumedSegments:Pe,lastChild:ht,positionalParamSegments:sn}=Fe(h,D,P);if(!re)return Hr(h);const It=this.applyRedirectCommands(Pe,D.redirectTo,sn);return D.redirectTo.startsWith("/")?Zn(It):this.lineralizeSegments(D,It).pipe((0,_t.zg)(En=>this.expandSegment(p,h,E,En.concat(P.slice(ht)),K,!1)))}matchSegmentAgainstRoute(p,h,E,D,P){if("**"===E.path)return E.loadChildren?(E._loadedConfig?(0,pe.of)(E._loadedConfig):this.configLoader.load(p.injector,E)).pipe((0,Ve.U)(En=>(E._loadedConfig=En,new yt(D,{})))):(0,pe.of)(new yt(D,{}));const{matched:K,consumedSegments:re,lastChild:Pe}=Fe(h,E,D);if(!K)return Hr(h);const ht=D.slice(Pe);return this.getChildConfig(p,E,D).pipe((0,_t.zg)(It=>{const En=It.module,Xt=It.routes,{segmentGroup:Ir,slicedSegments:pr}=vt(h,re,ht,Xt),nr=new yt(Ir.segments,Ir.children);if(0===pr.length&&nr.hasChildren())return this.expandChildren(En,Xt,nr).pipe((0,Ve.U)(Ba=>new yt(re,Ba)));if(0===Xt.length&&0===pr.length)return(0,pe.of)(new yt(re,{}));const Yi=N(E)===P;return this.expandSegment(En,nr,Xt,pr,Yi?Pt:P,!0).pipe((0,Ve.U)(Ai=>new yt(re.concat(Ai.segments),Ai.children)))}))}getChildConfig(p,h,E){return h.children?(0,pe.of)(new jr(h.children,p)):h.loadChildren?void 0!==h._loadedConfig?(0,pe.of)(h._loadedConfig):this.runCanLoadGuards(p.injector,h,E).pipe((0,_t.zg)(D=>{return D?this.configLoader.load(p.injector,h).pipe((0,Ve.U)(P=>(h._loadedConfig=P,P))):(m=h,new Re.y(p=>p.error(Hn(`Cannot load children because the guard of the route "path: '${m.path}'" returned false`))));var m})):(0,pe.of)(new jr([],p))}runCanLoadGuards(p,h,E){const D=h.canLoad;if(!D||0===D.length)return(0,pe.of)(!0);const P=D.map(K=>{const re=p.get(K);let Pe;if((m=re)&&Ar(m.canLoad))Pe=re.canLoad(h,E);else{if(!Ar(re))throw new Error("Invalid CanLoad guard");Pe=re(h,E)}var m;return St(Pe)});return(0,pe.of)(P).pipe(Qr(),(0,Qt.b)(K=>{if(!zr(K))return;const re=Hn(`Redirecting to "${this.urlSerializer.serialize(K)}"`);throw re.url=K,re}),(0,Ve.U)(K=>!0===K))}lineralizeSegments(p,h){let E=[],D=h.root;for(;;){if(E=E.concat(D.segments),0===D.numberOfChildren)return(0,pe.of)(E);if(D.numberOfChildren>1||!D.children[Pt])return wt(p.redirectTo);D=D.children[Pt]}}applyRedirectCommands(p,h,E){return this.applyRedirectCreatreUrlTree(h,this.urlSerializer.parse(h),p,E)}applyRedirectCreatreUrlTree(p,h,E,D){const P=this.createSegmentGroup(p,h.root,E,D);return new yr(P,this.createQueryParams(h.queryParams,this.urlTree.queryParams),h.fragment)}createQueryParams(p,h){const E={};return at(p,(D,P)=>{if("string"==typeof D&&D.startsWith(":")){const re=D.substring(1);E[P]=h[re]}else E[P]=D}),E}createSegmentGroup(p,h,E,D){const P=this.createSegments(p,h.segments,E,D);let K={};return at(h.children,(re,Pe)=>{K[Pe]=this.createSegmentGroup(p,re,E,D)}),new yt(P,K)}createSegments(p,h,E,D){return h.map(P=>P.path.startsWith(":")?this.findPosParam(p,P,D):this.findOrReturn(P,E))}findPosParam(p,h,E){const D=E[h.path.substring(1)];if(!D)throw new Error(`Cannot redirect to '${p}'. Cannot find '${h.path}'.`);return D}findOrReturn(p,h){let E=0;for(const D of h){if(D.path===p.path)return h.splice(E),D;E++}return p}}function bs(m){const p={};for(const E of Object.keys(m.children)){const P=bs(m.children[E]);(P.segments.length>0||P.hasChildren())&&(p[E]=P)}return function(m){if(1===m.numberOfChildren&&m.children[Pt]){const p=m.children[Pt];return new yt(m.segments.concat(p.segments),p.children)}return m}(new yt(m.segments,p))}class Aa{constructor(p){this.path=p,this.route=this.path[this.path.length-1]}}class He{constructor(p,h){this.component=p,this.route=h}}function on(m,p,h){const E=m._root;return ii(E,p?p._root:null,h,[E.value])}function Pn(m,p,h){const E=function(m){if(!m)return null;for(let p=m.parent;p;p=p.parent){const h=p.routeConfig;if(h&&h._loadedConfig)return h._loadedConfig}return null}(p);return(E?E.module.injector:h).get(m)}function ii(m,p,h,E,D={canDeactivateChecks:[],canActivateChecks:[]}){const P=ue(p);return m.children.forEach(K=>{(function(m,p,h,E,D={canDeactivateChecks:[],canActivateChecks:[]}){const P=m.value,K=p?p.value:null,re=h?h.getContext(m.value.outlet):null;if(K&&P.routeConfig===K.routeConfig){const Pe=function(m,p,h){if("function"==typeof h)return h(m,p);switch(h){case"pathParamsChange":return!In(m.url,p.url);case"pathParamsOrQueryParamsChange":return!In(m.url,p.url)||!Y(m.queryParams,p.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lo(m,p)||!Y(m.queryParams,p.queryParams);case"paramsChange":default:return!Lo(m,p)}}(K,P,P.routeConfig.runGuardsAndResolvers);Pe?D.canActivateChecks.push(new Aa(E)):(P.data=K.data,P._resolvedData=K._resolvedData),ii(m,p,P.component?re?re.children:null:h,E,D),Pe&&re&&re.outlet&&re.outlet.isActivated&&D.canDeactivateChecks.push(new He(re.outlet.component,K))}else K&&bi(p,re,D),D.canActivateChecks.push(new Aa(E)),ii(m,null,P.component?re?re.children:null:h,E,D)})(K,P[K.value.outlet],h,E.concat([K.value]),D),delete P[K.value.outlet]}),at(P,(K,re)=>bi(K,h.getContext(re),D)),D}function bi(m,p,h){const E=ue(m),D=m.value;at(E,(P,K)=>{bi(P,D.component?p?p.children.getContext(K):null:p,h)}),h.canDeactivateChecks.push(new He(D.component&&p&&p.outlet&&p.outlet.isActivated?p.outlet.component:null,D))}class Xr{}function xa(m){return new Re.y(p=>p.error(m))}class Hl{constructor(p,h,E,D,P,K){this.rootComponentType=p,this.config=h,this.urlTree=E,this.url=D,this.paramsInheritanceStrategy=P,this.relativeLinkResolution=K}recognize(){const p=vt(this.urlTree.root,[],[],this.config.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution).segmentGroup,h=this.processSegmentGroup(this.config,p,Pt);if(null===h)return null;const E=new Yr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),D=new U(E,h),P=new Wn(this.url,D);return this.inheritParamsAndData(P._root),P}inheritParamsAndData(p){const h=p.value,E=kt(h,this.paramsInheritanceStrategy);h.params=Object.freeze(E.params),h.data=Object.freeze(E.data),p.children.forEach(D=>this.inheritParamsAndData(D))}processSegmentGroup(p,h,E){return 0===h.segments.length&&h.hasChildren()?this.processChildren(p,h):this.processSegment(p,h,h.segments,E)}processChildren(p,h){const E=[];for(const P of Object.keys(h.children)){const K=h.children[P],re=Z(p,P),Pe=this.processSegmentGroup(re,K,P);if(null===Pe)return null;E.push(...Pe)}const D=Ho(E);return D.sort((p,h)=>p.value.outlet===Pt?-1:h.value.outlet===Pt?1:p.value.outlet.localeCompare(h.value.outlet)),D}processSegment(p,h,E,D){for(const P of p){const K=this.processSegmentAgainstRoute(P,h,E,D);if(null!==K)return K}return Ln(h,E,D)?[]:null}processSegmentAgainstRoute(p,h,E,D){if(p.redirectTo||!_n(p,h,E,D))return null;let P,K=[],re=[];if("**"===p.path){const Xt=E.length>0?de(E).parameters:{};P=new Yr(E,Xt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ci(p),N(p),p.component,p,Oa(h),Ts(h)+E.length,Wo(p))}else{const Xt=Fe(h,p,E);if(!Xt.matched)return null;K=Xt.consumedSegments,re=E.slice(Xt.lastChild),P=new Yr(K,Xt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ci(p),N(p),p.component,p,Oa(h),Ts(h)+K.length,Wo(p))}const Pe=(m=p).children?m.children:m.loadChildren?m._loadedConfig.routes:[],{segmentGroup:ht,slicedSegments:sn}=vt(h,K,re,Pe.filter(Xt=>void 0===Xt.redirectTo),this.relativeLinkResolution);var m;if(0===sn.length&&ht.hasChildren()){const Xt=this.processChildren(Pe,ht);return null===Xt?null:[new U(P,Xt)]}if(0===Pe.length&&0===sn.length)return[new U(P,[])];const It=N(p)===D,En=this.processSegment(Pe,ht,sn,It?Pt:D);return null===En?null:[new U(P,En)]}}function jo(m){const p=m.value.routeConfig;return p&&""===p.path&&void 0===p.redirectTo}function Ho(m){const p=[],h=new Set;for(const E of m){if(!jo(E)){p.push(E);continue}const D=p.find(P=>E.value.routeConfig===P.value.routeConfig);void 0!==D?(D.children.push(...E.children),h.add(D)):p.push(E)}for(const E of h){const D=Ho(E.children);p.push(new U(E.value,D))}return p.filter(E=>!h.has(E))}function Oa(m){let p=m;for(;p._sourceSegment;)p=p._sourceSegment;return p}function Ts(m){let p=m,h=p._segmentIndexShift?p._segmentIndexShift:0;for(;p._sourceSegment;)p=p._sourceSegment,h+=p._segmentIndexShift?p._segmentIndexShift:0;return h-1}function Ci(m){return m.data||{}}function Wo(m){return m.resolve||{}}function Zs(m){return(0,pt.w)(p=>{const h=m(p);return h?(0,Se.D)(h).pipe((0,Ve.U)(()=>p)):(0,pe.of)(p)})}class An extends class{shouldDetach(p){return!1}store(p,h){}shouldAttach(p){return!1}retrieve(p){return null}shouldReuseRoute(p,h){return p.routeConfig===h.routeConfig}}{}const fo=new R.OlP("ROUTES");class wi{constructor(p,h,E,D){this.loader=p,this.compiler=h,this.onLoadStartListener=E,this.onLoadEndListener=D}load(p,h){if(h._loader$)return h._loader$;this.onLoadStartListener&&this.onLoadStartListener(h);const D=this.loadModuleFactory(h.loadChildren).pipe((0,Ve.U)(P=>{this.onLoadEndListener&&this.onLoadEndListener(h);const K=P.create(p);return new jr(Ce(K.injector.get(fo,void 0,R.XFs.Self|R.XFs.Optional)).map(_),K)}),(0,Mt.K)(P=>{throw h._loader$=void 0,P}));return h._loader$=new dt.c(D,()=>new S.xQ).pipe((0,On.x)()),h._loader$}loadModuleFactory(p){return"string"==typeof p?(0,Se.D)(this.loader.load(p)):St(p()).pipe((0,_t.zg)(h=>h instanceof R.YKP?(0,pe.of)(h):(0,Se.D)(this.compiler.compileModuleAsync(h))))}}class Js{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ho,this.attachRef=null}}class ho{constructor(){this.contexts=new Map}onChildOutletCreated(p,h){const E=this.getOrCreateContext(p);E.outlet=h,this.contexts.set(p,E)}onChildOutletDestroyed(p){const h=this.getContext(p);h&&(h.outlet=null,h.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let h=this.getContext(p);return h||(h=new Js,this.contexts.set(p,h)),h}getContext(p){return this.contexts.get(p)||null}}class ai{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,h){return p}}function Ii(m){throw m}function po(m,p,h){return p.parse("/")}function go(m,p){return(0,pe.of)(null)}const $o={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ti={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jn=(()=>{class m{constructor(h,E,D,P,K,re,Pe,ht){this.rootComponentType=h,this.urlSerializer=E,this.rootContexts=D,this.location=P,this.config=ht,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new S.xQ,this.errorHandler=Ii,this.malformedUriErrorHandler=po,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:go,afterPreactivation:go},this.urlHandlingStrategy=new ai,this.routeReuseStrategy=new An,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=K.get(R.h0i),this.console=K.get(R.c2e);const En=K.get(R.R0b);this.isNgZoneEnabled=En instanceof R.R0b&&R.R0b.isInAngularZone(),this.resetConfig(ht),this.currentUrlTree=new yr(new yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wi(re,Pe,Xt=>this.triggerEvent(new jn(Xt)),Xt=>this.triggerEvent(new Nn(Xt))),this.routerState=qe(this.currentUrlTree,this.rootComponentType),this.transitions=new se({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var h;return null===(h=this.location.getState())||void 0===h?void 0:h.\u0275routerPageId}setupNavigations(h){const E=this.events;return h.pipe((0,At.h)(D=>0!==D.id),(0,Ve.U)(D=>Object.assign(Object.assign({},D),{extractedUrl:this.urlHandlingStrategy.extract(D.rawUrl)})),(0,pt.w)(D=>{let P=!1,K=!1;return(0,pe.of)(D).pipe((0,Qt.b)(re=>{this.currentNavigation={id:re.id,initialUrl:re.currentRawUrl,extractedUrl:re.extractedUrl,trigger:re.source,extras:re.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,pt.w)(re=>{const Pe=this.browserUrlTree.toString(),ht=!this.navigated||re.extractedUrl.toString()!==Pe||Pe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ht)&&this.urlHandlingStrategy.shouldProcessUrl(re.rawUrl))return Zr(re.source)&&(this.browserUrlTree=re.extractedUrl),(0,pe.of)(re).pipe((0,pt.w)(It=>{const En=this.transitions.getValue();return E.next(new me(It.id,this.serializeUrl(It.extractedUrl),It.source,It.restoredState)),En!==this.transitions.getValue()?Ze.E:Promise.resolve(It)}),function(m,p,h,E){return(0,pt.w)(D=>function(m,p,h,E,D){return new Xs(m,p,h,E,D).apply()}(m,p,h,D.extractedUrl,E).pipe((0,Ve.U)(P=>Object.assign(Object.assign({},D),{urlAfterRedirects:P}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qt.b)(It=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:It.urlAfterRedirects})}),function(m,p,h,E,D){return(0,_t.zg)(P=>function(m,p,h,E,D="emptyOnly",P="legacy"){try{const K=new Hl(m,p,h,E,D,P).recognize();return null===K?xa(new Xr):(0,pe.of)(K)}catch(K){return xa(K)}}(m,p,P.urlAfterRedirects,h(P.urlAfterRedirects),E,D).pipe((0,Ve.U)(K=>Object.assign(Object.assign({},P),{targetSnapshot:K}))))}(this.rootComponentType,this.config,It=>this.serializeUrl(It),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qt.b)(It=>{"eager"===this.urlUpdateStrategy&&(It.extras.skipLocationChange||this.setBrowserUrl(It.urlAfterRedirects,It),this.browserUrlTree=It.urlAfterRedirects);const En=new Ee(It.id,this.serializeUrl(It.extractedUrl),this.serializeUrl(It.urlAfterRedirects),It.targetSnapshot);E.next(En)}));if(ht&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:En,extractedUrl:Xt,source:Ir,restoredState:pr,extras:nr}=re,Yi=new me(En,this.serializeUrl(Xt),Ir,pr);E.next(Yi);const rr=qe(Xt,this.rootComponentType).snapshot;return(0,pe.of)(Object.assign(Object.assign({},re),{targetSnapshot:rr,urlAfterRedirects:Xt,extras:Object.assign(Object.assign({},nr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=re.rawUrl,this.browserUrlTree=re.urlAfterRedirects,re.resolve(null),Ze.E}),Zs(re=>{const{targetSnapshot:Pe,id:ht,extractedUrl:sn,rawUrl:It,extras:{skipLocationChange:En,replaceUrl:Xt}}=re;return this.hooks.beforePreactivation(Pe,{navigationId:ht,appliedUrlTree:sn,rawUrlTree:It,skipLocationChange:!!En,replaceUrl:!!Xt})}),(0,Qt.b)(re=>{const Pe=new ct(re.id,this.serializeUrl(re.extractedUrl),this.serializeUrl(re.urlAfterRedirects),re.targetSnapshot);this.triggerEvent(Pe)}),(0,Ve.U)(re=>Object.assign(Object.assign({},re),{guards:on(re.targetSnapshot,re.currentSnapshot,this.rootContexts)})),function(m,p){return(0,_t.zg)(h=>{const{targetSnapshot:E,currentSnapshot:D,guards:{canActivateChecks:P,canDeactivateChecks:K}}=h;return 0===K.length&&0===P.length?(0,pe.of)(Object.assign(Object.assign({},h),{guardsResult:!0})):function(m,p,h,E){return(0,Se.D)(m).pipe((0,_t.zg)(D=>function(m,p,h,E,D){const P=p&&p.routeConfig?p.routeConfig.canDeactivate:null;if(!P||0===P.length)return(0,pe.of)(!0);const K=P.map(re=>{const Pe=Pn(re,p,D);let ht;if(function(m){return m&&Ar(m.canDeactivate)}(Pe))ht=St(Pe.canDeactivate(m,p,h,E));else{if(!Ar(Pe))throw new Error("Invalid CanDeactivate guard");ht=St(Pe(m,p,h,E))}return ht.pipe((0,xt.P)())});return(0,pe.of)(K).pipe(Qr())}(D.component,D.route,h,p,E)),(0,xt.P)(D=>!0!==D,!0))}(K,E,D,m).pipe((0,_t.zg)(re=>re&&function(m){return"boolean"==typeof m}(re)?function(m,p,h,E){return(0,Se.D)(p).pipe(Ut(D=>(0,Et.z)(function(m,p){return null!==m&&p&&p(new mn(m)),(0,pe.of)(!0)}(D.route.parent,E),function(m,p){return null!==m&&p&&p(new fn(m)),(0,pe.of)(!0)}(D.route,E),function(m,p,h){const E=p[p.length-1],P=p.slice(0,p.length-1).reverse().map(K=>function(m){const p=m.routeConfig?m.routeConfig.canActivateChild:null;return p&&0!==p.length?{node:m,guards:p}:null}(K)).filter(K=>null!==K).map(K=>Oe(()=>{const re=K.guards.map(Pe=>{const ht=Pn(Pe,K.node,h);let sn;if(function(m){return m&&Ar(m.canActivateChild)}(ht))sn=St(ht.canActivateChild(E,m));else{if(!Ar(ht))throw new Error("Invalid CanActivateChild guard");sn=St(ht(E,m))}return sn.pipe((0,xt.P)())});return(0,pe.of)(re).pipe(Qr())}));return(0,pe.of)(P).pipe(Qr())}(m,D.path,h),function(m,p,h){const E=p.routeConfig?p.routeConfig.canActivate:null;if(!E||0===E.length)return(0,pe.of)(!0);const D=E.map(P=>Oe(()=>{const K=Pn(P,p,h);let re;if(function(m){return m&&Ar(m.canActivate)}(K))re=St(K.canActivate(p,m));else{if(!Ar(K))throw new Error("Invalid CanActivate guard");re=St(K(p,m))}return re.pipe((0,xt.P)())}));return(0,pe.of)(D).pipe(Qr())}(m,D.route,h))),(0,xt.P)(D=>!0!==D,!0))}(E,P,m,p):(0,pe.of)(re)),(0,Ve.U)(re=>Object.assign(Object.assign({},h),{guardsResult:re})))})}(this.ngModule.injector,re=>this.triggerEvent(re)),(0,Qt.b)(re=>{if(zr(re.guardsResult)){const ht=Hn(`Redirecting to "${this.serializeUrl(re.guardsResult)}"`);throw ht.url=re.guardsResult,ht}const Pe=new Bt(re.id,this.serializeUrl(re.extractedUrl),this.serializeUrl(re.urlAfterRedirects),re.targetSnapshot,!!re.guardsResult);this.triggerEvent(Pe)}),(0,At.h)(re=>!!re.guardsResult||(this.restoreHistory(re),this.cancelNavigationTransition(re,""),!1)),Zs(re=>{if(re.guards.canActivateChecks.length)return(0,pe.of)(re).pipe((0,Qt.b)(Pe=>{const ht=new Dt(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot);this.triggerEvent(ht)}),(0,pt.w)(Pe=>{let ht=!1;return(0,pe.of)(Pe).pipe(function(m,p){return(0,_t.zg)(h=>{const{targetSnapshot:E,guards:{canActivateChecks:D}}=h;if(!D.length)return(0,pe.of)(h);let P=0;return(0,Se.D)(D).pipe(Ut(K=>function(m,p,h,E){return function(m,p,h,E){const D=Object.keys(m);if(0===D.length)return(0,pe.of)({});const P={};return(0,Se.D)(D).pipe((0,_t.zg)(K=>function(m,p,h,E){const D=Pn(m,p,E);return St(D.resolve?D.resolve(p,h):D(p,h))}(m[K],p,h,E).pipe((0,Qt.b)(re=>{P[K]=re}))),ye(1),(0,_t.zg)(()=>Object.keys(P).length===D.length?(0,pe.of)(P):Ze.E))}(m._resolve,m,p,E).pipe((0,Ve.U)(P=>(m._resolvedData=P,m.data=Object.assign(Object.assign({},m.data),kt(m,h).resolve),null)))}(K.route,E,m,p)),(0,Qt.b)(()=>P++),ye(1),(0,_t.zg)(K=>P===D.length?(0,pe.of)(h):Ze.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qt.b)({next:()=>ht=!0,complete:()=>{ht||(this.restoreHistory(Pe),this.cancelNavigationTransition(Pe,"At least one route resolver didn't emit any value."))}}))}),(0,Qt.b)(Pe=>{const ht=new gn(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot);this.triggerEvent(ht)}))}),Zs(re=>{const{targetSnapshot:Pe,id:ht,extractedUrl:sn,rawUrl:It,extras:{skipLocationChange:En,replaceUrl:Xt}}=re;return this.hooks.afterPreactivation(Pe,{navigationId:ht,appliedUrlTree:sn,rawUrlTree:It,skipLocationChange:!!En,replaceUrl:!!Xt})}),(0,Ve.U)(re=>{const Pe=function(m,p,h){const E=ao(m,p._root,h?h._root:void 0);return new Ae(E,p)}(this.routeReuseStrategy,re.targetSnapshot,re.currentRouterState);return Object.assign(Object.assign({},re),{targetRouterState:Pe})}),(0,Qt.b)(re=>{this.currentUrlTree=re.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl),this.routerState=re.targetRouterState,"deferred"===this.urlUpdateStrategy&&(re.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,re),this.browserUrlTree=re.urlAfterRedirects)}),((m,p,h)=>(0,Ve.U)(E=>(new co(p,E.targetRouterState,E.currentRouterState,h).activate(m),E)))(this.rootContexts,this.routeReuseStrategy,re=>this.triggerEvent(re)),(0,Qt.b)({next(){P=!0},complete(){P=!0}}),function(m){return p=>p.lift(new tt(m))}(()=>{var re;if(!P&&!K){const Pe=`Navigation ID ${D.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(D),this.cancelNavigationTransition(D,Pe)):this.cancelNavigationTransition(D,Pe)}(null===(re=this.currentNavigation)||void 0===re?void 0:re.id)===D.id&&(this.currentNavigation=null)}),(0,Mt.K)(re=>{if(K=!0,function(m){return m&&m[tn]}(re)){const Pe=zr(re.url);Pe||(this.navigated=!0,this.restoreHistory(D,!0));const ht=new Ne(D.id,this.serializeUrl(D.extractedUrl),re.message);E.next(ht),Pe?setTimeout(()=>{const sn=this.urlHandlingStrategy.merge(re.url,this.rawUrlTree),It={skipLocationChange:D.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zr(D.source)};this.scheduleNavigation(sn,"imperative",null,It,{resolve:D.resolve,reject:D.reject,promise:D.promise})},0):D.resolve(!1)}else{this.restoreHistory(D,!0);const Pe=new et(D.id,this.serializeUrl(D.extractedUrl),re);E.next(Pe);try{D.resolve(this.errorHandler(re))}catch(ht){D.reject(ht)}}return Ze.E}))}))}resetRootComponentType(h){this.rootComponentType=h,this.routerState.root.component=this.rootComponentType}getTransition(){const h=this.transitions.value;return h.urlAfterRedirects=this.browserUrlTree,h}setTransition(h){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),h))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(h=>{const E=this.extractLocationChangeInfoFromEvent(h);this.shouldScheduleNavigation(this.lastLocationChangeInfo,E)&&setTimeout(()=>{const{source:D,state:P,urlTree:K}=E,re={replaceUrl:!0};if(P){const Pe=Object.assign({},P);delete Pe.navigationId,delete Pe.\u0275routerPageId,0!==Object.keys(Pe).length&&(re.state=Pe)}this.scheduleNavigation(K,D,P,re)},0),this.lastLocationChangeInfo=E}))}extractLocationChangeInfoFromEvent(h){var E;return{source:"popstate"===h.type?"popstate":"hashchange",urlTree:this.parseUrl(h.url),state:(null===(E=h.state)||void 0===E?void 0:E.navigationId)?h.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(h,E){if(!h)return!0;const D=E.urlTree.toString()===h.urlTree.toString();return E.transitionId!==h.transitionId||!D||!("hashchange"===E.source&&"popstate"===h.source||"popstate"===E.source&&"hashchange"===h.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(h){this.events.next(h)}resetConfig(h){_i(h),this.config=h.map(_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(h,E={}){const{relativeTo:D,queryParams:P,fragment:K,queryParamsHandling:re,preserveFragment:Pe}=E,ht=D||this.routerState.root,sn=Pe?this.currentUrlTree.fragment:K;let It=null;switch(re){case"merge":It=Object.assign(Object.assign({},this.currentUrlTree.queryParams),P);break;case"preserve":It=this.currentUrlTree.queryParams;break;default:It=P||null}return null!==It&&(It=this.removeEmptyProps(It)),function(m,p,h,E,D){if(0===h.length)return ps(p.root,p.root,p,E,D);const P=function(m){if("string"==typeof m[0]&&1===m.length&&"/"===m[0])return new ri(!0,0,m);let p=0,h=!1;const E=m.reduce((D,P,K)=>{if("object"==typeof P&&null!=P){if(P.outlets){const re={};return at(P.outlets,(Pe,ht)=>{re[ht]="string"==typeof Pe?Pe.split("/"):Pe}),[...D,{outlets:re}]}if(P.segmentPath)return[...D,P.segmentPath]}return"string"!=typeof P?[...D,P]:0===K?(P.split("/").forEach((re,Pe)=>{0==Pe&&"."===re||(0==Pe&&""===re?h=!0:".."===re?p++:""!=re&&D.push(re))}),D):[...D,P]},[]);return new ri(h,p,E)}(h);if(P.toRoot())return ps(p.root,new yt([],{}),p,E,D);const K=function(m,p,h){if(m.isAbsolute)return new Bi(p.root,!0,0);if(-1===h.snapshot._lastPathIndex){const P=h.snapshot._urlSegment;return new Bi(P,P===p.root,0)}const E=ko(m.commands[0])?0:1;return function(m,p,h){let E=m,D=p,P=h;for(;P>D;){if(P-=D,E=E.parent,!E)throw new Error("Invalid number of '../'");D=E.segments.length}return new Bi(E,!1,D-P)}(h.snapshot._urlSegment,h.snapshot._lastPathIndex+E,m.numberOfDoubleDots)}(P,p,m),re=K.processChildren?$n(K.segmentGroup,K.index,P.commands):yi(K.segmentGroup,K.index,P.commands);return ps(K.segmentGroup,re,p,E,D)}(ht,this.currentUrlTree,h,It,null!=sn?sn:null)}navigateByUrl(h,E={skipLocationChange:!1}){const D=zr(h)?h:this.parseUrl(h),P=this.urlHandlingStrategy.merge(D,this.rawUrlTree);return this.scheduleNavigation(P,"imperative",null,E)}navigate(h,E={skipLocationChange:!1}){return function(m){for(let p=0;p<m.length;p++){const h=m[p];if(null==h)throw new Error(`The requested path contains ${h} segment at index ${p}`)}}(h),this.navigateByUrl(this.createUrlTree(h,E),E)}serializeUrl(h){return this.urlSerializer.serialize(h)}parseUrl(h){let E;try{E=this.urlSerializer.parse(h)}catch(D){E=this.malformedUriErrorHandler(D,this.urlSerializer,h)}return E}isActive(h,E){let D;if(D=!0===E?Object.assign({},$o):!1===E?Object.assign({},Ti):E,zr(h))return xn(this.currentUrlTree,h,D);const P=this.parseUrl(h);return xn(this.currentUrlTree,P,D)}removeEmptyProps(h){return Object.keys(h).reduce((E,D)=>{const P=h[D];return null!=P&&(E[D]=P),E},{})}processNavigations(){this.navigations.subscribe(h=>{this.navigated=!0,this.lastSuccessfulId=h.id,this.currentPageId=h.targetPageId,this.events.next(new De(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,h.resolve(!0)},h=>{this.console.warn(`Unhandled Navigation Error: ${h}`)})}scheduleNavigation(h,E,D,P,K){var re,Pe;if(this.disposed)return Promise.resolve(!1);const ht=this.getTransition(),sn=Zr(E)&&ht&&!Zr(ht.source),Xt=(this.lastSuccessfulId===ht.id||this.currentNavigation?ht.rawUrl:ht.urlAfterRedirects).toString()===h.toString();if(sn&&Xt)return Promise.resolve(!0);let Ir,pr,nr;K?(Ir=K.resolve,pr=K.reject,nr=K.promise):nr=new Promise((Ai,Ba)=>{Ir=Ai,pr=Ba});const Yi=++this.navigationId;let rr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(D=this.location.getState()),rr=D&&D.\u0275routerPageId?D.\u0275routerPageId:P.replaceUrl||P.skipLocationChange?null!==(re=this.browserPageId)&&void 0!==re?re:0:(null!==(Pe=this.browserPageId)&&void 0!==Pe?Pe:0)+1):rr=0,this.setTransition({id:Yi,targetPageId:rr,source:E,restoredState:D,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:h,extras:P,resolve:Ir,reject:pr,promise:nr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nr.catch(Ai=>Promise.reject(Ai))}setBrowserUrl(h,E){const D=this.urlSerializer.serialize(h),P=Object.assign(Object.assign({},E.extras.state),this.generateNgRouterState(E.id,E.targetPageId));this.location.isCurrentPathEqualTo(D)||E.extras.replaceUrl?this.location.replaceState(D,"",P):this.location.go(D,"",P)}restoreHistory(h,E=!1){var D,P;if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-h.targetPageId;"popstate"!==h.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(D=this.currentNavigation)||void 0===D?void 0:D.finalUrl)||0===K?this.currentUrlTree===(null===(P=this.currentNavigation)||void 0===P?void 0:P.finalUrl)&&0===K&&(this.resetState(h),this.browserUrlTree=h.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(K)}else"replace"===this.canceledNavigationResolution&&(E&&this.resetState(h),this.resetUrlToCurrentUrlTree())}resetState(h){this.routerState=h.currentRouterState,this.currentUrlTree=h.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,h.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(h,E){const D=new Ne(h.id,this.serializeUrl(h.extractedUrl),E);this.triggerEvent(D),h.resolve(!1)}generateNgRouterState(h,E){return"computed"===this.canceledNavigationResolution?{navigationId:h,\u0275routerPageId:E}:{navigationId:h}}}return m.\u0275fac=function(h){return new(h||m)(R.LFG(R.DyG),R.LFG(Rn),R.LFG(ho),R.LFG(T.Ye),R.LFG(R.zs3),R.LFG(R.v3s),R.LFG(R.Sil),R.LFG(void 0))},m.\u0275prov=R.Yz7({token:m,factory:m.\u0275fac}),m})();function Zr(m){return"imperative"!==m}let Go=(()=>{class m{constructor(h,E,D){this.router=h,this.route=E,this.locationStrategy=D,this.commands=[],this.onChanges=new S.xQ,this.subscription=h.events.subscribe(P=>{P instanceof De&&this.updateTargetUrlAndHref()})}set routerLink(h){this.commands=null!=h?Array.isArray(h)?h:[h]:[]}ngOnChanges(h){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(h,E,D,P,K){if(0!==h||E||D||P||K||"string"==typeof this.target&&"_self"!=this.target)return!0;const re={skipLocationChange:wr(this.skipLocationChange),replaceUrl:wr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,re),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wr(this.preserveFragment)})}}return m.\u0275fac=function(h){return new(h||m)(R.Y36(Jn),R.Y36(lt),R.Y36(T.S$))},m.\u0275dir=R.lG2({type:m,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(h,E){1&h&&R.NdJ("click",function(P){return E.onClick(P.button,P.ctrlKey,P.shiftKey,P.altKey,P.metaKey)}),2&h&&(R.Ikx("href",E.href,R.LSH),R.uIk("target",E.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[R.TTD]}),m})();function wr(m){return""===m||!!m}let ea=(()=>{class m{constructor(h,E,D,P,K){this.parentContexts=h,this.location=E,this.resolver=D,this.changeDetector=K,this.activated=null,this._activatedRoute=null,this.activateEvents=new R.vpe,this.deactivateEvents=new R.vpe,this.name=P||Pt,h.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const h=this.parentContexts.getContext(this.name);h&&h.route&&(h.attachRef?this.attach(h.attachRef,h.route):this.activateWith(h.route,h.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const h=this.activated;return this.activated=null,this._activatedRoute=null,h}attach(h,E){this.activated=h,this._activatedRoute=E,this.location.insert(h.hostView)}deactivate(){if(this.activated){const h=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(h)}}activateWith(h,E){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=h;const K=(E=E||this.resolver).resolveComponentFactory(h._futureSnapshot.routeConfig.component),re=this.parentContexts.getOrCreateContext(this.name).children,Pe=new ic(h,re,this.location.injector);this.activated=this.location.createComponent(K,this.location.length,Pe),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return m.\u0275fac=function(h){return new(h||m)(R.Y36(ho),R.Y36(R.s_b),R.Y36(R._Vd),R.$8M("name"),R.Y36(R.sBO))},m.\u0275dir=R.lG2({type:m,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),m})();class ic{constructor(p,h,E){this.route=p,this.childContexts=h,this.parent=E}get(p,h){return p===lt?this.route:p===ho?this.childContexts:this.parent.get(p,h)}}class Yl{}class ta{preload(p,h){return(0,pe.of)(null)}}let Yo=(()=>{class m{constructor(h,E,D,P,K){this.router=h,this.injector=P,this.preloadingStrategy=K,this.loader=new wi(E,D,ht=>h.triggerEvent(new jn(ht)),ht=>h.triggerEvent(new Nn(ht)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,At.h)(h=>h instanceof De),Ut(()=>this.preload())).subscribe(()=>{})}preload(){const h=this.injector.get(R.h0i);return this.processRoutes(h,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(h,E){const D=[];for(const P of E)if(P.loadChildren&&!P.canLoad&&P._loadedConfig){const K=P._loadedConfig;D.push(this.processRoutes(K.module,K.routes))}else P.loadChildren&&!P.canLoad?D.push(this.preloadConfig(h,P)):P.children&&D.push(this.processRoutes(h,P.children));return(0,Se.D)(D).pipe((0,Cn.J)(),(0,Ve.U)(P=>{}))}preloadConfig(h,E){return this.preloadingStrategy.preload(E,()=>(E._loadedConfig?(0,pe.of)(E._loadedConfig):this.loader.load(h.injector,E)).pipe((0,_t.zg)(P=>(E._loadedConfig=P,this.processRoutes(P.module,P.routes)))))}}return m.\u0275fac=function(h){return new(h||m)(R.LFG(Jn),R.LFG(R.v3s),R.LFG(R.Sil),R.LFG(R.zs3),R.LFG(Yl))},m.\u0275prov=R.Yz7({token:m,factory:m.\u0275fac}),m})(),Wi=(()=>{class m{constructor(h,E,D={}){this.router=h,this.viewportScroller=E,this.options=D,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},D.scrollPositionRestoration=D.scrollPositionRestoration||"disabled",D.anchorScrolling=D.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(h=>{h instanceof me?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=h.navigationTrigger,this.restoredId=h.restoredState?h.restoredState.navigationId:0):h instanceof De&&(this.lastId=h.id,this.scheduleScrollEvent(h,this.router.parseUrl(h.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(h=>{h instanceof Rt&&(h.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(h.position):h.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(h.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(h,E){this.router.triggerEvent(new Rt(h,"popstate"===this.lastSource?this.store[this.restoredId]:null,E))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return m.\u0275fac=function(h){return new(h||m)(R.LFG(Jn),R.LFG(T.EM),R.LFG(void 0))},m.\u0275prov=R.Yz7({token:m,factory:m.\u0275fac}),m})();const Ri=new R.OlP("ROUTER_CONFIGURATION"),$i=new R.OlP("ROUTER_FORROOT_GUARD"),mo=[T.Ye,{provide:Rn,useClass:st},{provide:Jn,useFactory:function(m,p,h,E,D,P,K,re={},Pe,ht){const sn=new Jn(null,m,p,h,E,D,P,Ce(K));return Pe&&(sn.urlHandlingStrategy=Pe),ht&&(sn.routeReuseStrategy=ht),function(m,p){m.errorHandler&&(p.errorHandler=m.errorHandler),m.malformedUriErrorHandler&&(p.malformedUriErrorHandler=m.malformedUriErrorHandler),m.onSameUrlNavigation&&(p.onSameUrlNavigation=m.onSameUrlNavigation),m.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=m.paramsInheritanceStrategy),m.relativeLinkResolution&&(p.relativeLinkResolution=m.relativeLinkResolution),m.urlUpdateStrategy&&(p.urlUpdateStrategy=m.urlUpdateStrategy)}(re,sn),re.enableTracing&&sn.events.subscribe(It=>{var En,Xt;null===(En=console.group)||void 0===En||En.call(console,`Router Event: ${It.constructor.name}`),console.log(It.toString()),console.log(It),null===(Xt=console.groupEnd)||void 0===Xt||Xt.call(console)}),sn},deps:[Rn,ho,T.Ye,R.zs3,R.v3s,R.Sil,fo,Ri,[class{},new R.FiY],[class{},new R.FiY]]},ho,{provide:lt,useFactory:function(m){return m.routerState.root},deps:[Jn]},{provide:R.v3s,useClass:R.EAV},Yo,ta,class{preload(p,h){return h().pipe((0,Mt.K)(()=>(0,pe.of)(null)))}},{provide:Ri,useValue:{enableTracing:!1}}];function na(){return new R.PXZ("Router",Jn)}let Gi=(()=>{class m{constructor(h,E){}static forRoot(h,E){return{ngModule:m,providers:[mo,ka(h),{provide:$i,useFactory:zo,deps:[[Jn,new R.FiY,new R.tp0]]},{provide:Ri,useValue:E||{}},{provide:T.S$,useFactory:ra,deps:[T.lw,[new R.tBr(T.mr),new R.FiY],Ri]},{provide:Wi,useFactory:La,deps:[Jn,T.EM,Ri]},{provide:Yl,useExisting:E&&E.preloadingStrategy?E.preloadingStrategy:ta},{provide:R.PXZ,multi:!0,useFactory:na},[Ko,{provide:R.ip1,multi:!0,useFactory:As,deps:[Ko]},{provide:Ms,useFactory:Qo,deps:[Ko]},{provide:R.tb,multi:!0,useExisting:Ms}]]}}static forChild(h){return{ngModule:m,providers:[ka(h)]}}}return m.\u0275fac=function(h){return new(h||m)(R.LFG($i,8),R.LFG(Jn,8))},m.\u0275mod=R.oAB({type:m}),m.\u0275inj=R.cJS({}),m})();function La(m,p,h){return h.scrollOffset&&p.setOffset(h.scrollOffset),new Wi(m,p,h)}function ra(m,p,h={}){return h.useHash?new T.Do(m,p):new T.b0(m,p)}function zo(m){return"guarded"}function ka(m){return[{provide:R.deG,multi:!0,useValue:m},{provide:fo,multi:!0,useValue:m}]}let Ko=(()=>{class m{constructor(h){this.injector=h,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new S.xQ}appInitializer(){return this.injector.get(T.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let E=null;const D=new Promise(re=>E=re),P=this.injector.get(Jn),K=this.injector.get(Ri);return"disabled"===K.initialNavigation?(P.setUpLocationChangeListener(),E(!0)):"enabled"===K.initialNavigation||"enabledBlocking"===K.initialNavigation?(P.hooks.afterPreactivation=()=>this.initNavigation?(0,pe.of)(null):(this.initNavigation=!0,E(!0),this.resultOfPreactivationDone),P.initialNavigation()):E(!0),D})}bootstrapListener(h){const E=this.injector.get(Ri),D=this.injector.get(Yo),P=this.injector.get(Wi),K=this.injector.get(Jn),re=this.injector.get(R.z2F);h===re.components[0]&&(("enabledNonBlocking"===E.initialNavigation||void 0===E.initialNavigation)&&K.initialNavigation(),D.setUpPreloading(),P.init(),K.resetRootComponentType(re.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return m.\u0275fac=function(h){return new(h||m)(R.LFG(R.zs3))},m.\u0275prov=R.Yz7({token:m,factory:m.\u0275fac}),m})();function As(m){return m.appInitializer.bind(m)}function Qo(m){return m.bootstrapListener.bind(m)}const Ms=new R.OlP("Router Initializer")},9759:(ot,Ie,M)=>{"use strict";M.d(Ie,{Z:()=>tt});var se,dt,T=M(4762),R=M(4685),S=M(6034),X=M(300),j=((se={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",se["bad-app-name"]="Illegal App name: '{$appName}",se["duplicate-app"]="Firebase App named '{$appName}' already exists",se["app-deleted"]="Firebase App named '{$appName}' already deleted",se["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",se["invalid-log-argument"]="First argument to `onLog` must be null or a function.",se),le=new R.LL("app","Firebase",j),$="@firebase/app",_t="[DEFAULT]",Ut=((dt={})[$]="fire-core",dt["@firebase/analytics"]="fire-analytics",dt["@firebase/app-check"]="fire-app-check",dt["@firebase/auth"]="fire-auth",dt["@firebase/database"]="fire-rtdb",dt["@firebase/functions"]="fire-fn",dt["@firebase/installations"]="fire-iid",dt["@firebase/messaging"]="fire-fcm",dt["@firebase/performance"]="fire-perf",dt["@firebase/remote-config"]="fire-rc",dt["@firebase/storage"]="fire-gcs",dt["@firebase/firestore"]="fire-fst",dt["fire-js"]="fire-js",dt["firebase-wrapper"]="fire-js-all",dt),At=new X.Yd("@firebase/app"),Ht=function(){function ke(Ve,pt,Ft){var Lt=this;this.firebase_=Ft,this.isDeleted_=!1,this.name_=pt.name,this.automaticDataCollectionEnabled_=pt.automaticDataCollectionEnabled||!1,this.options_=(0,R.p$)(Ve),this.container=new S.H0(pt.name),this._addComponent(new S.wA("app",function(){return Lt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(an){return Lt._addComponent(an)})}return Object.defineProperty(ke.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ve){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ve},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),ke.prototype.delete=function(){var Ve=this;return new Promise(function(pt){Ve.checkDestroyed_(),pt()}).then(function(){return Ve.firebase_.INTERNAL.removeApp(Ve.name_),Promise.all(Ve.container.getProviders().map(function(pt){return pt.delete()}))}).then(function(){Ve.isDeleted_=!0})},ke.prototype._getService=function(Ve,pt){var Ft;void 0===pt&&(pt=_t),this.checkDestroyed_();var Lt=this.container.getProvider(Ve);return!Lt.isInitialized()&&"EXPLICIT"===(null===(Ft=Lt.getComponent())||void 0===Ft?void 0:Ft.instantiationMode)&&Lt.initialize(),Lt.getImmediate({identifier:pt})},ke.prototype._removeServiceInstance=function(Ve,pt){void 0===pt&&(pt=_t),this.container.getProvider(Ve).clearInstance(pt)},ke.prototype._addComponent=function(Ve){try{this.container.addComponent(Ve)}catch(pt){At.debug("Component "+Ve.name+" failed to register with FirebaseApp "+this.name,pt)}},ke.prototype._addOrOverwriteComponent=function(Ve){this.container.addOrOverwriteComponent(Ve)},ke.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},ke.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw le.create("app-deleted",{appName:this.name_})},ke}();Ht.prototype.name&&Ht.prototype.options||Ht.prototype.delete||console.log("dc");var ce=function Q(){var ke=function(ke){var Ve={},pt=new Map,Ft={__esModule:!0,initializeApp:function(me,De){void 0===De&&(De={}),("object"!=typeof De||null===De)&&(De={name:De});var et=De;void 0===et.name&&(et.name=_t);var Ee=et.name;if("string"!=typeof Ee||!Ee)throw le.create("bad-app-name",{appName:String(Ee)});if((0,R.r3)(Ve,Ee))throw le.create("duplicate-app",{appName:Ee});var ct=new ke(me,et,Ft);return Ve[Ee]=ct,ct},app:an,registerVersion:function(me,De,Ne){var et,Ee=null!==(et=Ut[me])&&void 0!==et?et:me;Ne&&(Ee+="-"+Ne);var ct=Ee.match(/\s|\//),Bt=De.match(/\s|\//);if(ct||Bt){var Dt=['Unable to register library "'+Ee+'" with version "'+De+'":'];return ct&&Dt.push('library name "'+Ee+'" contains illegal characters (whitespace or "/")'),ct&&Bt&&Dt.push("and"),Bt&&Dt.push('version name "'+De+'" contains illegal characters (whitespace or "/")'),void At.warn(Dt.join(" "))}Qt(new S.wA(Ee+"-version",function(){return{library:Ee,version:De}},"VERSION"))},setLogLevel:X.Ub,onLog:function(me,De){if(null!==me&&"function"!=typeof me)throw le.create("invalid-log-argument");(0,X.Am)(me,De)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Qt,removeApp:function(me){delete Ve[me]},components:pt,useAsService:function(me,De){return"serverAuth"===De?null:De}}};function an(me){if(!(0,R.r3)(Ve,me=me||_t))throw le.create("no-app",{appName:me});return Ve[me]}function Qt(me){var De=me.name;if(pt.has(De))return At.debug("There were multiple attempts to register component "+De+"."),"PUBLIC"===me.type?Ft[De]:null;if(pt.set(De,me),"PUBLIC"===me.type){var Ne=function(Bt){if(void 0===Bt&&(Bt=an()),"function"!=typeof Bt[De])throw le.create("invalid-app-argument",{appName:De});return Bt[De]()};void 0!==me.serviceProps&&(0,R.ZB)(Ne,me.serviceProps),Ft[De]=Ne,ke.prototype[De]=function(){for(var Bt=[],Dt=0;Dt<arguments.length;Dt++)Bt[Dt]=arguments[Dt];return this._getService.bind(this,De).apply(this,me.multipleInstances?Bt:[])}}for(var et=0,Ee=Object.keys(Ve);et<Ee.length;et++)Ve[Ee[et]]._addComponent(me);return"PUBLIC"===me.type?Ft[De]:null}return Ft.default=Ft,Object.defineProperty(Ft,"apps",{get:function(){return Object.keys(Ve).map(function(me){return Ve[me]})}}),an.App=ke,Ft}(Ht);return ke.INTERNAL=(0,T.pi)((0,T.pi)({},ke.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function(pt){(0,R.ZB)(ke,pt)},createSubscribe:R.ne,ErrorFactory:R.LL,deepExtend:R.ZB}),ke}(),xe=function(){function ke(Ve){this.container=Ve}return ke.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(pt){if(function(ke){var Ve=ke.getComponent();return"VERSION"===(null==Ve?void 0:Ve.type)}(pt)){var Ft=pt.getImmediate();return Ft.library+"/"+Ft.version}return null}).filter(function(pt){return pt}).join(" ")},ke}();if((0,R.jU)()&&void 0!==self.firebase){At.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&At.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var gt=ce.initializeApp;ce.initializeApp=function(){for(var ke=[],Ve=0;Ve<arguments.length;Ve++)ke[Ve]=arguments[Ve];return(0,R.UG)()&&At.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),gt.apply(void 0,ke)};var ke,Xe=ce;(ke=Xe).INTERNAL.registerComponent(new S.wA("platform-logger",function(pt){return new xe(pt)},"PRIVATE")),ke.registerVersion($,"0.6.30",undefined),ke.registerVersion("fire-js","");const tt=Xe},6034:(ot,Ie,M)=>{"use strict";M.d(Ie,{wA:()=>S,H0:()=>$,zt:()=>se});var T=M(4762),R=M(4685),S=function(){function G(H,ne,k){this.name=H,this.instanceFactory=ne,this.type=k,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return G.prototype.setInstantiationMode=function(H){return this.instantiationMode=H,this},G.prototype.setMultipleInstances=function(H){return this.multipleInstances=H,this},G.prototype.setServiceProps=function(H){return this.serviceProps=H,this},G.prototype.setInstanceCreatedCallback=function(H){return this.onInstanceCreated=H,this},G}(),X="[DEFAULT]",se=function(){function G(H,ne){this.name=H,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return G.prototype.get=function(H){var ne=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(ne)){var k=new R.BH;if(this.instancesDeferred.set(ne,k),this.isInitialized(ne)||this.shouldAutoInitialize())try{var te=this.getOrInitializeService({instanceIdentifier:ne});te&&k.resolve(te)}catch(be){}}return this.instancesDeferred.get(ne).promise},G.prototype.getImmediate=function(H){var ne,k=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),te=null!==(ne=null==H?void 0:H.optional)&&void 0!==ne&&ne;if(!this.isInitialized(k)&&!this.shouldAutoInitialize()){if(te)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:k})}catch(be){if(te)return null;throw be}},G.prototype.getComponent=function(){return this.component},G.prototype.setComponent=function(H){var ne,k;if(H.name!==this.name)throw Error("Mismatching Component "+H.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=H,this.shouldAutoInitialize()){if(function(G){return"EAGER"===G.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:X})}catch(rt){}try{for(var te=(0,T.XA)(this.instancesDeferred.entries()),be=te.next();!be.done;be=te.next()){var Re=(0,T.CR)(be.value,2),Ze=Re[1],Oe=this.normalizeInstanceIdentifier(Re[0]);try{var pe=this.getOrInitializeService({instanceIdentifier:Oe});Ze.resolve(pe)}catch(rt){}}}catch(rt){ne={error:rt}}finally{try{be&&!be.done&&(k=te.return)&&k.call(te)}finally{if(ne)throw ne.error}}}},G.prototype.clearInstance=function(H){void 0===H&&(H=X),this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)},G.prototype.delete=function(){return(0,T.mG)(this,void 0,void 0,function(){var H;return(0,T.Jh)(this,function(ne){switch(ne.label){case 0:return H=Array.from(this.instances.values()),[4,Promise.all((0,T.ev)((0,T.ev)([],(0,T.CR)(H.filter(function(k){return"INTERNAL"in k}).map(function(k){return k.INTERNAL.delete()}))),(0,T.CR)(H.filter(function(k){return"_delete"in k}).map(function(k){return k._delete()}))))];case 1:return ne.sent(),[2]}})})},G.prototype.isComponentSet=function(){return null!=this.component},G.prototype.isInitialized=function(H){return void 0===H&&(H=X),this.instances.has(H)},G.prototype.getOptions=function(H){return void 0===H&&(H=X),this.instancesOptions.get(H)||{}},G.prototype.initialize=function(H){var ne,k;void 0===H&&(H={});var te=H.options,be=void 0===te?{}:te,Re=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Re))throw Error(this.name+"("+Re+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Se=this.getOrInitializeService({instanceIdentifier:Re,options:be});try{for(var Ze=(0,T.XA)(this.instancesDeferred.entries()),Oe=Ze.next();!Oe.done;Oe=Ze.next()){var pe=(0,T.CR)(Oe.value,2),Et=pe[1];Re===this.normalizeInstanceIdentifier(pe[0])&&Et.resolve(Se)}}catch(_t){ne={error:_t}}finally{try{Oe&&!Oe.done&&(k=Ze.return)&&k.call(Ze)}finally{if(ne)throw ne.error}}return Se},G.prototype.onInit=function(H,ne){var k,te=this.normalizeInstanceIdentifier(ne),be=null!==(k=this.onInitCallbacks.get(te))&&void 0!==k?k:new Set;be.add(H),this.onInitCallbacks.set(te,be);var Re=this.instances.get(te);return Re&&H(Re,te),function(){be.delete(H)}},G.prototype.invokeOnInitCallbacks=function(H,ne){var k,te,be=this.onInitCallbacks.get(ne);if(be)try{for(var Re=(0,T.XA)(be),Se=Re.next();!Se.done;Se=Re.next()){var Ze=Se.value;try{Ze(H,ne)}catch(Oe){}}}catch(Oe){k={error:Oe}}finally{try{Se&&!Se.done&&(te=Re.return)&&te.call(Re)}finally{if(k)throw k.error}}},G.prototype.getOrInitializeService=function(H){var ne=H.instanceIdentifier,k=H.options,te=void 0===k?{}:k,be=this.instances.get(ne);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:j(ne),options:te}),this.instances.set(ne,be),this.instancesOptions.set(ne,te),this.invokeOnInitCallbacks(be,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,be)}catch(Re){}return be||null},G.prototype.normalizeInstanceIdentifier=function(H){return void 0===H&&(H=X),this.component?this.component.multipleInstances?H:X:H},G.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},G}();function j(G){return G===X?void 0:G}var $=function(){function G(H){this.name=H,this.providers=new Map}return G.prototype.addComponent=function(H){var ne=this.getProvider(H.name);if(ne.isComponentSet())throw new Error("Component "+H.name+" has already been registered with "+this.name);ne.setComponent(H)},G.prototype.addOrOverwriteComponent=function(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)},G.prototype.getProvider=function(H){if(this.providers.has(H))return this.providers.get(H);var ne=new se(H,this);return this.providers.set(H,ne),ne},G.prototype.getProviders=function(){return Array.from(this.providers.values())},G}()},9192:(ot,Ie,M)=>{"use strict";var T=M(9759),R=M(6034),S=M(4685),X=M(4762),se=M(300);ot=M.hmd(ot);var $="";function G(o){$=o}var o,H=function(){function o(i){this.domStorage_=i,this.prefix_="firebase:"}return o.prototype.set=function(i,a){null==a?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,S.Pz)(a))},o.prototype.get=function(i){var a=this.domStorage_.getItem(this.prefixedName_(i));return null==a?null:(0,S.cI)(a)},o.prototype.remove=function(i){this.domStorage_.removeItem(this.prefixedName_(i))},o.prototype.prefixedName_=function(i){return this.prefix_+i},o.prototype.toString=function(){return this.domStorage_.toString()},o}(),ne=function(){function o(){this.cache_={},this.isInMemoryStorage=!0}return o.prototype.set=function(i,a){null==a?delete this.cache_[i]:this.cache_[i]=a},o.prototype.get=function(i){return(0,S.r3)(this.cache_,i)?this.cache_[i]:null},o.prototype.remove=function(i){delete this.cache_[i]},o}(),k=function(o){try{if("undefined"!=typeof window&&void 0!==window[o]){var i=window[o];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new H(i)}}catch(a){}return new ne},te=k("localStorage"),be=k("sessionStorage"),Re=new se.Yd("@firebase/database"),Se=(o=1,function(){return o++}),Ze=function(o){var i=(0,S.dS)(o),a=new S.gQ;a.update(i);var u=a.digest();return S.US.encodeByteArray(u)},Oe=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];for(var a="",u=0;u<o.length;u++){var f=o[u];Array.isArray(f)||f&&"object"==typeof f&&"number"==typeof f.length?a+=Oe.apply(null,f):a+="object"==typeof f?(0,S.Pz)(f):f,a+=" "}return a},pe=null,rt=!0,Et=function(o,i){(0,S.hu)(!i||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(Re.logLevel=se.in.VERBOSE,pe=Re.log.bind(Re),i&&be.set("logging_enabled",!0)):"function"==typeof o?pe=o:(pe=null,be.remove("logging_enabled"))},dt=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(!0===rt&&(rt=!1,null===pe&&!0===be.get("logging_enabled")&&Et(!0)),pe){var a=Oe.apply(null,o);pe(a)}},_t=function(o){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];dt.apply(void 0,(0,X.ev)([o],(0,X.CR)(i)))}},Ut=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a="FIREBASE INTERNAL ERROR: "+Oe.apply(void 0,(0,X.ev)([],(0,X.CR)(o)));Re.error(a)},At=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a="FIREBASE FATAL ERROR: "+Oe.apply(void 0,(0,X.ev)([],(0,X.CR)(o)));throw Re.error(a),new Error(a)},Ht=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a="FIREBASE WARNING: "+Oe.apply(void 0,(0,X.ev)([],(0,X.CR)(o)));Re.warn(a)},ye=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},ce="[MIN_NAME]",xe="[MAX_NAME]",fe=function(o,i){if(o===i)return 0;if(o===ce||i===xe)return-1;if(i===ce||o===xe)return 1;var a=xt(o),u=xt(i);return null!==a?null!==u?a-u==0?o.length-i.length:a-u:-1:null!==u?1:o<i?-1:1},Ye=function(o,i){return o===i?0:o<i?-1:1},$e=function(o,i){if(i&&o in i)return i[o];throw new Error("Missing required key ("+o+") in object: "+(0,S.Pz)(i))},gt=function(o){if("object"!=typeof o||null===o)return(0,S.Pz)(o);var i=[];for(var a in o)i.push(a);i.sort();for(var u="{",f=0;f<i.length;f++)0!==f&&(u+=","),u+=(0,S.Pz)(i[f]),u+=":",u+=gt(o[i[f]]);return u+"}"},Xe=function(o,i){var a=o.length;if(a<=i)return[o];for(var u=[],f=0;f<a;f+=i)u.push(o.substring(f,f+i>a?a:f+i));return u};function tt(o,i){for(var a in o)o.hasOwnProperty(a)&&i(a,o[a])}var ke=function(o){(0,S.hu)(!ye(o),"Invalid JSON number");var f,v,C,O,L,u=1023;0===o?(v=0,C=0,f=1/o==-1/0?1:0):(f=o<0,(o=Math.abs(o))>=Math.pow(2,1-u)?(v=(O=Math.min(Math.floor(Math.log(o)/Math.LN2),u))+u,C=Math.round(o*Math.pow(2,52-O)-Math.pow(2,52))):(v=0,C=Math.round(o/Math.pow(2,-1074))));var W=[];for(L=52;L;L-=1)W.push(C%2?1:0),C=Math.floor(C/2);for(L=11;L;L-=1)W.push(v%2?1:0),v=Math.floor(v/2);W.push(f?1:0),W.reverse();var J=W.join(""),_e="";for(L=0;L<64;L+=8){var Le=parseInt(J.substr(L,8),2).toString(16);1===Le.length&&(Le="0"+Le),_e+=Le}return _e.toLowerCase()},Lt=new RegExp("^-?(0*)\\d{1,10}$"),an=-2147483648,Mt=2147483647,xt=function(o){if(Lt.test(o)){var i=Number(o);if(i>=an&&i<=Mt)return i}return null},Qt=function(o){try{o()}catch(i){setTimeout(function(){throw Ht("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},Cn=function(o,i){var a=setTimeout(o,i);return"object"==typeof a&&a.unref&&a.unref(),a},Tt=function(){function o(i,a){var u=this;this.appName_=i,this.appCheckProvider=a,this.appCheck=null==a?void 0:a.getImmediate({optional:!0}),this.appCheck||null==a||a.get().then(function(f){return u.appCheck=f})}return o.prototype.getToken=function(i){var a=this;return this.appCheck?this.appCheck.getToken(i):new Promise(function(u,f){setTimeout(function(){a.appCheck?a.getToken(i).then(u,f):u(null)},0)})},o.prototype.addTokenChangeListener=function(i){var a;null===(a=this.appCheckProvider)||void 0===a||a.get().then(function(u){return u.addTokenListener(i)})},o.prototype.notifyForInvalidToken=function(){Ht('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},o}(),me=function(){function o(i,a,u){var f=this;this.appName_=i,this.firebaseOptions_=a,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(function(v){return f.auth_=v})}return o.prototype.getToken=function(i){var a=this;return this.auth_?this.auth_.getToken(i).catch(function(u){return u&&"auth/token-not-initialized"===u.code?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(u)}):new Promise(function(u,f){setTimeout(function(){a.auth_?a.getToken(i).then(u,f):u(null)},0)})},o.prototype.addTokenChangeListener=function(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(function(a){return a.addAuthTokenListener(i)})},o.prototype.removeTokenChangeListener=function(i){this.authProvider_.get().then(function(a){return a.removeAuthTokenListener(i)})},o.prototype.notifyForInvalidToken=function(){var i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';Ht(i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},o}(),De=function(){function o(i){this.accessToken=i}return o.prototype.getToken=function(i){return Promise.resolve({accessToken:this.accessToken})},o.prototype.addTokenChangeListener=function(i){i(this.accessToken)},o.prototype.removeTokenChangeListener=function(i){},o.prototype.notifyForInvalidToken=function(){},o.OWNER="owner",o}(),Dt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mn="websocket",gi="long_polling",fn=function(){function o(i,a,u,f,v,C,O){void 0===v&&(v=!1),void 0===C&&(C=""),void 0===O&&(O=!1),this.secure=a,this.namespace=u,this.webSocketOnly=f,this.nodeAdmin=v,this.persistenceKey=C,this.includeNamespaceInQueryParams=O,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=te.get("host:"+i)||this._host}return o.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},o.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(o.prototype,"host",{get:function(){return this._host},set:function(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&te.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),o.prototype.toString=function(){var i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i},o.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},o}();function Rt(o,i,a){var u;if((0,S.hu)("string"==typeof i,"typeof type must == string"),(0,S.hu)("object"==typeof a,"typeof params must == object"),i===mn)u=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(i!==gi)throw new Error("Unknown connection type: "+i);u=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(a.ns=o.namespace);var f=[];return tt(a,function(v,C){f.push(v+"="+C)}),u+f.join("&")}var Pt=function(){function o(){this.counters_={}}return o.prototype.incrementCounter=function(i,a){void 0===a&&(a=1),(0,S.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=a},o.prototype.get=function(){return(0,S.p$)(this.counters_)},o}(),qn={},Dn={};function tn(o){var i=o.toString();return qn[i]||(qn[i]=new Pt),qn[i]}var mi=function(){function o(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return o.prototype.closeAfter=function(i,a){this.closeAfterResponse=i,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},o.prototype.handleResponse=function(i,a){var u=this;this.pendingResponses[i]=a;for(var f=function(){var O=v.pendingResponses[v.currentResponseNum];delete v.pendingResponses[v.currentResponseNum];for(var L=function(J){O[J]&&Qt(function(){u.onMessage_(O[J])})},W=0;W<O.length;++W)L(W);if(v.currentResponseNum===v.closeAfterResponse)return v.onClose&&(v.onClose(),v.onClose=null),"break";v.currentResponseNum++},v=this;this.pendingResponses[this.currentResponseNum]&&"break"!==f(););},o}(),q="close",Br=function(){function o(i,a,u,f,v,C,O){var L=this;this.connId=i,this.repoInfo=a,this.applicationId=u,this.appCheckToken=f,this.authToken=v,this.transportSessionId=C,this.lastSessionId=O,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_t(i),this.stats_=tn(a),this.urlFn=function(W){return L.appCheckToken&&(W.ac=L.appCheckToken),Rt(a,gi,W)}}return o.prototype.open=function(i,a){var u=this;this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new mi(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){u.log_("Timed out trying to connect."),u.onClosed_(),u.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,S.Yr)()||"complete"===document.readyState)o();else{var i=!1,a=function(){document.body?i||(i=!0,o()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(function(){if(!u.isClosed_){u.scriptTagHolder=new Ur(function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];var L=(0,X.CR)(C,5),W=L[0],J=L[1],_e=L[2];if(u.incrementIncomingBytes_(C),u.scriptTagHolder)if(u.connectTimeoutTimer_&&(clearTimeout(u.connectTimeoutTimer_),u.connectTimeoutTimer_=null),u.everConnected_=!0,"start"===W)u.id=J,u.password=_e;else{if(W!==q)throw new Error("Unrecognized command received: "+W);J?(u.scriptTagHolder.sendNewPolls=!1,u.myPacketOrderer.closeAfter(J,function(){u.onClosed_()})):u.onClosed_()}},function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];var L=(0,X.CR)(C,2),W=L[0],J=L[1];u.incrementIncomingBytes_(C),u.myPacketOrderer.handleResponse(W,J)},function(){u.onClosed_()},u.urlFn);var f={start:"t"};f.ser=Math.floor(1e8*Math.random()),u.scriptTagHolder.uniqueCallbackIdentifier&&(f.cb=u.scriptTagHolder.uniqueCallbackIdentifier),f.v="5",u.transportSessionId&&(f.s=u.transportSessionId),u.lastSessionId&&(f.ls=u.lastSessionId),u.applicationId&&(f.p=u.applicationId),u.appCheckToken&&(f.ac=u.appCheckToken),"undefined"!=typeof location&&location.hostname&&Dt.test(location.hostname)&&(f.r="f");var v=u.urlFn(f);u.log_("Connecting via long-poll to "+v),u.scriptTagHolder.addTag(v,function(){})}})},o.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},o.forceAllow=function(){o.forceAllow_=!0},o.forceDisallow=function(){o.forceDisallow_=!0},o.isAvailable=function(){return!((0,S.Yr)()||!o.forceAllow_&&(o.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},o.prototype.markConnectionHealthy=function(){},o.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},o.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},o.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},o.prototype.send=function(i){var a=(0,S.Pz)(i);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);for(var u=(0,S.h$)(a),f=Xe(u,1840),v=0;v<f.length;v++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,f.length,f[v]),this.curSegmentNum++},o.prototype.addDisconnectPingFrame=function(i,a){if(!(0,S.Yr)()){this.myDisconnFrame=document.createElement("iframe");var u={dframe:"t"};u.id=i,u.pw=a,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},o.prototype.incrementIncomingBytes_=function(i){var a=(0,S.Pz)(i).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)},o}(),Ur=function(){function o(i,a,u,f){if(this.onDisconnect=u,this.urlFn=f,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,S.Yr)())this.commandCB=i,this.onMessageCB=a;else{this.uniqueCallbackIdentifier=Se(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=a,this.myIFrame=o.createIFrame_();var v="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(v='<script>document.domain="'+document.domain+'";<\/script>');var O="<html><body>"+v+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(O),this.myIFrame.doc.close()}catch(L){dt("frame writing exception"),L.stack&&dt(L.stack),dt(L)}}}return o.createIFrame_=function(){var i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||dt("No IE domain setting required")}catch(f){var u=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i},o.prototype.close=function(){var i=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==i.myIFrame&&(document.body.removeChild(i.myIFrame),i.myIFrame=null)},Math.floor(0)));var a=this.onDisconnect;a&&(this.onDisconnect=null,a())},o.prototype.startLongPoll=function(i,a){for(this.myID=i,this.myPW=a,this.alive=!0;this.newRequest_(););},o.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;for(var a=this.urlFn(i),u="",f=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){var C=this.pendingSegs.shift();u=u+"&seg"+f+"="+C.seg+"&ts"+f+"="+C.ts+"&d"+f+"="+C.d,f++}return this.addLongPollTag_(a+=u,this.currentSerial),!0}return!1},o.prototype.enqueueSegment=function(i,a,u){this.pendingSegs.push({seg:i,ts:a,d:u}),this.alive&&this.newRequest_()},o.prototype.addLongPollTag_=function(i,a){var u=this;this.outstandingRequests.add(a);var f=function(){u.outstandingRequests.delete(a),u.newRequest_()},v=setTimeout(f,Math.floor(25e3));this.addTag(i,function(){clearTimeout(v),f()})},o.prototype.addTag=function(i,a){var u=this;(0,S.Yr)()?this.doNodeLongPoll(i,a):setTimeout(function(){try{if(!u.sendNewPolls)return;var f=u.myIFrame.doc.createElement("script");f.type="text/javascript",f.async=!0,f.src=i,f.onload=f.onreadystatechange=function(){var v=f.readyState;(!v||"loaded"===v||"complete"===v)&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),a())},f.onerror=function(){dt("Long-poll script failed to load: "+i),u.sendNewPolls=!1,u.close()},u.myIFrame.doc.body.appendChild(f)}catch(v){}},Math.floor(1))},o}(),ln=null;"undefined"!=typeof MozWebSocket?ln=MozWebSocket:"undefined"!=typeof WebSocket&&(ln=WebSocket);var Sn=function(){function o(i,a,u,f,v,C,O){this.connId=i,this.applicationId=u,this.appCheckToken=f,this.authToken=v,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_t(this.connId),this.stats_=tn(a),this.connURL=o.connectionURL_(a,C,O,f),this.nodeAdmin=a.nodeAdmin}return o.connectionURL_=function(i,a,u,f){var v={v:"5"};return!(0,S.Yr)()&&"undefined"!=typeof location&&location.hostname&&Dt.test(location.hostname)&&(v.r="f"),a&&(v.s=a),u&&(v.ls=u),f&&(v.ac=f),Rt(i,mn,v)},o.prototype.open=function(i,a){var u=this;this.onDisconnect=a,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,te.set("previous_websocket_failure",!0);try{if((0,S.Yr)()){var v={headers:{"User-Agent":"Firebase/5/"+$+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(v.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(v.headers["X-Firebase-AppCheck"]=this.appCheckToken);var C=process.env,O=0===this.connURL.indexOf("wss://")?C.HTTPS_PROXY||C.https_proxy:C.HTTP_PROXY||C.http_proxy;O&&(v.proxy={origin:O}),this.mySock=new ln(this.connURL,[],v)}else this.mySock=new ln(this.connURL,[],v={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(W){this.log_("Error instantiating WebSocket.");var L=W.message||W.data;return L&&this.log_(L),void this.onClosed_()}this.mySock.onopen=function(){u.log_("Websocket connected."),u.everConnected_=!0},this.mySock.onclose=function(){u.log_("Websocket connection was disconnected."),u.mySock=null,u.onClosed_()},this.mySock.onmessage=function(W){u.handleIncomingFrame(W)},this.mySock.onerror=function(W){u.log_("WebSocket error.  Closing connection.");var J=W.message||W.data;J&&u.log_(J),u.onClosed_()}},o.prototype.start=function(){},o.forceDisallow=function(){o.forceDisallow_=!0},o.isAvailable=function(){var i=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(i=!0)}return!i&&null!==ln&&!o.forceDisallow_},o.previouslyFailed=function(){return te.isInMemoryStorage||!0===te.get("previous_websocket_failure")},o.prototype.markConnectionHealthy=function(){te.remove("previous_websocket_failure")},o.prototype.appendFrame_=function(i){if(this.frames.push(i),this.frames.length===this.totalFrames){var a=this.frames.join("");this.frames=null;var u=(0,S.cI)(a);this.onMessage(u)}},o.prototype.handleNewFrameCount_=function(i){this.totalFrames=i,this.frames=[]},o.prototype.extractFrameCount_=function(i){if((0,S.hu)(null===this.frames,"We already have a frame buffer"),i.length<=6){var a=Number(i);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),i},o.prototype.handleIncomingFrame=function(i){if(null!==this.mySock){var a=i.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(a);else{var u=this.extractFrameCount_(a);null!==u&&this.appendFrame_(u)}}},o.prototype.send=function(i){this.resetKeepAlive();var a=(0,S.Pz)(i);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);var u=Xe(a,16384);u.length>1&&this.sendString_(String(u.length));for(var f=0;f<u.length;f++)this.sendString_(u[f])},o.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},o.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},o.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},o.prototype.resetKeepAlive=function(){var i=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){i.mySock&&i.sendString_("0"),i.resetKeepAlive()},Math.floor(45e3))},o.prototype.sendString_=function(i){try{this.mySock.send(i)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o}(),In=function(){function o(i){this.initTransports_(i)}return Object.defineProperty(o,"ALL_TRANSPORTS",{get:function(){return[Br,Sn]},enumerable:!1,configurable:!0}),o.prototype.initTransports_=function(i){var a,u,f=Sn&&Sn.isAvailable(),v=f&&!Sn.previouslyFailed();if(i.webSocketOnly&&(f||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),v=!0),v)this.transports_=[Sn];else{var C=this.transports_=[];try{for(var O=(0,X.XA)(o.ALL_TRANSPORTS),L=O.next();!L.done;L=O.next()){var W=L.value;W&&W.isAvailable()&&C.push(W)}}catch(J){a={error:J}}finally{try{L&&!L.done&&(u=O.return)&&u.call(O)}finally{if(a)throw a.error}}}},o.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},o.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},o}(),oe=function(){function o(i,a,u,f,v,C,O,L,W,J){this.id=i,this.repoInfo_=a,this.applicationId_=u,this.appCheckToken_=f,this.authToken_=v,this.onMessage_=C,this.onReady_=O,this.onDisconnect_=L,this.onKill_=W,this.lastSessionId=J,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_t("c:"+this.id+":"),this.transportManager_=new In(a),this.log_("Connection created"),this.start_()}return o.prototype.start_=function(){var i=this,a=this.transportManager_.initialTransport();this.conn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;var u=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){i.conn_&&i.conn_.open(u,f)},Math.floor(0));var v=a.healthyTimeout||0;v>0&&(this.healthyTimeout_=Cn(function(){i.healthyTimeout_=null,i.isHealthy_||(i.conn_&&i.conn_.bytesReceived>102400?(i.log_("Connection exceeded healthy timeout but has received "+i.conn_.bytesReceived+" bytes.  Marking connection healthy."),i.isHealthy_=!0,i.conn_.markConnectionHealthy()):i.conn_&&i.conn_.bytesSent>10240?i.log_("Connection exceeded healthy timeout but has sent "+i.conn_.bytesSent+" bytes.  Leaving connection alive."):(i.log_("Closing unhealthy connection after timeout."),i.close()))},Math.floor(v)))},o.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},o.prototype.disconnReceiver_=function(i){var a=this;return function(u){i===a.conn_?a.onConnectionLost_(u):i===a.secondaryConn_?(a.log_("Secondary connection lost."),a.onSecondaryConnectionLost_()):a.log_("closing an old connection")}},o.prototype.connReceiver_=function(i){var a=this;return function(u){2!==a.state_&&(i===a.rx_?a.onPrimaryMessageReceived_(u):i===a.secondaryConn_?a.onSecondaryMessageReceived_(u):a.log_("message on old connection"))}},o.prototype.sendRequest=function(i){this.sendData_({t:"d",d:i})},o.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},o.prototype.onSecondaryControl_=function(i){if("t"in i){var a=i.t;"a"===a?this.upgradeIfSecondaryHealthy_():"r"===a?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===a&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},o.prototype.onSecondaryMessageReceived_=function(i){var a=$e("t",i),u=$e("d",i);if("c"===a)this.onSecondaryControl_(u);else{if("d"!==a)throw new Error("Unknown protocol layer: "+a);this.pendingDataMessages.push(u)}},o.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},o.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},o.prototype.onPrimaryMessageReceived_=function(i){var a=$e("t",i),u=$e("d",i);"c"===a?this.onControl_(u):"d"===a&&this.onDataMessage_(u)},o.prototype.onDataMessage_=function(i){this.onPrimaryResponse_(),this.onMessage_(i)},o.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},o.prototype.onControl_=function(i){var a=$e("t",i);if("d"in i){var u=i.d;if("h"===a)this.onHandshake_(u);else if("n"===a){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var f=0;f<this.pendingDataMessages.length;++f)this.onDataMessage_(this.pendingDataMessages[f]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===a?this.onConnectionShutdown_(u):"r"===a?this.onReset_(u):"e"===a?Ut("Server Error: "+u):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ut("Unknown control packet command: "+a)}},o.prototype.onHandshake_=function(i){var a=i.ts,u=i.v,f=i.h;this.sessionId=i.s,this.repoInfo_.host=f,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==u&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())},o.prototype.tryStartUpgrade_=function(){var i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)},o.prototype.startUpgrade_=function(i){var a=this;this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;var u=this.connReceiver_(this.secondaryConn_),f=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(u,f),Cn(function(){a.secondaryConn_&&(a.log_("Timed out trying to upgrade."),a.secondaryConn_.close())},Math.floor(6e4))},o.prototype.onReset_=function(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())},o.prototype.onConnectionEstablished_=function(i,a){var u=this;this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cn(function(){u.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},o.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},o.prototype.onSecondaryConnectionLost_=function(){var i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()},o.prototype.onConnectionLost_=function(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(te.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},o.prototype.onConnectionShutdown_=function(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()},o.prototype.sendData_=function(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)},o.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},o.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},o}(),we=function(){function o(){}return o.prototype.put=function(i,a,u,f){},o.prototype.merge=function(i,a,u,f){},o.prototype.refreshAuthToken=function(i){},o.prototype.refreshAppCheckToken=function(i){},o.prototype.onDisconnectPut=function(i,a,u){},o.prototype.onDisconnectMerge=function(i,a,u){},o.prototype.onDisconnectCancel=function(i,a){},o.prototype.reportStats=function(i){},o}(),We=function(){function o(i){this.allowedEvents_=i,this.listeners_={},(0,S.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}return o.prototype.trigger=function(i){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(Array.isArray(this.listeners_[i]))for(var f=(0,X.ev)([],(0,X.CR)(this.listeners_[i])),v=0;v<f.length;v++)f[v].callback.apply(f[v].context,a)},o.prototype.on=function(i,a,u){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:a,context:u});var f=this.getInitialEvent(i);f&&a.apply(u,f)},o.prototype.off=function(i,a,u){this.validateEventType_(i);for(var f=this.listeners_[i]||[],v=0;v<f.length;v++)if(f[v].callback===a&&(!u||u===f[v].context))return void f.splice(v,1)},o.prototype.validateEventType_=function(i){(0,S.hu)(this.allowedEvents_.find(function(a){return a===i}),"Unknown event: "+i)},o}(),Ue=function(o){function i(){var a=o.call(this,["online"])||this;return a.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,S.uI)()&&(window.addEventListener("online",function(){a.online_||(a.online_=!0,a.trigger("online",!0))},!1),window.addEventListener("offline",function(){a.online_&&(a.online_=!1,a.trigger("online",!1))},!1)),a}return(0,X.ZT)(i,o),i.getInstance=function(){return new i},i.prototype.getInitialEvent=function(a){return(0,S.hu)("online"===a,"Unknown event type: "+a),[this.online_]},i.prototype.currentlyOnline=function(){return this.online_},i}(We),Je=function(){function o(i,a){if(void 0===a){this.pieces_=i.split("/");for(var u=0,f=0;f<this.pieces_.length;f++)this.pieces_[f].length>0&&(this.pieces_[u]=this.pieces_[f],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=a}return o.prototype.toString=function(){for(var i="",a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(i+="/"+this.pieces_[a]);return i||"/"},o}();function Qe(){return new Je("")}function mt(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function ie(o){return o.pieces_.length-o.pieceNum_}function z(o){var i=o.pieceNum_;return i<o.pieces_.length&&i++,new Je(o.pieces_,i)}function U(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function Ae(o,i){return void 0===i&&(i=0),o.pieces_.slice(o.pieceNum_+i)}function qe(o){if(o.pieceNum_>=o.pieces_.length)return null;for(var i=[],a=o.pieceNum_;a<o.pieces_.length-1;a++)i.push(o.pieces_[a]);return new Je(i,0)}function je(o,i){for(var a=[],u=o.pieceNum_;u<o.pieces_.length;u++)a.push(o.pieces_[u]);if(i instanceof Je)for(u=i.pieceNum_;u<i.pieces_.length;u++)a.push(i.pieces_[u]);else{var f=i.split("/");for(u=0;u<f.length;u++)f[u].length>0&&a.push(f[u])}return new Je(a,0)}function lt(o){return o.pieceNum_>=o.pieces_.length}function kt(o,i){var a=mt(o),u=mt(i);if(null===a)return i;if(a===u)return kt(z(o),z(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+o+")")}function Kn(o,i){for(var a=Ae(o,0),u=Ae(i,0),f=0;f<a.length&&f<u.length;f++){var v=fe(a[f],u[f]);if(0!==v)return v}return a.length===u.length?0:a.length<u.length?-1:1}function Yr(o,i){if(ie(o)!==ie(i))return!1;for(var a=o.pieceNum_,u=i.pieceNum_;a<=o.pieces_.length;a++,u++)if(o.pieces_[a]!==i.pieces_[u])return!1;return!0}function Wn(o,i){var a=o.pieceNum_,u=i.pieceNum_;if(ie(o)>ie(i))return!1;for(;a<o.pieces_.length;){if(o.pieces_[a]!==i.pieces_[u])return!1;++a,++u}return!0}var vi=function(i,a){this.errorPrefix_=a,this.parts_=Ae(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(var u=0;u<this.parts_.length;u++)this.byteLength_+=(0,S.ug)(this.parts_[u]);Lo(this)};function Lo(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ni(o))}function ni(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}var Vo,uo,ao=function(o){function i(){var u,f,a=o.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(f="visibilitychange",u="hidden"):void 0!==document.mozHidden?(f="mozvisibilitychange",u="mozHidden"):void 0!==document.msHidden?(f="msvisibilitychange",u="msHidden"):void 0!==document.webkitHidden&&(f="webkitvisibilitychange",u="webkitHidden")),a.visible_=!0,f&&document.addEventListener(f,function(){var v=!document[u];v!==a.visible_&&(a.visible_=v,a.trigger("visible",v))},!1),a}return(0,X.ZT)(i,o),i.getInstance=function(){return new i},i.prototype.getInitialEvent=function(a){return(0,S.hu)("visible"===a,"Unknown event type: "+a),[this.visible_]},i}(We),Vi=1e3,ri=function(o){function i(a,u,f,v,C,O,L,W){var J=o.call(this)||this;if(J.repoInfo_=a,J.applicationId_=u,J.onDataUpdate_=f,J.onConnectStatus_=v,J.onServerInfoUpdate_=C,J.authTokenProvider_=O,J.appCheckTokenProvider_=L,J.authOverride_=W,J.id=i.nextPersistentConnectionId_++,J.log_=_t("p:"+J.id+":"),J.interruptReasons_={},J.listens=new Map,J.outstandingPuts_=[],J.outstandingGets_=[],J.outstandingPutCount_=0,J.outstandingGetCount_=0,J.onDisconnectRequestQueue_=[],J.connected_=!1,J.reconnectDelay_=Vi,J.maxReconnectDelay_=3e5,J.securityDebugCallback_=null,J.lastSessionId=null,J.establishConnectionTimer_=null,J.visible_=!1,J.requestCBHash_={},J.requestNumber_=0,J.realtime_=null,J.authToken_=null,J.appCheckToken_=null,J.forceTokenRefresh_=!1,J.invalidAuthTokenCount_=0,J.invalidAppCheckTokenCount_=0,J.firstConnection_=!0,J.lastConnectionAttemptTime_=null,J.lastConnectionEstablishedTime_=null,W&&!(0,S.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ao.getInstance().on("visible",J.onVisible_,J),-1===a.host.indexOf("fblocal")&&Ue.getInstance().on("online",J.onOnline_,J),J}return(0,X.ZT)(i,o),i.prototype.sendRequest=function(a,u,f){var v=++this.requestNumber_,C={r:v,a,b:u};this.log_((0,S.Pz)(C)),(0,S.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(C),f&&(this.requestCBHash_[v]=f)},i.prototype.get=function(a){var u=this;this.initConnection_();var f=new S.BH,v={p:a._path.toString(),q:a._queryObject},C={action:"g",request:v,onComplete:function(L){var W=L.d;"ok"===L.s?(u.onDataUpdate_(v.p,W,!1,null),f.resolve(W)):f.reject(W)}};this.outstandingGets_.push(C),this.outstandingGetCount_++;var O=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var L=u.outstandingGets_[O];void 0===L||C!==L||(delete u.outstandingGets_[O],u.outstandingGetCount_--,0===u.outstandingGetCount_&&(u.outstandingGets_=[]),u.log_("get "+O+" timed out on connection"),f.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(O),f.promise},i.prototype.listen=function(a,u,f,v){this.initConnection_();var C=a._queryIdentifier,O=a._path.toString();this.log_("Listen called for "+O+" "+C),this.listens.has(O)||this.listens.set(O,new Map),(0,S.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,S.hu)(!this.listens.get(O).has(C),"listen() called twice for same path/queryId.");var L={onComplete:v,hashFn:u,query:a,tag:f};this.listens.get(O).set(C,L),this.connected_&&this.sendListen_(L)},i.prototype.sendGet_=function(a){var u=this,f=this.outstandingGets_[a];this.sendRequest("g",f.request,function(v){delete u.outstandingGets_[a],u.outstandingGetCount_--,0===u.outstandingGetCount_&&(u.outstandingGets_=[]),f.onComplete&&f.onComplete(v)})},i.prototype.sendListen_=function(a){var u=this,f=a.query,v=f._path.toString(),C=f._queryIdentifier;this.log_("Listen on "+v+" for "+C);var O={p:v};a.tag&&(O.q=f._queryObject,O.t=a.tag),O.h=a.hashFn(),this.sendRequest("q",O,function(W){var J=W.d,_e=W.s;i.warnOnListenWarnings_(J,f),(u.listens.get(v)&&u.listens.get(v).get(C))===a&&(u.log_("listen response",W),"ok"!==_e&&u.removeListen_(v,C),a.onComplete&&a.onComplete(_e,J))})},i.warnOnListenWarnings_=function(a,u){if(a&&"object"==typeof a&&(0,S.r3)(a,"w")){var f=(0,S.DV)(a,"w");if(Array.isArray(f)&&~f.indexOf("no_index")){var v='".indexOn": "'+u._queryParams.getIndex().toString()+'"',C=u._path.toString();Ht("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+v+" at "+C+" to your security rules for better performance.")}}},i.prototype.refreshAuthToken=function(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(a)},i.prototype.reduceReconnectDelayIfAdminCredential_=function(a){(a&&40===a.length||(0,S.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},i.prototype.refreshAppCheckToken=function(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},i.prototype.tryAuth=function(){var a=this;if(this.connected_&&this.authToken_){var u=this.authToken_,f=(0,S.w9)(u)?"auth":"gauth",v={cred:u};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(f,v,function(C){var O=C.s,L=C.d||"error";a.authToken_===u&&("ok"===O?a.invalidAuthTokenCount_=0:a.onAuthRevoked_(O,L))})}},i.prototype.tryAppCheck=function(){var a=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(u){var f=u.s,v=u.d||"error";"ok"===f?a.invalidAppCheckTokenCount_=0:a.onAppCheckRevoked_(f,v)})},i.prototype.unlisten=function(a,u){var f=a._path.toString(),v=a._queryIdentifier;this.log_("Unlisten called for "+f+" "+v),(0,S.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(f,v)&&this.connected_&&this.sendUnlisten_(f,v,a._queryObject,u)},i.prototype.sendUnlisten_=function(a,u,f,v){this.log_("Unlisten on "+a+" for "+u);var C={p:a};v&&(C.q=f,C.t=v),this.sendRequest("n",C)},i.prototype.onDisconnectPut=function(a,u,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,u,f):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:u,onComplete:f})},i.prototype.onDisconnectMerge=function(a,u,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,u,f):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:u,onComplete:f})},i.prototype.onDisconnectCancel=function(a,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,u):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:u})},i.prototype.sendOnDisconnect_=function(a,u,f,v){var C={p:u,d:f};this.log_("onDisconnect "+a,C),this.sendRequest(a,C,function(O){v&&setTimeout(function(){v(O.s,O.d)},Math.floor(0))})},i.prototype.put=function(a,u,f,v){this.putInternal("p",a,u,f,v)},i.prototype.merge=function(a,u,f,v){this.putInternal("m",a,u,f,v)},i.prototype.putInternal=function(a,u,f,v,C){this.initConnection_();var O={p:u,d:f};void 0!==C&&(O.h=C),this.outstandingPuts_.push({action:a,request:O,onComplete:v}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)},i.prototype.sendPut_=function(a){var u=this,f=this.outstandingPuts_[a].action,v=this.outstandingPuts_[a].request,C=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(f,v,function(O){u.log_(f+" response",O),delete u.outstandingPuts_[a],u.outstandingPutCount_--,0===u.outstandingPutCount_&&(u.outstandingPuts_=[]),C&&C(O.s,O.d)})},i.prototype.reportStats=function(a){var u=this;if(this.connected_){var f={c:a};this.log_("reportStats",f),this.sendRequest("s",f,function(v){"ok"!==v.s&&u.log_("reportStats","Error sending stats: "+v.d)})}},i.prototype.onDataMessage_=function(a){if("r"in a){this.log_("from server: "+(0,S.Pz)(a));var u=a.r,f=this.requestCBHash_[u];f&&(delete this.requestCBHash_[u],f(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}},i.prototype.onDataPush_=function(a,u){this.log_("handleServerMessage",a,u),"d"===a?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===a?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===a?this.onListenRevoked_(u.p,u.q):"ac"===a?this.onAuthRevoked_(u.s,u.d):"apc"===a?this.onAppCheckRevoked_(u.s,u.d):"sd"===a?this.onSecurityDebugPacket_(u):Ut("Unrecognized action received from server: "+(0,S.Pz)(a)+"\nAre you using the latest client?")},i.prototype.onReady_=function(a,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},i.prototype.scheduleConnect_=function(a){var u=this;(0,S.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){u.establishConnectionTimer_=null,u.establishConnection_()},Math.floor(a))},i.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},i.prototype.onVisible_=function(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vi,this.realtime_||this.scheduleConnect_(0)),this.visible_=a},i.prototype.onOnline_=function(a){a?(this.log_("Browser went online."),this.reconnectDelay_=Vi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},i.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var u=(new Date).getTime()-this.lastConnectionAttemptTime_,f=Math.max(0,this.reconnectDelay_-u);f=Math.random()*f,this.log_("Trying to reconnect in "+f+"ms"),this.scheduleConnect_(f),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},i.prototype.establishConnection_=function(){return(0,X.mG)(this,void 0,void 0,function(){var a,u,f,v,C,O,L,W,_e,Le,Ge,ft,Ot,Ct=this;return(0,X.Jh)(this,function(Wt){switch(Wt.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,a=this.onDataMessage_.bind(this),u=this.onReady_.bind(this),f=this.onRealtimeDisconnect_.bind(this),v=this.id+":"+i.nextConnectionId_++,C=this.lastSessionId,O=!1,L=null,this.realtime_={close:W=function(){L?L.close():(O=!0,f())},sendRequest:function(Vn){(0,S.hu)(L,"sendRequest call when we're not connected not allowed."),L.sendRequest(Vn)}},_e=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,Wt.label=1;case 1:return Wt.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(_e),this.appCheckTokenProvider_.getToken(_e)])];case 2:return Le=X.CR.apply(void 0,[Wt.sent(),2]),Ge=Le[0],ft=Le[1],O?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=Ge&&Ge.accessToken,this.appCheckToken_=ft&&ft.token,L=new oe(v,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,a,u,f,function(Vn){Ht(Vn+" ("+Ct.repoInfo_.toString()+")"),Ct.interrupt("server_kill")},C)),[3,4];case 3:return Ot=Wt.sent(),this.log_("Failed to get token: "+Ot),O||(this.repoInfo_.nodeAdmin&&Ht(Ot),W()),[3,4];case 4:return[2]}})})},i.prototype.interrupt=function(a){dt("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},i.prototype.resume=function(a){dt("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,S.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Vi,this.realtime_||this.scheduleConnect_(0))},i.prototype.handleTimestamp_=function(a){var u=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})},i.prototype.cancelSentTransactions_=function(){for(var a=0;a<this.outstandingPuts_.length;a++){var u=this.outstandingPuts_[a];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},i.prototype.onListenRevoked_=function(a,u){var f;f=u?u.map(function(C){return gt(C)}).join("$"):"default";var v=this.removeListen_(a,f);v&&v.onComplete&&v.onComplete("permission_denied")},i.prototype.removeListen_=function(a,u){var v,f=new Je(a).toString();if(this.listens.has(f)){var C=this.listens.get(f);v=C.get(u),C.delete(u),0===C.size&&this.listens.delete(f)}else v=void 0;return v},i.prototype.onAuthRevoked_=function(a,u){dt("Auth token revoked: "+a+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},i.prototype.onAppCheckRevoked_=function(a,u){dt("App check token revoked: "+a+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},i.prototype.onSecurityDebugPacket_=function(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))},i.prototype.restoreState_=function(){var a,u,f,v;this.tryAuth(),this.tryAppCheck();try{for(var C=(0,X.XA)(this.listens.values()),O=C.next();!O.done;O=C.next()){var L=O.value;try{for(var W=(f=void 0,(0,X.XA)(L.values())),J=W.next();!J.done;J=W.next())this.sendListen_(J.value)}catch(ft){f={error:ft}}finally{try{J&&!J.done&&(v=W.return)&&v.call(W)}finally{if(f)throw f.error}}}}catch(ft){a={error:ft}}finally{try{O&&!O.done&&(u=C.return)&&u.call(C)}finally{if(a)throw a.error}}for(var Le=0;Le<this.outstandingPuts_.length;Le++)this.outstandingPuts_[Le]&&this.sendPut_(Le);for(;this.onDisconnectRequestQueue_.length;){var Ge=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(Ge.action,Ge.pathString,Ge.data,Ge.onComplete)}for(Le=0;Le<this.outstandingGets_.length;Le++)this.outstandingGets_[Le]&&this.sendGet_(Le)},i.prototype.sendConnectStats_=function(){var a={},u="js";(0,S.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+u+"."+$.replace(/\./g,"-")]=1,(0,S.uI)()?a["framework.cordova"]=1:(0,S.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)},i.prototype.shouldReconnect_=function(){var a=Ue.getInstance().currentlyOnline();return(0,S.xb)(this.interruptReasons_)&&a},i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i}(we),qt=function(){function o(i,a){this.name=i,this.node=a}return o.Wrap=function(i,a){return new o(i,a)},o}(),Bi=function(){function o(){}return o.prototype.getCompare=function(){return this.compare.bind(this)},o.prototype.indexedValueChanged=function(i,a){var u=new qt(ce,i),f=new qt(ce,a);return 0!==this.compare(u,f)},o.prototype.minPost=function(){return qt.MIN},o}(),Qs=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,X.ZT)(i,o),Object.defineProperty(i,"__EMPTY_NODE",{get:function(){return Vo},set:function(a){Vo=a},enumerable:!1,configurable:!0}),i.prototype.compare=function(a,u){return fe(a.name,u.name)},i.prototype.isDefinedOn=function(a){throw(0,S.g5)("KeyIndex.isDefinedOn not expected to be called.")},i.prototype.indexedValueChanged=function(a,u){return!1},i.prototype.minPost=function(){return qt.MIN},i.prototype.maxPost=function(){return new qt(xe,Vo)},i.prototype.makePost=function(a,u){return(0,S.hu)("string"==typeof a,"KeyIndex indexValue must always be a string."),new qt(a,Vo)},i.prototype.toString=function(){return".key"},i}(Bi),Sr=new Qs,yi=function(){function o(i,a,u,f,v){void 0===v&&(v=null),this.isReverse_=f,this.resultGenerator_=v,this.nodeStack_=[];for(var C=1;!i.isEmpty();)if(i=i,C=a?u(i.key,a):1,f&&(C*=-1),C<0)i=this.isReverse_?i.left:i.right;else{if(0===C){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}return o.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var a,i=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return a},o.prototype.hasNext=function(){return this.nodeStack_.length>0},o.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}},o}(),$n=function(){function o(i,a,u,f,v){this.key=i,this.value=a,this.color=null!=u?u:o.RED,this.left=null!=f?f:fr.EMPTY_NODE,this.right=null!=v?v:fr.EMPTY_NODE}return o.prototype.copy=function(i,a,u,f,v){return new o(null!=i?i:this.key,null!=a?a:this.value,null!=u?u:this.color,null!=f?f:this.left,null!=v?v:this.right)},o.prototype.count=function(){return this.left.count()+1+this.right.count()},o.prototype.isEmpty=function(){return!1},o.prototype.inorderTraversal=function(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)},o.prototype.reverseTraversal=function(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)},o.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},o.prototype.minKey=function(){return this.min_().key},o.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},o.prototype.insert=function(i,a,u){var f=this,v=u(i,f.key);return(f=v<0?f.copy(null,null,null,f.left.insert(i,a,u),null):0===v?f.copy(null,a,null,null,null):f.copy(null,null,null,null,f.right.insert(i,a,u))).fixUp_()},o.prototype.removeMin_=function(){if(this.left.isEmpty())return fr.EMPTY_NODE;var i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),(i=i.copy(null,null,null,i.left.removeMin_(),null)).fixUp_()},o.prototype.remove=function(i,a){var u,f;if(a(i,(u=this).key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(i,a),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===a(i,u.key)){if(u.right.isEmpty())return fr.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(i,a))}return u.fixUp_()},o.prototype.isRed_=function(){return this.color},o.prototype.fixUp_=function(){var i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i},o.prototype.moveRedLeft_=function(){var i=this.colorFlip_();return i.right.left.isRed_()&&(i=(i=(i=i.copy(null,null,null,null,i.right.rotateRight_())).rotateLeft_()).colorFlip_()),i},o.prototype.moveRedRight_=function(){var i=this.colorFlip_();return i.left.left.isRed_()&&(i=(i=i.rotateRight_()).colorFlip_()),i},o.prototype.rotateLeft_=function(){var i=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},o.prototype.rotateRight_=function(){var i=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},o.prototype.colorFlip_=function(){var i=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,a)},o.prototype.checkMaxDepth_=function(){var i=this.check_();return Math.pow(2,i)<=this.count()+1},o.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)},o.RED=!0,o.BLACK=!1,o}(),Ia=function(){function o(){}return o.prototype.copy=function(i,a,u,f,v){return this},o.prototype.insert=function(i,a,u){return new $n(i,a,null)},o.prototype.remove=function(i,a){return this},o.prototype.count=function(){return 0},o.prototype.isEmpty=function(){return!0},o.prototype.inorderTraversal=function(i){return!1},o.prototype.reverseTraversal=function(i){return!1},o.prototype.minKey=function(){return null},o.prototype.maxKey=function(){return null},o.prototype.check_=function(){return 0},o.prototype.isRed_=function(){return!1},o}(),fr=function(){function o(i,a){void 0===a&&(a=o.EMPTY_NODE),this.comparator_=i,this.root_=a}return o.prototype.insert=function(i,a){return new o(this.comparator_,this.root_.insert(i,a,this.comparator_).copy(null,null,$n.BLACK,null,null))},o.prototype.remove=function(i){return new o(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,$n.BLACK,null,null))},o.prototype.get=function(i){for(var a,u=this.root_;!u.isEmpty();){if(0===(a=this.comparator_(i,u.key)))return u.value;a<0?u=u.left:a>0&&(u=u.right)}return null},o.prototype.getPredecessorKey=function(i){for(var a,u=this.root_,f=null;!u.isEmpty();){if(0===(a=this.comparator_(i,u.key))){if(u.left.isEmpty())return f?f.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}a<0?u=u.left:a>0&&(f=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},o.prototype.isEmpty=function(){return this.root_.isEmpty()},o.prototype.count=function(){return this.root_.count()},o.prototype.minKey=function(){return this.root_.minKey()},o.prototype.maxKey=function(){return this.root_.maxKey()},o.prototype.inorderTraversal=function(i){return this.root_.inorderTraversal(i)},o.prototype.reverseTraversal=function(i){return this.root_.reverseTraversal(i)},o.prototype.getIterator=function(i){return new yi(this.root_,null,this.comparator_,!1,i)},o.prototype.getIteratorFrom=function(i,a){return new yi(this.root_,i,this.comparator_,!1,a)},o.prototype.getReverseIteratorFrom=function(i,a){return new yi(this.root_,i,this.comparator_,!0,a)},o.prototype.getReverseIterator=function(i){return new yi(this.root_,null,this.comparator_,!0,i)},o.EMPTY_NODE=new Ia,o}();function ms(o,i){return fe(o.name,i.name)}function Rr(o,i){return fe(o,i)}var vs,Ar,ys,Ui,x,co=function(o){return"number"==typeof o?"number:"+ke(o):"string:"+o},Uo=function(o){if(o.isLeafNode()){var i=o.val();(0,S.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,S.r3)(i,".sv"),"Priority must be a string or number.")}else(0,S.hu)(o===uo||o.isEmpty(),"priority of unexpected type.");(0,S.hu)(o===uo||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},jr=function(){function o(i,a){void 0===a&&(a=o.__childrenNodeConstructor.EMPTY_NODE),this.value_=i,this.priorityNode_=a,this.lazyHash_=null,(0,S.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Uo(this.priorityNode_)}return Object.defineProperty(o,"__childrenNodeConstructor",{get:function(){return vs},set:function(i){vs=i},enumerable:!1,configurable:!0}),o.prototype.isLeafNode=function(){return!0},o.prototype.getPriority=function(){return this.priorityNode_},o.prototype.updatePriority=function(i){return new o(this.value_,i)},o.prototype.getImmediateChild=function(i){return".priority"===i?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE},o.prototype.getChild=function(i){return lt(i)?this:".priority"===mt(i)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE},o.prototype.hasChild=function(){return!1},o.prototype.getPredecessorChildName=function(i,a){return null},o.prototype.updateImmediateChild=function(i,a){return".priority"===i?this.updatePriority(a):a.isEmpty()&&".priority"!==i?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,a).updatePriority(this.priorityNode_)},o.prototype.updateChild=function(i,a){var u=mt(i);return null===u?a:a.isEmpty()&&".priority"!==u?this:((0,S.hu)(".priority"!==u||1===ie(i),".priority must be the last token in a path"),this.updateImmediateChild(u,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(z(i),a)))},o.prototype.isEmpty=function(){return!1},o.prototype.numChildren=function(){return 0},o.prototype.forEachChild=function(i,a){return!1},o.prototype.val=function(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},o.prototype.hash=function(){if(null===this.lazyHash_){var i="";this.priorityNode_.isEmpty()||(i+="priority:"+co(this.priorityNode_.val())+":");var a=typeof this.value_;i+=a+":",i+="number"===a?ke(this.value_):this.value_,this.lazyHash_=Ze(i)}return this.lazyHash_},o.prototype.getValue=function(){return this.value_},o.prototype.compareTo=function(i){return i===o.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof o.__childrenNodeConstructor?-1:((0,S.hu)(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))},o.prototype.compareToLeafNode_=function(i){var a=typeof i.value_,u=typeof this.value_,f=o.VALUE_TYPE_ORDER.indexOf(a),v=o.VALUE_TYPE_ORDER.indexOf(u);return(0,S.hu)(f>=0,"Unknown leaf type: "+a),(0,S.hu)(v>=0,"Unknown leaf type: "+u),f===v?"object"===u?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:v-f},o.prototype.withIndex=function(){return this},o.prototype.isIndexed=function(){return!0},o.prototype.equals=function(i){return i===this||!!i.isLeafNode()&&(this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_))},o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o}(),hn=new(function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,X.ZT)(i,o),i.prototype.compare=function(a,u){var f=a.node.getPriority(),v=u.node.getPriority(),C=f.compareTo(v);return 0===C?fe(a.name,u.name):C},i.prototype.isDefinedOn=function(a){return!a.getPriority().isEmpty()},i.prototype.indexedValueChanged=function(a,u){return!a.getPriority().equals(u.getPriority())},i.prototype.minPost=function(){return qt.MIN},i.prototype.maxPost=function(){return new qt(xe,new jr("[PRIORITY-POST]",ys))},i.prototype.makePost=function(a,u){var f=Ar(a);return new qt(u,new jr("[PRIORITY-POST]",f))},i.prototype.toString=function(){return".priority"},i}(Bi)),_s=Math.log(2),Kr=function(){function o(i){this.count=parseInt(Math.log(i+1)/_s,10),this.current_=this.count-1;var f=parseInt(Array(this.count+1).join("1"),2);this.bits_=i+1&f}return o.prototype.nextBitIsOne=function(){var i=!(this.bits_&1<<this.current_);return this.current_--,i},o}(),Qr=function(o,i,a,u){o.sort(i);var f=function(L,W){var _e,Le,J=W-L;if(0===J)return null;if(1===J)return _e=o[L],Le=a?a(_e):_e,new $n(Le,_e.node,$n.BLACK,null,null);var Ge=parseInt(J/2,10)+L,ft=f(L,Ge),Ot=f(Ge+1,W);return _e=o[Ge],Le=a?a(_e):_e,new $n(Le,_e.node,$n.BLACK,ft,Ot)},O=function(L){for(var W=null,J=null,_e=o.length,Le=function(Wt,Vn){var fi=_e-Wt,Ws=_e;_e-=Wt;var sl=f(fi+1,Ws),pa=o[fi],ga=a?a(pa):pa;Ge(new $n(ga,pa.node,Vn,null,sl))},Ge=function(Wt){W?(W.left=Wt,W=Wt):(J=Wt,W=Wt)},ft=0;ft<L.count;++ft){var Ot=L.nextBitIsOne(),Ct=Math.pow(2,L.count-(ft+1));Ot?Le(Ct,$n.BLACK):(Le(Ct,$n.BLACK),Le(Ct,$n.RED))}return J}(new Kr(o.length));return new fr(u||i,O)},_i={},b=function(){function o(i,a){this.indexes_=i,this.indexSet_=a}return Object.defineProperty(o,"Default",{get:function(){return(0,S.hu)(_i&&hn,"ChildrenNode.ts has not been loaded"),Ui=Ui||new o({".priority":_i},{".priority":hn})},enumerable:!1,configurable:!0}),o.prototype.get=function(i){var a=(0,S.DV)(this.indexes_,i);if(!a)throw new Error("No index defined for "+i);return a instanceof fr?a:null},o.prototype.hasIndex=function(i){return(0,S.r3)(this.indexSet_,i.toString())},o.prototype.addIndex=function(i,a){(0,S.hu)(i!==Sr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var u=[],f=!1,v=a.getIterator(qt.Wrap),C=v.getNext();C;)f=f||i.isDefinedOn(C.node),u.push(C),C=v.getNext();var O;O=f?Qr(u,i.getCompare()):_i;var L=i.toString(),W=(0,X.pi)({},this.indexSet_);W[L]=i;var J=(0,X.pi)({},this.indexes_);return J[L]=O,new o(J,W)},o.prototype.addToIndexes=function(i,a){var u=this;return new o((0,S.UI)(this.indexes_,function(v,C){var O=(0,S.DV)(u.indexSet_,C);if((0,S.hu)(O,"Missing index implementation for "+C),v===_i){if(O.isDefinedOn(i.node)){for(var L=[],W=a.getIterator(qt.Wrap),J=W.getNext();J;)J.name!==i.name&&L.push(J),J=W.getNext();return L.push(i),Qr(L,O.getCompare())}return _i}var _e=a.get(i.name),Le=v;return _e&&(Le=Le.remove(new qt(i.name,_e))),Le.insert(i,i.node)}),this.indexSet_)},o.prototype.removeFromIndexes=function(i,a){return new o((0,S.UI)(this.indexes_,function(f){if(f===_i)return f;var v=a.get(i.name);return v?f.remove(new qt(i.name,v)):f}),this.indexSet_)},o}(),_=function(){function o(i,a,u){this.children_=i,this.priorityNode_=a,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Uo(this.priorityNode_),this.children_.isEmpty()&&(0,S.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(o,"EMPTY_NODE",{get:function(){return x||(x=new o(new fr(Rr),null,b.Default))},enumerable:!1,configurable:!0}),o.prototype.isLeafNode=function(){return!1},o.prototype.getPriority=function(){return this.priorityNode_||x},o.prototype.updatePriority=function(i){return this.children_.isEmpty()?this:new o(this.children_,i,this.indexMap_)},o.prototype.getImmediateChild=function(i){if(".priority"===i)return this.getPriority();var a=this.children_.get(i);return null===a?x:a},o.prototype.getChild=function(i){var a=mt(i);return null===a?this:this.getImmediateChild(a).getChild(z(i))},o.prototype.hasChild=function(i){return null!==this.children_.get(i)},o.prototype.updateImmediateChild=function(i,a){if((0,S.hu)(a,"We should always be passing snapshot nodes"),".priority"===i)return this.updatePriority(a);var u=new qt(i,a),f=void 0,v=void 0;a.isEmpty()?(f=this.children_.remove(i),v=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(i,a),v=this.indexMap_.addToIndexes(u,this.children_));var C=f.isEmpty()?x:this.priorityNode_;return new o(f,C,v)},o.prototype.updateChild=function(i,a){var u=mt(i);if(null===u)return a;(0,S.hu)(".priority"!==mt(i)||1===ie(i),".priority must be the last token in a path");var f=this.getImmediateChild(u).updateChild(z(i),a);return this.updateImmediateChild(u,f)},o.prototype.isEmpty=function(){return this.children_.isEmpty()},o.prototype.numChildren=function(){return this.children_.count()},o.prototype.val=function(i){if(this.isEmpty())return null;var a={},u=0,f=0,v=!0;if(this.forEachChild(hn,function(L,W){a[L]=W.val(i),u++,v&&o.INTEGER_REGEXP_.test(L)?f=Math.max(f,Number(L)):v=!1}),!i&&v&&f<2*u){var C=[];for(var O in a)C[O]=a[O];return C}return i&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a},o.prototype.hash=function(){if(null===this.lazyHash_){var i="";this.getPriority().isEmpty()||(i+="priority:"+co(this.getPriority().val())+":"),this.forEachChild(hn,function(a,u){var f=u.hash();""!==f&&(i+=":"+a+":"+f)}),this.lazyHash_=""===i?"":Ze(i)}return this.lazyHash_},o.prototype.getPredecessorChildName=function(i,a,u){var f=this.resolveIndex_(u);if(f){var v=f.getPredecessorKey(new qt(i,a));return v?v.name:null}return this.children_.getPredecessorKey(i)},o.prototype.getFirstChildName=function(i){var a=this.resolveIndex_(i);if(a){var u=a.minKey();return u&&u.name}return this.children_.minKey()},o.prototype.getFirstChild=function(i){var a=this.getFirstChildName(i);return a?new qt(a,this.children_.get(a)):null},o.prototype.getLastChildName=function(i){var a=this.resolveIndex_(i);if(a){var u=a.maxKey();return u&&u.name}return this.children_.maxKey()},o.prototype.getLastChild=function(i){var a=this.getLastChildName(i);return a?new qt(a,this.children_.get(a)):null},o.prototype.forEachChild=function(i,a){var u=this.resolveIndex_(i);return u?u.inorderTraversal(function(f){return a(f.name,f.node)}):this.children_.inorderTraversal(a)},o.prototype.getIterator=function(i){return this.getIteratorFrom(i.minPost(),i)},o.prototype.getIteratorFrom=function(i,a){var u=this.resolveIndex_(a);if(u)return u.getIteratorFrom(i,function(C){return C});for(var f=this.children_.getIteratorFrom(i.name,qt.Wrap),v=f.peek();null!=v&&a.compare(v,i)<0;)f.getNext(),v=f.peek();return f},o.prototype.getReverseIterator=function(i){return this.getReverseIteratorFrom(i.maxPost(),i)},o.prototype.getReverseIteratorFrom=function(i,a){var u=this.resolveIndex_(a);if(u)return u.getReverseIteratorFrom(i,function(C){return C});for(var f=this.children_.getReverseIteratorFrom(i.name,qt.Wrap),v=f.peek();null!=v&&a.compare(v,i)>0;)f.getNext(),v=f.peek();return f},o.prototype.compareTo=function(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===Z?-1:0},o.prototype.withIndex=function(i){if(i===Sr||this.indexMap_.hasIndex(i))return this;var a=this.indexMap_.addIndex(i,this.children_);return new o(this.children_,this.priorityNode_,a)},o.prototype.isIndexed=function(i){return i===Sr||this.indexMap_.hasIndex(i)},o.prototype.equals=function(i){if(i===this)return!0;if(i.isLeafNode())return!1;var a=i;if(this.getPriority().equals(a.getPriority())){if(this.children_.count()===a.children_.count()){for(var u=this.getIterator(hn),f=a.getIterator(hn),v=u.getNext(),C=f.getNext();v&&C;){if(v.name!==C.name||!v.node.equals(C.node))return!1;v=u.getNext(),C=f.getNext()}return null===v&&null===C}return!1}return!1},o.prototype.resolveIndex_=function(i){return i===Sr?null:this.indexMap_.get(i.toString())},o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o}(),Z=new(function(o){function i(){return o.call(this,new fr(Rr),_.EMPTY_NODE,b.Default)||this}return(0,X.ZT)(i,o),i.prototype.compareTo=function(a){return a===this?0:1},i.prototype.equals=function(a){return a===this},i.prototype.getPriority=function(){return this},i.prototype.getImmediateChild=function(a){return _.EMPTY_NODE},i.prototype.isEmpty=function(){return!1},i}(_));function Fe(o,i){if(void 0===i&&(i=null),null===o)return _.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(i=o[".priority"]),(0,S.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new jr(o,Fe(i));if(o instanceof Array){var L=_.EMPTY_NODE;return tt(o,function(W,J){if((0,S.r3)(o,W)&&"."!==W.substring(0,1)){var _e=Fe(J);(_e.isLeafNode()||!_e.isEmpty())&&(L=L.updateImmediateChild(W,_e))}}),L.updatePriority(Fe(i))}var u=[],f=!1;if(tt(o,function(W,J){if("."!==W.substring(0,1)){var _e=Fe(J);_e.isEmpty()||(f=f||!_e.getPriority().isEmpty(),u.push(new qt(W,_e)))}}),0===u.length)return _.EMPTY_NODE;var C=Qr(u,ms,function(W){return W.name},Rr);if(f){var O=Qr(u,hn.getCompare());return new _(C,Fe(i),new b({".priority":O},{".priority":hn}))}return new _(C,Fe(i),b.Default)}Object.defineProperties(qt,{MIN:{value:new qt(ce,_.EMPTY_NODE)},MAX:{value:new qt(xe,Z)}}),Qs.__EMPTY_NODE=_.EMPTY_NODE,jr.__childrenNodeConstructor=_,function(o){uo=o}(Z),function(o){ys=o}(Z),function(o){Ar=o}(Fe);var vt=function(o){function i(a){var u=o.call(this)||this;return u.indexPath_=a,(0,S.hu)(!lt(a)&&".priority"!==mt(a),"Can't create PathIndex with empty path or .priority key"),u}return(0,X.ZT)(i,o),i.prototype.extractChild=function(a){return a.getChild(this.indexPath_)},i.prototype.isDefinedOn=function(a){return!a.getChild(this.indexPath_).isEmpty()},i.prototype.compare=function(a,u){var f=this.extractChild(a.node),v=this.extractChild(u.node),C=f.compareTo(v);return 0===C?fe(a.name,u.name):C},i.prototype.makePost=function(a,u){var f=Fe(a),v=_.EMPTY_NODE.updateChild(this.indexPath_,f);return new qt(u,v)},i.prototype.maxPost=function(){var a=_.EMPTY_NODE.updateChild(this.indexPath_,Z);return new qt(xe,a)},i.prototype.toString=function(){return Ae(this.indexPath_,0).join("/")},i}(Bi),yn=new(function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,X.ZT)(i,o),i.prototype.compare=function(a,u){var f=a.node.compareTo(u.node);return 0===f?fe(a.name,u.name):f},i.prototype.isDefinedOn=function(a){return!0},i.prototype.indexedValueChanged=function(a,u){return!a.equals(u)},i.prototype.minPost=function(){return qt.MIN},i.prototype.maxPost=function(){return qt.MAX},i.prototype.makePost=function(a,u){var f=Fe(a);return new qt(u,f)},i.prototype.toString=function(){return".value"},i}(Bi)),un="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ln=function(){var o=0,i=[];return function(a){var u=a===o;o=a;var f,v=new Array(8);for(f=7;f>=0;f--)v[f]=un.charAt(a%64),a=Math.floor(a/64);(0,S.hu)(0===a,"Cannot push at time == 0");var C=v.join("");if(u){for(f=11;f>=0&&63===i[f];f--)i[f]=0;i[f]++}else for(f=0;f<12;f++)i[f]=Math.floor(64*Math.random());for(f=0;f<12;f++)C+=un.charAt(i[f]);return(0,S.hu)(20===C.length,"nextPushId: Length should be 20."),C}}(),Mr=function(o){if(o===""+Mt)return"-";var i=xt(o);if(null!=i)return""+(i+1);for(var a=new Array(o.length),u=0;u<a.length;u++)a[u]=o.charAt(u);if(a.length<786)return a.push("-"),a.join("");for(var f=a.length-1;f>=0&&"z"===a[f];)f--;if(-1===f)return xe;var C=un.charAt(un.indexOf(a[f])+1);return a[f]=C,a.slice(0,f+1).join("")},Gn=function(o){if(o===""+an)return ce;var i=xt(o);if(null!=i)return""+(i-1);for(var a=new Array(o.length),u=0;u<a.length;u++)a[u]=o.charAt(u);return"-"===a[a.length-1]?1===a.length?""+Mt:(delete a[a.length-1],a.join("")):(a[a.length-1]=un.charAt(un.indexOf(a[a.length-1])-1),a.join("")+"z".repeat(786-a.length))};function Hr(o){return{type:"value",snapshotNode:o}}function Zn(o,i){return{type:"child_added",snapshotNode:i,childName:o}}function wt(o,i){return{type:"child_removed",snapshotNode:i,childName:o}}function Ei(o,i,a){return{type:"child_changed",snapshotNode:i,childName:o,oldSnap:a}}var Xs=function(){function o(i){this.index_=i}return o.prototype.updateChild=function(i,a,u,f,v,C){(0,S.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");var O=i.getImmediateChild(a);return O.getChild(f).equals(u.getChild(f))&&O.isEmpty()===u.isEmpty()||(null!=C&&(u.isEmpty()?i.hasChild(a)?C.trackChildChange(wt(a,O)):(0,S.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):O.isEmpty()?C.trackChildChange(Zn(a,u)):C.trackChildChange(Ei(a,u,O))),i.isLeafNode()&&u.isEmpty())?i:i.updateImmediateChild(a,u).withIndex(this.index_)},o.prototype.updateFullNode=function(i,a,u){return null!=u&&(i.isLeafNode()||i.forEachChild(hn,function(f,v){a.hasChild(f)||u.trackChildChange(wt(f,v))}),a.isLeafNode()||a.forEachChild(hn,function(f,v){if(i.hasChild(f)){var C=i.getImmediateChild(f);C.equals(v)||u.trackChildChange(Ei(f,v,C))}else u.trackChildChange(Zn(f,v))})),a.withIndex(this.index_)},o.prototype.updatePriority=function(i,a){return i.isEmpty()?_.EMPTY_NODE:i.updatePriority(a)},o.prototype.filtersNodes=function(){return!1},o.prototype.getIndexedFilter=function(){return this},o.prototype.getIndex=function(){return this.index_},o}(),Sa=function(){function o(i){this.indexedFilter_=new Xs(i.getIndex()),this.index_=i.getIndex(),this.startPost_=o.getStartPost_(i),this.endPost_=o.getEndPost_(i)}return o.prototype.getStartPost=function(){return this.startPost_},o.prototype.getEndPost=function(){return this.endPost_},o.prototype.matches=function(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0},o.prototype.updateChild=function(i,a,u,f,v,C){return this.matches(new qt(a,u))||(u=_.EMPTY_NODE),this.indexedFilter_.updateChild(i,a,u,f,v,C)},o.prototype.updateFullNode=function(i,a,u){a.isLeafNode()&&(a=_.EMPTY_NODE);var f=a.withIndex(this.index_);f=f.updatePriority(_.EMPTY_NODE);var v=this;return a.forEachChild(hn,function(C,O){v.matches(new qt(C,O))||(f=f.updateImmediateChild(C,_.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,f,u)},o.prototype.updatePriority=function(i,a){return i},o.prototype.filtersNodes=function(){return!0},o.prototype.getIndexedFilter=function(){return this.indexedFilter_},o.prototype.getIndex=function(){return this.index_},o.getStartPost_=function(i){if(i.hasStart()){var a=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),a)}return i.getIndex().minPost()},o.getEndPost_=function(i){if(i.hasEnd()){var a=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),a)}return i.getIndex().maxPost()},o}(),bs=function(){function o(i){this.rangedFilter_=new Sa(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}return o.prototype.updateChild=function(i,a,u,f,v,C){return this.rangedFilter_.matches(new qt(a,u))||(u=_.EMPTY_NODE),i.getImmediateChild(a).equals(u)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,a,u,f,v,C):this.fullLimitUpdateChild_(i,a,u,v,C)},o.prototype.updateFullNode=function(i,a,u){var f;if(a.isLeafNode()||a.isEmpty())f=_.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<a.numChildren()&&a.isIndexed(this.index_)){f=_.EMPTY_NODE.withIndex(this.index_);var v=void 0;v=this.reverse_?a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var C=0;v.hasNext()&&C<this.limit_;){var O=v.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),O)<=0:this.index_.compare(O,this.rangedFilter_.getEndPost())<=0))break;f=f.updateImmediateChild(O.name,O.node),C++}}else{f=(f=a.withIndex(this.index_)).updatePriority(_.EMPTY_NODE);var W=void 0,J=void 0,_e=void 0;if(v=void 0,this.reverse_){v=f.getReverseIterator(this.index_),W=this.rangedFilter_.getEndPost(),J=this.rangedFilter_.getStartPost();var Le=this.index_.getCompare();_e=function(Ct,Wt){return Le(Wt,Ct)}}else v=f.getIterator(this.index_),W=this.rangedFilter_.getStartPost(),J=this.rangedFilter_.getEndPost(),_e=this.index_.getCompare();C=0;for(var Ge=!1;v.hasNext();)O=v.getNext(),!Ge&&_e(W,O)<=0&&(Ge=!0),Ge&&C<this.limit_&&_e(O,J)<=0?C++:f=f.updateImmediateChild(O.name,_.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,f,u)},o.prototype.updatePriority=function(i,a){return i},o.prototype.filtersNodes=function(){return!0},o.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},o.prototype.getIndex=function(){return this.index_},o.prototype.fullLimitUpdateChild_=function(i,a,u,f,v){var C;if(this.reverse_){var O=this.index_.getCompare();C=function(Vn,fi){return O(fi,Vn)}}else C=this.index_.getCompare();var L=i;(0,S.hu)(L.numChildren()===this.limit_,"");var W=new qt(a,u),J=this.reverse_?L.getFirstChild(this.index_):L.getLastChild(this.index_),_e=this.rangedFilter_.matches(W);if(L.hasChild(a)){for(var Le=L.getImmediateChild(a),Ge=f.getChildAfterChild(this.index_,J,this.reverse_);null!=Ge&&(Ge.name===a||L.hasChild(Ge.name));)Ge=f.getChildAfterChild(this.index_,Ge,this.reverse_);var ft=null==Ge?1:C(Ge,W);if(_e&&!u.isEmpty()&&ft>=0)return null!=v&&v.trackChildChange(Ei(a,u,Le)),L.updateImmediateChild(a,u);null!=v&&v.trackChildChange(wt(a,Le));var Ct=L.updateImmediateChild(a,_.EMPTY_NODE);return null!=Ge&&this.rangedFilter_.matches(Ge)?(null!=v&&v.trackChildChange(Zn(Ge.name,Ge.node)),Ct.updateImmediateChild(Ge.name,Ge.node)):Ct}return u.isEmpty()?i:_e&&C(J,W)>=0?(null!=v&&(v.trackChildChange(wt(J.name,J.node)),v.trackChildChange(Zn(a,u))),L.updateImmediateChild(a,u).updateImmediateChild(J.name,_.EMPTY_NODE)):i},o}(),Ra=function(){function o(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}return o.prototype.hasStart=function(){return this.startSet_},o.prototype.hasStartAfter=function(){return this.startAfterSet_},o.prototype.hasEndBefore=function(){return this.endBeforeSet_},o.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},o.prototype.getIndexStartValue=function(){return(0,S.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},o.prototype.getIndexStartName=function(){return(0,S.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ce},o.prototype.hasEnd=function(){return this.endSet_},o.prototype.getIndexEndValue=function(){return(0,S.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},o.prototype.getIndexEndName=function(){return(0,S.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xe},o.prototype.hasLimit=function(){return this.limitSet_},o.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},o.prototype.getLimit=function(){return(0,S.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},o.prototype.getIndex=function(){return this.index_},o.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},o.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===hn},o.prototype.copy=function(){var i=new o;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i},o}();function Cs(o,i,a){var u=o.copy();return u.startSet_=!0,void 0===i&&(i=null),u.indexStartValue_=i,null!=a?(u.startNameSet_=!0,u.indexStartName_=a):(u.startNameSet_=!1,u.indexStartName_=""),u}function Ds(o,i,a){var u=o.copy();return u.endSet_=!0,void 0===i&&(i=null),u.indexEndValue_=i,void 0!==a?(u.endNameSet_=!0,u.indexEndName_=a):(u.endNameSet_=!1,u.indexEndName_=""),u}function Cr(o,i){var a=o.copy();return a.index_=i,a}function ws(o){var a,i={};return o.isDefault()||(o.index_===hn?a="$priority":o.index_===yn?a="$value":o.index_===Sr?a="$key":((0,S.hu)(o.index_ instanceof vt,"Unrecognized index type!"),a=o.index_.toString()),i.orderBy=(0,S.Pz)(a),o.startSet_&&(i.startAt=(0,S.Pz)(o.indexStartValue_),o.startNameSet_&&(i.startAt+=","+(0,S.Pz)(o.indexStartName_))),o.endSet_&&(i.endAt=(0,S.Pz)(o.indexEndValue_),o.endNameSet_&&(i.endAt+=","+(0,S.Pz)(o.indexEndName_))),o.limitSet_&&(o.isViewFromLeft()?i.limitToFirst=o.limit_:i.limitToLast=o.limit_)),i}function bi(o){var i={};if(o.startSet_&&(i.sp=o.indexStartValue_,o.startNameSet_&&(i.sn=o.indexStartName_)),o.endSet_&&(i.ep=o.indexEndValue_,o.endNameSet_&&(i.en=o.indexEndName_)),o.limitSet_){i.l=o.limit_;var a=o.viewFrom_;""===a&&(a=o.isViewFromLeft()?"l":"r"),i.vf=a}return o.index_!==hn&&(i.i=o.index_.toString()),i}var rc=function(o){function i(a,u,f,v){var C=o.call(this)||this;return C.repoInfo_=a,C.onDataUpdate_=u,C.authTokenProvider_=f,C.appCheckTokenProvider_=v,C.log_=_t("p:rest:"),C.listens_={},C}return(0,X.ZT)(i,o),i.prototype.reportStats=function(a){throw new Error("Method not implemented.")},i.getListenId_=function(a,u){return void 0!==u?"tag$"+u:((0,S.hu)(a._queryParams.isDefault(),"should have a tag if it's not a default query."),a._path.toString())},i.prototype.listen=function(a,u,f,v){var C=this,O=a._path.toString();this.log_("Listen called for "+O+" "+a._queryIdentifier);var L=i.getListenId_(a,f),W={};this.listens_[L]=W;var J=ws(a._queryParams);this.restRequest_(O+".json",J,function(_e,Le){var Ge=Le;404===_e&&(Ge=null,_e=null),null===_e&&C.onDataUpdate_(O,Ge,!1,f),(0,S.DV)(C.listens_,L)===W&&v(_e?401===_e?"permission_denied":"rest_error:"+_e:"ok",null)})},i.prototype.unlisten=function(a,u){var f=i.getListenId_(a,u);delete this.listens_[f]},i.prototype.get=function(a){var u=this,f=ws(a._queryParams),v=a._path.toString(),C=new S.BH;return this.restRequest_(v+".json",f,function(O,L){var W=L;404===O&&(W=null,O=null),null===O?(u.onDataUpdate_(v,W,!1,null),C.resolve(W)):C.reject(new Error(W))}),C.promise},i.prototype.refreshAuthToken=function(a){},i.prototype.restRequest_=function(a,u,f){var v=this;return void 0===u&&(u={}),u.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(C){var O=(0,X.CR)(C,2),L=O[0],W=O[1];L&&L.accessToken&&(u.auth=L.accessToken),W&&W.token&&(u.ac=W.token);var J=(v.repoInfo_.secure?"https://":"http://")+v.repoInfo_.host+a+"?ns="+v.repoInfo_.namespace+(0,S.xO)(u);v.log_("Sending REST request for "+J);var _e=new XMLHttpRequest;_e.onreadystatechange=function(){if(f&&4===_e.readyState){v.log_("REST Response for "+J+" received. status:",_e.status,"response:",_e.responseText);var Le=null;if(_e.status>=200&&_e.status<300){try{Le=(0,S.cI)(_e.responseText)}catch(Ge){Ht("Failed to parse JSON response for "+J+": "+_e.responseText)}f(null,Le)}else 401!==_e.status&&404!==_e.status&&Ht("Got unsuccessful REST response for "+J+" Status: "+_e.status),f(_e.status);f=null}},_e.open("GET",J,!0),_e.send()})},i}(we),jl=function(){function o(){this.rootNode_=_.EMPTY_NODE}return o.prototype.getNode=function(i){return this.rootNode_.getChild(i)},o.prototype.updateSnapshot=function(i,a){this.rootNode_=this.rootNode_.updateChild(i,a)},o}();function ji(){return{value:null,children:new Map}}function oi(o,i,a){if(lt(i))o.value=a,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(i,a);else{var u=mt(i);o.children.has(u)||o.children.set(u,ji()),oi(o.children.get(u),i=z(i),a)}}function Qn(o,i){if(lt(i))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;var a=o.value;return o.value=null,a.forEachChild(hn,function(v,C){oi(o,new Je(v),C)}),Qn(o,i)}if(o.children.size>0){var u=mt(i);return i=z(i),o.children.has(u)&&Qn(o.children.get(u),i)&&o.children.delete(u),0===o.children.size}return!0}function xr(o,i,a){null!==o.value?a(i,o.value):function(o,i){o.children.forEach(function(a,u){i(u,a)})}(o,function(u,f){xr(f,new Je(i.toString()+"/"+u),a)})}var Hi=function(){function o(i){this.collection_=i,this.last_=null}return o.prototype.get=function(){var i=this.collection_.get(),a=(0,X.pi)({},i);return this.last_&&tt(this.last_,function(u,f){a[u]=a[u]-f}),this.last_=i,a},o}(),Hl=function(){function o(i,a){this.server_=a,this.statsToReport_={},this.statsListener_=new Hi(i);var u=1e4+2e4*Math.random();Cn(this.reportStats_.bind(this),Math.floor(u))}return o.prototype.reportStats_=function(){var i=this,a=this.statsListener_.get(),u={},f=!1;tt(a,function(v,C){C>0&&(0,S.r3)(i.statsToReport_,v)&&(u[v]=C,f=!0)}),f&&this.server_.reportStats(u),Cn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},o}(),hr=(()=>(function(o){o[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(hr||(hr={})),hr))();function Is(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}var Oa=function(){function o(i,a,u){this.path=i,this.affectedTree=a,this.revert=u,this.type=hr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return o.prototype.operationForChild=function(i){if(lt(this.path)){if(null!=this.affectedTree.value)return(0,S.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var a=this.affectedTree.subtree(new Je(i));return new o(Qe(),a,this.revert)}return(0,S.hu)(mt(this.path)===i,"operationForChild called for unrelated child."),new o(z(this.path),this.affectedTree,this.revert)},o}(),Ts=function(){function o(i,a){this.source=i,this.path=a,this.type=hr.LISTEN_COMPLETE}return o.prototype.operationForChild=function(i){return lt(this.path)?new o(this.source,Qe()):new o(this.source,z(this.path))},o}(),Ci=function(){function o(i,a,u){this.source=i,this.path=a,this.snap=u,this.type=hr.OVERWRITE}return o.prototype.operationForChild=function(i){return lt(this.path)?new o(this.source,Qe(),this.snap.getImmediateChild(i)):new o(this.source,z(this.path),this.snap)},o}(),Wo=function(){function o(i,a,u){this.source=i,this.path=a,this.children=u,this.type=hr.MERGE}return o.prototype.operationForChild=function(i){if(lt(this.path)){var a=this.children.subtree(new Je(i));return a.isEmpty()?null:a.value?new Ci(this.source,Qe(),a.value):new o(this.source,Qe(),a)}return(0,S.hu)(mt(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new o(this.source,z(this.path),this.children)},o.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},o}(),si=function(){function o(i,a,u){this.node_=i,this.fullyInitialized_=a,this.filtered_=u}return o.prototype.isFullyInitialized=function(){return this.fullyInitialized_},o.prototype.isFiltered=function(){return this.filtered_},o.prototype.isCompleteForPath=function(i){if(lt(i))return this.isFullyInitialized()&&!this.filtered_;var a=mt(i);return this.isCompleteForChild(a)},o.prototype.isCompleteForChild=function(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)},o.prototype.getNode=function(){return this.node_},o}(),Na=function(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()};function Di(o,i,a,u,f,v){var C=u.filter(function(O){return O.type===a});C.sort(function(O,L){return function(o,i,a){if(null==i.childName||null==a.childName)throw(0,S.g5)("Should only compare child_ events.");var u=new qt(i.childName,i.snapshotNode),f=new qt(a.childName,a.snapshotNode);return o.index_.compare(u,f)}(o,O,L)}),C.forEach(function(O){var L=function(o,i,a){return"value"===i.type||"child_removed"===i.type||(i.prevName=a.getPredecessorChildName(i.childName,i.snapshotNode,o.index_)),i}(o,O,v);f.forEach(function(W){W.respondsTo(O.type)&&i.push(W.createEvent(L,o.query_))})})}function Yn(o,i){return{eventCache:o,serverCache:i}}function Pr(o,i,a,u){return Yn(new si(i,a,u),o.serverCache)}function An(o,i,a,u){return Yn(o.eventCache,new si(i,a,u))}function fo(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function wi(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}var Js,Dr=function(){function o(i,a){void 0===a&&(Js||(Js=new fr(Ye)),a=Js),this.value=i,this.children=a}return o.fromObject=function(i){var a=new o(null);return tt(i,function(u,f){a=a.set(new Je(u),f)}),a},o.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},o.prototype.findRootMostMatchingPathAndValue=function(i,a){if(null!=this.value&&a(this.value))return{path:Qe(),value:this.value};if(lt(i))return null;var u=mt(i),f=this.children.get(u);if(null!==f){var v=f.findRootMostMatchingPathAndValue(z(i),a);return null!=v?{path:je(new Je(u),v.path),value:v.value}:null}return null},o.prototype.findRootMostValueAndPath=function(i){return this.findRootMostMatchingPathAndValue(i,function(){return!0})},o.prototype.subtree=function(i){if(lt(i))return this;var a=mt(i),u=this.children.get(a);return null!==u?u.subtree(z(i)):new o(null)},o.prototype.set=function(i,a){if(lt(i))return new o(a,this.children);var u=mt(i),v=(this.children.get(u)||new o(null)).set(z(i),a),C=this.children.insert(u,v);return new o(this.value,C)},o.prototype.remove=function(i){if(lt(i))return this.children.isEmpty()?new o(null):new o(null,this.children);var a=mt(i),u=this.children.get(a);if(u){var f=u.remove(z(i)),v=void 0;return v=f.isEmpty()?this.children.remove(a):this.children.insert(a,f),null===this.value&&v.isEmpty()?new o(null):new o(this.value,v)}return this},o.prototype.get=function(i){if(lt(i))return this.value;var a=mt(i),u=this.children.get(a);return u?u.get(z(i)):null},o.prototype.setTree=function(i,a){if(lt(i))return a;var C,u=mt(i),v=(this.children.get(u)||new o(null)).setTree(z(i),a);return C=v.isEmpty()?this.children.remove(u):this.children.insert(u,v),new o(this.value,C)},o.prototype.fold=function(i){return this.fold_(Qe(),i)},o.prototype.fold_=function(i,a){var u={};return this.children.inorderTraversal(function(f,v){u[f]=v.fold_(je(i,f),a)}),a(i,this.value,u)},o.prototype.findOnPath=function(i,a){return this.findOnPath_(i,Qe(),a)},o.prototype.findOnPath_=function(i,a,u){var f=!!this.value&&u(a,this.value);if(f)return f;if(lt(i))return null;var v=mt(i),C=this.children.get(v);return C?C.findOnPath_(z(i),je(a,v),u):null},o.prototype.foreachOnPath=function(i,a){return this.foreachOnPath_(i,Qe(),a)},o.prototype.foreachOnPath_=function(i,a,u){if(lt(i))return this;this.value&&u(a,this.value);var f=mt(i),v=this.children.get(f);return v?v.foreachOnPath_(z(i),je(a,f),u):new o(null)},o.prototype.foreach=function(i){this.foreach_(Qe(),i)},o.prototype.foreach_=function(i,a){this.children.inorderTraversal(function(u,f){f.foreach_(je(i,u),a)}),this.value&&a(i,this.value)},o.prototype.foreachChild=function(i){this.children.inorderTraversal(function(a,u){u.value&&i(a,u.value)})},o}(),ai=function(){function o(i){this.writeTree_=i}return o.empty=function(){return new o(new Dr(null))},o}();function Ii(o,i,a){if(lt(i))return new ai(new Dr(a));var u=o.writeTree_.findRootMostValueAndPath(i);if(null!=u){var f=u.path,v=u.value,C=kt(f,i);return v=v.updateChild(C,a),new ai(o.writeTree_.set(f,v))}var O=new Dr(a),L=o.writeTree_.setTree(i,O);return new ai(L)}function po(o,i,a){var u=o;return tt(a,function(f,v){u=Ii(u,je(i,f),v)}),u}function go(o,i){if(lt(i))return ai.empty();var a=o.writeTree_.setTree(i,new Dr(null));return new ai(a)}function $o(o,i){return null!=Ti(o,i)}function Ti(o,i){var a=o.writeTree_.findRootMostValueAndPath(i);return null!=a?o.writeTree_.get(a.path).getChild(kt(a.path,i)):null}function Jn(o){var i=[],a=o.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(hn,function(u,f){i.push(new qt(u,f))}):o.writeTree_.children.inorderTraversal(function(u,f){null!=f.value&&i.push(new qt(u,f.value))}),i}function tr(o,i){if(lt(i))return o;var a=Ti(o,i);return new ai(null!=a?new Dr(a):o.writeTree_.subtree(i))}function Zr(o){return o.writeTree_.isEmpty()}function Si(o,i){return Go(Qe(),o.writeTree_,i)}function Go(o,i,a){if(null!=i.value)return a.updateChild(o,i.value);var u=null;return i.children.inorderTraversal(function(f,v){".priority"===f?((0,S.hu)(null!==v.value,"Priority writes must always be leaf nodes"),u=v.value):a=Go(je(o,f),v,a)}),!a.getChild(o).isEmpty()&&null!==u&&(a=a.updateChild(je(o,".priority"),u)),a}function wr(o,i){return Rs(i,o)}function Yl(o,i){if(o.snap)return Wn(o.path,i);for(var a in o.children)if(o.children.hasOwnProperty(a)&&Wn(je(o.path,a),i))return!0;return!1}function ta(o){return o.visible}function Yo(o,i,a){for(var u=ai.empty(),f=0;f<o.length;++f){var v=o[f];if(i(v)){var C=v.path,O=void 0;if(v.snap)Wn(a,C)?u=Ii(u,O=kt(a,C),v.snap):Wn(C,a)&&(O=kt(C,a),u=Ii(u,Qe(),v.snap.getChild(O)));else{if(!v.children)throw(0,S.g5)("WriteRecord should have .snap or .children");if(Wn(a,C))u=po(u,O=kt(a,C),v.children);else if(Wn(C,a))if(lt(O=kt(C,a)))u=po(u,Qe(),v.children);else{var L=(0,S.DV)(v.children,mt(O));if(L){var W=L.getChild(z(O));u=Ii(u,Qe(),W)}}}}}return u}function Wi(o,i,a,u,f){if(u||f){var L=tr(o.visibleWrites,i);return!f&&Zr(L)?a:f||null!=a||$o(L,Qe())?Si(Yo(o.allWrites,function(Le){return(Le.visible||f)&&(!u||!~u.indexOf(Le.writeId))&&(Wn(Le.path,i)||Wn(i,Le.path))},i),a||_.EMPTY_NODE):null}var v=Ti(o.visibleWrites,i);if(null!=v)return v;var C=tr(o.visibleWrites,i);return Zr(C)?a:null!=a||$o(C,Qe())?Si(C,a||_.EMPTY_NODE):null}function Gi(o,i,a,u){return Wi(o.writeTree,o.treePath,i,a,u)}function La(o,i){return function(o,i,a){var u=_.EMPTY_NODE,f=Ti(o.visibleWrites,i);if(f)return f.isLeafNode()||f.forEachChild(hn,function(O,L){u=u.updateImmediateChild(O,L)}),u;if(a){var v=tr(o.visibleWrites,i);return a.forEachChild(hn,function(O,L){var W=Si(tr(v,new Je(O)),L);u=u.updateImmediateChild(O,W)}),Jn(v).forEach(function(O){u=u.updateImmediateChild(O.name,O.node)}),u}return Jn(tr(o.visibleWrites,i)).forEach(function(O){u=u.updateImmediateChild(O.name,O.node)}),u}(o.writeTree,o.treePath,i)}function ra(o,i,a,u){return function(o,i,a,u,f){(0,S.hu)(u||f,"Either existingEventSnap or existingServerSnap must exist");var v=je(i,a);if($o(o.visibleWrites,v))return null;var C=tr(o.visibleWrites,v);return Zr(C)?f.getChild(a):Si(C,f.getChild(a))}(o.writeTree,o.treePath,i,a,u)}function zo(o,i){return function(o,i){return Ti(o.visibleWrites,i)}(o.writeTree,je(o.treePath,i))}function ia(o,i,a){return function(o,i,a,u){var f=je(i,a),v=Ti(o.visibleWrites,f);return null!=v?v:u.isCompleteForChild(a)?Si(tr(o.visibleWrites,f),u.getNode().getImmediateChild(a)):null}(o.writeTree,o.treePath,i,a)}function vo(o,i){return Rs(je(o.treePath,i),o.writeTree)}function Rs(o,i){return{treePath:o,writeTree:i}}var Ko=function(){function o(){this.changeMap=new Map}return o.prototype.trackChildChange=function(i){var a=i.type,u=i.childName;(0,S.hu)("child_added"===a||"child_changed"===a||"child_removed"===a,"Only child changes supported for tracking"),(0,S.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");var f=this.changeMap.get(u);if(f){var v=f.type;if("child_added"===a&&"child_removed"===v)this.changeMap.set(u,Ei(u,i.snapshotNode,f.snapshotNode));else if("child_removed"===a&&"child_added"===v)this.changeMap.delete(u);else if("child_removed"===a&&"child_changed"===v)this.changeMap.set(u,wt(u,f.oldSnap));else if("child_changed"===a&&"child_added"===v)this.changeMap.set(u,Zn(u,i.snapshotNode));else{if("child_changed"!==a||"child_changed"!==v)throw(0,S.g5)("Illegal combination of changes: "+i+" occurred after "+f);this.changeMap.set(u,Ei(u,i.snapshotNode,f.oldSnap))}}else this.changeMap.set(u,i)},o.prototype.getChanges=function(){return Array.from(this.changeMap.values())},o}(),Qo=new(function(){function o(){}return o.prototype.getCompleteChild=function(i){return null},o.prototype.getChildAfterChild=function(i,a,u){return null},o}()),Ms=function(){function o(i,a,u){void 0===u&&(u=null),this.writes_=i,this.viewCache_=a,this.optCompleteServerCache_=u}return o.prototype.getCompleteChild=function(i){var a=this.viewCache_.eventCache;if(a.isCompleteForChild(i))return a.getNode().getImmediateChild(i);var u=null!=this.optCompleteServerCache_?new si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ia(this.writes_,i,u)},o.prototype.getChildAfterChild=function(i,a,u){var f=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wi(this.viewCache_),v=function(o,i,a,u,f,v){return function(o,i,a,u,f,v,C){var O,L=tr(o.visibleWrites,i),W=Ti(L,Qe());if(null!=W)O=W;else{if(null==a)return[];O=Si(L,a)}if((O=O.withIndex(C)).isEmpty()||O.isLeafNode())return[];for(var J=[],_e=C.getCompare(),Le=v?O.getReverseIteratorFrom(u,C):O.getIteratorFrom(u,C),Ge=Le.getNext();Ge&&J.length<f;)0!==_e(Ge,u)&&J.push(Ge),Ge=Le.getNext();return J}(o.writeTree,o.treePath,i,a,u,f,v)}(this.writes_,f,a,1,u,i);return 0===v.length?null:v[0]},o}();function h(o,i,a,u,f,v){var C=i.eventCache;if(null!=zo(u,a))return i;var O=void 0,L=void 0;if(lt(a))if((0,S.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){var W=wi(i),_e=La(u,W instanceof _?W:_.EMPTY_NODE);O=o.filter.updateFullNode(i.eventCache.getNode(),_e,v)}else{var Le=Gi(u,wi(i));O=o.filter.updateFullNode(i.eventCache.getNode(),Le,v)}else{var Ge=mt(a);if(".priority"===Ge){(0,S.hu)(1===ie(a),"Can't have a priority with additional path components");var ft=C.getNode(),Ot=ra(u,a,ft,L=i.serverCache.getNode());O=null!=Ot?o.filter.updatePriority(ft,Ot):C.getNode()}else{var Ct=z(a),Wt=void 0;if(C.isCompleteForChild(Ge)){L=i.serverCache.getNode();var Vn=ra(u,a,C.getNode(),L);Wt=null!=Vn?C.getNode().getImmediateChild(Ge).updateChild(Ct,Vn):C.getNode().getImmediateChild(Ge)}else Wt=ia(u,Ge,i.serverCache);O=null!=Wt?o.filter.updateChild(C.getNode(),Ge,Wt,Ct,f,v):C.getNode()}}return Pr(i,O,C.isFullyInitialized()||lt(a),o.filter.filtersNodes())}function E(o,i,a,u,f,v,C,O){var W,L=i.serverCache,J=C?o.filter:o.filter.getIndexedFilter();if(lt(a))W=J.updateFullNode(L.getNode(),u,null);else if(J.filtersNodes()&&!L.isFiltered()){var _e=L.getNode().updateChild(a,u);W=J.updateFullNode(L.getNode(),_e,null)}else{var Le=mt(a);if(!L.isCompleteForPath(a)&&ie(a)>1)return i;var Ge=z(a),Ot=L.getNode().getImmediateChild(Le).updateChild(Ge,u);W=".priority"===Le?J.updatePriority(L.getNode(),Ot):J.updateChild(L.getNode(),Le,Ot,Ge,Qo,null)}var Ct=An(i,W,L.isFullyInitialized()||lt(a),J.filtersNodes());return h(o,Ct,a,f,new Ms(f,Ct,v),O)}function D(o,i,a,u,f,v,C){var L,W,O=i.eventCache,J=new Ms(f,i,v);if(lt(a))W=o.filter.updateFullNode(i.eventCache.getNode(),u,C),L=Pr(i,W,!0,o.filter.filtersNodes());else{var _e=mt(a);if(".priority"===_e)W=o.filter.updatePriority(i.eventCache.getNode(),u),L=Pr(i,W,O.isFullyInitialized(),O.isFiltered());else{var Le=z(a),Ge=O.getNode().getImmediateChild(_e),ft=void 0;if(lt(Le))ft=u;else{var Ot=J.getCompleteChild(_e);ft=null!=Ot?".priority"===U(Le)&&Ot.getChild(qe(Le)).isEmpty()?Ot:Ot.updateChild(Le,u):_.EMPTY_NODE}L=Ge.equals(ft)?i:Pr(i,o.filter.updateChild(O.getNode(),_e,ft,Le,J,C),O.isFullyInitialized(),o.filter.filtersNodes())}}return L}function P(o,i){return o.eventCache.isCompleteForChild(i)}function re(o,i,a){return a.foreach(function(u,f){i=i.updateChild(u,f)}),i}function Pe(o,i,a,u,f,v,C,O){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;var W,L=i;W=lt(a)?u:new Dr(null).setTree(a,u);var J=i.serverCache.getNode();return W.children.inorderTraversal(function(_e,Le){if(J.hasChild(_e)){var ft=re(0,i.serverCache.getNode().getImmediateChild(_e),Le);L=E(o,L,new Je(_e),ft,f,v,C,O)}}),W.children.inorderTraversal(function(_e,Le){var Ge=!i.serverCache.isCompleteForChild(_e)&&void 0===Le.value;if(!J.hasChild(_e)&&!Ge){var Ot=re(0,i.serverCache.getNode().getImmediateChild(_e),Le);L=E(o,L,new Je(_e),Ot,f,v,C,O)}}),L}var En=function(){function o(i,a){this.query_=i,this.eventRegistrations_=[];var u=this.query_._queryParams,f=new Xs(u.getIndex()),v=function(o){return o.loadsAllData()?new Xs(o.getIndex()):o.hasLimit()?new bs(o):new Sa(o)}(u);this.processor_=function(o){return{filter:o}}(v);var C=a.serverCache,O=a.eventCache,L=f.updateFullNode(_.EMPTY_NODE,C.getNode(),null),W=v.updateFullNode(_.EMPTY_NODE,O.getNode(),null),J=new si(L,C.isFullyInitialized(),f.filtersNodes()),_e=new si(W,O.isFullyInitialized(),v.filtersNodes());this.viewCache_=Yn(_e,J),this.eventGenerator_=new Na(this.query_)}return Object.defineProperty(o.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),o}();function pr(o,i){var a=wi(o.viewCache_);return a&&(o.query._queryParams.loadsAllData()||!lt(i)&&!a.getImmediateChild(mt(i)).isEmpty())?a.getChild(i):null}function nr(o){return 0===o.eventRegistrations_.length}function rr(o,i,a){var u=[];if(a){(0,S.hu)(null==i,"A cancel should cancel all event registrations.");var f=o.query._path;o.eventRegistrations_.forEach(function(L){var W=L.createCancelEvent(a,f);W&&u.push(W)})}if(i){for(var v=[],C=0;C<o.eventRegistrations_.length;++C){var O=o.eventRegistrations_[C];if(O.matches(i)){if(i.hasAnyCallback()){v=v.concat(o.eventRegistrations_.slice(C+1));break}}else v.push(O)}o.eventRegistrations_=v}else o.eventRegistrations_=[];return u}function Ai(o,i,a,u){i.type===hr.MERGE&&null!==i.source.queryId&&((0,S.hu)(wi(o.viewCache_),"We should always have a full cache before handling merges"),(0,S.hu)(fo(o.viewCache_),"Missing event cache, even though we have a server cache"));var f=o.viewCache_,v=function(o,i,a,u,f){var C,O,v=new Ko;if(a.type===hr.OVERWRITE){var L=a;L.source.fromUser?C=D(o,i,L.path,L.snap,u,f,v):((0,S.hu)(L.source.fromServer,"Unknown source."),O=L.source.tagged||i.serverCache.isFiltered()&&!lt(L.path),C=E(o,i,L.path,L.snap,u,f,O,v))}else if(a.type===hr.MERGE){var W=a;W.source.fromUser?C=function(o,i,a,u,f,v,C){var O=i;return u.foreach(function(L,W){var J=je(a,L);P(i,mt(J))&&(O=D(o,O,J,W,f,v,C))}),u.foreach(function(L,W){var J=je(a,L);P(i,mt(J))||(O=D(o,O,J,W,f,v,C))}),O}(o,i,W.path,W.children,u,f,v):((0,S.hu)(W.source.fromServer,"Unknown source."),O=W.source.tagged||i.serverCache.isFiltered(),C=Pe(o,i,W.path,W.children,u,f,O,v))}else if(a.type===hr.ACK_USER_WRITE){var J=a;C=J.revert?function(o,i,a,u,f,v){var C;if(null!=zo(u,a))return i;var O=new Ms(u,i,f),L=i.eventCache.getNode(),W=void 0;if(lt(a)||".priority"===mt(a)){var J=void 0;if(i.serverCache.isFullyInitialized())J=Gi(u,wi(i));else{var _e=i.serverCache.getNode();(0,S.hu)(_e instanceof _,"serverChildren would be complete if leaf node"),J=La(u,_e)}W=o.filter.updateFullNode(L,J=J,v)}else{var Le=mt(a),Ge=ia(u,Le,i.serverCache);null==Ge&&i.serverCache.isCompleteForChild(Le)&&(Ge=L.getImmediateChild(Le)),(W=null!=Ge?o.filter.updateChild(L,Le,Ge,z(a),O,v):i.eventCache.getNode().hasChild(Le)?o.filter.updateChild(L,Le,_.EMPTY_NODE,z(a),O,v):L).isEmpty()&&i.serverCache.isFullyInitialized()&&(C=Gi(u,wi(i))).isLeafNode()&&(W=o.filter.updateFullNode(W,C,v))}return C=i.serverCache.isFullyInitialized()||null!=zo(u,Qe()),Pr(i,W,C,o.filter.filtersNodes())}(o,i,J.path,u,f,v):function(o,i,a,u,f,v,C){if(null!=zo(f,a))return i;var O=i.serverCache.isFiltered(),L=i.serverCache;if(null!=u.value){if(lt(a)&&L.isFullyInitialized()||L.isCompleteForPath(a))return E(o,i,a,L.getNode().getChild(a),f,v,O,C);if(lt(a)){var W=new Dr(null);return L.getNode().forEachChild(Sr,function(_e,Le){W=W.set(new Je(_e),Le)}),Pe(o,i,a,W,f,v,O,C)}return i}var J=new Dr(null);return u.foreach(function(_e,Le){var Ge=je(a,_e);L.isCompleteForPath(Ge)&&(J=J.set(_e,L.getNode().getChild(Ge)))}),Pe(o,i,a,J,f,v,O,C)}(o,i,J.path,J.affectedTree,u,f,v)}else{if(a.type!==hr.LISTEN_COMPLETE)throw(0,S.g5)("Unknown operation type: "+a.type);C=function(o,i,a,u,f){var v=i.serverCache;return h(o,An(i,v.getNode(),v.isFullyInitialized()||lt(a),v.isFiltered()),a,u,Qo,f)}(o,i,a.path,u,v)}var _e=v.getChanges();return function(o,i,a){var u=i.eventCache;if(u.isFullyInitialized()){var f=u.getNode().isLeafNode()||u.getNode().isEmpty(),v=fo(o);(a.length>0||!o.eventCache.isFullyInitialized()||f&&!u.getNode().equals(v)||!u.getNode().getPriority().equals(v.getPriority()))&&a.push(Hr(fo(i)))}}(i,C,_e),{viewCache:C,changes:_e}}(o.processor_,f,i,a,u);return function(o,i){(0,S.hu)(i.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,S.hu)(i.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,v.viewCache),(0,S.hu)(v.viewCache.serverCache.isFullyInitialized()||!f.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=v.viewCache,oc(o,v.changes,v.viewCache.eventCache.getNode(),null)}function oc(o,i,a,u){return function(o,i,a,u){var f=[],v=[];return i.forEach(function(C){"child_changed"===C.type&&o.index_.indexedValueChanged(C.oldSnap,C.snapshotNode)&&v.push(function(o,i){return{type:"child_moved",snapshotNode:i,childName:o}}(C.childName,C.snapshotNode))}),Di(o,f,"child_removed",i,u,a),Di(o,f,"child_added",i,u,a),Di(o,f,"child_moved",v,u,a),Di(o,f,"child_changed",i,u,a),Di(o,f,"value",i,u,a),f}(o.eventGenerator_,i,a,u?[u]:o.eventRegistrations_)}var Xl,Zl,sc=function(){this.views=new Map};function lc(o,i,a,u){var f,v,C=i.source.queryId;if(null!==C){var O=o.views.get(C);return(0,S.hu)(null!=O,"SyncTree gave us an op for an invalid query."),Ai(O,i,a,u)}var L=[];try{for(var W=(0,X.XA)(o.views.values()),J=W.next();!J.done;J=W.next())L=L.concat(Ai(O=J.value,i,a,u))}catch(_e){f={error:_e}}finally{try{J&&!J.done&&(v=W.return)&&v.call(W)}finally{if(f)throw f.error}}return L}function Nd(o,i,a,u,f){var C=o.views.get(i._queryIdentifier);if(!C){var O=Gi(a,f?u:null),L=!1;O?L=!0:u instanceof _?(O=La(a,u),L=!1):(O=_.EMPTY_NODE,L=!1);var W=Yn(new si(O,L,!1),new si(u,f,!1));return new En(i,W)}return C}function Fd(o){var i,a,u=[];try{for(var f=(0,X.XA)(o.views.values()),v=f.next();!v.done;v=f.next()){var C=v.value;C.query._queryParams.loadsAllData()||u.push(C)}}catch(O){i={error:O}}finally{try{v&&!v.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return u}function Xo(o,i){var a,u,f=null;try{for(var v=(0,X.XA)(o.views.values()),C=v.next();!C.done;C=v.next())f=f||pr(C.value,i)}catch(L){a={error:L}}finally{try{C&&!C.done&&(u=v.return)&&u.call(v)}finally{if(a)throw a.error}}return f}function Ld(o,i){return i._queryParams.loadsAllData()?yo(o):o.views.get(i._queryIdentifier)}function kd(o,i){return null!=Ld(o,i)}function Zo(o){return null!=yo(o)}function yo(o){var i,a;try{for(var u=(0,X.XA)(o.views.values()),f=u.next();!f.done;f=u.next()){var v=f.value;if(v.query._queryParams.loadsAllData())return v}}catch(C){i={error:C}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return null}var ja=1,Vd=function(i){this.listenProvider_=i,this.syncPointTree_=new Dr(null),this.pendingWriteTree_={visibleWrites:ai.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Jl(o,i,a,u,f){return function(o,i,a,u,f){(0,S.hu)(u>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===f&&(f=!0),o.allWrites.push({path:i,snap:a,writeId:u,visible:f}),f&&(o.visibleWrites=Ii(o.visibleWrites,i,a)),o.lastWriteId=u}(o.pendingWriteTree_,i,a,u,f),f?bo(o,new Ci({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,a)):[]}function ir(o,i,a){void 0===a&&(a=!1);var u=function(o,i){for(var a=0;a<o.allWrites.length;a++){var u=o.allWrites[a];if(u.writeId===i)return u}return null}(o.pendingWriteTree_,i);if(function(o,i){var a=o.allWrites.findIndex(function(W){return W.writeId===i});(0,S.hu)(a>=0,"removeWrite called with nonexistent writeId.");var u=o.allWrites[a];o.allWrites.splice(a,1);for(var f=u.visible,v=!1,C=o.allWrites.length-1;f&&C>=0;){var O=o.allWrites[C];O.visible&&(C>=a&&Yl(O,u.path)?f=!1:Wn(u.path,O.path)&&(v=!0)),C--}return!!f&&(v?(function(o){o.visibleWrites=Yo(o.allWrites,ta,Qe()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(u.snap?o.visibleWrites=go(o.visibleWrites,u.path):tt(u.children,function(W){o.visibleWrites=go(o.visibleWrites,je(u.path,W))}),!0))}(o.pendingWriteTree_,i)){var v=new Dr(null);return null!=u.snap?v=v.set(Qe(),!0):tt(u.children,function(C){v=v.set(new Je(C),!0)}),bo(o,new Oa(u.path,v,a))}return[]}function _o(o,i,a){return bo(o,new Ci({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,a))}function ql(o,i,a,u){var f=i._path,v=o.syncPointTree_.get(f),C=[];if(v&&("default"===i._queryIdentifier||kd(v,i))){var O=function(o,i,a,u){var f,v,C=i._queryIdentifier,O=[],L=[],W=Zo(o);if("default"===C)try{for(var J=(0,X.XA)(o.views.entries()),_e=J.next();!_e.done;_e=J.next()){var ft,Le=(0,X.CR)(_e.value,2),Ge=Le[0];L=L.concat(rr(ft=Le[1],a,u)),nr(ft)&&(o.views.delete(Ge),ft.query._queryParams.loadsAllData()||O.push(ft.query))}}catch(Ot){f={error:Ot}}finally{try{_e&&!_e.done&&(v=J.return)&&v.call(J)}finally{if(f)throw f.error}}else(ft=o.views.get(C))&&(L=L.concat(rr(ft,a,u)),nr(ft)&&(o.views.delete(C),ft.query._queryParams.loadsAllData()||O.push(ft.query)));return W&&!Zo(o)&&O.push(new((0,S.hu)(Xl,"Reference.ts has not been loaded"),Xl)(i._repo,i._path)),{removed:O,events:L}}(v,i,a,u);(function(o){return 0===o.views.size})(v)&&(o.syncPointTree_=o.syncPointTree_.remove(f));var L=O.removed;C=O.events;var W=-1!==L.findIndex(function(Vn){return Vn._queryParams.loadsAllData()}),J=o.syncPointTree_.findOnPath(f,function(Vn,fi){return Zo(fi)});if(W&&!J){var _e=o.syncPointTree_.subtree(f);if(!_e.isEmpty())for(var Le=function(o){return o.fold(function(i,a,u){if(a&&Zo(a))return[yo(a)];var v=[];return a&&(v=Fd(a)),tt(u,function(C,O){v=v.concat(O)}),v})}(_e),Ge=0;Ge<Le.length;++Ge){var ft=Le[Ge],Ot=ft.query,Ct=eu(o,ft);o.listenProvider_.startListening(es(Ot),Ha(o,Ot),Ct.hashFn,Ct.onComplete)}}!J&&L.length>0&&!u&&(W?o.listenProvider_.stopListening(es(i),null):L.forEach(function(Vn){var fi=o.queryToTagMap.get(Wa(Vn));o.listenProvider_.stopListening(es(Vn),fi)})),function(o,i){for(var a=0;a<i.length;++a){var u=i[a];if(!u._queryParams.loadsAllData()){var f=Wa(u),v=o.queryToTagMap.get(f);o.queryToTagMap.delete(f),o.tagToQueryMap.delete(v)}}}(o,L)}return C}function Ud(o,i,a){var u=i._path,f=null,v=!1;o.syncPointTree_.foreachOnPath(u,function(Ot,Ct){var Wt=kt(Ot,u);f=f||Xo(Ct,Wt),v=v||Zo(Ct)});var O,C=o.syncPointTree_.get(u);C?(v=v||Zo(C),f=f||Xo(C,Qe())):(C=new sc,o.syncPointTree_=o.syncPointTree_.set(u,C)),null!=f?O=!0:(O=!1,f=_.EMPTY_NODE,o.syncPointTree_.subtree(u).foreachChild(function(Ot,Ct){var Wt=Xo(Ct,Qe());Wt&&(f=f.updateImmediateChild(Ot,Wt))}));var W=kd(C,i);if(!W&&!i._queryParams.loadsAllData()){var J=Wa(i);(0,S.hu)(!o.queryToTagMap.has(J),"View does not exist, but we have a tag");var _e=ja++;o.queryToTagMap.set(J,_e),o.tagToQueryMap.set(_e,J)}var Ge=function(o,i,a,u,f,v){var C=Nd(o,i,u,f,v);return o.views.has(i._queryIdentifier)||o.views.set(i._queryIdentifier,C),function(o,i){o.eventRegistrations_.push(i)}(C,a),function(o,i){var a=o.viewCache_.eventCache,u=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(hn,function(v,C){u.push(Zn(v,C))}),a.isFullyInitialized()&&u.push(Hr(a.getNode())),oc(o,u,a.getNode(),i)}(C,a)}(C,i,a,wr(o.pendingWriteTree_,u),f,O);if(!W&&!v){var ft=Ld(C,i);Ge=Ge.concat(function(o,i,a){var u=i._path,f=Ha(o,i),v=eu(o,a),C=o.listenProvider_.startListening(es(i),f,v.hashFn,v.onComplete),O=o.syncPointTree_.subtree(u);if(f)(0,S.hu)(!Zo(O.value),"If we're adding a query, it shouldn't be shadowed");else for(var L=O.fold(function(_e,Le,Ge){if(!lt(_e)&&Le&&Zo(Le))return[yo(Le).query];var ft=[];return Le&&(ft=ft.concat(Fd(Le).map(function(Ot){return Ot.query}))),tt(Ge,function(Ot,Ct){ft=ft.concat(Ct)}),ft}),W=0;W<L.length;++W){var J=L[W];o.listenProvider_.stopListening(es(J),Ha(o,J))}return C}(o,i,ft))}return Ge}function oa(o,i,a){var f=o.pendingWriteTree_,v=o.syncPointTree_.findOnPath(i,function(C,O){var W=Xo(O,kt(C,i));if(W)return W});return Wi(f,i,v,a,!0)}function bo(o,i){return qo(i,o.syncPointTree_,null,wr(o.pendingWriteTree_,Qe()))}function qo(o,i,a,u){if(lt(o.path))return jd(o,i,a,u);var f=i.get(Qe());null==a&&null!=f&&(a=Xo(f,Qe()));var v=[],C=mt(o.path),O=o.operationForChild(C),L=i.children.get(C);if(L&&O){var W=a?a.getImmediateChild(C):null,J=vo(u,C);v=v.concat(qo(O,L,W,J))}return f&&(v=v.concat(lc(f,o,u,a))),v}function jd(o,i,a,u){var f=i.get(Qe());null==a&&null!=f&&(a=Xo(f,Qe()));var v=[];return i.children.inorderTraversal(function(C,O){var L=a?a.getImmediateChild(C):null,W=vo(u,C),J=o.operationForChild(C);J&&(v=v.concat(jd(J,O,L,W)))}),f&&(v=v.concat(lc(f,o,u,a))),v}function eu(o,i){var a=i.query,u=Ha(o,a);return{hashFn:function(){return(function(o){return o.viewCache_.serverCache.getNode()}(i)||_.EMPTY_NODE).hash()},onComplete:function(f){if("ok"===f)return u?function(o,i,a){var u=tu(o,a);if(u){var f=nu(u),v=f.path,C=f.queryId,O=kt(v,i);return ru(o,v,new Ts(Is(C),O))}return[]}(o,a._path,u):function(o,i){return bo(o,new Ts({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(o,a._path);var v=function(o,i){var a="Unknown Error";"too_big"===o?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?a="Client doesn't have permission to access the desired data.":"unavailable"===o&&(a="The service is unavailable");var u=new Error(o+" at "+i._path.toString()+": "+a);return u.code=o.toUpperCase(),u}(f,a);return ql(o,a,null,v)}}}function Ha(o,i){var a=Wa(i);return o.queryToTagMap.get(a)}function Wa(o){return o._path.toString()+"$"+o._queryIdentifier}function tu(o,i){return o.tagToQueryMap.get(i)}function nu(o){var i=o.indexOf("$");return(0,S.hu)(-1!==i&&i<o.length-1,"Bad queryKey."),{queryId:o.substr(i+1),path:new Je(o.substr(0,i))}}function ru(o,i,a){var u=o.syncPointTree_.get(i);return(0,S.hu)(u,"Missing sync point for query tag that we're tracking"),lc(u,a,wr(o.pendingWriteTree_,i),null)}function es(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new((0,S.hu)(Zl,"Reference.ts has not been loaded"),Zl)(o._repo,o._path):o}var iu=function(){function o(i){this.node_=i}return o.prototype.getImmediateChild=function(i){return new o(this.node_.getImmediateChild(i))},o.prototype.node=function(){return this.node_},o}(),xs=function(){function o(i,a){this.syncTree_=i,this.path_=a}return o.prototype.getImmediateChild=function(i){var a=je(this.path_,i);return new o(this.syncTree_,a)},o.prototype.node=function(){return oa(this.syncTree_,this.path_)},o}(),cc=function(o,i,a){return o&&"object"==typeof o?((0,S.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?Wd(o[".sv"],i,a):"object"==typeof o[".sv"]?ou(o[".sv"],i):void(0,S.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},Wd=function(o,i,a){switch(o){case"timestamp":return a.timestamp;default:(0,S.hu)(!1,"Unexpected server value: "+o)}},ou=function(o,i,a){o.hasOwnProperty("increment")||(0,S.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));var u=o.increment;"number"!=typeof u&&(0,S.hu)(!1,"Unexpected increment value: "+u);var f=i.node();if((0,S.hu)(null!=f,"Expected ChildrenNode.EMPTY_NODE for nulls"),!f.isLeafNode())return u;var C=f.getValue();return"number"!=typeof C?u:C+u},$d=function(o,i,a,u){return ts(i,new xs(a,o),u)},la=function(o,i,a){return ts(o,new iu(i),a)};function ts(o,i,a){var v,u=o.getPriority().val(),f=cc(u,i.getImmediateChild(".priority"),a);if(o.isLeafNode()){var C=o,O=cc(C.getValue(),i,a);return O!==C.getValue()||f!==C.getPriority().val()?new jr(O,Fe(f)):o}var L=o;return v=L,f!==L.getPriority().val()&&(v=v.updatePriority(new jr(f))),L.forEachChild(hn,function(W,J){var _e=ts(J,i.getImmediateChild(W),a);_e!==J&&(v=v.updateImmediateChild(W,_e))}),v}var Co=function(i,a,u){void 0===i&&(i=""),void 0===a&&(a=null),void 0===u&&(u={children:{},childCount:0}),this.name=i,this.parent=a,this.node=u};function Ga(o,i){for(var a=i instanceof Je?i:new Je(i),u=o,f=mt(a);null!==f;){var v=(0,S.DV)(u.node.children,f)||{children:{},childCount:0};u=new Co(f,u,v),f=mt(a=z(a))}return u}function Tn(o){return o.node.value}function Ya(o,i){o.node.value=i,hc(o)}function Gd(o){return o.node.childCount>0}function Do(o,i){tt(o.node.children,function(a,u){i(new Co(a,o,u))})}function dc(o,i,a,u){a&&!u&&i(o),Do(o,function(f){dc(f,i,!0,u)}),a&&u&&i(o)}function Ps(o){return new Je(null===o.parent?o.name:Ps(o.parent)+"/"+o.name)}function hc(o){null!==o.parent&&function(o,i,a){var u=function(o){return void 0===Tn(o)&&!Gd(o)}(a),f=(0,S.r3)(o.node.children,i);u&&f?(delete o.node.children[i],o.node.childCount--,hc(o)):!u&&!f&&(o.node.children[i]=a.node,o.node.childCount++,hc(o))}(o.parent,o.name,o)}var zi=/[\[\].#$\/\u0000-\u001F\u007F]/,za=/[\[\].#$\u0000-\u001F\u007F]/,Mi=10485760,Ka=function(o){return"string"==typeof o&&0!==o.length&&!zi.test(o)},su=function(o){return"string"==typeof o&&0!==o.length&&!za.test(o)},wo=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!ye(o)||o&&"object"==typeof o&&(0,S.r3)(o,".sv")},li=function(o,i,a,u){u&&void 0===i||ua((0,S.gK)(o,"value"),i,a)},ua=function(o,i,a){var u=a instanceof Je?new vi(a,o):a;if(void 0===i)throw new Error(o+"contains undefined "+ni(u));if("function"==typeof i)throw new Error(o+"contains a function "+ni(u)+" with contents = "+i.toString());if(ye(i))throw new Error(o+"contains "+i.toString()+" "+ni(u));if("string"==typeof i&&i.length>Mi/3&&(0,S.ug)(i)>Mi)throw new Error(o+"contains a string greater than "+Mi+" utf8 bytes "+ni(u)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){var f=!1,v=!1;if(tt(i,function(C,O){if(".value"===C)f=!0;else if(".priority"!==C&&".sv"!==C&&(v=!0,!Ka(C)))throw new Error(o+" contains an invalid key ("+C+") "+ni(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(o,i){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(i),o.byteLength_+=(0,S.ug)(i),Lo(o)})(u,C),ua(o,O,u),function(o){var i=o.parts_.pop();o.byteLength_-=(0,S.ug)(i),o.parts_.length>0&&(o.byteLength_-=1)}(u)}),f&&v)throw new Error(o+' contains ".value" child '+ni(u)+" in addition to actual children.")}},rs=function(o,i,a,u){if(!u||void 0!==i){var f=(0,S.gK)(o,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(f+" must be an object containing the children to replace.");var v=[];tt(i,function(C,O){var L=new Je(C);if(ua(f,O,je(a,L)),".priority"===U(L)&&!wo(O))throw new Error(f+"contains an invalid value for '"+L.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");v.push(L)}),function(o,i){var a,u;for(a=0;a<i.length;a++)for(var f=Ae(u=i[a]),v=0;v<f.length;v++)if((".priority"!==f[v]||v!==f.length-1)&&!Ka(f[v]))throw new Error(o+"contains an invalid key ("+f[v]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.sort(Kn);var C=null;for(a=0;a<i.length;a++){if(u=i[a],null!==C&&Wn(C,u))throw new Error(o+"contains a path "+C.toString()+" that is ancestor of another path "+u.toString());C=u}}(f,v)}},is=function(o,i,a){if(!a||void 0!==i){if(ye(i))throw new Error((0,S.gK)(o,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wo(i))throw new Error((0,S.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zd=function(o,i,a){if(!a||void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,S.gK)(o,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Qa=function(o,i,a,u){if(!(u&&void 0===a||Ka(a)))throw new Error((0,S.gK)(o,i)+'was an invalid key = "'+a+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ns=function(o,i,a,u){if(!(u&&void 0===a||su(a)))throw new Error((0,S.gK)(o,i)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ui=function(o,i){if(".info"===mt(i))throw new Error(o+" failed = Can't modify data under /.info/")},pc=function(o,i){var a=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Ka(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==a.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),su(o)}(a))throw new Error((0,S.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Qd=function(o,i,a,u){if((!u||void 0!==a)&&"boolean"!=typeof a)throw new Error((0,S.gK)(o,i)+"must be a boolean.")},Xd=function(){this.eventLists_=[],this.recursionDepth_=0};function os(o,i){for(var a=null,u=0;u<i.length;u++){var f=i[u],v=f.getPath();null!==a&&!Yr(v,a.path)&&(o.eventLists_.push(a),a=null),null===a&&(a={events:[],path:v}),a.events.push(f)}a&&o.eventLists_.push(a)}function ca(o,i,a){os(o,a),gc(o,function(u){return Yr(u,i)})}function or(o,i,a){os(o,a),gc(o,function(u){return Wn(u,i)||Wn(i,u)})}function gc(o,i){o.recursionDepth_++;for(var a=!0,u=0;u<o.eventLists_.length;u++){var f=o.eventLists_[u];f&&(i(f.path)?(Zd(o.eventLists_[u]),o.eventLists_[u]=null):a=!1)}a&&(o.eventLists_=[]),o.recursionDepth_--}function Zd(o){for(var i=0;i<o.events.length;i++){var a=o.events[i];if(null!==a){o.events[i]=null;var u=a.getEventRunner();pe&&dt("event: "+a.toString()),Qt(u)}}}var Jd="repo_interrupt",lu=function(){function o(i,a,u,f){this.repoInfo_=i,this.forceRestClient_=a,this.authTokenProvider_=u,this.appCheckProvider_=f,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ji(),this.transactionQueueTree_=new Co,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return o.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},o}();function uu(o){var a=o.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a}function Fs(o){return function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o}({timestamp:uu(o)})}function Io(o,i,a,u,f){o.dataUpdateCount++;var v=new Je(i);a=o.interceptServerDataCallback_?o.interceptServerDataCallback_(i,a):a;var C=[];if(f)if(u){var O=(0,S.UI)(a,function(Le){return Fe(Le)});C=function(o,i,a,u){var f=tu(o,u);if(f){var v=nu(f),C=v.path,O=v.queryId,L=kt(C,i),W=Dr.fromObject(a);return ru(o,C,new Wo(Is(O),L,W))}return[]}(o.serverSyncTree_,v,O,f)}else{var L=Fe(a);C=function(o,i,a,u){var f=tu(o,u);if(null!=f){var v=nu(f),C=v.path,O=v.queryId,L=kt(C,i);return ru(o,C,new Ci(Is(O),L,a))}return[]}(o.serverSyncTree_,v,L,f)}else if(u){var W=(0,S.UI)(a,function(Le){return Fe(Le)});C=function(o,i,a){var u=Dr.fromObject(a);return bo(o,new Wo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,u))}(o.serverSyncTree_,v,W)}else{var J=Fe(a);C=_o(o.serverSyncTree_,v,J)}var _e=v;C.length>0&&(_e=ss(o,v)),or(o.eventQueue_,_e,C)}function vc(o,i){cu(o,"connected",i),!1===i&&function(o){Ls(o,"onDisconnectEvents");var i=Fs(o),a=ji();xr(o.onDisconnect_,Qe(),function(f,v){var C=$d(f,v,o.serverSyncTree_,i);oi(a,f,C)});var u=[];xr(a,Qe(),function(f,v){u=u.concat(_o(o.serverSyncTree_,f,v));var C=da(o,f);ss(o,C)}),o.onDisconnect_=ji(),or(o.eventQueue_,Qe(),u)}(o)}function cu(o,i,a){var u=new Je("/.info/"+i),f=Fe(a);o.infoData_.updateSnapshot(u,f);var v=_o(o.infoSyncTree_,u,f);or(o.eventQueue_,u,v)}function Za(o){return o.nextWriteId_++}function To(o,i,a,u,f){Ls(o,"set",{path:i.toString(),value:a,priority:u});var v=Fs(o),C=Fe(a,u),O=oa(o.serverSyncTree_,i),L=la(C,O,v),W=Za(o),J=Jl(o.serverSyncTree_,i,L,W,!0);os(o.eventQueue_,J),o.server_.put(i.toString(),C.val(!0),function(Le,Ge){var ft="ok"===Le;ft||Ht("set at "+i+" failed: "+Le);var Ot=ir(o.serverSyncTree_,W,!ft);or(o.eventQueue_,i,Ot),qr(0,f,Le,Ge)});var _e=da(o,i);ss(o,_e),or(o.eventQueue_,_e,[])}function nf(o,i,a){o.server_.onDisconnectCancel(i.toString(),function(u,f){"ok"===u&&Qn(o.onDisconnect_,i),qr(0,a,u,f)})}function _c(o,i,a,u){var f=Fe(a);o.server_.onDisconnectPut(i.toString(),f.val(!0),function(v,C){"ok"===v&&oi(o.onDisconnect_,i,f),qr(0,u,v,C)})}function du(o,i,a){var u;u=".info"===mt(i._path)?ql(o.infoSyncTree_,i,a):ql(o.serverSyncTree_,i,a),ca(o.eventQueue_,i._path,u)}function bc(o){o.persistentConnection_&&o.persistentConnection_.interrupt(Jd)}function Ls(o){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var u="";o.persistentConnection_&&(u=o.persistentConnection_.id+":"),dt.apply(void 0,(0,X.ev)([u],(0,X.CR)(i)))}function qr(o,i,a,u){i&&Qt(function(){if("ok"===a)i(null);else{var f=(a||"error").toUpperCase(),v=f;u&&(v+=": "+u);var C=new Error(v);C.code=f,i(C)}})}function ei(o,i,a){return oa(o.serverSyncTree_,i,a)||_.EMPTY_NODE}function So(o,i){if(void 0===i&&(i=o.transactionQueueTree_),i||ks(o,i),Tn(i)){var a=uf(o,i);(0,S.hu)(a.length>0,"Sending zero length transaction queue"),a.every(function(f){return 0===f.status})&&function(o,i,a){for(var u=a.map(function(Le){return Le.currentWriteId}),f=ei(o,i,u),v=f,C=f.hash(),O=0;O<a.length;O++){var L=a[O];(0,S.hu)(0===L.status,"tryToSendTransactionQueue_: items in queue should all be run."),L.status=1,L.retryCount++;var W=kt(i,L.path);v=v.updateChild(W,L.currentOutputSnapshotRaw)}var J=v.val(!0),_e=i;o.server_.put(_e.toString(),J,function(Le){Ls(o,"transaction put response",{path:_e.toString(),status:Le});var Ge=[];if("ok"===Le){for(var ft=[],Ot=function(Wt){a[Wt].status=2,Ge=Ge.concat(ir(o.serverSyncTree_,a[Wt].currentWriteId)),a[Wt].onComplete&&ft.push(function(){return a[Wt].onComplete(null,!0,a[Wt].currentOutputSnapshotResolved)}),a[Wt].unwatcher()},Ct=0;Ct<a.length;Ct++)Ot(Ct);for(ks(o,Ga(o.transactionQueueTree_,i)),So(o,o.transactionQueueTree_),or(o.eventQueue_,i,Ge),Ct=0;Ct<ft.length;Ct++)Qt(ft[Ct])}else{if("datastale"===Le)for(Ct=0;Ct<a.length;Ct++)a[Ct].status=3===a[Ct].status?4:0;else for(Ht("transaction at "+_e.toString()+" failed: "+Le),Ct=0;Ct<a.length;Ct++)a[Ct].status=4,a[Ct].abortReason=Le;ss(o,i)}},C)}(o,Ps(i),a)}else Gd(i)&&Do(i,function(f){So(o,f)})}function ss(o,i){var a=lf(o,i),u=Ps(a);return function(o,i,a){if(0!==i.length){for(var u=[],f=[],C=i.filter(function(W){return 0===W.status}).map(function(W){return W.currentWriteId}),O=function(W){var Ge,J=i[W],_e=kt(a,J.path),Le=!1;if((0,S.hu)(null!==_e,"rerunTransactionsUnderNode_: relativePath should not be null."),4===J.status)Le=!0,Ge=J.abortReason,f=f.concat(ir(o.serverSyncTree_,J.currentWriteId,!0));else if(0===J.status)if(J.retryCount>=25)Le=!0,Ge="maxretry",f=f.concat(ir(o.serverSyncTree_,J.currentWriteId,!0));else{var ft=ei(o,J.path,C);J.currentInputSnapshot=ft;var Ot=i[W].update(ft.val());if(void 0!==Ot){ua("transaction failed: Data returned ",Ot,J.path);var Ct=Fe(Ot);"object"==typeof Ot&&null!=Ot&&(0,S.r3)(Ot,".priority")||(Ct=Ct.updatePriority(ft.getPriority()));var Vn=J.currentWriteId,fi=Fs(o),Ws=la(Ct,ft,fi);J.currentOutputSnapshotRaw=Ct,J.currentOutputSnapshotResolved=Ws,J.currentWriteId=Za(o),C.splice(C.indexOf(Vn),1),f=(f=f.concat(Jl(o.serverSyncTree_,J.path,Ws,J.currentWriteId,J.applyLocally))).concat(ir(o.serverSyncTree_,Vn,!0))}else Le=!0,Ge="nodata",f=f.concat(ir(o.serverSyncTree_,J.currentWriteId,!0))}or(o.eventQueue_,a,f),f=[],Le&&(i[W].status=2,setTimeout(i[W].unwatcher,Math.floor(0)),i[W].onComplete&&u.push("nodata"===Ge?function(){return i[W].onComplete(null,!1,i[W].currentInputSnapshot)}:function(){return i[W].onComplete(new Error(Ge),!1,null)}))},L=0;L<i.length;L++)O(L);for(ks(o,o.transactionQueueTree_),L=0;L<u.length;L++)Qt(u[L]);So(o,o.transactionQueueTree_)}}(o,uf(o,a),u),u}function lf(o,i){var a,u=o.transactionQueueTree_;for(a=mt(i);null!==a&&void 0===Tn(u);)u=Ga(u,a),a=mt(i=z(i));return u}function uf(o,i){var a=[];return cf(o,i,a),a.sort(function(u,f){return u.order-f.order}),a}function cf(o,i,a){var u=Tn(i);if(u)for(var f=0;f<u.length;f++)a.push(u[f]);Do(i,function(v){cf(o,v,a)})}function ks(o,i){var a=Tn(i);if(a){for(var u=0,f=0;f<a.length;f++)2!==a[f].status&&(a[u]=a[f],u++);a.length=u,Ya(i,a.length>0?a:void 0)}Do(i,function(v){ks(o,v)})}function da(o,i){var a=Ps(lf(o,i)),u=Ga(o.transactionQueueTree_,i);return function(o,i,a){for(var u=o.parent;null!==u;){if(i(u))return!0;u=u.parent}}(u,function(f){fa(o,f)}),fa(o,u),dc(u,function(f){fa(o,f)}),a}function fa(o,i){var a=Tn(i);if(a){for(var u=[],f=[],v=-1,C=0;C<a.length;C++)3===a[C].status||(1===a[C].status?((0,S.hu)(v===C-1,"All SENT items should be at beginning of queue."),v=C,a[C].status=3,a[C].abortReason="set"):((0,S.hu)(0===a[C].status,"Unexpected transaction status in abort"),a[C].unwatcher(),f=f.concat(ir(o.serverSyncTree_,a[C].currentWriteId,!0)),a[C].onComplete&&u.push(a[C].onComplete.bind(null,new Error("set"),!1,null))));for(-1===v?Ya(i,void 0):a.length=v+1,or(o.eventQueue_,Ps(i),f),C=0;C<u.length;C++)Qt(u[C])}}var Ja=function(o,i){var a=df(o),u=a.namespace;return"firebase.com"===a.domain&&At(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==a.domain&&At("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new fn(a.host,a.secure,u,i,"ws"===a.scheme||"wss"===a.scheme,"",u!==a.subdomain),path:new Je(a.pathString)}},df=function(o){var i="",a="",u="",f="",v="",C=!0,O="https",L=443;if("string"==typeof o){var W=o.indexOf("//");W>=0&&(O=o.substring(0,W-1),o=o.substring(W+2));var J=o.indexOf("/");-1===J&&(J=o.length);var _e=o.indexOf("?");-1===_e&&(_e=o.length),i=o.substring(0,Math.min(J,_e)),J<_e&&(f=function(o){for(var i="",a=o.split("/"),u=0;u<a.length;u++)if(a[u].length>0){var f=a[u];try{f=decodeURIComponent(f.replace(/\+/g," "))}catch(v){}i+="/"+f}return i}(o.substring(J,_e)));var Le=function(o){var i,a,u={};"?"===o.charAt(0)&&(o=o.substring(1));try{for(var f=(0,X.XA)(o.split("&")),v=f.next();!v.done;v=f.next()){var C=v.value;if(0!==C.length){var O=C.split("=");2===O.length?u[decodeURIComponent(O[0])]=decodeURIComponent(O[1]):Ht("Invalid query segment '"+C+"' in query '"+o+"'")}}}catch(L){i={error:L}}finally{try{v&&!v.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return u}(o.substring(Math.min(o.length,_e)));(W=i.indexOf(":"))>=0?(C="https"===O||"wss"===O,L=parseInt(i.substring(W+1),10)):W=i.length;var Ge=i.slice(0,W);if("localhost"===Ge.toLowerCase())a="localhost";else if(Ge.split(".").length<=2)a=Ge;else{var ft=i.indexOf(".");u=i.substring(0,ft).toLowerCase(),a=i.substring(ft+1),v=u}"ns"in Le&&(v=Le.ns)}return{host:i,port:L,domain:a,subdomain:u,secure:C,scheme:O,pathString:f,namespace:v}},Ic=function(){function o(i,a,u,f){this.eventType=i,this.eventRegistration=a,this.snapshot=u,this.prevName=f}return o.prototype.getPath=function(){var i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path},o.prototype.getEventType=function(){return this.eventType},o.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},o.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,S.Pz)(this.snapshot.exportVal())},o}(),Tc=function(){function o(i,a,u){this.eventRegistration=i,this.error=a,this.path=u}return o.prototype.getPath=function(){return this.path},o.prototype.getEventType=function(){return"cancel"},o.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},o.prototype.toString=function(){return this.path.toString()+":cancel"},o}(),Sc=function(){function o(i,a){this.snapshotCallback=i,this.cancelCallback=a}return o.prototype.onValue=function(i,a){this.snapshotCallback.call(null,i,a)},o.prototype.onCancel=function(i){return(0,S.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)},Object.defineProperty(o.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),o.prototype.matches=function(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context},o}(),Rc=function(){function o(i,a){this._repo=i,this._path=a}return o.prototype.cancel=function(){var i=new S.BH;return nf(this._repo,this._path,i.wrapCallback(function(){})),i.promise},o.prototype.remove=function(){ui("OnDisconnect.remove",this._path);var i=new S.BH;return _c(this._repo,this._path,null,i.wrapCallback(function(){})),i.promise},o.prototype.set=function(i){ui("OnDisconnect.set",this._path),li("OnDisconnect.set",i,this._path,!1);var a=new S.BH;return _c(this._repo,this._path,i,a.wrapCallback(function(){})),a.promise},o.prototype.setWithPriority=function(i,a){ui("OnDisconnect.setWithPriority",this._path),li("OnDisconnect.setWithPriority",i,this._path,!1),is("OnDisconnect.setWithPriority",a,!1);var u=new S.BH;return function(o,i,a,u,f){var v=Fe(a,u);o.server_.onDisconnectPut(i.toString(),v.val(!0),function(C,O){"ok"===C&&oi(o.onDisconnect_,i,v),qr(0,f,C,O)})}(this._repo,this._path,i,a,u.wrapCallback(function(){})),u.promise},o.prototype.update=function(i){ui("OnDisconnect.update",this._path),rs("OnDisconnect.update",i,this._path,!1);var a=new S.BH;return function(o,i,a,u){if((0,S.xb)(a))return dt("onDisconnect().update() called with empty data.  Don't do anything."),void qr(0,u,"ok",void 0);o.server_.onDisconnectMerge(i.toString(),a,function(f,v){"ok"===f&&tt(a,function(C,O){var L=Fe(O);oi(o.onDisconnect_,je(i,C),L)}),qr(0,u,f,v)})}(this._repo,this._path,i,a.wrapCallback(function(){})),a.promise},o}(),Tr=function(){function o(i,a,u,f){this._repo=i,this._path=a,this._queryParams=u,this._orderByCalled=f}return Object.defineProperty(o.prototype,"key",{get:function(){return lt(this._path)?null:U(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ref",{get:function(){return new pn(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_queryIdentifier",{get:function(){var i=bi(this._queryParams),a=gt(i);return"{}"===a?"default":a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_queryObject",{get:function(){return bi(this._queryParams)},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(i){if(!((i=(0,S.m9)(i))instanceof o))return!1;var a=this._repo===i._repo,u=Yr(this._path,i._path);return a&&u&&this._queryIdentifier===i._queryIdentifier},o.prototype.toJSON=function(){return this.toString()},o.prototype.toString=function(){return this._repo.toString()+function(o){for(var i="",a=o.pieceNum_;a<o.pieces_.length;a++)""!==o.pieces_[a]&&(i+="/"+encodeURIComponent(String(o.pieces_[a])));return i||"/"}(this._path)},o}();function ha(o,i){if(!0===o._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function xi(o){var i=null,a=null;if(o.hasStart()&&(i=o.getIndexStartValue()),o.hasEnd()&&(a=o.getIndexEndValue()),o.getIndex()===Sr){var u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",f="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==ce)throw new Error(u);if("string"!=typeof i)throw new Error(f)}if(o.hasEnd()){if(o.getIndexEndName()!==xe)throw new Error(u);if("string"!=typeof a)throw new Error(f)}}else if(o.getIndex()===hn){if(null!=i&&!wo(i)||null!=a&&!wo(a))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,S.hu)(o.getIndex()instanceof vt||o.getIndex()===yn,"unknown index type."),null!=i&&"object"==typeof i||null!=a&&"object"==typeof a)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qa(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var pn=function(o){function i(a,u){return o.call(this,a,u,new Ra,!1)||this}return(0,X.ZT)(i,o),Object.defineProperty(i.prototype,"parent",{get:function(){var a=qe(this._path);return null===a?null:new i(this._repo,a)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){for(var a=this;null!==a.parent;)a=a.parent;return a},enumerable:!1,configurable:!0}),i}(Tr),el=function(){function o(i,a,u){this._node=i,this.ref=a,this._index=u}return Object.defineProperty(o.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),o.prototype.child=function(i){var a=new Je(i),u=Ro(this.ref,i);return new o(this._node.getChild(a),u,hn)},o.prototype.exists=function(){return!this._node.isEmpty()},o.prototype.exportVal=function(){return this._node.val(!0)},o.prototype.forEach=function(i){var a=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(f,v){return i(new o(v,Ro(a.ref,f),hn))})},o.prototype.hasChild=function(i){var a=new Je(i);return!this._node.getChild(a).isEmpty()},o.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},o.prototype.toJSON=function(){return this.exportVal()},o.prototype.val=function(){return this._node.val()},o}();function Ac(o,i){return(o=(0,S.m9)(o))._checkNotDeleted("ref"),void 0!==i?Ro(o._root,i):o._root}function tl(o,i){(o=(0,S.m9)(o))._checkNotDeleted("refFromURL");var a=Ja(i,o._repo.repoInfo_.nodeAdmin);pc("refFromURL",a);var u=a.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&u.host!==o._repo.repoInfo_.host&&At("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+o._repo.repoInfo_.host+")"),Ac(o,a.path.toString())}function Ro(o,i){return null===mt((o=(0,S.m9)(o))._path)?((a=i)&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Ns("child","path",a,!1)):Ns("child","path",i,!1),new pn(o._repo,je(o._path,i));var a}function ff(o,i){o=(0,S.m9)(o),ui("push",o._path),li("push",i,o._path,!0);var C,a=uu(o._repo),u=Ln(a),f=Ro(o,u),v=Ro(o,u);return C=null!=i?fu(v,i).then(function(){return v}):Promise.resolve(v),f.then=C.then.bind(C),f.catch=C.then.bind(C,void 0),f}function hf(o){return ui("remove",o._path),fu(o,null)}function fu(o,i){o=(0,S.m9)(o),ui("set",o._path),li("set",i,o._path,!1);var a=new S.BH;return To(o._repo,o._path,i,null,a.wrapCallback(function(){})),a.promise}function pf(o,i){o=(0,S.m9)(o),ui("setPriority",o._path),is("setPriority",i,!1);var a=new S.BH;return To(o._repo,je(o._path,".priority"),i,null,a.wrapCallback(function(){})),a.promise}function gf(o,i,a){if(ui("setWithPriority",o._path),li("setWithPriority",i,o._path,!1),is("setWithPriority",a,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";var u=new S.BH;return To(o._repo,o._path,i,a,u.wrapCallback(function(){})),u.promise}function Zp(o,i){rs("update",i,o._path,!1);var a=new S.BH;return function(o,i,a,u){Ls(o,"update",{path:i.toString(),value:a});var f=!0,v=Fs(o),C={};if(tt(a,function(W,J){f=!1,C[W]=$d(je(i,W),Fe(J),o.serverSyncTree_,v)}),f)dt("update() called with empty data.  Don't do anything."),qr(0,u,"ok",void 0);else{var O=Za(o),L=function(o,i,a,u){!function(o,i,a,u){(0,S.hu)(u>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:i,children:a,writeId:u,visible:!0}),o.visibleWrites=po(o.visibleWrites,i,a),o.lastWriteId=u}(o.pendingWriteTree_,i,a,u);var f=Dr.fromObject(a);return bo(o,new Wo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,f))}(o.serverSyncTree_,i,C,O);os(o.eventQueue_,L),o.server_.merge(i.toString(),a,function(W,J){var _e="ok"===W;_e||Ht("update at "+i+" failed: "+W);var Le=ir(o.serverSyncTree_,O,!_e),Ge=Le.length>0?ss(o,i):i;or(o.eventQueue_,Ge,Le),qr(0,u,W,J)}),tt(a,function(W){var J=da(o,je(i,W));ss(o,J)}),or(o.eventQueue_,i,[])}}(o._repo,o._path,i,a.wrapCallback(function(){})),a.promise}function Jp(o){return function(o,i){var a=function(o,i){var a=i._path,u=null;o.syncPointTree_.foreachOnPath(a,function(W,J){var _e=kt(W,a);u=u||Xo(J,_e)});var f=o.syncPointTree_.get(a);f?u=u||Xo(f,Qe()):(f=new sc,o.syncPointTree_=o.syncPointTree_.set(a,f));var v=null!=u,C=v?new si(u,!0,!1):null;return function(o){return fo(o.viewCache_)}(Nd(f,i,wr(o.pendingWriteTree_,i._path),v?C.getNode():_.EMPTY_NODE,v))}(o.serverSyncTree_,i);return null!=a?Promise.resolve(a):o.server_.get(i).then(function(u){var f=Fe(u).withIndex(i._queryParams.getIndex()),v=_o(o.serverSyncTree_,i._path,f);return ca(o.eventQueue_,i._path,v),Promise.resolve(f)},function(u){return Ls(o,"get for query "+(0,S.Pz)(i)+" failed: "+u),Promise.reject(new Error(u))})}((o=(0,S.m9)(o))._repo,o).then(function(i){return new el(i,new pn(o._repo,o._path),o._queryParams.getIndex())})}var Vs=function(){function o(i){this.callbackContext=i}return o.prototype.respondsTo=function(i){return"value"===i},o.prototype.createEvent=function(i,a){var u=a._queryParams.getIndex();return new Ic("value",this,new el(i.snapshotNode,new pn(a._repo,a._path),u))},o.prototype.getEventRunner=function(i){var a=this;return"cancel"===i.getEventType()?function(){return a.callbackContext.onCancel(i.error)}:function(){return a.callbackContext.onValue(i.snapshot,null)}},o.prototype.createCancelEvent=function(i,a){return this.callbackContext.hasCancelCallback?new Tc(this,i,a):null},o.prototype.matches=function(i){return i instanceof o&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))},o.prototype.hasAnyCallback=function(){return null!==this.callbackContext},o}(),gr=function(){function o(i,a){this.eventType=i,this.callbackContext=a}return o.prototype.respondsTo=function(i){var a="children_added"===i?"child_added":i;return this.eventType===("children_removed"===a?"child_removed":a)},o.prototype.createCancelEvent=function(i,a){return this.callbackContext.hasCancelCallback?new Tc(this,i,a):null},o.prototype.createEvent=function(i,a){(0,S.hu)(null!=i.childName,"Child events should have a childName.");var u=Ro(new pn(a._repo,a._path),i.childName),f=a._queryParams.getIndex();return new Ic(i.type,this,new el(i.snapshotNode,u,f),i.prevName)},o.prototype.getEventRunner=function(i){var a=this;return"cancel"===i.getEventType()?function(){return a.callbackContext.onCancel(i.error)}:function(){return a.callbackContext.onValue(i.snapshot,i.prevName)}},o.prototype.matches=function(i){return i instanceof o&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))},o.prototype.hasAnyCallback=function(){return!!this.callbackContext},o}();function as(o,i,a,u,f){var v;if("object"==typeof u&&(v=void 0,f=u),"function"==typeof u&&(v=u),f&&f.onlyOnce){var C=a,O=function(J,_e){du(o._repo,o,W),C(J,_e)};O.userCallback=a.userCallback,O.context=a.context,a=O}var L=new Sc(a,v||void 0),W="value"===i?new Vs(L):new gr(i,L);return function(o,i,a){var u;u=".info"===mt(i._path)?Ud(o.infoSyncTree_,i,a):Ud(o.serverSyncTree_,i,a),ca(o.eventQueue_,i._path,u)}(o._repo,o,W),function(){return du(o._repo,o,W)}}function nl(o,i,a,u){return as(o,"value",i,a,u)}function hu(o,i,a,u){return as(o,"child_added",i,a,u)}function sr(o,i,a,u){return as(o,"child_changed",i,a,u)}function Bs(o,i,a,u){return as(o,"child_moved",i,a,u)}function rl(o,i,a,u){return as(o,"child_removed",i,a,u)}function Mc(o,i,a){var u=null,f=a?new Sc(a):null;"value"===i?u=new Vs(f):i&&(u=new gr(i,f)),du(o._repo,o,u)}var ci=function(){},pu=function(o){function i(a,u){var f=o.call(this)||this;return f._value=a,f._key=u,f}return(0,X.ZT)(i,o),i.prototype._apply=function(a){li("endAt",this._value,a._path,!0);var u=Ds(a._queryParams,this._value,this._key);if(qa(u),xi(u),a._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tr(a._repo,a._path,u,a._orderByCalled)},i}(ci);function mf(o,i){return Qa("endAt","key",i,!0),new pu(o,i)}var xc=function(o){function i(a,u){var f=o.call(this)||this;return f._value=a,f._key=u,f}return(0,X.ZT)(i,o),i.prototype._apply=function(a){li("endBefore",this._value,a._path,!1);var u=function(o,i,a){var f;return o.index_===Sr?("string"==typeof i&&(i=Gn(i)),f=Ds(o,i,a)):f=Ds(o,i,null==a?ce:Gn(a)),f.endBeforeSet_=!0,f}(a._queryParams,this._value,this._key);if(qa(u),xi(u),a._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Tr(a._repo,a._path,u,a._orderByCalled)},i}(ci);function vf(o,i){return Qa("endBefore","key",i,!0),new xc(o,i)}var gu=function(o){function i(a,u){var f=o.call(this)||this;return f._value=a,f._key=u,f}return(0,X.ZT)(i,o),i.prototype._apply=function(a){li("startAt",this._value,a._path,!0);var u=Cs(a._queryParams,this._value,this._key);if(qa(u),xi(u),a._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Tr(a._repo,a._path,u,a._orderByCalled)},i}(ci);function yf(o,i){return void 0===o&&(o=null),Qa("startAt","key",i,!0),new gu(o,i)}var _f=function(o){function i(a,u){var f=o.call(this)||this;return f._value=a,f._key=u,f}return(0,X.ZT)(i,o),i.prototype._apply=function(a){li("startAfter",this._value,a._path,!1);var u=function(o,i,a){var u;return o.index_===Sr?("string"==typeof i&&(i=Mr(i)),u=Cs(o,i,a)):u=Cs(o,i,null==a?xe:Mr(a)),u.startAfterSet_=!0,u}(a._queryParams,this._value,this._key);if(qa(u),xi(u),a._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Tr(a._repo,a._path,u,a._orderByCalled)},i}(ci);function Ef(o,i){return Qa("startAfter","key",i,!0),new _f(o,i)}var Pc=function(o){function i(a){var u=o.call(this)||this;return u._limit=a,u}return(0,X.ZT)(i,o),i.prototype._apply=function(a){if(a._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Tr(a._repo,a._path,function(o,i){var a=o.copy();return a.limitSet_=!0,a.limit_=i,a.viewFrom_="l",a}(a._queryParams,this._limit),a._orderByCalled)},i}(ci);function mu(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Pc(o)}var Oc=function(o){function i(a){var u=o.call(this)||this;return u._limit=a,u}return(0,X.ZT)(i,o),i.prototype._apply=function(a){if(a._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Tr(a._repo,a._path,function(o,i){var a=o.copy();return a.limitSet_=!0,a.limit_=i,a.viewFrom_="r",a}(a._queryParams,this._limit),a._orderByCalled)},i}(ci);function bf(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Oc(o)}var qp=function(o){function i(a){var u=o.call(this)||this;return u._path=a,u}return(0,X.ZT)(i,o),i.prototype._apply=function(a){ha(a,"orderByChild");var u=new Je(this._path);if(lt(u))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var f=new vt(u),v=Cr(a._queryParams,f);return xi(v),new Tr(a._repo,a._path,v,!0)},i}(ci);function Nc(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ns("orderByChild","path",o,!1),new qp(o)}var il=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,X.ZT)(i,o),i.prototype._apply=function(a){ha(a,"orderByKey");var u=Cr(a._queryParams,Sr);return xi(u),new Tr(a._repo,a._path,u,!0)},i}(ci);function Cf(){return new il}var Df=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,X.ZT)(i,o),i.prototype._apply=function(a){ha(a,"orderByPriority");var u=Cr(a._queryParams,hn);return xi(u),new Tr(a._repo,a._path,u,!0)},i}(ci);function Us(){return new Df}var wf=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,X.ZT)(i,o),i.prototype._apply=function(a){ha(a,"orderByValue");var u=Cr(a._queryParams,yn);return xi(u),new Tr(a._repo,a._path,u,!0)},i}(ci);function If(){return new wf}var Tf=function(o){function i(a,u){var f=o.call(this)||this;return f._value=a,f._key=u,f}return(0,X.ZT)(i,o),i.prototype._apply=function(a){if(li("equalTo",this._value,a._path,!1),a._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(a._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pu(this._value,this._key)._apply(new gu(this._value,this._key)._apply(a))},i}(ci);function Sf(o,i){return Qa("equalTo","key",i,!0),new Tf(o,i)}function di(o){for(var i,a,u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];var v=(0,S.m9)(o);try{for(var C=(0,X.XA)(u),O=C.next();!O.done;O=C.next()){var L=O.value;v=L._apply(v)}}catch(W){i={error:W}}finally{try{O&&!O.done&&(a=C.return)&&a.call(C)}finally{if(i)throw i.error}}return v}(function(o){(0,S.hu)(!Xl,"__referenceConstructor has already been defined"),Xl=o})(pn),function(o){(0,S.hu)(!Zl,"__referenceConstructor has already been defined"),Zl=o}(pn);var Or={},vu=!1;function Fc(o,i,a,u,f){var v=u||o.options.databaseURL;void 0===v&&(o.options.projectId||At("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",o.options.projectId),v=o.options.projectId+"-default-rtdb.firebaseio.com");var L,C=Ja(v,f),O=C.repoInfo,W=void 0;"undefined"!=typeof process&&(W=process.env.FIREBASE_DATABASE_EMULATOR_HOST),W?(L=!0,O=(C=Ja(v="http://"+W+"?ns="+O.namespace,f)).repoInfo):L=!C.repoInfo.secure;var J=f&&L?new De(De.OWNER):new me(o.name,o.options,i);pc("Invalid Firebase Database URL",C),lt(C.path)||At("Database URL must point to the root of a Firebase Database (not including a child path).");var _e=function(o,i,a,u){var f=Or[i.name];f||(Or[i.name]=f={});var v=f[o.toURLString()];return v&&At("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),v=new lu(o,vu,a,u),f[o.toURLString()]=v,v}(O,o,J,new Tt(o.name,a));return new Vc(_e,o)}var Vc=function(){function o(i,a){this._repoInternal=i,this.app=a,this.type="database",this._instanceStarted=!1}return Object.defineProperty(o.prototype,"_repo",{get:function(){return this._instanceStarted||(function(o,i,a){if(o.stats_=tn(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new rc(o.repoInfo_,function(u,f,v,C){Io(o,u,f,v,C)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(function(){return vc(o,!0)},0);else{if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,S.Pz)(a)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}o.persistentConnection_=new ri(o.repoInfo_,i,function(u,f,v,C){Io(o,u,f,v,C)},function(u){vc(o,u)},function(u){!function(o,i){tt(i,function(a,u){cu(o,a,u)})}(o,u)},o.authTokenProvider_,o.appCheckProvider_,a),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(function(u){o.server_.refreshAuthToken(u)}),o.appCheckProvider_.addTokenChangeListener(function(u){o.server_.refreshAppCheckToken(u.token)}),o.statsReporter_=function(o,i){var a=o.toString();return Dn[a]||(Dn[a]=i()),Dn[a]}(o.repoInfo_,function(){return new Hl(o.stats_,o.server_)}),o.infoData_=new jl,o.infoSyncTree_=new Vd({startListening:function(u,f,v,C){var O=[],L=o.infoData_.getNode(u._path);return L.isEmpty()||(O=_o(o.infoSyncTree_,u._path,L),setTimeout(function(){C("ok")},0)),O},stopListening:function(){}}),cu(o,"connected",!1),o.serverSyncTree_=new Vd({startListening:function(u,f,v,C){return o.server_.listen(u,v,f,function(O,L){var W=C(O,L);or(o.eventQueue_,u._path,W)}),[]},stopListening:function(u,f){o.server_.unlisten(u,f)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new pn(this._repo,Qe())),this._rootInternal},enumerable:!1,configurable:!0}),o.prototype._delete=function(){return null!==this._rootInternal&&(function(o,i){var a=Or[i];(!a||a[o.key]!==o)&&At("Database "+i+"("+o.repoInfo_+") has already been deleted."),bc(o),delete a[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},o.prototype._checkNotDeleted=function(i){null===this._rootInternal&&At("Cannot call "+i+" on a deleted database.")},o}();function Mf(o){(o=(0,S.m9)(o))._checkNotDeleted("goOffline"),bc(o._repo)}function js(o){(o=(0,S.m9)(o))._checkNotDeleted("goOnline"),function(o){o.persistentConnection_&&o.persistentConnection_.resume(Jd)}(o._repo)}var Pi={".sv":"timestamp"},Bc=function(){function o(i,a){this.committed=i,this.snapshot=a}return o.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},o}();function rg(o,i,a){var u;if(o=(0,S.m9)(o),ui("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";var f=null===(u=null==a?void 0:a.applyLocally)||void 0===u||u,v=new S.BH,O=nl(o,function(){});return function(o,i,a,u,f,v){Ls(o,"transaction on "+i);var C={path:i,update:a,onComplete:u,status:null,order:Se(),applyLocally:v,retryCount:0,unwatcher:f,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},O=ei(o,i,void 0);C.currentInputSnapshot=O;var L=C.update(O.val());if(void 0===L)C.unwatcher(),C.currentOutputSnapshotRaw=null,C.currentOutputSnapshotResolved=null,C.onComplete&&C.onComplete(null,!1,C.currentInputSnapshot);else{ua("transaction failed: Data returned ",L,C.path),C.status=0;var W=Ga(o.transactionQueueTree_,i),J=Tn(W)||[];J.push(C),Ya(W,J);var _e=void 0;"object"==typeof L&&null!==L&&(0,S.r3)(L,".priority")?(_e=(0,S.DV)(L,".priority"),(0,S.hu)(wo(_e),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):_e=(oa(o.serverSyncTree_,i)||_.EMPTY_NODE).getPriority().val();var Ge=Fs(o),ft=Fe(L,_e),Ot=la(ft,O,Ge);C.currentOutputSnapshotRaw=ft,C.currentOutputSnapshotResolved=Ot,C.currentWriteId=Za(o);var Ct=Jl(o.serverSyncTree_,i,Ot,C.currentWriteId,C.applyLocally);or(o.eventQueue_,i,Ct),So(o,o.transactionQueueTree_)}}(o._repo,o._path,i,function(L,W,J){var _e=null;L?v.reject(L):(_e=new el(J,new pn(o._repo,o._path),hn),v.resolve(new Bc(W,_e)))},O,f),v.promise}var Oi=function(){function o(i){this._delegate=i}return o.prototype.cancel=function(i){(0,S.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,S.Wj)("OnDisconnect.cancel","onComplete",i,!0);var a=this._delegate.cancel();return i&&a.then(function(){return i(null)},function(u){return i(u)}),a},o.prototype.remove=function(i){(0,S.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,S.Wj)("OnDisconnect.remove","onComplete",i,!0);var a=this._delegate.remove();return i&&a.then(function(){return i(null)},function(u){return i(u)}),a},o.prototype.set=function(i,a){(0,S.Dv)("OnDisconnect.set",1,2,arguments.length),(0,S.Wj)("OnDisconnect.set","onComplete",a,!0);var u=this._delegate.set(i);return a&&u.then(function(){return a(null)},function(f){return a(f)}),u},o.prototype.setWithPriority=function(i,a,u){(0,S.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,S.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);var f=this._delegate.setWithPriority(i,a);return u&&f.then(function(){return u(null)},function(v){return u(v)}),f},o.prototype.update=function(i,a){if((0,S.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){for(var u={},f=0;f<i.length;++f)u[""+f]=i[f];i=u,Ht("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,S.Wj)("OnDisconnect.update","onComplete",a,!0);var v=this._delegate.update(i);return a&&v.then(function(){return a(null)},function(C){return a(C)}),v},o}(),yu=function(){function o(i,a){this.committed=i,this.snapshot=a}return o.prototype.toJSON=function(){return(0,S.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},o}(),ls=function(){function o(i,a){this._database=i,this._delegate=a}return o.prototype.val=function(){return(0,S.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},o.prototype.exportVal=function(){return(0,S.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},o.prototype.toJSON=function(){return(0,S.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},o.prototype.exists=function(){return(0,S.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},o.prototype.child=function(i){return(0,S.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),Ns("DataSnapshot.child","path",i,!1),new o(this._database,this._delegate.child(i))},o.prototype.hasChild=function(i){return(0,S.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ns("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)},o.prototype.getPriority=function(){return(0,S.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},o.prototype.forEach=function(i){var a=this;return(0,S.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,S.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(function(u){return i(new o(a._database,u))})},o.prototype.hasChildren=function(){return(0,S.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(o.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),o.prototype.numChildren=function(){return(0,S.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},o.prototype.getRef=function(){return(0,S.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ao(this._database,this._delegate.ref)},Object.defineProperty(o.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),o}(),Uc=function(){function o(i,a){this.database=i,this._delegate=a}return o.prototype.on=function(i,a,u,f){var C,v=this;(0,S.Dv)("Query.on",2,4,arguments.length),(0,S.Wj)("Query.on","callback",a,!1);var O=o.getCancelAndContextArgs_("Query.on",u,f),L=function(J,_e){a.call(O.context,new ls(v.database,J),_e)};L.userCallback=a,L.context=O.context;var W=null===(C=O.cancel)||void 0===C?void 0:C.bind(O.context);switch(i){case"value":return nl(this._delegate,L,W),a;case"child_added":return hu(this._delegate,L,W),a;case"child_removed":return rl(this._delegate,L,W),a;case"child_changed":return sr(this._delegate,L,W),a;case"child_moved":return Bs(this._delegate,L,W),a;default:throw new Error((0,S.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},o.prototype.off=function(i,a,u){if((0,S.Dv)("Query.off",0,3,arguments.length),zd("Query.off",i,!0),(0,S.Wj)("Query.off","callback",a,!0),(0,S.lb)("Query.off","context",u,!0),a){var f=function(){};f.userCallback=a,f.context=u,Mc(this._delegate,i,f)}else Mc(this._delegate,i)},o.prototype.get=function(){var i=this;return Jp(this._delegate).then(function(a){return new ls(i.database,a)})},o.prototype.once=function(i,a,u,f){var v=this;(0,S.Dv)("Query.once",1,4,arguments.length),(0,S.Wj)("Query.once","callback",a,!0);var C=o.getCancelAndContextArgs_("Query.once",u,f),O=new S.BH,L=function(J,_e){var Le=new ls(v.database,J);a&&a.call(C.context,Le,_e),O.resolve(Le)};L.userCallback=a,L.context=C.context;var W=function(J){C.cancel&&C.cancel.call(C.context,J),O.reject(J)};switch(i){case"value":nl(this._delegate,L,W,{onlyOnce:!0});break;case"child_added":hu(this._delegate,L,W,{onlyOnce:!0});break;case"child_removed":rl(this._delegate,L,W,{onlyOnce:!0});break;case"child_changed":sr(this._delegate,L,W,{onlyOnce:!0});break;case"child_moved":Bs(this._delegate,L,W,{onlyOnce:!0});break;default:throw new Error((0,S.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return O.promise},o.prototype.limitToFirst=function(i){return(0,S.Dv)("Query.limitToFirst",1,1,arguments.length),new o(this.database,di(this._delegate,mu(i)))},o.prototype.limitToLast=function(i){return(0,S.Dv)("Query.limitToLast",1,1,arguments.length),new o(this.database,di(this._delegate,bf(i)))},o.prototype.orderByChild=function(i){return(0,S.Dv)("Query.orderByChild",1,1,arguments.length),new o(this.database,di(this._delegate,Nc(i)))},o.prototype.orderByKey=function(){return(0,S.Dv)("Query.orderByKey",0,0,arguments.length),new o(this.database,di(this._delegate,Cf()))},o.prototype.orderByPriority=function(){return(0,S.Dv)("Query.orderByPriority",0,0,arguments.length),new o(this.database,di(this._delegate,Us()))},o.prototype.orderByValue=function(){return(0,S.Dv)("Query.orderByValue",0,0,arguments.length),new o(this.database,di(this._delegate,If()))},o.prototype.startAt=function(i,a){return void 0===i&&(i=null),(0,S.Dv)("Query.startAt",0,2,arguments.length),new o(this.database,di(this._delegate,yf(i,a)))},o.prototype.startAfter=function(i,a){return void 0===i&&(i=null),(0,S.Dv)("Query.startAfter",0,2,arguments.length),new o(this.database,di(this._delegate,Ef(i,a)))},o.prototype.endAt=function(i,a){return void 0===i&&(i=null),(0,S.Dv)("Query.endAt",0,2,arguments.length),new o(this.database,di(this._delegate,mf(i,a)))},o.prototype.endBefore=function(i,a){return void 0===i&&(i=null),(0,S.Dv)("Query.endBefore",0,2,arguments.length),new o(this.database,di(this._delegate,vf(i,a)))},o.prototype.equalTo=function(i,a){return(0,S.Dv)("Query.equalTo",1,2,arguments.length),new o(this.database,di(this._delegate,Sf(i,a)))},o.prototype.toString=function(){return(0,S.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},o.prototype.toJSON=function(){return(0,S.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},o.prototype.isEqual=function(i){if((0,S.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof o)){var a="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(a)}return this._delegate.isEqual(i._delegate)},o.getCancelAndContextArgs_=function(i,a,u){var f={cancel:void 0,context:void 0};if(a&&u)f.cancel=a,(0,S.Wj)(i,"cancel",f.cancel,!0),f.context=u,(0,S.lb)(i,"context",f.context,!0);else if(a)if("object"==typeof a&&null!==a)f.context=a;else{if("function"!=typeof a)throw new Error((0,S.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");f.cancel=a}return f},Object.defineProperty(o.prototype,"ref",{get:function(){return new Ao(this.database,new pn(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),o}(),Ao=function(o){function i(a,u){var f=o.call(this,a,new Tr(u._repo,u._path,new Ra,!1))||this;return f.database=a,f._delegate=u,f}return(0,X.ZT)(i,o),i.prototype.getKey=function(){return(0,S.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},i.prototype.child=function(a){return(0,S.Dv)("Reference.child",1,1,arguments.length),"number"==typeof a&&(a=String(a)),new i(this.database,Ro(this._delegate,a))},i.prototype.getParent=function(){(0,S.Dv)("Reference.parent",0,0,arguments.length);var a=this._delegate.parent;return a?new i(this.database,a):null},i.prototype.getRoot=function(){return(0,S.Dv)("Reference.root",0,0,arguments.length),new i(this.database,this._delegate.root)},i.prototype.set=function(a,u){(0,S.Dv)("Reference.set",1,2,arguments.length),(0,S.Wj)("Reference.set","onComplete",u,!0);var f=fu(this._delegate,a);return u&&f.then(function(){return u(null)},function(v){return u(v)}),f},i.prototype.update=function(a,u){if((0,S.Dv)("Reference.update",1,2,arguments.length),Array.isArray(a)){for(var f={},v=0;v<a.length;++v)f[""+v]=a[v];a=f,Ht("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ui("Reference.update",this._delegate._path),(0,S.Wj)("Reference.update","onComplete",u,!0);var C=Zp(this._delegate,a);return u&&C.then(function(){return u(null)},function(O){return u(O)}),C},i.prototype.setWithPriority=function(a,u,f){(0,S.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,S.Wj)("Reference.setWithPriority","onComplete",f,!0);var v=gf(this._delegate,a,u);return f&&v.then(function(){return f(null)},function(C){return f(C)}),v},i.prototype.remove=function(a){(0,S.Dv)("Reference.remove",0,1,arguments.length),(0,S.Wj)("Reference.remove","onComplete",a,!0);var u=hf(this._delegate);return a&&u.then(function(){return a(null)},function(f){return a(f)}),u},i.prototype.transaction=function(a,u,f){var v=this;(0,S.Dv)("Reference.transaction",1,3,arguments.length),(0,S.Wj)("Reference.transaction","transactionUpdate",a,!1),(0,S.Wj)("Reference.transaction","onComplete",u,!0),Qd("Reference.transaction","applyLocally",f,!0);var C=rg(this._delegate,a,{applyLocally:f}).then(function(O){return new yu(O.committed,new ls(v.database,O.snapshot))});return u&&C.then(function(O){return u(null,O.committed,O.snapshot)},function(O){return u(O,!1,null)}),C},i.prototype.setPriority=function(a,u){(0,S.Dv)("Reference.setPriority",1,2,arguments.length),(0,S.Wj)("Reference.setPriority","onComplete",u,!0);var f=pf(this._delegate,a);return u&&f.then(function(){return u(null)},function(v){return u(v)}),f},i.prototype.push=function(a,u){var f=this;(0,S.Dv)("Reference.push",0,2,arguments.length),(0,S.Wj)("Reference.push","onComplete",u,!0);var v=ff(this._delegate,a),C=v.then(function(L){return new i(f.database,L)});u&&C.then(function(){return u(null)},function(L){return u(L)});var O=new i(this.database,v);return O.then=C.then.bind(C),O.catch=C.catch.bind(C,void 0),O},i.prototype.onDisconnect=function(){return ui("Reference.onDisconnect",this._delegate._path),new Oi(new Rc(this._delegate._repo,this._delegate._path))},Object.defineProperty(i.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),i}(Uc),Mo=function(){function o(i,a){var u=this;this._delegate=i,this.app=a,this.INTERNAL={delete:function(){return u._delegate._delete()}}}return o.prototype.useEmulator=function(i,a,u){void 0===u&&(u={}),function(o,i,a,u){void 0===u&&(u={}),(o=(0,S.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&At("Cannot call useEmulator() after instance has already been initialized.");var f=o._repoInternal,v=void 0;if(f.repoInfo_.nodeAdmin)u.mockUserToken&&At('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),v=new De(De.OWNER);else if(u.mockUserToken){var C="string"==typeof u.mockUserToken?u.mockUserToken:(0,S.Sg)(u.mockUserToken,o.app.options.projectId);v=new De(C)}!function(o,i,a,u){o.repoInfo_=new fn(i+":"+a,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams),u&&(o.authTokenProvider_=u)}(f,i,a,v)}(this._delegate,i,a,u)},o.prototype.ref=function(i){if((0,S.Dv)("database.ref",0,1,arguments.length),i instanceof Ao){var a=tl(this._delegate,i.toString());return new Ao(this,a)}return a=Ac(this._delegate,i),new Ao(this,a)},o.prototype.refFromURL=function(i){var a="database.refFromURL";(0,S.Dv)(a,1,1,arguments.length);var u=tl(this._delegate,i);return new Ao(this,u)},o.prototype.goOffline=function(){return(0,S.Dv)("database.goOffline",0,0,arguments.length),Mf(this._delegate)},o.prototype.goOnline=function(){return(0,S.Dv)("database.goOnline",0,0,arguments.length),js(this._delegate)},o.ServerValue={TIMESTAMP:Pi,increment:function(i){return function(o){return{".sv":{increment:o}}}(i)}},o}(),xf=Object.freeze({__proto__:null,forceLongPolling:function(){Sn.forceDisallow(),Br.forceAllow()},forceWebSockets:function(){Br.forceDisallow()},isWebSocketsAvailable:function(){return Sn.isAvailable()},setSecurityDebugCallback:function(o,i){o._delegate._repo.persistentConnection_.securityDebugCallback_=i},stats:function(o,i){!function(o,i){if(void 0===i&&(i=!1),"undefined"!=typeof console){var a;i?(o.statsListener_||(o.statsListener_=new Hi(o.stats_)),a=o.statsListener_.get()):a=o.stats_.get();var u=Object.keys(a).reduce(function(f,v){return Math.max(v.length,f)},0);tt(a,function(f,v){for(var C=f,O=f.length;O<u+2;O++)C+=" ";console.log(C+v)})}}(o._delegate._repo,i)},statsIncrementCounter:function(o,i){!function(o,i){o.stats_.incrementCounter(i),function(o,i){o.statsToReport_[i]=!0}(o.statsReporter_,i)}(o._delegate._repo,i)},dataUpdateCount:function(o){return o._delegate._repo.dataUpdateCount},interceptServerData:function(o,i){return function(o,i){o.interceptServerDataCallback_=i}(o._delegate._repo,i)},initStandalone:function(o){var i=o.app,a=o.url,f=o.customAuthImpl,v=o.namespace,C=o.nodeAdmin,O=void 0!==C&&C;G(o.version);var L=new R.zt("auth-internal",new R.H0("database-standalone"));return L.setComponent(new R.wA("auth-internal",function(){return f},"PRIVATE")),{instance:new Mo(Fc(i,L,void 0,a,O),i),namespace:v}}}),Cu=ri;ri.prototype.simpleListen=function(o,i){this.sendRequest("q",{p:o},i)},ri.prototype.echo=function(o,i){this.sendRequest("echo",{d:o},i)};var kf=Object.freeze({__proto__:null,DataConnection:Cu,RealTimeConnection:oe,hijackHash:function(o){var i=ri.prototype.put;return ri.prototype.put=function(a,u,f,v){void 0!==v&&(v=o()),i.call(this,a,u,f,v)},function(){ri.prototype.put=i}},ConnectionTarget:fn,queryIdentifier:function(o){return o._delegate._queryIdentifier},forceRestClient:function(o){!function(o){vu=o}(o)}}),Gc=Mo.ServerValue;!function(o){G(o.SDK_VERSION);var i=o.INTERNAL.registerComponent(new R.wA("database",function(a,u){var f=u.instanceIdentifier,v=a.getProvider("app").getImmediate(),C=a.getProvider("auth-internal"),O=a.getProvider("app-check-internal");return new Mo(Fc(v,C,O,f),v)},"PUBLIC").setServiceProps({Reference:Ao,Query:Uc,Database:Mo,DataSnapshot:ls,enableLogging:Et,INTERNAL:xf,ServerValue:Gc,TEST_ACCESS:kf}).setMultipleInstances(!0));o.registerVersion("@firebase/database","0.11.0"),(0,S.Yr)()&&(ot.exports=i)}(T.Z)},300:(ot,Ie,M)=>{"use strict";function T(){for(var k=0,te=0,be=arguments.length;te<be;te++)k+=arguments[te].length;var Re=Array(k),Se=0;for(te=0;te<be;te++)for(var Ze=arguments[te],Oe=0,pe=Ze.length;Oe<pe;Oe++,Se++)Re[Se]=Ze[Oe];return Re}M.d(Ie,{in:()=>X,Yd:()=>G,Ub:()=>H,Am:()=>ne});var R,S=[],X=(()=>{return(k=X||(X={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",X;var k})(),se={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},j=X.INFO,le=((R={})[X.DEBUG]="log",R[X.VERBOSE]="log",R[X.INFO]="info",R[X.WARN]="warn",R[X.ERROR]="error",R),$=function(k,te){for(var be=[],Re=2;Re<arguments.length;Re++)be[Re-2]=arguments[Re];if(!(te<k.logLevel)){var Se=(new Date).toISOString(),Ze=le[te];if(!Ze)throw new Error("Attempted to log a message with an invalid logType (value: "+te+")");console[Ze].apply(console,T(["["+Se+"]  "+k.name+":"],be))}},G=function(){function k(te){this.name=te,this._logLevel=j,this._logHandler=$,this._userLogHandler=null,S.push(this)}return Object.defineProperty(k.prototype,"logLevel",{get:function(){return this._logLevel},set:function(te){if(!(te in X))throw new TypeError('Invalid value "'+te+'" assigned to `logLevel`');this._logLevel=te},enumerable:!1,configurable:!0}),k.prototype.setLogLevel=function(te){this._logLevel="string"==typeof te?se[te]:te},Object.defineProperty(k.prototype,"logHandler",{get:function(){return this._logHandler},set:function(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(te){this._userLogHandler=te},enumerable:!1,configurable:!0}),k.prototype.debug=function(){for(var te=[],be=0;be<arguments.length;be++)te[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,T([this,X.DEBUG],te)),this._logHandler.apply(this,T([this,X.DEBUG],te))},k.prototype.log=function(){for(var te=[],be=0;be<arguments.length;be++)te[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,T([this,X.VERBOSE],te)),this._logHandler.apply(this,T([this,X.VERBOSE],te))},k.prototype.info=function(){for(var te=[],be=0;be<arguments.length;be++)te[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,T([this,X.INFO],te)),this._logHandler.apply(this,T([this,X.INFO],te))},k.prototype.warn=function(){for(var te=[],be=0;be<arguments.length;be++)te[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,T([this,X.WARN],te)),this._logHandler.apply(this,T([this,X.WARN],te))},k.prototype.error=function(){for(var te=[],be=0;be<arguments.length;be++)te[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,T([this,X.ERROR],te)),this._logHandler.apply(this,T([this,X.ERROR],te))},k}();function H(k){S.forEach(function(te){te.setLogLevel(k)})}function ne(k,te){for(var be=function(Oe){var pe=null;te&&te.level&&(pe=se[te.level]),Oe.userLogHandler=null===k?null:function(rt,Et){for(var dt=[],_t=2;_t<arguments.length;_t++)dt[_t-2]=arguments[_t];var Ut=dt.map(function(At){if(null==At)return null;if("string"==typeof At)return At;if("number"==typeof At||"boolean"==typeof At)return At.toString();if(At instanceof Error)return At.message;try{return JSON.stringify(At)}catch(Ht){return null}}).filter(function(At){return At}).join(" ");Et>=(null!=pe?pe:rt.logLevel)&&k({level:X[Et].toLowerCase(),message:Ut,args:dt,type:rt.name})}},Re=0,Se=S;Re<Se.length;Re++)be(Se[Re])}},4685:(ot,Ie,M)=>{"use strict";M.d(Ie,{BH:()=>be,LL:()=>Ye,gQ:()=>Ne,hu:()=>S,g5:()=>X,US:()=>le,h$:()=>$,r3:()=>an,Sg:()=>Re,ne:()=>et,p$:()=>ne,ZB:()=>k,gK:()=>jn,m9:()=>nn,z$:()=>Se,GJ:()=>Lt,jU:()=>pe,ru:()=>rt,d:()=>dt,xb:()=>xt,w1:()=>_t,uI:()=>Ze,UG:()=>Oe,Yr:()=>At,b$:()=>Et,G6:()=>Ht,Mn:()=>Ut,w9:()=>Ft,cI:()=>Xe,UI:()=>Qt,xO:()=>Tt,DV:()=>Mt,ug:()=>ut,dS:()=>fn,Pz:()=>tt,Dv:()=>gn,Wj:()=>mn,lb:()=>gi});var T=M(4762),S=function(q,Y){if(!q)throw X(Y)},X=function(q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+q)},se=function(q){for(var Y=[],he=0,Ce=0;Ce<q.length;Ce++){var de=q.charCodeAt(Ce);de<128?Y[he++]=de:de<2048?(Y[he++]=de>>6|192,Y[he++]=63&de|128):55296==(64512&de)&&Ce+1<q.length&&56320==(64512&q.charCodeAt(Ce+1))?(de=65536+((1023&de)<<10)+(1023&q.charCodeAt(++Ce)),Y[he++]=de>>18|240,Y[he++]=de>>12&63|128,Y[he++]=de>>6&63|128,Y[he++]=63&de|128):(Y[he++]=de>>12|224,Y[he++]=de>>6&63|128,Y[he++]=63&de|128)}return Y},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(q,Y){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var he=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[],de=0;de<q.length;de+=3){var nt=q[de],at=de+1<q.length,St=at?q[de+1]:0,en=de+2<q.length,Zt=en?q[de+2]:0,Fn=(15&St)<<2|Zt>>6,ur=63&Zt;en||(ur=64,at||(Fn=64)),Ce.push(he[nt>>2],he[(3&nt)<<4|St>>4],he[Fn],he[ur])}return Ce.join("")},encodeString:function(q,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(q):this.encodeByteArray(se(q),Y)},decodeString:function(q,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(q):function(q){for(var Y=[],he=0,Ce=0;he<q.length;){var de=q[he++];if(de<128)Y[Ce++]=String.fromCharCode(de);else if(de>191&&de<224){var nt=q[he++];Y[Ce++]=String.fromCharCode((31&de)<<6|63&nt)}else if(de>239&&de<365){var en=((7&de)<<18|(63&(nt=q[he++]))<<12|(63&(at=q[he++]))<<6|63&q[he++])-65536;Y[Ce++]=String.fromCharCode(55296+(en>>10)),Y[Ce++]=String.fromCharCode(56320+(1023&en))}else{nt=q[he++];var at=q[he++];Y[Ce++]=String.fromCharCode((15&de)<<12|(63&nt)<<6|63&at)}}return Y.join("")}(this.decodeStringToByteArray(q,Y))},decodeStringToByteArray:function(q,Y){this.init_();for(var he=Y?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[],de=0;de<q.length;){var nt=he[q.charAt(de++)],St=de<q.length?he[q.charAt(de)]:0,Zt=++de<q.length?he[q.charAt(de)]:64,xn=++de<q.length?he[q.charAt(de)]:64;if(++de,null==nt||null==St||null==Zt||null==xn)throw Error();Ce.push(nt<<2|St>>4),64!==Zt&&(Ce.push(St<<4&240|Zt>>2),64!==xn&&Ce.push(Zt<<6&192|xn))}return Ce},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},$=function(q){var Y=se(q);return le.encodeByteArray(Y,!0)},G=function(q){return $(q).replace(/\./g,"")},H=function(q){try{return le.decodeString(q,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function ne(q){return k(void 0,q)}function k(q,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return Y}for(var Ce in Y)!Y.hasOwnProperty(Ce)||!te(Ce)||(q[Ce]=k(q[Ce],Y[Ce]));return q}function te(q){return"__proto__"!==q}var be=function(){function q(){var Y=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(he,Ce){Y.resolve=he,Y.reject=Ce})}return q.prototype.wrapCallback=function(Y){var he=this;return function(Ce,de){Ce?he.reject(Ce):he.resolve(de),"function"==typeof Y&&(he.promise.catch(function(){}),1===Y.length?Y(Ce):Y(Ce,de))}},q}();function Re(q,Y){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Ce=Y||"demo-project",de=q.iat||0,nt=q.sub||q.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var at=(0,T.pi)({iss:"https://securetoken.google.com/"+Ce,aud:Ce,iat:de,exp:de+3600,auth_time:de,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},q);return[G(JSON.stringify({alg:"none",type:"JWT"})),G(JSON.stringify(at)),""].join(".")}function Se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function pe(){return"object"==typeof self&&self.self===self}function rt(){var q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dt(){return Se().indexOf("Electron/")>=0}function _t(){var q=Se();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ut(){return Se().indexOf("MSAppHost/")>=0}function At(){return!1}function Ht(){return!Oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var fe=function(q){function Y(he,Ce,de){var nt=q.call(this,Ce)||this;return nt.code=he,nt.customData=de,nt.name="FirebaseError",Object.setPrototypeOf(nt,Y.prototype),Error.captureStackTrace&&Error.captureStackTrace(nt,Ye.prototype.create),nt}return(0,T.ZT)(Y,q),Y}(Error),Ye=function(){function q(Y,he,Ce){this.service=Y,this.serviceName=he,this.errors=Ce}return q.prototype.create=function(Y){for(var he=[],Ce=1;Ce<arguments.length;Ce++)he[Ce-1]=arguments[Ce];var de=he[0]||{},nt=this.service+"/"+Y,at=this.errors[Y],St=at?$e(at,de):"Error",en=this.serviceName+": "+St+" ("+nt+").",Zt=new fe(nt,en,de);return Zt},q}();function $e(q,Y){return q.replace(gt,function(he,Ce){var de=Y[Ce];return null!=de?String(de):"<"+Ce+"?>"})}var gt=/\{\$([^}]+)}/g;function Xe(q){return JSON.parse(q)}function tt(q){return JSON.stringify(q)}var ke=function(q){var Y={},he={},Ce={},de="";try{var nt=q.split(".");Y=Xe(H(nt[0])||""),he=Xe(H(nt[1])||""),de=nt[2],Ce=he.d||{},delete he.d}catch(at){}return{header:Y,claims:he,data:Ce,signature:de}},Ft=function(q){var he=ke(q).claims;return!!he&&"object"==typeof he&&he.hasOwnProperty("iat")},Lt=function(q){var Y=ke(q).claims;return"object"==typeof Y&&!0===Y.admin};function an(q,Y){return Object.prototype.hasOwnProperty.call(q,Y)}function Mt(q,Y){if(Object.prototype.hasOwnProperty.call(q,Y))return q[Y]}function xt(q){for(var Y in q)if(Object.prototype.hasOwnProperty.call(q,Y))return!1;return!0}function Qt(q,Y,he){var Ce={};for(var de in q)Object.prototype.hasOwnProperty.call(q,de)&&(Ce[de]=Y.call(he,q[de],de,q));return Ce}function Tt(q){for(var Y=[],he=function(en,Zt){Array.isArray(Zt)?Zt.forEach(function(Mn){Y.push(encodeURIComponent(en)+"="+encodeURIComponent(Mn))}):Y.push(encodeURIComponent(en)+"="+encodeURIComponent(Zt))},Ce=0,de=Object.entries(q);Ce<de.length;Ce++){var nt=de[Ce];he(nt[0],nt[1])}return Y.length?"&"+Y.join("&"):""}var Ne=function(){function q(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}return q.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},q.prototype.compress_=function(Y,he){he||(he=0);var Ce=this.W_;if("string"==typeof Y)for(var de=0;de<16;de++)Ce[de]=Y.charCodeAt(he)<<24|Y.charCodeAt(he+1)<<16|Y.charCodeAt(he+2)<<8|Y.charCodeAt(he+3),he+=4;else for(de=0;de<16;de++)Ce[de]=Y[he]<<24|Y[he+1]<<16|Y[he+2]<<8|Y[he+3],he+=4;for(de=16;de<80;de++)Ce[de]=4294967295&((nt=Ce[de-3]^Ce[de-8]^Ce[de-14]^Ce[de-16])<<1|nt>>>31);var xn,Fn,at=this.chain_[0],St=this.chain_[1],en=this.chain_[2],Zt=this.chain_[3],Mn=this.chain_[4];for(de=0;de<80;de++){de<40?de<20?(xn=Zt^St&(en^Zt),Fn=1518500249):(xn=St^en^Zt,Fn=1859775393):de<60?(xn=St&en|Zt&(St|en),Fn=2400959708):(xn=St^en^Zt,Fn=3395469782);var nt=(at<<5|at>>>27)+xn+Mn+Fn+Ce[de]&4294967295;Mn=Zt,Zt=en,en=4294967295&(St<<30|St>>>2),St=at,at=nt}this.chain_[0]=this.chain_[0]+at&4294967295,this.chain_[1]=this.chain_[1]+St&4294967295,this.chain_[2]=this.chain_[2]+en&4294967295,this.chain_[3]=this.chain_[3]+Zt&4294967295,this.chain_[4]=this.chain_[4]+Mn&4294967295},q.prototype.update=function(Y,he){if(null!=Y){void 0===he&&(he=Y.length);for(var Ce=he-this.blockSize,de=0,nt=this.buf_,at=this.inbuf_;de<he;){if(0===at)for(;de<=Ce;)this.compress_(Y,de),de+=this.blockSize;if("string"==typeof Y){for(;de<he;)if(nt[at]=Y.charCodeAt(de),++de,++at===this.blockSize){this.compress_(nt),at=0;break}}else for(;de<he;)if(nt[at]=Y[de],++de,++at===this.blockSize){this.compress_(nt),at=0;break}}this.inbuf_=at,this.total_+=he}},q.prototype.digest=function(){var Y=[],he=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Ce=this.blockSize-1;Ce>=56;Ce--)this.buf_[Ce]=255&he,he/=256;this.compress_(this.buf_);var de=0;for(Ce=0;Ce<5;Ce++)for(var nt=24;nt>=0;nt-=8)Y[de]=this.chain_[Ce]>>nt&255,++de;return Y},q}();function et(q,Y){var he=new Ee(q,Y);return he.subscribe.bind(he)}var Ee=function(){function q(Y,he){var Ce=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=he,this.task.then(function(){Y(Ce)}).catch(function(de){Ce.error(de)})}return q.prototype.next=function(Y){this.forEachObserver(function(he){he.next(Y)})},q.prototype.error=function(Y){this.forEachObserver(function(he){he.error(Y)}),this.close(Y)},q.prototype.complete=function(){this.forEachObserver(function(Y){Y.complete()}),this.close()},q.prototype.subscribe=function(Y,he,Ce){var nt,de=this;if(void 0===Y&&void 0===he&&void 0===Ce)throw new Error("Missing Observer.");void 0===(nt=function(q,Y){if("object"!=typeof q||null===q)return!1;for(var he=0,Ce=["next","error","complete"];he<Ce.length;he++){var de=Ce[he];if(de in q&&"function"==typeof q[de])return!0}return!1}(Y)?Y:{next:Y,error:he,complete:Ce}).next&&(nt.next=Dt),void 0===nt.error&&(nt.error=Dt),void 0===nt.complete&&(nt.complete=Dt);var at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{de.finalError?nt.error(de.finalError):nt.complete()}catch(St){}}),this.observers.push(nt),at},q.prototype.unsubscribeOne=function(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},q.prototype.forEachObserver=function(Y){if(!this.finalized)for(var he=0;he<this.observers.length;he++)this.sendOne(he,Y)},q.prototype.sendOne=function(Y,he){var Ce=this;this.task.then(function(){if(void 0!==Ce.observers&&void 0!==Ce.observers[Y])try{he(Ce.observers[Y])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})},q.prototype.close=function(Y){var he=this;this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(function(){he.observers=void 0,he.onNoObservers=void 0}))},q}();function Dt(){}var gn=function(q,Y,he,Ce){var de;if(Ce<Y?de="at least "+Y:Ce>he&&(de=0===he?"none":"no more than "+he),de)throw new Error(q+" failed: Was called with "+Ce+(1===Ce?" argument.":" arguments.")+" Expects "+de+".")};function jn(q,Y){return q+" failed: "+Y+" argument "}function mn(q,Y,he,Ce){if((!Ce||he)&&"function"!=typeof he)throw new Error(jn(q,Y)+"must be a valid function.")}function gi(q,Y,he,Ce){if((!Ce||he)&&("object"!=typeof he||null===he))throw new Error(jn(q,Y)+"must be a valid context object.")}var fn=function(q){for(var Y=[],he=0,Ce=0;Ce<q.length;Ce++){var de=q.charCodeAt(Ce);if(de>=55296&&de<=56319){var nt=de-55296;Ce++,S(Ce<q.length,"Surrogate pair missing trail surrogate."),de=65536+(nt<<10)+(q.charCodeAt(Ce)-56320)}de<128?Y[he++]=de:de<2048?(Y[he++]=de>>6|192,Y[he++]=63&de|128):de<65536?(Y[he++]=de>>12|224,Y[he++]=de>>6&63|128,Y[he++]=63&de|128):(Y[he++]=de>>18|240,Y[he++]=de>>12&63|128,Y[he++]=de>>6&63|128,Y[he++]=63&de|128)}return Y},ut=function(q){for(var Y=0,he=0;he<q.length;he++){var Ce=q.charCodeAt(he);Ce<128?Y++:Ce<2048?Y+=2:Ce>=55296&&Ce<=56319?(Y+=4,he++):Y+=3}return Y};function nn(q){return q&&q._delegate?q._delegate:q}},2329:(ot,Ie,M)=>{"use strict";M.d(Ie,{Z:()=>T.Z});var T=M(9759),S="8.10.1";T.Z.registerVersion("firebase",S,"app"),T.Z.SDK_VERSION=S},9932:(ot,Ie,M)=>{"use strict";M.d(Ie,{op:()=>st,Vv:()=>cr,$V:()=>dn,Xd:()=>dr});var T=M(7574),R=M(9796),S=M(9105),X=M(8002);function j(I,A,V,oe){return(0,S.m)(V)&&(oe=V,V=void 0),oe?j(I,A,V).pipe((0,X.U)(we=>(0,R.k)(we)?oe(...we):oe(we))):new T.y(we=>{le(I,A,function(Ue){we.next(arguments.length>1?Array.prototype.slice.call(arguments):Ue)},we,V)})}function le(I,A,V,oe,we){let We;if(function(I){return I&&"function"==typeof I.addEventListener&&"function"==typeof I.removeEventListener}(I)){const Ue=I;I.addEventListener(A,V,we),We=()=>Ue.removeEventListener(A,V,we)}else if(function(I){return I&&"function"==typeof I.on&&"function"==typeof I.off}(I)){const Ue=I;I.on(A,V),We=()=>Ue.off(A,V)}else if(function(I){return I&&"function"==typeof I.addListener&&"function"==typeof I.removeListener}(I)){const Ue=I;I.addListener(A,V),We=()=>Ue.removeListener(A,V)}else{if(!I||!I.length)throw new TypeError("Invalid event target");for(let Ue=0,it=I.length;Ue<it;Ue++)le(I[Ue],A,V,oe,we)}oe.add(We)}var ne=M(9765),k=M(6682),te=M(3637),be=M(5345);class Se{constructor(A){this.durationSelector=A}call(A,V){return V.subscribe(new Ze(A,this.durationSelector))}}class Ze extends be.Ds{constructor(A,V){super(A),this.durationSelector=V,this.hasValue=!1}_next(A){if(this.value=A,this.hasValue=!0,!this.throttled){let V;try{const{durationSelector:we}=this;V=we(A)}catch(we){return this.destination.error(we)}const oe=(0,be.ft)(V,new be.IY(this));!oe||oe.closed?this.clearThrottle():this.add(this.throttled=oe)}}clearThrottle(){const{value:A,hasValue:V,throttled:oe}=this;oe&&(this.remove(oe),this.throttled=void 0,oe.unsubscribe()),V&&(this.value=void 0,this.hasValue=!1,this.destination.next(A))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Oe=M(6561),pe=M(4869);function Et(I){const{index:A,period:V,subscriber:oe}=I;if(oe.next(A),!oe.closed){if(-1===V)return oe.complete();I.index=A+1,this.schedule(I,V)}}var _t=M(7393);function Ut(I){return A=>A.lift(new At(I))}class At{constructor(A){this.value=A}call(A,V){return V.subscribe(new Ht(A,this.value))}}class Ht extends _t.L{constructor(A,V){super(A),this.value=V}_next(A){this.destination.next(this.value)}}var ge=M(6782),ye=M(7519),Q=M(7716),ce=M(8583);function xe(I){return getComputedStyle(I)}function fe(I,A){for(var V in A){var oe=A[V];"number"==typeof oe&&(oe+="px"),I.style[V]=oe}return I}function Ye(I){var A=document.createElement("div");return A.className=I,A}var $e="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function gt(I,A){if(!$e)throw new Error("No element matching method supported");return $e.call(I,A)}function Xe(I){I.remove?I.remove():I.parentNode&&I.parentNode.removeChild(I)}function tt(I,A){return Array.prototype.filter.call(I.children,function(V){return gt(V,A)})}var ke_element_thumb=function(I){return"ps__thumb-"+I},ke_element_rail=function(I){return"ps__rail-"+I},ke_element_consuming="ps__child--consume",ke_state_focus="ps--focus",ke_state_clicking="ps--clicking",ke_state_active=function(I){return"ps--active-"+I},ke_state_scrolling=function(I){return"ps--scrolling-"+I},Ve={x:null,y:null};function pt(I,A){var V=I.element.classList,oe=ke_state_scrolling(A);V.contains(oe)?clearTimeout(Ve[A]):V.add(oe)}function Ft(I,A){Ve[A]=setTimeout(function(){return I.isAlive&&I.element.classList.remove(ke_state_scrolling(A))},I.settings.scrollingThreshold)}var an=function(A){this.element=A,this.handlers={}},Mt={isEmpty:{configurable:!0}};an.prototype.bind=function(A,V){void 0===this.handlers[A]&&(this.handlers[A]=[]),this.handlers[A].push(V),this.element.addEventListener(A,V,!1)},an.prototype.unbind=function(A,V){var oe=this;this.handlers[A]=this.handlers[A].filter(function(we){return!(!V||we===V)||(oe.element.removeEventListener(A,we,!1),!1)})},an.prototype.unbindAll=function(){for(var A in this.handlers)this.unbind(A)},Mt.isEmpty.get=function(){var I=this;return Object.keys(this.handlers).every(function(A){return 0===I.handlers[A].length})},Object.defineProperties(an.prototype,Mt);var xt=function(){this.eventElements=[]};function Qt(I){if("function"==typeof window.CustomEvent)return new CustomEvent(I);var A=document.createEvent("CustomEvent");return A.initCustomEvent(I,!1,!1,void 0),A}function On(I,A,V,oe,we){var We;if(void 0===oe&&(oe=!0),void 0===we&&(we=!1),"top"===A)We=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==A)throw new Error("A proper axis should be provided");We=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(I,A,V,oe,we){var We=V[0],Ue=V[1],it=V[2],Ke=V[3],Je=V[4],Qe=V[5];void 0===oe&&(oe=!0),void 0===we&&(we=!1);var mt=I.element;I.reach[Ke]=null,mt[it]<1&&(I.reach[Ke]="start"),mt[it]>I[We]-I[Ue]-1&&(I.reach[Ke]="end"),A&&(mt.dispatchEvent(Qt("ps-scroll-"+Ke)),A<0?mt.dispatchEvent(Qt("ps-scroll-"+Je)):A>0&&mt.dispatchEvent(Qt("ps-scroll-"+Qe)),oe&&function(I,A){pt(I,A),Ft(I,A)}(I,Ke)),I.reach[Ke]&&(A||we)&&mt.dispatchEvent(Qt("ps-"+Ke+"-reach-"+I.reach[Ke]))}(I,V,We,oe,we)}function Tt(I){return parseInt(I,10)||0}xt.prototype.eventElement=function(A){var V=this.eventElements.filter(function(oe){return oe.element===A})[0];return V||(V=new an(A),this.eventElements.push(V)),V},xt.prototype.bind=function(A,V,oe){this.eventElement(A).bind(V,oe)},xt.prototype.unbind=function(A,V,oe){var we=this.eventElement(A);we.unbind(V,oe),we.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(we),1)},xt.prototype.unbindAll=function(){this.eventElements.forEach(function(A){return A.unbindAll()}),this.eventElements=[]},xt.prototype.once=function(A,V,oe){var we=this.eventElement(A),We=function(Ue){we.unbind(V,We),oe(Ue)};we.bind(V,We)};var Ne={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function et(I){var A=I.element,V=Math.floor(A.scrollTop),oe=A.getBoundingClientRect();I.containerWidth=Math.ceil(oe.width),I.containerHeight=Math.ceil(oe.height),I.contentWidth=A.scrollWidth,I.contentHeight=A.scrollHeight,A.contains(I.scrollbarXRail)||(tt(A,ke_element_rail("x")).forEach(function(we){return Xe(we)}),A.appendChild(I.scrollbarXRail)),A.contains(I.scrollbarYRail)||(tt(A,ke_element_rail("y")).forEach(function(we){return Xe(we)}),A.appendChild(I.scrollbarYRail)),!I.settings.suppressScrollX&&I.containerWidth+I.settings.scrollXMarginOffset<I.contentWidth?(I.scrollbarXActive=!0,I.railXWidth=I.containerWidth-I.railXMarginWidth,I.railXRatio=I.containerWidth/I.railXWidth,I.scrollbarXWidth=Ee(I,Tt(I.railXWidth*I.containerWidth/I.contentWidth)),I.scrollbarXLeft=Tt((I.negativeScrollAdjustment+A.scrollLeft)*(I.railXWidth-I.scrollbarXWidth)/(I.contentWidth-I.containerWidth))):I.scrollbarXActive=!1,!I.settings.suppressScrollY&&I.containerHeight+I.settings.scrollYMarginOffset<I.contentHeight?(I.scrollbarYActive=!0,I.railYHeight=I.containerHeight-I.railYMarginHeight,I.railYRatio=I.containerHeight/I.railYHeight,I.scrollbarYHeight=Ee(I,Tt(I.railYHeight*I.containerHeight/I.contentHeight)),I.scrollbarYTop=Tt(V*(I.railYHeight-I.scrollbarYHeight)/(I.contentHeight-I.containerHeight))):I.scrollbarYActive=!1,I.scrollbarXLeft>=I.railXWidth-I.scrollbarXWidth&&(I.scrollbarXLeft=I.railXWidth-I.scrollbarXWidth),I.scrollbarYTop>=I.railYHeight-I.scrollbarYHeight&&(I.scrollbarYTop=I.railYHeight-I.scrollbarYHeight),function(I,A){var V={width:A.railXWidth},oe=Math.floor(I.scrollTop);V.left=A.isRtl?A.negativeScrollAdjustment+I.scrollLeft+A.containerWidth-A.contentWidth:I.scrollLeft,A.isScrollbarXUsingBottom?V.bottom=A.scrollbarXBottom-oe:V.top=A.scrollbarXTop+oe,fe(A.scrollbarXRail,V);var we={top:oe,height:A.railYHeight};A.isScrollbarYUsingRight?we.right=A.isRtl?A.contentWidth-(A.negativeScrollAdjustment+I.scrollLeft)-A.scrollbarYRight-A.scrollbarYOuterWidth-9:A.scrollbarYRight-I.scrollLeft:we.left=A.isRtl?A.negativeScrollAdjustment+I.scrollLeft+2*A.containerWidth-A.contentWidth-A.scrollbarYLeft-A.scrollbarYOuterWidth:A.scrollbarYLeft+I.scrollLeft,fe(A.scrollbarYRail,we),fe(A.scrollbarX,{left:A.scrollbarXLeft,width:A.scrollbarXWidth-A.railBorderXWidth}),fe(A.scrollbarY,{top:A.scrollbarYTop,height:A.scrollbarYHeight-A.railBorderYWidth})}(A,I),I.scrollbarXActive?A.classList.add(ke_state_active("x")):(A.classList.remove(ke_state_active("x")),I.scrollbarXWidth=0,I.scrollbarXLeft=0,A.scrollLeft=!0===I.isRtl?I.contentWidth:0),I.scrollbarYActive?A.classList.add(ke_state_active("y")):(A.classList.remove(ke_state_active("y")),I.scrollbarYHeight=0,I.scrollbarYTop=0,A.scrollTop=0)}function Ee(I,A){return I.settings.minScrollbarLength&&(A=Math.max(A,I.settings.minScrollbarLength)),I.settings.maxScrollbarLength&&(A=Math.min(A,I.settings.maxScrollbarLength)),A}function gn(I,A){var V=A[0],oe=A[1],we=A[2],We=A[3],Ue=A[4],it=A[5],Ke=A[6],Je=A[7],Qe=A[8],mt=I.element,ie=null,z=null,U=null;function ue(je){je.touches&&je.touches[0]&&(je[we]=je.touches[0].pageY),mt[Ke]=ie+U*(je[we]-z),pt(I,Je),et(I),je.stopPropagation(),je.preventDefault()}function Ae(){Ft(I,Je),I[Qe].classList.remove(ke_state_clicking),I.event.unbind(I.ownerDocument,"mousemove",ue)}function qe(je,lt){ie=mt[Ke],lt&&je.touches&&(je[we]=je.touches[0].pageY),z=je[we],U=(I[oe]-I[V])/(I[We]-I[it]),lt?I.event.bind(I.ownerDocument,"touchmove",ue):(I.event.bind(I.ownerDocument,"mousemove",ue),I.event.once(I.ownerDocument,"mouseup",Ae),je.preventDefault()),I[Qe].classList.add(ke_state_clicking),je.stopPropagation()}I.event.bind(I[Ue],"mousedown",function(je){qe(je)}),I.event.bind(I[Ue],"touchstart",function(je){qe(je,!0)})}var fn={"click-rail":function(I){I.event.bind(I.scrollbarY,"mousedown",function(V){return V.stopPropagation()}),I.event.bind(I.scrollbarYRail,"mousedown",function(V){var oe=V.pageY-window.pageYOffset-I.scrollbarYRail.getBoundingClientRect().top;I.element.scrollTop+=(oe>I.scrollbarYTop?1:-1)*I.containerHeight,et(I),V.stopPropagation()}),I.event.bind(I.scrollbarX,"mousedown",function(V){return V.stopPropagation()}),I.event.bind(I.scrollbarXRail,"mousedown",function(V){var oe=V.pageX-window.pageXOffset-I.scrollbarXRail.getBoundingClientRect().left;I.element.scrollLeft+=(oe>I.scrollbarXLeft?1:-1)*I.containerWidth,et(I),V.stopPropagation()})},"drag-thumb":function(I){gn(I,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),gn(I,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(I){var A=I.element;I.event.bind(I.ownerDocument,"keydown",function(We){if(!(We.isDefaultPrevented&&We.isDefaultPrevented()||We.defaultPrevented)&&(gt(A,":hover")||gt(I.scrollbarX,":focus")||gt(I.scrollbarY,":focus"))){var Ue=document.activeElement?document.activeElement:I.ownerDocument.activeElement;if(Ue){if("IFRAME"===Ue.tagName)Ue=Ue.contentDocument.activeElement;else for(;Ue.shadowRoot;)Ue=Ue.shadowRoot.activeElement;if(function(I){return gt(I,"input,[contenteditable]")||gt(I,"select,[contenteditable]")||gt(I,"textarea,[contenteditable]")||gt(I,"button,[contenteditable]")}(Ue))return}var it=0,Ke=0;switch(We.which){case 37:it=We.metaKey?-I.contentWidth:We.altKey?-I.containerWidth:-30;break;case 38:Ke=We.metaKey?I.contentHeight:We.altKey?I.containerHeight:30;break;case 39:it=We.metaKey?I.contentWidth:We.altKey?I.containerWidth:30;break;case 40:Ke=We.metaKey?-I.contentHeight:We.altKey?-I.containerHeight:-30;break;case 32:Ke=We.shiftKey?I.containerHeight:-I.containerHeight;break;case 33:Ke=I.containerHeight;break;case 34:Ke=-I.containerHeight;break;case 36:Ke=I.contentHeight;break;case 35:Ke=-I.contentHeight;break;default:return}I.settings.suppressScrollX&&0!==it||I.settings.suppressScrollY&&0!==Ke||(A.scrollTop-=Ke,A.scrollLeft+=it,et(I),function(We,Ue){var it=Math.floor(A.scrollTop);if(0===We){if(!I.scrollbarYActive)return!1;if(0===it&&Ue>0||it>=I.contentHeight-I.containerHeight&&Ue<0)return!I.settings.wheelPropagation}var Ke=A.scrollLeft;if(0===Ue){if(!I.scrollbarXActive)return!1;if(0===Ke&&We<0||Ke>=I.contentWidth-I.containerWidth&&We>0)return!I.settings.wheelPropagation}return!0}(it,Ke)&&We.preventDefault())}})},wheel:function(I){var A=I.element;function We(Ue){var it=function(Ue){var it=Ue.deltaX,Ke=-1*Ue.deltaY;return(void 0===it||void 0===Ke)&&(it=-1*Ue.wheelDeltaX/6,Ke=Ue.wheelDeltaY/6),Ue.deltaMode&&1===Ue.deltaMode&&(it*=10,Ke*=10),it!=it&&Ke!=Ke&&(it=0,Ke=Ue.wheelDelta),Ue.shiftKey?[-Ke,-it]:[it,Ke]}(Ue),Ke=it[0],Je=it[1];if(!function(Ue,it,Ke){if(!Ne.isWebKit&&A.querySelector("select:focus"))return!0;if(!A.contains(Ue))return!1;for(var Je=Ue;Je&&Je!==A;){if(Je.classList.contains(ke_element_consuming))return!0;var Qe=xe(Je);if(Ke&&Qe.overflowY.match(/(scroll|auto)/)){var mt=Je.scrollHeight-Je.clientHeight;if(mt>0&&(Je.scrollTop>0&&Ke<0||Je.scrollTop<mt&&Ke>0))return!0}if(it&&Qe.overflowX.match(/(scroll|auto)/)){var ie=Je.scrollWidth-Je.clientWidth;if(ie>0&&(Je.scrollLeft>0&&it<0||Je.scrollLeft<ie&&it>0))return!0}Je=Je.parentNode}return!1}(Ue.target,Ke,Je)){var Qe=!1;I.settings.useBothWheelAxes?I.scrollbarYActive&&!I.scrollbarXActive?(Je?A.scrollTop-=Je*I.settings.wheelSpeed:A.scrollTop+=Ke*I.settings.wheelSpeed,Qe=!0):I.scrollbarXActive&&!I.scrollbarYActive&&(Ke?A.scrollLeft+=Ke*I.settings.wheelSpeed:A.scrollLeft-=Je*I.settings.wheelSpeed,Qe=!0):(A.scrollTop-=Je*I.settings.wheelSpeed,A.scrollLeft+=Ke*I.settings.wheelSpeed),et(I),(Qe=Qe||function(Ue,it){var Ke=Math.floor(A.scrollTop),Je=0===A.scrollTop,Qe=Ke+A.offsetHeight===A.scrollHeight,mt=0===A.scrollLeft,ie=A.scrollLeft+A.offsetWidth===A.scrollWidth;return!(Math.abs(it)>Math.abs(Ue)?Je||Qe:mt||ie)||!I.settings.wheelPropagation}(Ke,Je))&&!Ue.ctrlKey&&(Ue.stopPropagation(),Ue.preventDefault())}}void 0!==window.onwheel?I.event.bind(A,"wheel",We):void 0!==window.onmousewheel&&I.event.bind(A,"mousewheel",We)},touch:function(I){if(Ne.supportsTouch||Ne.supportsIePointer){var A=I.element,we={},We=0,Ue={},it=null;Ne.supportsTouch?(I.event.bind(A,"touchstart",Qe),I.event.bind(A,"touchmove",ie),I.event.bind(A,"touchend",z)):Ne.supportsIePointer&&(window.PointerEvent?(I.event.bind(A,"pointerdown",Qe),I.event.bind(A,"pointermove",ie),I.event.bind(A,"pointerup",z)):window.MSPointerEvent&&(I.event.bind(A,"MSPointerDown",Qe),I.event.bind(A,"MSPointerMove",ie),I.event.bind(A,"MSPointerUp",z)))}function oe(U,ue){A.scrollTop-=ue,A.scrollLeft-=U,et(I)}function Ke(U){return U.targetTouches?U.targetTouches[0]:U}function Je(U){return!(U.pointerType&&"pen"===U.pointerType&&0===U.buttons||!(U.targetTouches&&1===U.targetTouches.length||U.pointerType&&"mouse"!==U.pointerType&&U.pointerType!==U.MSPOINTER_TYPE_MOUSE))}function Qe(U){if(Je(U)){var ue=Ke(U);we.pageX=ue.pageX,we.pageY=ue.pageY,We=(new Date).getTime(),null!==it&&clearInterval(it)}}function ie(U){if(Je(U)){var ue=Ke(U),Ae={pageX:ue.pageX,pageY:ue.pageY},qe=Ae.pageX-we.pageX,je=Ae.pageY-we.pageY;if(function(U,ue,Ae){if(!A.contains(U))return!1;for(var qe=U;qe&&qe!==A;){if(qe.classList.contains(ke_element_consuming))return!0;var je=xe(qe);if(Ae&&je.overflowY.match(/(scroll|auto)/)){var lt=qe.scrollHeight-qe.clientHeight;if(lt>0&&(qe.scrollTop>0&&Ae<0||qe.scrollTop<lt&&Ae>0))return!0}if(ue&&je.overflowX.match(/(scroll|auto)/)){var kt=qe.scrollWidth-qe.clientWidth;if(kt>0&&(qe.scrollLeft>0&&ue<0||qe.scrollLeft<kt&&ue>0))return!0}qe=qe.parentNode}return!1}(U.target,qe,je))return;oe(qe,je),we=Ae;var lt=(new Date).getTime(),kt=lt-We;kt>0&&(Ue.x=qe/kt,Ue.y=je/kt,We=lt),function(U,ue){var Ae=Math.floor(A.scrollTop),qe=A.scrollLeft,je=Math.abs(U),lt=Math.abs(ue);if(lt>je){if(ue<0&&Ae===I.contentHeight-I.containerHeight||ue>0&&0===Ae)return 0===window.scrollY&&ue>0&&Ne.isChrome}else if(je>lt&&(U<0&&qe===I.contentWidth-I.containerWidth||U>0&&0===qe))return!0;return!0}(qe,je)&&U.preventDefault()}}function z(){I.settings.swipeEasing&&(clearInterval(it),it=setInterval(function(){I.isInitialized?clearInterval(it):Ue.x||Ue.y?Math.abs(Ue.x)<.01&&Math.abs(Ue.y)<.01?clearInterval(it):(oe(30*Ue.x,30*Ue.y),Ue.x*=.8,Ue.y*=.8):clearInterval(it)},10))}}},ut=function(A,V){var oe=this;if(void 0===V&&(V={}),"string"==typeof A&&(A=document.querySelector(A)),!A||!A.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var we in this.element=A,A.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},V)this.settings[we]=V[we];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var Qe,Je,We=function(){return A.classList.add(ke_state_focus)},Ue=function(){return A.classList.remove(ke_state_focus)};this.isRtl="rtl"===xe(A).direction,!0===this.isRtl&&A.classList.add("ps__rtl"),this.isNegativeScroll=(Je=A.scrollLeft,A.scrollLeft=-1,Qe=A.scrollLeft<0,A.scrollLeft=Je,Qe),this.negativeScrollAdjustment=this.isNegativeScroll?A.scrollWidth-A.clientWidth:0,this.event=new xt,this.ownerDocument=A.ownerDocument||document,this.scrollbarXRail=Ye(ke_element_rail("x")),A.appendChild(this.scrollbarXRail),this.scrollbarX=Ye(ke_element_thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",We),this.event.bind(this.scrollbarX,"blur",Ue),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var it=xe(this.scrollbarXRail);this.scrollbarXBottom=parseInt(it.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Tt(it.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Tt(it.borderLeftWidth)+Tt(it.borderRightWidth),fe(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Tt(it.marginLeft)+Tt(it.marginRight),fe(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Ye(ke_element_rail("y")),A.appendChild(this.scrollbarYRail),this.scrollbarY=Ye(ke_element_thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",We),this.event.bind(this.scrollbarY,"blur",Ue),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var Ke=xe(this.scrollbarYRail);this.scrollbarYRight=parseInt(Ke.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Tt(Ke.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(I){var A=xe(I);return Tt(A.width)+Tt(A.paddingLeft)+Tt(A.paddingRight)+Tt(A.borderLeftWidth)+Tt(A.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=Tt(Ke.borderTopWidth)+Tt(Ke.borderBottomWidth),fe(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Tt(Ke.marginTop)+Tt(Ke.marginBottom),fe(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:A.scrollLeft<=0?"start":A.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:A.scrollTop<=0?"start":A.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(Je){return fn[Je](oe)}),this.lastScrollTop=Math.floor(A.scrollTop),this.lastScrollLeft=A.scrollLeft,this.event.bind(this.element,"scroll",function(Je){return oe.onScroll(Je)}),et(this)};ut.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,fe(this.scrollbarXRail,{display:"block"}),fe(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Tt(xe(this.scrollbarXRail).marginLeft)+Tt(xe(this.scrollbarXRail).marginRight),this.railYMarginHeight=Tt(xe(this.scrollbarYRail).marginTop)+Tt(xe(this.scrollbarYRail).marginBottom),fe(this.scrollbarXRail,{display:"none"}),fe(this.scrollbarYRail,{display:"none"}),et(this),On(this,"top",0,!1,!0),On(this,"left",0,!1,!0),fe(this.scrollbarXRail,{display:""}),fe(this.scrollbarYRail,{display:""}))},ut.prototype.onScroll=function(A){!this.isAlive||(et(this),On(this,"top",this.element.scrollTop-this.lastScrollTop),On(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},ut.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),Xe(this.scrollbarX),Xe(this.scrollbarY),Xe(this.scrollbarXRail),Xe(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},ut.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(A){return!A.match(/^ps([-_].+|)$/)}).join(" ")};const Rt=ut;var Pt=function(){if("undefined"!=typeof Map)return Map;function I(A,V){var oe=-1;return A.some(function(we,We){return we[0]===V&&(oe=We,!0)}),oe}return function(){function A(){this.__entries__=[]}return Object.defineProperty(A.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),A.prototype.get=function(V){var oe=I(this.__entries__,V),we=this.__entries__[oe];return we&&we[1]},A.prototype.set=function(V,oe){var we=I(this.__entries__,V);~we?this.__entries__[we][1]=oe:this.__entries__.push([V,oe])},A.prototype.delete=function(V){var oe=this.__entries__,we=I(oe,V);~we&&oe.splice(we,1)},A.prototype.has=function(V){return!!~I(this.__entries__,V)},A.prototype.clear=function(){this.__entries__.splice(0)},A.prototype.forEach=function(V,oe){void 0===oe&&(oe=null);for(var we=0,We=this.__entries__;we<We.length;we++){var Ue=We[we];V.call(oe,Ue[1],Ue[0])}},A}()}(),qn="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Dn="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),tn="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Dn):function(I){return setTimeout(function(){return I(Date.now())},1e3/60)},q=["top","right","bottom","left","width","height","size","weight"],Y="undefined"!=typeof MutationObserver,he=function(){function I(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(I,A){var V=!1,oe=!1,we=0;function We(){V&&(V=!1,I()),oe&&it()}function Ue(){tn(We)}function it(){var Ke=Date.now();if(V){if(Ke-we<2)return;oe=!0}else V=!0,oe=!1,setTimeout(Ue,20);we=Ke}return it}(this.refresh.bind(this))}return I.prototype.addObserver=function(A){~this.observers_.indexOf(A)||this.observers_.push(A),this.connected_||this.connect_()},I.prototype.removeObserver=function(A){var V=this.observers_,oe=V.indexOf(A);~oe&&V.splice(oe,1),!V.length&&this.connected_&&this.disconnect_()},I.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},I.prototype.updateObservers_=function(){var A=this.observers_.filter(function(V){return V.gatherActive(),V.hasActive()});return A.forEach(function(V){return V.broadcastActive()}),A.length>0},I.prototype.connect_=function(){!qn||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Y?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},I.prototype.disconnect_=function(){!qn||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},I.prototype.onTransitionEnd_=function(A){var V=A.propertyName,oe=void 0===V?"":V;q.some(function(We){return!!~oe.indexOf(We)})&&this.refresh()},I.getInstance=function(){return this.instance_||(this.instance_=new I),this.instance_},I.instance_=null,I}(),Ce=function(I,A){for(var V=0,oe=Object.keys(A);V<oe.length;V++){var we=oe[V];Object.defineProperty(I,we,{value:A[we],enumerable:!1,writable:!1,configurable:!0})}return I},de=function(I){return I&&I.ownerDocument&&I.ownerDocument.defaultView||Dn},nt=Vr(0,0,0,0);function at(I){return parseFloat(I)||0}function St(I){for(var A=[],V=1;V<arguments.length;V++)A[V-1]=arguments[V];return A.reduce(function(oe,we){return oe+at(I["border-"+we+"-width"])},0)}var xn="undefined"!=typeof SVGGraphicsElement?function(I){return I instanceof de(I).SVGGraphicsElement}:function(I){return I instanceof de(I).SVGElement&&"function"==typeof I.getBBox};function ur(I){return qn?xn(I)?function(I){var A=I.getBBox();return Vr(0,0,A.width,A.height)}(I):function(I){var A=I.clientWidth,V=I.clientHeight;if(!A&&!V)return nt;var oe=de(I).getComputedStyle(I),we=function(I){for(var V={},oe=0,we=["top","right","bottom","left"];oe<we.length;oe++){var We=we[oe];V[We]=at(I["padding-"+We])}return V}(oe),We=we.left+we.right,Ue=we.top+we.bottom,it=at(oe.width),Ke=at(oe.height);if("border-box"===oe.boxSizing&&(Math.round(it+We)!==A&&(it-=St(oe,"left","right")+We),Math.round(Ke+Ue)!==V&&(Ke-=St(oe,"top","bottom")+Ue)),!function(I){return I===de(I).document.documentElement}(I)){var Je=Math.round(it+We)-A,Qe=Math.round(Ke+Ue)-V;1!==Math.abs(Je)&&(it-=Je),1!==Math.abs(Qe)&&(Ke-=Qe)}return Vr(we.left,we.top,it,Ke)}(I):nt}function Vr(I,A,V,oe){return{x:I,y:A,width:V,height:oe}}var Br=function(){function I(A){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Vr(0,0,0,0),this.target=A}return I.prototype.isActive=function(){var A=ur(this.target);return this.contentRect_=A,A.width!==this.broadcastWidth||A.height!==this.broadcastHeight},I.prototype.broadcastRect=function(){var A=this.contentRect_;return this.broadcastWidth=A.width,this.broadcastHeight=A.height,A},I}(),Ur=function(A,V){var oe=function(I){var A=I.x,V=I.y,oe=I.width,we=I.height,We="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,Ue=Object.create(We.prototype);return Ce(Ue,{x:A,y:V,width:oe,height:we,top:V,right:A+oe,bottom:we+V,left:A}),Ue}(V);Ce(this,{target:A,contentRect:oe})},yr=function(){function I(A,V,oe){if(this.activeObservations_=[],this.observations_=new Pt,"function"!=typeof A)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=A,this.controller_=V,this.callbackCtx_=oe}return I.prototype.observe=function(A){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(A instanceof de(A).Element))throw new TypeError('parameter 1 is not of type "Element".');var V=this.observations_;V.has(A)||(V.set(A,new Br(A)),this.controller_.addObserver(this),this.controller_.refresh())}},I.prototype.unobserve=function(A){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(A instanceof de(A).Element))throw new TypeError('parameter 1 is not of type "Element".');var V=this.observations_;!V.has(A)||(V.delete(A),V.size||this.controller_.removeObserver(this))}},I.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},I.prototype.gatherActive=function(){var A=this;this.clearActive(),this.observations_.forEach(function(V){V.isActive()&&A.activeObservations_.push(V)})},I.prototype.broadcastActive=function(){if(this.hasActive()){var A=this.callbackCtx_,V=this.activeObservations_.map(function(oe){return new Ur(oe.target,oe.broadcastRect())});this.callback_.call(A,V,A),this.clearActive()}},I.prototype.clearActive=function(){this.activeObservations_.splice(0)},I.prototype.hasActive=function(){return this.activeObservations_.length>0},I}(),yt="undefined"!=typeof WeakMap?new WeakMap:new Pt,ln=function I(A){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var V=he.getInstance(),oe=new yr(A,V,this);yt.set(this,oe)};["observe","unobserve","disconnect"].forEach(function(I){ln.prototype[I]=function(){var A;return(A=yt.get(this))[I].apply(A,arguments)}});const In=void 0!==Dn.ResizeObserver?Dn.ResizeObserver:ln;function ti(I,A){if(1&I&&(Q.TgZ(0,"div",3),Q._UZ(1,"div",4),Q._UZ(2,"div",5),Q._UZ(3,"div",6),Q._UZ(4,"div",7),Q.qZA()),2&I){const V=Q.oxw();Q.ekj("ps-at-top",V.states.top)("ps-at-left",V.states.left)("ps-at-right",V.states.right)("ps-at-bottom",V.states.bottom),Q.xp6(1),Q.ekj("ps-indicator-show",V.indicatorY&&V.interaction),Q.xp6(1),Q.ekj("ps-indicator-show",V.indicatorX&&V.interaction),Q.xp6(1),Q.ekj("ps-indicator-show",V.indicatorX&&V.interaction),Q.xp6(1),Q.ekj("ps-indicator-show",V.indicatorY&&V.interaction)}}const Rn=["*"],st=new Q.OlP("PERFECT_SCROLLBAR_CONFIG");class jt{constructor(A,V,oe,we){this.x=A,this.y=V,this.w=oe,this.h=we}}class Jt{constructor(A,V){this.x=A,this.y=V}}const wn=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class _r{constructor(A={}){this.assign(A)}assign(A={}){for(const V in A)this[V]=A[V]}}let dn=(()=>{class I{constructor(V,oe,we,We,Ue){this.zone=V,this.differs=oe,this.elementRef=we,this.platformId=We,this.defaults=Ue,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new ne.xQ,this.disabled=!1,this.psScrollY=new Q.vpe,this.psScrollX=new Q.vpe,this.psScrollUp=new Q.vpe,this.psScrollDown=new Q.vpe,this.psScrollLeft=new Q.vpe,this.psScrollRight=new Q.vpe,this.psYReachEnd=new Q.vpe,this.psYReachStart=new Q.vpe,this.psXReachEnd=new Q.vpe,this.psXReachStart=new Q.vpe}ngOnInit(){if(!this.disabled&&(0,ce.NF)(this.platformId)){const V=new _r(this.defaults);V.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new Rt(this.elementRef.nativeElement,V)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new In(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{wn.forEach(oe=>{const we=oe.replace(/([A-Z])/g,We=>`-${We.toLowerCase()}`);j(this.elementRef.nativeElement,we).pipe(function(I,A=te.P){return function(I){return function(V){return V.lift(new Se(I))}}(()=>function(I=0,A,V){let oe=-1;return(0,Oe.k)(A)?oe=Number(A)<1?1:Number(A):(0,pe.K)(A)&&(V=A),(0,pe.K)(V)||(V=te.P),new T.y(we=>{const We=(0,Oe.k)(I)?I:+I-V.now();return V.schedule(Et,We,{index:0,period:oe,subscriber:we})})}(I,A))}(20),(0,ge.R)(this.ngDestroy)).subscribe(We=>{this[oe].emit(We)})})})}}ngOnDestroy(){(0,ce.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&(0,ce.NF)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(V){V.disabled&&!V.disabled.isFirstChange()&&(0,ce.NF)(this.platformId)&&V.disabled.currentValue!==V.disabled.previousValue&&(!0===V.disabled.currentValue?this.ngOnDestroy():!1===V.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch(V){}},0))}geometry(V="scroll"){return new jt(this.elementRef.nativeElement[V+"Left"],this.elementRef.nativeElement[V+"Top"],this.elementRef.nativeElement[V+"Width"],this.elementRef.nativeElement[V+"Height"])}position(V=!1){return!V&&this.instance?new Jt(this.instance.reach.x||0,this.instance.reach.y||0):new Jt(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(V="any"){const oe=this.elementRef.nativeElement;return"any"===V?oe.classList.contains("ps--active-x")||oe.classList.contains("ps--active-y"):"both"===V?oe.classList.contains("ps--active-x")&&oe.classList.contains("ps--active-y"):oe.classList.contains("ps--active-"+V)}scrollTo(V,oe,we){this.disabled||(null==oe&&null==we?this.animateScrolling("scrollTop",V,we):(null!=V&&this.animateScrolling("scrollLeft",V,we),null!=oe&&this.animateScrolling("scrollTop",oe,we)))}scrollToX(V,oe){this.animateScrolling("scrollLeft",V,oe)}scrollToY(V,oe){this.animateScrolling("scrollTop",V,oe)}scrollToTop(V,oe){this.animateScrolling("scrollTop",V||0,oe)}scrollToLeft(V,oe){this.animateScrolling("scrollLeft",V||0,oe)}scrollToRight(V,oe){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(V||0),oe)}scrollToBottom(V,oe){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(V||0),oe)}scrollToElement(V,oe,we){if("string"==typeof V&&(V=this.elementRef.nativeElement.querySelector(V)),V){const We=V.getBoundingClientRect(),Ue=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",We.left-Ue.left+this.elementRef.nativeElement.scrollLeft+(oe||0),we),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",We.top-Ue.top+this.elementRef.nativeElement.scrollTop+(oe||0),we)}}animateScrolling(V,oe,we){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),we&&"undefined"!=typeof window){if(oe!==this.elementRef.nativeElement[V]){let We=0,Ue=0,it=performance.now(),Ke=this.elementRef.nativeElement[V];const Je=(Ke-oe)/2,Qe=mt=>{Ue+=Math.PI/(we/(mt-it)),We=Math.round(oe+Je+Je*Math.cos(Ue)),this.elementRef.nativeElement[V]===Ke&&(Ue>=Math.PI?this.animateScrolling(V,oe,0):(this.elementRef.nativeElement[V]=We,Ke=this.elementRef.nativeElement[V],it=mt,this.animation=window.requestAnimationFrame(Qe)))};window.requestAnimationFrame(Qe)}}else this.elementRef.nativeElement[V]=oe}}return I.\u0275fac=function(V){return new(V||I)(Q.Y36(Q.R0b),Q.Y36(Q.aQg),Q.Y36(Q.SBq),Q.Y36(Q.Lbi),Q.Y36(st,8))},I.\u0275dir=Q.lG2({type:I,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[Q.TTD]}),I})(),cr=(()=>{class I{constructor(V,oe,we){this.zone=V,this.cdRef=oe,this.platformId=we,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new ne.xQ,this.stateUpdate=new ne.xQ,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new Q.vpe,this.psScrollX=new Q.vpe,this.psScrollUp=new Q.vpe,this.psScrollDown=new Q.vpe,this.psScrollLeft=new Q.vpe,this.psScrollRight=new Q.vpe,this.psYReachEnd=new Q.vpe,this.psYReachStart=new Q.vpe,this.psXReachEnd=new Q.vpe,this.psXReachStart=new Q.vpe}ngOnInit(){(0,ce.NF)(this.platformId)&&(this.stateUpdate.pipe((0,ge.R)(this.ngDestroy),(0,ye.x)((V,oe)=>V===oe&&!this.stateTimeout)).subscribe(V=>{this.stateTimeout&&"undefined"!=typeof window&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===V||"y"===V?(this.interaction=!1,"x"===V?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===V&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===V||"right"===V?(this.states.left=!1,this.states.right=!1,this.states[V]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):("top"===V||"bottom"===V)&&(this.states.top=!1,this.states.bottom=!1,this.states[V]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&"undefined"!=typeof window&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const V=this.directiveRef.elementRef.nativeElement;j(V,"wheel").pipe((0,ge.R)(this.ngDestroy)).subscribe(oe=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(oe,oe.deltaX,oe.deltaY)}),j(V,"touchmove").pipe((0,ge.R)(this.ngDestroy)).subscribe(oe=>{if(!this.disabled&&this.autoPropagation){const we=oe.touches[0].clientX,We=oe.touches[0].clientY;this.checkPropagation(oe,we-this.scrollPositionX,We-this.scrollPositionY),this.scrollPositionX=we,this.scrollPositionY=We}}),(0,k.T)(j(V,"ps-scroll-x").pipe(Ut("x")),j(V,"ps-scroll-y").pipe(Ut("y")),j(V,"ps-x-reach-end").pipe(Ut("right")),j(V,"ps-y-reach-end").pipe(Ut("bottom")),j(V,"ps-x-reach-start").pipe(Ut("left")),j(V,"ps-y-reach-start").pipe(Ut("top"))).pipe((0,ge.R)(this.ngDestroy)).subscribe(oe=>{!this.disabled&&(this.autoPropagation||this.scrollIndicators)&&this.stateUpdate.next(oe)})}}),window.setTimeout(()=>{wn.forEach(V=>{this.directiveRef&&(this.directiveRef[V]=this[V])})},0))}ngOnDestroy(){(0,ce.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&"undefined"!=typeof window&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if((0,ce.NF)(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const V=this.directiveRef.elementRef.nativeElement;this.usePropagationX=V.classList.contains("ps--active-x"),this.usePropagationY=V.classList.contains("ps--active-y")}}checkPropagation(V,oe,we){this.interaction=!0;const We=oe<0?-1:1,Ue=we<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==We)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==Ue))&&(V.preventDefault(),V.stopPropagation()),oe&&(this.scrollDirectionX=We),we&&(this.scrollDirectionY=Ue),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return I.\u0275fac=function(V){return new(V||I)(Q.Y36(Q.R0b),Q.Y36(Q.sBO),Q.Y36(Q.Lbi))},I.\u0275cmp=Q.Xpm({type:I,selectors:[["perfect-scrollbar"]],viewQuery:function(V,oe){if(1&V&&Q.Gf(dn,7),2&V){let we;Q.iGM(we=Q.CRH())&&(oe.directiveRef=we.first)}},hostVars:4,hostBindings:function(V,oe){2&V&&Q.ekj("ps-show-limits",oe.autoPropagation)("ps-show-active",oe.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:Rn,decls:4,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(V,oe){1&V&&(Q.F$t(),Q.TgZ(0,"div",0),Q.TgZ(1,"div",1),Q.Hsn(2),Q.qZA(),Q.YNc(3,ti,5,16,"div",2),Q.qZA()),2&V&&(Q.ekj("ps",oe.usePSClass),Q.Q6J("perfectScrollbar",oe.config)("disabled",oe.disabled),Q.xp6(3),Q.Q6J("ngIf",oe.scrollIndicators))},directives:[dn,ce.O5],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),I})(),dr=(()=>{class I{}return I.\u0275fac=function(V){return new(V||I)},I.\u0275mod=Q.oAB({type:I}),I.\u0275inj=Q.cJS({imports:[[ce.ez],ce.ez]}),I})()},7574:(ot,Ie,M)=>{"use strict";M.d(Ie,{y:()=>ne});var T=M(7393),S=M(9181),X=M(6490),j=M(6554),le=M(4487);var H=M(2494);let ne=(()=>{class te{constructor(Re){this._isScalar=!1,Re&&(this._subscribe=Re)}lift(Re){const Se=new te;return Se.source=this,Se.operator=Re,Se}subscribe(Re,Se,Ze){const{operator:Oe}=this,pe=function(te,be,Re){if(te){if(te instanceof T.L)return te;if(te[S.b])return te[S.b]()}return te||be||Re?new T.L(te,be,Re):new T.L(X.c)}(Re,Se,Ze);if(pe.add(Oe?Oe.call(pe,this.source):this.source||H.v.useDeprecatedSynchronousErrorHandling&&!pe.syncErrorThrowable?this._subscribe(pe):this._trySubscribe(pe)),H.v.useDeprecatedSynchronousErrorHandling&&pe.syncErrorThrowable&&(pe.syncErrorThrowable=!1,pe.syncErrorThrown))throw pe.syncErrorValue;return pe}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Se){H.v.useDeprecatedSynchronousErrorHandling&&(Re.syncErrorThrown=!0,Re.syncErrorValue=Se),function(te){for(;te;){const{closed:be,destination:Re,isStopped:Se}=te;if(be||Se)return!1;te=Re&&Re instanceof T.L?Re:null}return!0}(Re)?Re.error(Se):console.warn(Se)}}forEach(Re,Se){return new(Se=k(Se))((Ze,Oe)=>{let pe;pe=this.subscribe(rt=>{try{Re(rt)}catch(Et){Oe(Et),pe&&pe.unsubscribe()}},Oe,Ze)})}_subscribe(Re){const{source:Se}=this;return Se&&Se.subscribe(Re)}[j.L](){return this}pipe(...Re){return 0===Re.length?this:function(te){return 0===te.length?le.y:1===te.length?te[0]:function(Re){return te.reduce((Se,Ze)=>Ze(Se),Re)}}(Re)(this)}toPromise(Re){return new(Re=k(Re))((Se,Ze)=>{let Oe;this.subscribe(pe=>Oe=pe,pe=>Ze(pe),()=>Se(Oe))})}}return te.create=be=>new te(be),te})();function k(te){if(te||(te=H.v.Promise||Promise),!te)throw new Error("no Promise impl found");return te}},6490:(ot,Ie,M)=>{"use strict";M.d(Ie,{c:()=>S});var T=M(2494),R=M(4449);const S={closed:!0,next(X){},error(X){if(T.v.useDeprecatedSynchronousErrorHandling)throw X;(0,R.z)(X)},complete(){}}},5197:(ot,Ie,M)=>{"use strict";M.d(Ie,{L:()=>R});var T=M(7393);class R extends T.L{notifyNext(X,se,j,le,$){this.destination.next(se)}notifyError(X,se){this.destination.error(X)}notifyComplete(X){this.destination.complete()}}},9765:(ot,Ie,M)=>{"use strict";M.d(Ie,{Yc:()=>le,xQ:()=>$});var T=M(7574),R=M(7393),S=M(5319),X=M(7971),se=M(8858),j=M(9181);class le extends R.L{constructor(ne){super(ne),this.destination=ne}}let $=(()=>{class H extends T.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[j.b](){return new le(this)}lift(k){const te=new G(this,this);return te.operator=k,te}next(k){if(this.closed)throw new X.N;if(!this.isStopped){const{observers:te}=this,be=te.length,Re=te.slice();for(let Se=0;Se<be;Se++)Re[Se].next(k)}}error(k){if(this.closed)throw new X.N;this.hasError=!0,this.thrownError=k,this.isStopped=!0;const{observers:te}=this,be=te.length,Re=te.slice();for(let Se=0;Se<be;Se++)Re[Se].error(k);this.observers.length=0}complete(){if(this.closed)throw new X.N;this.isStopped=!0;const{observers:k}=this,te=k.length,be=k.slice();for(let Re=0;Re<te;Re++)be[Re].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(k){if(this.closed)throw new X.N;return super._trySubscribe(k)}_subscribe(k){if(this.closed)throw new X.N;return this.hasError?(k.error(this.thrownError),S.w.EMPTY):this.isStopped?(k.complete(),S.w.EMPTY):(this.observers.push(k),new se.W(this,k))}asObservable(){const k=new T.y;return k.source=this,k}}return H.create=(ne,k)=>new G(ne,k),H})();class G extends ${constructor(ne,k){super(),this.destination=ne,this.source=k}next(ne){const{destination:k}=this;k&&k.next&&k.next(ne)}error(ne){const{destination:k}=this;k&&k.error&&this.destination.error(ne)}complete(){const{destination:ne}=this;ne&&ne.complete&&this.destination.complete()}_subscribe(ne){const{source:k}=this;return k?this.source.subscribe(ne):S.w.EMPTY}}},8858:(ot,Ie,M)=>{"use strict";M.d(Ie,{W:()=>R});var T=M(5319);class R extends T.w{constructor(X,se){super(),this.subject=X,this.subscriber=se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const X=this.subject,se=X.observers;if(this.subject=null,!se||0===se.length||X.isStopped||X.closed)return;const j=se.indexOf(this.subscriber);-1!==j&&se.splice(j,1)}}},7393:(ot,Ie,M)=>{"use strict";M.d(Ie,{L:()=>le});var T=M(9105),R=M(6490),S=M(5319),X=M(9181),se=M(2494),j=M(4449);class le extends S.w{constructor(H,ne,k){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=R.c;break;case 1:if(!H){this.destination=R.c;break}if("object"==typeof H){H instanceof le?(this.syncErrorThrowable=H.syncErrorThrowable,this.destination=H,H.add(this)):(this.syncErrorThrowable=!0,this.destination=new $(this,H));break}default:this.syncErrorThrowable=!0,this.destination=new $(this,H,ne,k)}}[X.b](){return this}static create(H,ne,k){const te=new le(H,ne,k);return te.syncErrorThrowable=!1,te}next(H){this.isStopped||this._next(H)}error(H){this.isStopped||(this.isStopped=!0,this._error(H))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(H){this.destination.next(H)}_error(H){this.destination.error(H),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:H}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=H,this}}class $ extends le{constructor(H,ne,k,te){super(),this._parentSubscriber=H;let be,Re=this;(0,T.m)(ne)?be=ne:ne&&(be=ne.next,k=ne.error,te=ne.complete,ne!==R.c&&(Re=Object.create(ne),(0,T.m)(Re.unsubscribe)&&this.add(Re.unsubscribe.bind(Re)),Re.unsubscribe=this.unsubscribe.bind(this))),this._context=Re,this._next=be,this._error=k,this._complete=te}next(H){if(!this.isStopped&&this._next){const{_parentSubscriber:ne}=this;se.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?this.__tryOrSetError(ne,this._next,H)&&this.unsubscribe():this.__tryOrUnsub(this._next,H)}}error(H){if(!this.isStopped){const{_parentSubscriber:ne}=this,{useDeprecatedSynchronousErrorHandling:k}=se.v;if(this._error)k&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,this._error,H),this.unsubscribe()):(this.__tryOrUnsub(this._error,H),this.unsubscribe());else if(ne.syncErrorThrowable)k?(ne.syncErrorValue=H,ne.syncErrorThrown=!0):(0,j.z)(H),this.unsubscribe();else{if(this.unsubscribe(),k)throw H;(0,j.z)(H)}}}complete(){if(!this.isStopped){const{_parentSubscriber:H}=this;if(this._complete){const ne=()=>this._complete.call(this._context);se.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?(this.__tryOrSetError(H,ne),this.unsubscribe()):(this.__tryOrUnsub(ne),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(H,ne){try{H.call(this._context,ne)}catch(k){if(this.unsubscribe(),se.v.useDeprecatedSynchronousErrorHandling)throw k;(0,j.z)(k)}}__tryOrSetError(H,ne,k){if(!se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ne.call(this._context,k)}catch(te){return se.v.useDeprecatedSynchronousErrorHandling?(H.syncErrorValue=te,H.syncErrorThrown=!0,!0):((0,j.z)(te),!0)}return!1}_unsubscribe(){const{_parentSubscriber:H}=this;this._context=null,this._parentSubscriber=null,H.unsubscribe()}}},5319:(ot,Ie,M)=>{"use strict";M.d(Ie,{w:()=>j});var T=M(9796),R=M(1555),S=M(9105);const se=(()=>{function $(G){return Error.call(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((H,ne)=>`${ne+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G,this}return $.prototype=Object.create(Error.prototype),$})();class j{constructor(G){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,G&&(this._ctorUnsubscribe=!0,this._unsubscribe=G)}unsubscribe(){let G;if(this.closed)return;let{_parentOrParents:H,_ctorUnsubscribe:ne,_unsubscribe:k,_subscriptions:te}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,H instanceof j)H.remove(this);else if(null!==H)for(let be=0;be<H.length;++be)H[be].remove(this);if((0,S.m)(k)){ne&&(this._unsubscribe=void 0);try{k.call(this)}catch(be){G=be instanceof se?le(be.errors):[be]}}if((0,T.k)(te)){let be=-1,Re=te.length;for(;++be<Re;){const Se=te[be];if((0,R.K)(Se))try{Se.unsubscribe()}catch(Ze){G=G||[],Ze instanceof se?G=G.concat(le(Ze.errors)):G.push(Ze)}}}if(G)throw new se(G)}add(G){let H=G;if(!G)return j.EMPTY;switch(typeof G){case"function":H=new j(G);case"object":if(H===this||H.closed||"function"!=typeof H.unsubscribe)return H;if(this.closed)return H.unsubscribe(),H;if(!(H instanceof j)){const te=H;H=new j,H._subscriptions=[te]}break;default:throw new Error("unrecognized teardown "+G+" added to Subscription.")}let{_parentOrParents:ne}=H;if(null===ne)H._parentOrParents=this;else if(ne instanceof j){if(ne===this)return H;H._parentOrParents=[ne,this]}else{if(-1!==ne.indexOf(this))return H;ne.push(this)}const k=this._subscriptions;return null===k?this._subscriptions=[H]:k.push(H),H}remove(G){const H=this._subscriptions;if(H){const ne=H.indexOf(G);-1!==ne&&H.splice(ne,1)}}}var $;function le($){return $.reduce((G,H)=>G.concat(H instanceof se?H.errors:H),[])}j.EMPTY=(($=new j).closed=!0,$)},2494:(ot,Ie,M)=>{"use strict";M.d(Ie,{v:()=>R});let T=!1;const R={Promise:void 0,set useDeprecatedSynchronousErrorHandling(S){if(S){const X=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+X.stack)}else T&&console.log("RxJS: Back to a better error behavior. Thank you. <3");T=S},get useDeprecatedSynchronousErrorHandling(){return T}}},5345:(ot,Ie,M)=>{"use strict";M.d(Ie,{IY:()=>X,Ds:()=>j,ft:()=>$});var T=M(7393),R=M(7574),S=M(7444);class X extends T.L{constructor(H){super(),this.parent=H}_next(H){this.parent.notifyNext(H)}_error(H){this.parent.notifyError(H),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class j extends T.L{notifyNext(H){this.destination.next(H)}notifyError(H){this.destination.error(H)}notifyComplete(){this.destination.complete()}}function $(G,H){if(H.closed)return;if(G instanceof R.y)return G.subscribe(H);let ne;try{ne=(0,S.s)(G)(H)}catch(k){H.error(k)}return ne}},2441:(ot,Ie,M)=>{"use strict";M.d(Ie,{c:()=>se,N:()=>j});var T=M(9765),R=M(7574),S=M(5319),X=M(1307);class se extends R.y{constructor(ne,k){super(),this.source=ne,this.subjectFactory=k,this._refCount=0,this._isComplete=!1}_subscribe(ne){return this.getSubject().subscribe(ne)}getSubject(){const ne=this._subject;return(!ne||ne.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ne=this._connection;return ne||(this._isComplete=!1,ne=this._connection=new S.w,ne.add(this.source.subscribe(new le(this.getSubject(),this))),ne.closed&&(this._connection=null,ne=S.w.EMPTY)),ne}refCount(){return(0,X.x)()(this)}}const j=(()=>{const H=se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:H._subscribe},_isComplete:{value:H._isComplete,writable:!0},getSubject:{value:H.getSubject},connect:{value:H.connect},refCount:{value:H.refCount}}})();class le extends T.Yc{constructor(ne,k){super(ne),this.connectable=k}_error(ne){this._unsubscribe(),super._error(ne)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ne=this.connectable;if(ne){this.connectable=null;const k=ne._connection;ne._refCount=0,ne._subject=null,ne._connection=null,k&&k.unsubscribe()}}}},8071:(ot,Ie,M)=>{"use strict";M.d(Ie,{z:()=>X});var T=M(5917),R=M(3282);function X(...se){return(0,R.J)(1)((0,T.of)(...se))}},9193:(ot,Ie,M)=>{"use strict";M.d(Ie,{E:()=>R,c:()=>S});var T=M(7574);const R=new T.y(se=>se.complete());function S(se){return se?function(se){return new T.y(j=>se.schedule(()=>j.complete()))}(se):R}},4402:(ot,Ie,M)=>{"use strict";M.d(Ie,{D:()=>Re});var T=M(7574),R=M(7444),S=M(5319),X=M(6554),le=M(4087),$=M(377),ne=M(4072),k=M(9489);function Re(Se,Ze){return Ze?function(Se,Ze){if(null!=Se){if(function(Se){return Se&&"function"==typeof Se[X.L]}(Se))return function(Se,Ze){return new T.y(Oe=>{const pe=new S.w;return pe.add(Ze.schedule(()=>{const rt=Se[X.L]();pe.add(rt.subscribe({next(Et){pe.add(Ze.schedule(()=>Oe.next(Et)))},error(Et){pe.add(Ze.schedule(()=>Oe.error(Et)))},complete(){pe.add(Ze.schedule(()=>Oe.complete()))}}))})),pe})}(Se,Ze);if((0,ne.t)(Se))return function(Se,Ze){return new T.y(Oe=>{const pe=new S.w;return pe.add(Ze.schedule(()=>Se.then(rt=>{pe.add(Ze.schedule(()=>{Oe.next(rt),pe.add(Ze.schedule(()=>Oe.complete()))}))},rt=>{pe.add(Ze.schedule(()=>Oe.error(rt)))}))),pe})}(Se,Ze);if((0,k.z)(Se))return(0,le.r)(Se,Ze);if(function(Se){return Se&&"function"==typeof Se[$.hZ]}(Se)||"string"==typeof Se)return function(Se,Ze){if(!Se)throw new Error("Iterable cannot be null");return new T.y(Oe=>{const pe=new S.w;let rt;return pe.add(()=>{rt&&"function"==typeof rt.return&&rt.return()}),pe.add(Ze.schedule(()=>{rt=Se[$.hZ](),pe.add(Ze.schedule(function(){if(Oe.closed)return;let Et,dt;try{const _t=rt.next();Et=_t.value,dt=_t.done}catch(_t){return void Oe.error(_t)}dt?Oe.complete():(Oe.next(Et),this.schedule())}))})),pe})}(Se,Ze)}throw new TypeError((null!==Se&&typeof Se||Se)+" is not observable")}(Se,Ze):Se instanceof T.y?Se:new T.y((0,R.s)(Se))}},6693:(ot,Ie,M)=>{"use strict";M.d(Ie,{n:()=>X});var T=M(7574),R=M(5015),S=M(4087);function X(se,j){return j?(0,S.r)(se,j):new T.y((0,R.V)(se))}},6682:(ot,Ie,M)=>{"use strict";M.d(Ie,{T:()=>se});var T=M(7574),R=M(4869),S=M(3282),X=M(6693);function se(...j){let le=Number.POSITIVE_INFINITY,$=null,G=j[j.length-1];return(0,R.K)(G)?($=j.pop(),j.length>1&&"number"==typeof j[j.length-1]&&(le=j.pop())):"number"==typeof G&&(le=j.pop()),null===$&&1===j.length&&j[0]instanceof T.y?j[0]:(0,S.J)(le)((0,X.n)(j,$))}},5917:(ot,Ie,M)=>{"use strict";M.d(Ie,{of:()=>X});var T=M(4869),R=M(6693),S=M(4087);function X(...se){let j=se[se.length-1];return(0,T.K)(j)?(se.pop(),(0,S.r)(se,j)):(0,R.n)(se)}},205:(ot,Ie,M)=>{"use strict";M.d(Ie,{_:()=>R});var T=M(7574);function R(X,se){return new T.y(se?j=>se.schedule(S,0,{error:X,subscriber:j}):j=>j.error(X))}function S({error:X,subscriber:se}){se.error(X)}},5304:(ot,Ie,M)=>{"use strict";M.d(Ie,{K:()=>R});var T=M(5345);function R(se){return function(le){const $=new S(se),G=le.lift($);return $.caught=G}}class S{constructor(j){this.selector=j}call(j,le){return le.subscribe(new X(j,this.selector,this.caught))}}class X extends T.Ds{constructor(j,le,$){super(j),this.selector=le,this.caught=$}error(j){if(!this.isStopped){let le;try{le=this.selector(j,this.caught)}catch(H){return void super.error(H)}this._unsubscribeAndRecycle();const $=new T.IY(this);this.add($);const G=(0,T.ft)(le,$);G!==$&&this.add(G)}}}},5242:(ot,Ie,M)=>{"use strict";M.d(Ie,{d:()=>R});var T=M(7393);function R(se=null){return j=>j.lift(new S(se))}class S{constructor(j){this.defaultValue=j}call(j,le){return le.subscribe(new X(j,this.defaultValue))}}class X extends T.L{constructor(j,le){super(j),this.defaultValue=le,this.isEmpty=!0}_next(j){this.isEmpty=!1,this.destination.next(j)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(ot,Ie,M)=>{"use strict";M.d(Ie,{x:()=>R});var T=M(7393);function R(se,j){return le=>le.lift(new S(se,j))}class S{constructor(j,le){this.compare=j,this.keySelector=le}call(j,le){return le.subscribe(new X(j,this.compare,this.keySelector))}}class X extends T.L{constructor(j,le,$){super(j),this.keySelector=$,this.hasKey=!1,"function"==typeof le&&(this.compare=le)}compare(j,le){return j===le}_next(j){let le;try{const{keySelector:G}=this;le=G?G(j):j}catch(G){return this.destination.error(G)}let $=!1;if(this.hasKey)try{const{compare:G}=this;$=G(this.key,le)}catch(G){return this.destination.error(G)}else this.hasKey=!0;$||(this.key=le,this.destination.next(j))}}},5435:(ot,Ie,M)=>{"use strict";M.d(Ie,{h:()=>R});var T=M(7393);function R(se,j){return function($){return $.lift(new S(se,j))}}class S{constructor(j,le){this.predicate=j,this.thisArg=le}call(j,le){return le.subscribe(new X(j,this.predicate,this.thisArg))}}class X extends T.L{constructor(j,le,$){super(j),this.predicate=le,this.thisArg=$,this.count=0}_next(j){let le;try{le=this.predicate.call(this.thisArg,j,this.count++)}catch($){return void this.destination.error($)}le&&this.destination.next(j)}}},8049:(ot,Ie,M)=>{"use strict";M.d(Ie,{P:()=>le});var T=M(3410),R=M(5435),S=M(5257),X=M(5242),se=M(4635),j=M(4487);function le($,G){const H=arguments.length>=2;return ne=>ne.pipe($?(0,R.h)((k,te)=>$(k,te,ne)):j.y,(0,S.q)(1),H?(0,X.d)(G):(0,se.T)(()=>new T.K))}},8002:(ot,Ie,M)=>{"use strict";M.d(Ie,{U:()=>R});var T=M(7393);function R(se,j){return function($){if("function"!=typeof se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return $.lift(new S(se,j))}}class S{constructor(j,le){this.project=j,this.thisArg=le}call(j,le){return le.subscribe(new X(j,this.project,this.thisArg))}}class X extends T.L{constructor(j,le,$){super(j),this.project=le,this.count=0,this.thisArg=$||this}_next(j){let le;try{le=this.project.call(this.thisArg,j,this.count++)}catch($){return void this.destination.error($)}this.destination.next(le)}}},3282:(ot,Ie,M)=>{"use strict";M.d(Ie,{J:()=>S});var T=M(9773),R=M(4487);function S(X=Number.POSITIVE_INFINITY){return(0,T.zg)(R.y,X)}},9773:(ot,Ie,M)=>{"use strict";M.d(Ie,{zg:()=>X});var T=M(8002),R=M(4402),S=M(5345);function X($,G,H=Number.POSITIVE_INFINITY){return"function"==typeof G?ne=>ne.pipe(X((k,te)=>(0,R.D)($(k,te)).pipe((0,T.U)((be,Re)=>G(k,be,te,Re))),H)):("number"==typeof G&&(H=G),ne=>ne.lift(new se($,H)))}class se{constructor(G,H=Number.POSITIVE_INFINITY){this.project=G,this.concurrent=H}call(G,H){return H.subscribe(new j(G,this.project,this.concurrent))}}class j extends S.Ds{constructor(G,H,ne=Number.POSITIVE_INFINITY){super(G),this.project=H,this.concurrent=ne,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(G){this.active<this.concurrent?this._tryNext(G):this.buffer.push(G)}_tryNext(G){let H;const ne=this.index++;try{H=this.project(G,ne)}catch(k){return void this.destination.error(k)}this.active++,this._innerSub(H)}_innerSub(G){const H=new S.IY(this),ne=this.destination;ne.add(H);const k=(0,S.ft)(G,H);k!==H&&ne.add(k)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(G){this.destination.next(G)}notifyComplete(){const G=this.buffer;this.active--,G.length>0?this._next(G.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(ot,Ie,M)=>{"use strict";M.d(Ie,{ht:()=>G,QV:()=>le});var T=M(7393),R=M(9193),S=M(5917),X=M(205);class j{constructor(k,te,be){this.kind=k,this.value=te,this.error=be,this.hasValue="N"===k}observe(k){switch(this.kind){case"N":return k.next&&k.next(this.value);case"E":return k.error&&k.error(this.error);case"C":return k.complete&&k.complete()}}do(k,te,be){switch(this.kind){case"N":return k&&k(this.value);case"E":return te&&te(this.error);case"C":return be&&be()}}accept(k,te,be){return k&&"function"==typeof k.next?this.observe(k):this.do(k,te,be)}toObservable(){switch(this.kind){case"N":return(0,S.of)(this.value);case"E":return(0,X._)(this.error);case"C":return(0,R.c)()}throw new Error("unexpected notification kind value")}static createNext(k){return void 0!==k?new j("N",k):j.undefinedValueNotification}static createError(k){return new j("E",void 0,k)}static createComplete(){return j.completeNotification}}function le(ne,k=0){return function(be){return be.lift(new $(ne,k))}}j.completeNotification=new j("C"),j.undefinedValueNotification=new j("N",void 0);class ${constructor(k,te=0){this.scheduler=k,this.delay=te}call(k,te){return te.subscribe(new G(k,this.scheduler,this.delay))}}class G extends T.L{constructor(k,te,be=0){super(k),this.scheduler=te,this.delay=be}static dispatch(k){const{notification:te,destination:be}=k;te.observe(be),this.unsubscribe()}scheduleMessage(k){this.destination.add(this.scheduler.schedule(G.dispatch,this.delay,new H(k,this.destination)))}_next(k){this.scheduleMessage(j.createNext(k))}_error(k){this.scheduleMessage(j.createError(k)),this.unsubscribe()}_complete(){this.scheduleMessage(j.createComplete()),this.unsubscribe()}}class H{constructor(k,te){this.notification=k,this.destination=te}}},1307:(ot,Ie,M)=>{"use strict";M.d(Ie,{x:()=>R});var T=M(7393);function R(){return function(j){return j.lift(new S(j))}}class S{constructor(j){this.connectable=j}call(j,le){const{connectable:$}=this;$._refCount++;const G=new X(j,$),H=le.subscribe(G);return G.closed||(G.connection=$.connect()),H}}class X extends T.L{constructor(j,le){super(j),this.connectable=le}_unsubscribe(){const{connectable:j}=this;if(!j)return void(this.connection=null);this.connectable=null;const le=j._refCount;if(le<=0)return void(this.connection=null);if(j._refCount=le-1,le>1)return void(this.connection=null);const{connection:$}=this,G=j._connection;this.connection=null,G&&(!$||G===$)&&G.unsubscribe()}}},2145:(ot,Ie,M)=>{"use strict";M.d(Ie,{R:()=>R});var T=M(7393);function R(se,j){let le=!1;return arguments.length>=2&&(le=!0),function(G){return G.lift(new S(se,j,le))}}class S{constructor(j,le,$=!1){this.accumulator=j,this.seed=le,this.hasSeed=$}call(j,le){return le.subscribe(new X(j,this.accumulator,this.seed,this.hasSeed))}}class X extends T.L{constructor(j,le,$,G){super(j),this.accumulator=le,this._seed=$,this.hasSeed=G,this.index=0}get seed(){return this._seed}set seed(j){this.hasSeed=!0,this._seed=j}_next(j){if(this.hasSeed)return this._tryNext(j);this.seed=j,this.destination.next(j)}_tryNext(j){const le=this.index++;let $;try{$=this.accumulator(this.seed,j,le)}catch(G){this.destination.error(G)}this.seed=$,this.destination.next($)}}},8819:(ot,Ie,M)=>{"use strict";M.d(Ie,{B:()=>le});var T=M(2441);var X=M(1307),se=M(9765);function j(){return new se.xQ}function le(){return $=>(0,X.x)()(function($,G){return function(ne){let k;k="function"==typeof $?$:function(){return $};const te=Object.create(ne,T.N);return te.source=ne,te.subjectFactory=k,te}}(j)($))}},9761:(ot,Ie,M)=>{"use strict";M.d(Ie,{O:()=>S});var T=M(8071),R=M(4869);function S(...X){const se=X[X.length-1];return(0,R.K)(se)?(X.pop(),j=>(0,T.z)(X,j,se)):j=>(0,T.z)(X,j)}},2639:(ot,Ie,M)=>{"use strict";M.d(Ie,{R:()=>Se});var T=M(7574);let R=1;const S=Promise.resolve(),X={};function se(Oe){return Oe in X&&(delete X[Oe],!0)}const j={setImmediate(Oe){const pe=R++;return X[pe]=!0,S.then(()=>se(pe)&&Oe()),pe},clearImmediate(Oe){se(Oe)}};var $=M(6465),H=M(6102);const te=new class extends H.v{flush(pe){this.active=!0,this.scheduled=void 0;const{actions:rt}=this;let Et,dt=-1,_t=rt.length;pe=pe||rt.shift();do{if(Et=pe.execute(pe.state,pe.delay))break}while(++dt<_t&&(pe=rt.shift()));if(this.active=!1,Et){for(;++dt<_t&&(pe=rt.shift());)pe.unsubscribe();throw Et}}}(class extends $.o{constructor(pe,rt){super(pe,rt),this.scheduler=pe,this.work=rt}requestAsyncId(pe,rt,Et=0){return null!==Et&&Et>0?super.requestAsyncId(pe,rt,Et):(pe.actions.push(this),pe.scheduled||(pe.scheduled=j.setImmediate(pe.flush.bind(pe,null))))}recycleAsyncId(pe,rt,Et=0){if(null!==Et&&Et>0||null===Et&&this.delay>0)return super.recycleAsyncId(pe,rt,Et);0===pe.actions.length&&(j.clearImmediate(rt),pe.scheduled=void 0)}});var be=M(6561);class Re extends T.y{constructor(pe,rt=0,Et=te){super(),this.source=pe,this.delayTime=rt,this.scheduler=Et,(!(0,be.k)(rt)||rt<0)&&(this.delayTime=0),(!Et||"function"!=typeof Et.schedule)&&(this.scheduler=te)}static create(pe,rt=0,Et=te){return new Re(pe,rt,Et)}static dispatch(pe){const{source:rt,subscriber:Et}=pe;return this.add(rt.subscribe(Et))}_subscribe(pe){return this.scheduler.schedule(Re.dispatch,this.delayTime,{source:this.source,subscriber:pe})}}function Se(Oe,pe=0){return function(Et){return Et.lift(new Ze(Oe,pe))}}class Ze{constructor(pe,rt){this.scheduler=pe,this.delay=rt}call(pe,rt){return new Re(rt,this.delay,this.scheduler).subscribe(pe)}}},3190:(ot,Ie,M)=>{"use strict";M.d(Ie,{w:()=>X});var T=M(8002),R=M(4402),S=M(5345);function X(le,$){return"function"==typeof $?G=>G.pipe(X((H,ne)=>(0,R.D)(le(H,ne)).pipe((0,T.U)((k,te)=>$(H,k,ne,te))))):G=>G.lift(new se(le))}class se{constructor($){this.project=$}call($,G){return G.subscribe(new j($,this.project))}}class j extends S.Ds{constructor($,G){super($),this.project=G,this.index=0}_next($){let G;const H=this.index++;try{G=this.project($,H)}catch(ne){return void this.destination.error(ne)}this._innerSub(G)}_innerSub($){const G=this.innerSubscription;G&&G.unsubscribe();const H=new S.IY(this),ne=this.destination;ne.add(H),this.innerSubscription=(0,S.ft)($,H),this.innerSubscription!==H&&ne.add(this.innerSubscription)}_complete(){const{innerSubscription:$}=this;(!$||$.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext($){this.destination.next($)}}},5257:(ot,Ie,M)=>{"use strict";M.d(Ie,{q:()=>X});var T=M(7393),R=M(7108),S=M(9193);function X(le){return $=>0===le?(0,S.c)():$.lift(new se(le))}class se{constructor($){if(this.total=$,this.total<0)throw new R.W}call($,G){return G.subscribe(new j($,this.total))}}class j extends T.L{constructor($,G){super($),this.total=G,this.count=0}_next($){const G=this.total,H=++this.count;H<=G&&(this.destination.next($),H===G&&(this.destination.complete(),this.unsubscribe()))}}},6782:(ot,Ie,M)=>{"use strict";M.d(Ie,{R:()=>R});var T=M(5345);function R(se){return j=>j.lift(new S(se))}class S{constructor(j){this.notifier=j}call(j,le){const $=new X(j),G=(0,T.ft)(this.notifier,new T.IY($));return G&&!$.seenValue?($.add(G),le.subscribe($)):$}}class X extends T.Ds{constructor(j){super(j),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(ot,Ie,M)=>{"use strict";M.d(Ie,{b:()=>X});var T=M(7393);function R(){}var S=M(9105);function X(le,$,G){return function(ne){return ne.lift(new se(le,$,G))}}class se{constructor($,G,H){this.nextOrObserver=$,this.error=G,this.complete=H}call($,G){return G.subscribe(new j($,this.nextOrObserver,this.error,this.complete))}}class j extends T.L{constructor($,G,H,ne){super($),this._tapNext=R,this._tapError=R,this._tapComplete=R,this._tapError=H||R,this._tapComplete=ne||R,(0,S.m)(G)?(this._context=this,this._tapNext=G):G&&(this._context=G,this._tapNext=G.next||R,this._tapError=G.error||R,this._tapComplete=G.complete||R)}_next($){try{this._tapNext.call(this._context,$)}catch(G){return void this.destination.error(G)}this.destination.next($)}_error($){try{this._tapError.call(this._context,$)}catch(G){return void this.destination.error(G)}this.destination.error($)}_complete(){try{this._tapComplete.call(this._context)}catch($){return void this.destination.error($)}return this.destination.complete()}}},4635:(ot,Ie,M)=>{"use strict";M.d(Ie,{T:()=>S});var T=M(3410),R=M(7393);function S(le=j){return $=>$.lift(new X(le))}class X{constructor($){this.errorFactory=$}call($,G){return G.subscribe(new se($,this.errorFactory))}}class se extends R.L{constructor($,G){super($),this.errorFactory=G,this.hasValue=!1}_next($){this.hasValue=!0,this.destination.next($)}_complete(){if(this.hasValue)return this.destination.complete();{let $;try{$=this.errorFactory()}catch(G){$=G}this.destination.error($)}}}function j(){return new T.K}},4087:(ot,Ie,M)=>{"use strict";M.d(Ie,{r:()=>S});var T=M(7574),R=M(5319);function S(X,se){return new T.y(j=>{const le=new R.w;let $=0;return le.add(se.schedule(function(){$!==X.length?(j.next(X[$++]),j.closed||le.add(this.schedule())):j.complete()})),le})}},6465:(ot,Ie,M)=>{"use strict";M.d(Ie,{o:()=>S});var T=M(5319);class R extends T.w{constructor(se,j){super()}schedule(se,j=0){return this}}class S extends R{constructor(se,j){super(se,j),this.scheduler=se,this.work=j,this.pending=!1}schedule(se,j=0){if(this.closed)return this;this.state=se;const le=this.id,$=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId($,le,j)),this.pending=!0,this.delay=j,this.id=this.id||this.requestAsyncId($,this.id,j),this}requestAsyncId(se,j,le=0){return setInterval(se.flush.bind(se,this),le)}recycleAsyncId(se,j,le=0){if(null!==le&&this.delay===le&&!1===this.pending)return j;clearInterval(j)}execute(se,j){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(se,j);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,j){let $,le=!1;try{this.work(se)}catch(G){le=!0,$=!!G&&G||new Error(G)}if(le)return this.unsubscribe(),$}_unsubscribe(){const se=this.id,j=this.scheduler,le=j.actions,$=le.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==$&&le.splice($,1),null!=se&&(this.id=this.recycleAsyncId(j,se,null)),this.delay=null}}},6102:(ot,Ie,M)=>{"use strict";M.d(Ie,{v:()=>R});let T=(()=>{class S{constructor(se,j=S.now){this.SchedulerAction=se,this.now=j}schedule(se,j=0,le){return new this.SchedulerAction(this,se).schedule(le,j)}}return S.now=()=>Date.now(),S})();class R extends T{constructor(X,se=T.now){super(X,()=>R.delegate&&R.delegate!==this?R.delegate.now():se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(X,se=0,j){return R.delegate&&R.delegate!==this?R.delegate.schedule(X,se,j):super.schedule(X,se,j)}flush(X){const{actions:se}=this;if(this.active)return void se.push(X);let j;this.active=!0;do{if(j=X.execute(X.state,X.delay))break}while(X=se.shift());if(this.active=!1,j){for(;X=se.shift();)X.unsubscribe();throw j}}}},3637:(ot,Ie,M)=>{"use strict";M.d(Ie,{z:()=>S,P:()=>X});var T=M(6465);const S=new(M(6102).v)(T.o),X=S},7771:(ot,Ie,M)=>{"use strict";M.d(Ie,{c:()=>j,N:()=>se});var T=M(6465),S=M(6102);const se=new class extends S.v{}(class extends T.o{constructor($,G){super($,G),this.scheduler=$,this.work=G}schedule($,G=0){return G>0?super.schedule($,G):(this.delay=G,this.state=$,this.scheduler.flush(this),this)}execute($,G){return G>0||this.closed?super.execute($,G):this._execute($,G)}requestAsyncId($,G,H=0){return null!==H&&H>0||null===H&&this.delay>0?super.requestAsyncId($,G,H):$.flush(this)}}),j=se},377:(ot,Ie,M)=>{"use strict";M.d(Ie,{hZ:()=>R});const R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ot,Ie,M)=>{"use strict";M.d(Ie,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ot,Ie,M)=>{"use strict";M.d(Ie,{b:()=>T});const T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(ot,Ie,M)=>{"use strict";M.d(Ie,{W:()=>R});const R=(()=>{function S(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return S.prototype=Object.create(Error.prototype),S})()},3410:(ot,Ie,M)=>{"use strict";M.d(Ie,{K:()=>R});const R=(()=>{function S(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return S.prototype=Object.create(Error.prototype),S})()},7971:(ot,Ie,M)=>{"use strict";M.d(Ie,{N:()=>R});const R=(()=>{function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return S.prototype=Object.create(Error.prototype),S})()},4449:(ot,Ie,M)=>{"use strict";function T(R){setTimeout(()=>{throw R},0)}M.d(Ie,{z:()=>T})},4487:(ot,Ie,M)=>{"use strict";function T(R){return R}M.d(Ie,{y:()=>T})},9796:(ot,Ie,M)=>{"use strict";M.d(Ie,{k:()=>T});const T=Array.isArray||(R=>R&&"number"==typeof R.length)},9489:(ot,Ie,M)=>{"use strict";M.d(Ie,{z:()=>T});const T=R=>R&&"number"==typeof R.length&&"function"!=typeof R},9105:(ot,Ie,M)=>{"use strict";function T(R){return"function"==typeof R}M.d(Ie,{m:()=>T})},6561:(ot,Ie,M)=>{"use strict";M.d(Ie,{k:()=>R});var T=M(9796);function R(S){return!(0,T.k)(S)&&S-parseFloat(S)+1>=0}},1555:(ot,Ie,M)=>{"use strict";function T(R){return null!==R&&"object"==typeof R}M.d(Ie,{K:()=>T})},4072:(ot,Ie,M)=>{"use strict";function T(R){return!!R&&"function"!=typeof R.subscribe&&"function"==typeof R.then}M.d(Ie,{t:()=>T})},4869:(ot,Ie,M)=>{"use strict";function T(R){return R&&"function"==typeof R.schedule}M.d(Ie,{K:()=>T})},7444:(ot,Ie,M)=>{"use strict";M.d(Ie,{s:()=>ne});var T=M(5015),R=M(4449),X=M(377),j=M(6554),$=M(9489),G=M(4072),H=M(1555);const ne=k=>{if(k&&"function"==typeof k[j.L])return(k=>te=>{const be=k[j.L]();if("function"!=typeof be.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return be.subscribe(te)})(k);if((0,$.z)(k))return(0,T.V)(k);if((0,G.t)(k))return(k=>te=>(k.then(be=>{te.closed||(te.next(be),te.complete())},be=>te.error(be)).then(null,R.z),te))(k);if(k&&"function"==typeof k[X.hZ])return(k=>te=>{const be=k[X.hZ]();for(;;){let Re;try{Re=be.next()}catch(Se){return te.error(Se),te}if(Re.done){te.complete();break}if(te.next(Re.value),te.closed)break}return"function"==typeof be.return&&te.add(()=>{be.return&&be.return()}),te})(k);{const be=`You provided ${(0,H.K)(k)?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(be)}}},5015:(ot,Ie,M)=>{"use strict";M.d(Ie,{V:()=>T});const T=R=>S=>{for(let X=0,se=R.length;X<se&&!S.closed;X++)S.next(R[X]);S.complete()}},509:(ot,Ie,M)=>{"use strict";M.d(Ie,{D:()=>se});var T=M(7393);class R extends T.L{constructor(le,$,G){super(),this.parent=le,this.outerValue=$,this.outerIndex=G,this.index=0}_next(le){this.parent.notifyNext(this.outerValue,le,this.outerIndex,this.index++,this)}_error(le){this.parent.notifyError(le,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var S=M(7444),X=M(7574);function se(j,le,$,G,H=new R(j,$,G)){if(!H.closed)return le instanceof X.y?le.subscribe(H):(0,S.s)(le)(H)}},7570:(ot,Ie,M)=>{"use strict";var T=M(8583),R=M(7716);class S extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class X extends S{static makeCurrent(){(0,T.HT)(new X)}onAndCancel(z,U,ue){return z.addEventListener(U,ue,!1),()=>{z.removeEventListener(U,ue,!1)}}dispatchEvent(z,U){z.dispatchEvent(U)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,U){return(U=U||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,U){return"window"===U?window:"document"===U?z:"body"===U?z.body:null}getBaseHref(z){const U=(se=se||document.querySelector("base"),se?se.getAttribute("href"):null);return null==U?null:function(ie){le=le||document.createElement("a"),le.setAttribute("href",ie);const z=le.pathname;return"/"===z.charAt(0)?z:`/${z}`}(U)}resetBaseElement(){se=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,T.Mx)(document.cookie,z)}}let le,se=null;const G=new R.OlP("TRANSITION_ID"),ne=[{provide:R.ip1,useFactory:function(ie,z,U){return()=>{U.get(R.CZH).donePromise.then(()=>{const ue=(0,T.q)(),Ae=z.querySelectorAll(`style[ng-transition="${ie}"]`);for(let qe=0;qe<Ae.length;qe++)ue.remove(Ae[qe])})}},deps:[G,T.K0,R.zs3],multi:!0}];class k{static init(){(0,R.VLi)(new k)}addToWindow(z){R.dqk.getAngularTestability=(ue,Ae=!0)=>{const qe=z.findTestabilityInTree(ue,Ae);if(null==qe)throw new Error("Could not find testability for element.");return qe},R.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(ue=>{const Ae=R.dqk.getAllAngularTestabilities();let qe=Ae.length,je=!1;const lt=function(kt){je=je||kt,qe--,0==qe&&ue(je)};Ae.forEach(function(kt){kt.whenStable(lt)})})}findTestabilityInTree(z,U,ue){if(null==U)return null;const Ae=z.getTestability(U);return null!=Ae?Ae:ue?(0,T.q)().isShadowRoot(U)?this.findTestabilityInTree(z,U.host,!0):this.findTestabilityInTree(z,U.parentElement,!0):null}}let te=(()=>{class ie{build(){return new XMLHttpRequest}}return ie.\u0275fac=function(U){return new(U||ie)},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Q=new R.OlP("EventManagerPlugins");let ce=(()=>{class ie{constructor(U,ue){this._zone=ue,this._eventNameToPlugin=new Map,U.forEach(Ae=>Ae.manager=this),this._plugins=U.slice().reverse()}addEventListener(U,ue,Ae){return this._findPluginFor(ue).addEventListener(U,ue,Ae)}addGlobalEventListener(U,ue,Ae){return this._findPluginFor(ue).addGlobalEventListener(U,ue,Ae)}getZone(){return this._zone}_findPluginFor(U){const ue=this._eventNameToPlugin.get(U);if(ue)return ue;const Ae=this._plugins;for(let qe=0;qe<Ae.length;qe++){const je=Ae[qe];if(je.supports(U))return this._eventNameToPlugin.set(U,je),je}throw new Error(`No event manager plugin found for event ${U}`)}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(Q),R.LFG(R.R0b))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class xe{constructor(z){this._doc=z}addGlobalEventListener(z,U,ue){const Ae=(0,T.q)().getGlobalEventTarget(this._doc,z);if(!Ae)throw new Error(`Unsupported event target ${Ae} for event ${U}`);return this.addEventListener(Ae,U,ue)}}let fe=(()=>{class ie{constructor(){this._stylesSet=new Set}addStyles(U){const ue=new Set;U.forEach(Ae=>{this._stylesSet.has(Ae)||(this._stylesSet.add(Ae),ue.add(Ae))}),this.onStylesAdded(ue)}onStylesAdded(U){}getAllStyles(){return Array.from(this._stylesSet)}}return ie.\u0275fac=function(U){return new(U||ie)},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),Ye=(()=>{class ie extends fe{constructor(U){super(),this._doc=U,this._hostNodes=new Map,this._hostNodes.set(U.head,[])}_addStylesToHost(U,ue,Ae){U.forEach(qe=>{const je=this._doc.createElement("style");je.textContent=qe,Ae.push(ue.appendChild(je))})}addHost(U){const ue=[];this._addStylesToHost(this._stylesSet,U,ue),this._hostNodes.set(U,ue)}removeHost(U){const ue=this._hostNodes.get(U);ue&&ue.forEach($e),this._hostNodes.delete(U)}onStylesAdded(U){this._hostNodes.forEach((ue,Ae)=>{this._addStylesToHost(U,Ae,ue)})}ngOnDestroy(){this._hostNodes.forEach(U=>U.forEach($e))}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(T.K0))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function $e(ie){(0,T.q)().remove(ie)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xe=/%COMP%/g;function an(ie,z,U){for(let ue=0;ue<z.length;ue++){let Ae=z[ue];Array.isArray(Ae)?an(ie,Ae,U):(Ae=Ae.replace(Xe,ie),U.push(Ae))}return U}function Mt(ie){return z=>{if("__ngUnwrap__"===z)return ie;!1===ie(z)&&(z.preventDefault(),z.returnValue=!1)}}let Qt=(()=>{class ie{constructor(U,ue,Ae){this.eventManager=U,this.sharedStylesHost=ue,this.appId=Ae,this.rendererByCompId=new Map,this.defaultRenderer=new On(U)}createRenderer(U,ue){if(!U||!ue)return this.defaultRenderer;switch(ue.encapsulation){case R.ifc.Emulated:{let Ae=this.rendererByCompId.get(ue.id);return Ae||(Ae=new De(this.eventManager,this.sharedStylesHost,ue,this.appId),this.rendererByCompId.set(ue.id,Ae)),Ae.applyToHost(U),Ae}case 1:case R.ifc.ShadowDom:return new Ne(this.eventManager,this.sharedStylesHost,U,ue);default:if(!this.rendererByCompId.has(ue.id)){const Ae=an(ue.id,ue.styles,[]);this.sharedStylesHost.addStyles(Ae),this.rendererByCompId.set(ue.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(ce),R.LFG(Ye),R.LFG(R.AFp))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class On{constructor(z){this.eventManager=z,this.data=Object.create(null)}destroy(){}createElement(z,U){return U?document.createElementNS(gt[U]||U,z):document.createElement(z)}createComment(z){return document.createComment(z)}createText(z){return document.createTextNode(z)}appendChild(z,U){z.appendChild(U)}insertBefore(z,U,ue){z&&z.insertBefore(U,ue)}removeChild(z,U){z&&z.removeChild(U)}selectRootElement(z,U){let ue="string"==typeof z?document.querySelector(z):z;if(!ue)throw new Error(`The selector "${z}" did not match any elements`);return U||(ue.textContent=""),ue}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,U,ue,Ae){if(Ae){U=Ae+":"+U;const qe=gt[Ae];qe?z.setAttributeNS(qe,U,ue):z.setAttribute(U,ue)}else z.setAttribute(U,ue)}removeAttribute(z,U,ue){if(ue){const Ae=gt[ue];Ae?z.removeAttributeNS(Ae,U):z.removeAttribute(`${ue}:${U}`)}else z.removeAttribute(U)}addClass(z,U){z.classList.add(U)}removeClass(z,U){z.classList.remove(U)}setStyle(z,U,ue,Ae){Ae&(R.JOm.DashCase|R.JOm.Important)?z.style.setProperty(U,ue,Ae&R.JOm.Important?"important":""):z.style[U]=ue}removeStyle(z,U,ue){ue&R.JOm.DashCase?z.style.removeProperty(U):z.style[U]=""}setProperty(z,U,ue){z[U]=ue}setValue(z,U){z.nodeValue=U}listen(z,U,ue){return"string"==typeof z?this.eventManager.addGlobalEventListener(z,U,Mt(ue)):this.eventManager.addEventListener(z,U,Mt(ue))}}class De extends On{constructor(z,U,ue,Ae){super(z),this.component=ue;const qe=an(Ae+"-"+ue.id,ue.styles,[]);U.addStyles(qe),this.contentAttr="_ngcontent-%COMP%".replace(Xe,Ae+"-"+ue.id),this.hostAttr="_nghost-%COMP%".replace(Xe,Ae+"-"+ue.id)}applyToHost(z){super.setAttribute(z,this.hostAttr,"")}createElement(z,U){const ue=super.createElement(z,U);return super.setAttribute(ue,this.contentAttr,""),ue}}class Ne extends On{constructor(z,U,ue,Ae){super(z),this.sharedStylesHost=U,this.hostEl=ue,this.shadowRoot=ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const qe=an(Ae.id,Ae.styles,[]);for(let je=0;je<qe.length;je++){const lt=document.createElement("style");lt.textContent=qe[je],this.shadowRoot.appendChild(lt)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(z,U){return super.appendChild(this.nodeOrShadowRoot(z),U)}insertBefore(z,U,ue){return super.insertBefore(this.nodeOrShadowRoot(z),U,ue)}removeChild(z,U){return super.removeChild(this.nodeOrShadowRoot(z),U)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}}let et=(()=>{class ie extends xe{constructor(U){super(U)}supports(U){return!0}addEventListener(U,ue,Ae){return U.addEventListener(ue,Ae,!1),()=>this.removeEventListener(U,ue,Ae)}removeEventListener(U,ue,Ae){return U.removeEventListener(ue,Ae)}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(T.K0))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const fn=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mi={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let nn=(()=>{class ie extends xe{constructor(U){super(U)}supports(U){return null!=ie.parseEventName(U)}addEventListener(U,ue,Ae){const qe=ie.parseEventName(ue),je=ie.eventCallback(qe.fullKey,Ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(U,qe.domEventName,je))}static parseEventName(U){const ue=U.toLowerCase().split("."),Ae=ue.shift();if(0===ue.length||"keydown"!==Ae&&"keyup"!==Ae)return null;const qe=ie._normalizeKey(ue.pop());let je="";if(fn.forEach(kt=>{const Kn=ue.indexOf(kt);Kn>-1&&(ue.splice(Kn,1),je+=kt+".")}),je+=qe,0!=ue.length||0===qe.length)return null;const lt={};return lt.domEventName=Ae,lt.fullKey=je,lt}static getEventFullKey(U){let ue="",Ae=function(ie){let z=ie.key;if(null==z){if(z=ie.keyIdentifier,null==z)return"Unidentified";z.startsWith("U+")&&(z=String.fromCharCode(parseInt(z.substring(2),16)),3===ie.location&&Pt.hasOwnProperty(z)&&(z=Pt[z]))}return Rt[z]||z}(U);return Ae=Ae.toLowerCase()," "===Ae?Ae="space":"."===Ae&&(Ae="dot"),fn.forEach(qe=>{qe!=Ae&&mi[qe](U)&&(ue+=qe+".")}),ue+=Ae,ue}static eventCallback(U,ue,Ae){return qe=>{ie.getEventFullKey(qe)===U&&Ae.runGuarded(()=>ue(qe))}}static _normalizeKey(U){switch(U){case"esc":return"escape";default:return U}}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(T.K0))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Fn=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:T.bD},{provide:R.g9A,useValue:function(){X.makeCurrent(),k.init()},multi:!0},{provide:T.K0,useFactory:function(){return(0,R.RDi)(document),document},deps:[]}]),ur=[[],{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function(){return new R.qLn},deps:[]},{provide:Q,useClass:et,multi:!0,deps:[T.K0,R.R0b,R.Lbi]},{provide:Q,useClass:nn,multi:!0,deps:[T.K0]},[],{provide:Qt,useClass:Qt,deps:[ce,Ye,R.AFp]},{provide:R.FYo,useExisting:Qt},{provide:fe,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[T.K0]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b]},{provide:ce,useClass:ce,deps:[Q,R.R0b]},{provide:T.JF,useClass:te,deps:[]},[]];let kr=(()=>{class ie{constructor(U){if(U)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(U){return{ngModule:ie,providers:[{provide:R.AFp,useValue:U.appId},{provide:G,useExisting:R.AFp},ne]}}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(ie,12))},ie.\u0275mod=R.oAB({type:ie}),ie.\u0275inj=R.cJS({providers:ur,imports:[T.ez,R.hGG]}),ie})();"undefined"!=typeof window&&window;var V=M(57),oe=M(5209);let we=(()=>{class ie{constructor(){}ngOnInit(){}}return ie.\u0275fac=function(U){return new(U||ie)},ie.\u0275cmp=R.Xpm({type:ie,selectors:[["app-root"]],decls:1,vars:0,template:function(U,ue){1&U&&R._UZ(0,"router-outlet")},directives:[oe.lC],styles:[""]}),ie})();const We_firebase={apiKey:"AIzaSyAdR-vuNqz8qZy7rbcEgFdjupNrTzzx5BI",authDomain:"chat-on-angular.firebaseapp.com",databaseURL:"https://chat-on-angular-default-rtdb.firebaseio.com",projectId:"chat-on-angular",storageBucket:"chat-on-angular.appspot.com",messagingSenderId:"384780938719",appId:"1:384780938719:web:a55a7ec759064179f1a86a"};var Ue=M(7318),it=M(1562),Ke=M(9932);const Je={suppressScrollX:!0,wheelSpeed:1,swipeEasing:!1},Qe=[{path:"",loadChildren:()=>Promise.all([M.e(153),M.e(464)]).then(M.bind(M,3464)).then(ie=>ie.CustomerModule)},{path:"agent",loadChildren:()=>Promise.all([M.e(153),M.e(900)]).then(M.bind(M,5900)).then(ie=>ie.AgentModule)}];let mt=(()=>{class ie{}return ie.\u0275fac=function(U){return new(U||ie)},ie.\u0275mod=R.oAB({type:ie,bootstrap:[we]}),ie.\u0275inj=R.cJS({providers:[{provide:Ke.op,useValue:Je}],imports:[[kr,oe.Bz.forRoot(Qe),V.hO.initializeApp(We_firebase),Ue.JS,it.ww,Ke.Xd]]}),ie})();(0,R.G48)(),Fn().bootstrapModule(mt).catch(ie=>console.error(ie))},4762:(ot,Ie,M)=>{"use strict";M.d(Ie,{ZT:()=>R,pi:()=>S,mG:()=>$,Jh:()=>G,XA:()=>k,CR:()=>te,ev:()=>Se});var T=function(ge,ye){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,ce){Q.__proto__=ce}||function(Q,ce){for(var xe in ce)Object.prototype.hasOwnProperty.call(ce,xe)&&(Q[xe]=ce[xe])})(ge,ye)};function R(ge,ye){if("function"!=typeof ye&&null!==ye)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");function Q(){this.constructor=ge}T(ge,ye),ge.prototype=null===ye?Object.create(ye):(Q.prototype=ye.prototype,new Q)}var S=function(){return(S=Object.assign||function(ye){for(var Q,ce=1,xe=arguments.length;ce<xe;ce++)for(var fe in Q=arguments[ce])Object.prototype.hasOwnProperty.call(Q,fe)&&(ye[fe]=Q[fe]);return ye}).apply(this,arguments)};function $(ge,ye,Q,ce){return new(Q||(Q=Promise))(function(fe,Ye){function $e(tt){try{Xe(ce.next(tt))}catch(ke){Ye(ke)}}function gt(tt){try{Xe(ce.throw(tt))}catch(ke){Ye(ke)}}function Xe(tt){tt.done?fe(tt.value):function(fe){return fe instanceof Q?fe:new Q(function(Ye){Ye(fe)})}(tt.value).then($e,gt)}Xe((ce=ce.apply(ge,ye||[])).next())})}function G(ge,ye){var ce,xe,fe,Ye,Q={label:0,sent:function(){if(1&fe[0])throw fe[1];return fe[1]},trys:[],ops:[]};return Ye={next:$e(0),throw:$e(1),return:$e(2)},"function"==typeof Symbol&&(Ye[Symbol.iterator]=function(){return this}),Ye;function $e(Xe){return function(tt){return function(Xe){if(ce)throw new TypeError("Generator is already executing.");for(;Q;)try{if(ce=1,xe&&(fe=2&Xe[0]?xe.return:Xe[0]?xe.throw||((fe=xe.return)&&fe.call(xe),0):xe.next)&&!(fe=fe.call(xe,Xe[1])).done)return fe;switch(xe=0,fe&&(Xe=[2&Xe[0],fe.value]),Xe[0]){case 0:case 1:fe=Xe;break;case 4:return Q.label++,{value:Xe[1],done:!1};case 5:Q.label++,xe=Xe[1],Xe=[0];continue;case 7:Xe=Q.ops.pop(),Q.trys.pop();continue;default:if(!(fe=(fe=Q.trys).length>0&&fe[fe.length-1])&&(6===Xe[0]||2===Xe[0])){Q=0;continue}if(3===Xe[0]&&(!fe||Xe[1]>fe[0]&&Xe[1]<fe[3])){Q.label=Xe[1];break}if(6===Xe[0]&&Q.label<fe[1]){Q.label=fe[1],fe=Xe;break}if(fe&&Q.label<fe[2]){Q.label=fe[2],Q.ops.push(Xe);break}fe[2]&&Q.ops.pop(),Q.trys.pop();continue}Xe=ye.call(ge,Q)}catch(tt){Xe=[6,tt],xe=0}finally{ce=fe=0}if(5&Xe[0])throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}([Xe,tt])}}}function k(ge){var ye="function"==typeof Symbol&&Symbol.iterator,Q=ye&&ge[ye],ce=0;if(Q)return Q.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&ce>=ge.length&&(ge=void 0),{value:ge&&ge[ce++],done:!ge}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(ge,ye){var Q="function"==typeof Symbol&&ge[Symbol.iterator];if(!Q)return ge;var xe,Ye,ce=Q.call(ge),fe=[];try{for(;(void 0===ye||ye-- >0)&&!(xe=ce.next()).done;)fe.push(xe.value)}catch($e){Ye={error:$e}}finally{try{xe&&!xe.done&&(Q=ce.return)&&Q.call(ce)}finally{if(Ye)throw Ye.error}}return fe}function Se(ge,ye,Q){if(Q||2===arguments.length)for(var fe,ce=0,xe=ye.length;ce<xe;ce++)(fe||!(ce in ye))&&(fe||(fe=Array.prototype.slice.call(ye,0,ce)),fe[ce]=ye[ce]);return ge.concat(fe||Array.prototype.slice.call(ye))}}},ot=>{ot(ot.s=7570)}]);