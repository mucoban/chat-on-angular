"use strict";(self.webpackChunkchat_on_angular=self.webpackChunkchat_on_angular||[]).push([[433],{3433:(Ie,A,h)=>{h.r(A),h.d(A,{CustomerModule:()=>Re});var w=h(8583),te=h(5492),T=h(665),P=h(9765),D=h(8049),j=h(6782),R=h(2340),o=h(7716),se=h(629),ne=h(1562),re=h(7318),oe=h(5917),ie=h(7574),ae=h(4612),ce=h(5435),S=h(8002);class B{}class U{}class g{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),i=r.toLowerCase(),l=e.slice(n+1).trim();this.maybeSetNormalizedName(r,i),this.headers.has(i)?this.headers.get(i).push(l):this.headers.set(i,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof g?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new g;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof g?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let l=this.headers.get(e);if(!l)return;l=l.filter(p=>-1===i.indexOf(p)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class le{encodeKey(t){return z(t)}encodeValue(t){return z(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const he=/%(\d[a-f0-9])/gi,ue={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function z(s){return encodeURIComponent(s).replace(he,(t,e)=>{var n;return null!==(n=ue[e])&&void 0!==n?n:t})}function X(s){return`${s}`}class C{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new le,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(s,t){const e=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(r=>{const i=r.indexOf("="),[l,p]=-1==i?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,i)),t.decodeValue(r.slice(i+1))],a=e.get(l)||[];a.push(p),e.set(l,a)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(i=>{e.push({param:n,value:i,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new C({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(X(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(X(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class pe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function G(s){return"undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer}function K(s){return"undefined"!=typeof Blob&&s instanceof Blob}function _(s){return"undefined"!=typeof FormData&&s instanceof FormData}class M{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new g),this.context||(this.context=new pe),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+l}}else this.params=new C,this.urlWithParams=e}serializeBody(){return null===this.body?null:G(this.body)||K(this.body)||_(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof C?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_(this.body)?null:K(this.body)?this.body.type||null:G(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof C?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,p=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let d=t.headers||this.headers,v=t.params||this.params;const b=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(d=Object.keys(t.setHeaders).reduce((y,c)=>y.set(c,t.setHeaders[c]),d)),t.setParams&&(v=Object.keys(t.setParams).reduce((y,c)=>y.set(c,t.setParams[c]),v)),new M(n,r,l,{params:v,headers:d,context:b,reportProgress:a,responseType:i,withCredentials:p})}}var u=(()=>((u=u||{})[u.Sent=0]="Sent",u[u.UploadProgress=1]="UploadProgress",u[u.ResponseHeader=2]="ResponseHeader",u[u.DownloadProgress=3]="DownloadProgress",u[u.Response=4]="Response",u[u.User=5]="User",u))();class N{constructor(t,e=200,n="OK"){this.headers=t.headers||new g,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class k extends N{constructor(t={}){super(t),this.type=u.ResponseHeader}clone(t={}){return new k({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class x extends N{constructor(t={}){super(t),this.type=u.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new x({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $ extends N{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function I(s,t){return{body:t,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let Y=(()=>{class s{constructor(e){this.handler=e}request(e,n,r={}){let i;if(e instanceof M)i=e;else{let a,d;a=r.headers instanceof g?r.headers:new g(r.headers),r.params&&(d=r.params instanceof C?r.params:new C({fromObject:r.params})),i=new M(e,n,void 0!==r.body?r.body:null,{headers:a,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,oe.of)(i).pipe((0,ae.b)(a=>this.handler.handle(a)));if(e instanceof M||"events"===r.observe)return l;const p=l.pipe((0,ce.h)(a=>a instanceof x));switch(r.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return p.pipe((0,S.U)(a=>{if(null!==a.body&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return p.pipe((0,S.U)(a=>{if(null!==a.body&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return p.pipe((0,S.U)(a=>{if(null!==a.body&&"string"!=typeof a.body)throw new Error("Response is not a string.");return a.body}));case"json":default:return p.pipe((0,S.U)(a=>a.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new C).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,I(r,n))}post(e,n,r={}){return this.request("POST",e,I(r,n))}put(e,n,r={}){return this.request("PUT",e,I(r,n))}}return s.\u0275fac=function(e){return new(e||s)(o.LFG(B))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();class W{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const V=new o.OlP("HTTP_INTERCEPTORS");let ge=(()=>{class s{intercept(e,n){return n.handle(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const ye=/^\)\]\}',?\n/;let Q=(()=>{class s{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ie.y(n=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((c,f)=>r.setRequestHeader(c,f.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const c=e.detectContentTypeHeader();null!==c&&r.setRequestHeader("Content-Type",c)}if(e.responseType){const c=e.responseType.toLowerCase();r.responseType="json"!==c?c:"text"}const i=e.serializeBody();let l=null;const p=()=>{if(null!==l)return l;const c=1223===r.status?204:r.status,f=r.statusText||"OK",E=new g(r.getAllResponseHeaders()),O=function(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(r)||e.url;return l=new k({headers:E,status:c,statusText:f,url:O}),l},a=()=>{let{headers:c,status:f,statusText:E,url:O}=p(),m=null;204!==f&&(m=void 0===r.response?r.responseText:r.response),0===f&&(f=m?200:0);let L=f>=200&&f<300;if("json"===e.responseType&&"string"==typeof m){const Ne=m;m=m.replace(ye,"");try{m=""!==m?JSON.parse(m):null}catch(ke){m=Ne,L&&(L=!1,m={error:ke,text:m})}}L?(n.next(new x({body:m,headers:c,status:f,statusText:E,url:O||void 0})),n.complete()):n.error(new $({error:m,headers:c,status:f,statusText:E,url:O||void 0}))},d=c=>{const{url:f}=p(),E=new $({error:c,status:r.status||0,statusText:r.statusText||"Unknown Error",url:f||void 0});n.error(E)};let v=!1;const b=c=>{v||(n.next(p()),v=!0);let f={type:u.DownloadProgress,loaded:c.loaded};c.lengthComputable&&(f.total=c.total),"text"===e.responseType&&!!r.responseText&&(f.partialText=r.responseText),n.next(f)},y=c=>{let f={type:u.UploadProgress,loaded:c.loaded};c.lengthComputable&&(f.total=c.total),n.next(f)};return r.addEventListener("load",a),r.addEventListener("error",d),r.addEventListener("timeout",d),r.addEventListener("abort",d),e.reportProgress&&(r.addEventListener("progress",b),null!==i&&r.upload&&r.upload.addEventListener("progress",y)),r.send(i),n.next({type:u.Sent}),()=>{r.removeEventListener("error",d),r.removeEventListener("abort",d),r.removeEventListener("load",a),r.removeEventListener("timeout",d),e.reportProgress&&(r.removeEventListener("progress",b),null!==i&&r.upload&&r.upload.removeEventListener("progress",y)),r.readyState!==r.DONE&&r.abort()}})}}return s.\u0275fac=function(e){return new(e||s)(o.LFG(w.JF))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();const H=new o.OlP("XSRF_COOKIE_NAME"),J=new o.OlP("XSRF_HEADER_NAME");class Z{}let ve=(()=>{class s{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,w.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return s.\u0275fac=function(e){return new(e||s)(o.LFG(w.K0),o.LFG(o.Lbi),o.LFG(H))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})(),F=(()=>{class s{constructor(e,n){this.tokenService=e,this.headerName=n}intercept(e,n){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return n.handle(e);const i=this.tokenService.getToken();return null!==i&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,i)})),n.handle(e)}}return s.\u0275fac=function(e){return new(e||s)(o.LFG(Z),o.LFG(J))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})(),be=(()=>{class s{constructor(e,n){this.backend=e,this.injector=n,this.chain=null}handle(e){if(null===this.chain){const n=this.injector.get(V,[]);this.chain=n.reduceRight((r,i)=>new W(r,i),this.backend)}return this.chain.handle(e)}}return s.\u0275fac=function(e){return new(e||s)(o.LFG(U),o.LFG(o.zs3))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})(),we=(()=>{class s{static disable(){return{ngModule:s,providers:[{provide:F,useClass:ge}]}}static withOptions(e={}){return{ngModule:s,providers:[e.cookieName?{provide:H,useValue:e.cookieName}:[],e.headerName?{provide:J,useValue:e.headerName}:[]]}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({providers:[F,{provide:V,useExisting:F,multi:!0},{provide:Z,useClass:ve},{provide:H,useValue:"XSRF-TOKEN"},{provide:J,useValue:"X-XSRF-TOKEN"}]}),s})(),Ee=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({providers:[Y,{provide:B,useClass:be},Q,{provide:U,useExisting:Q}],imports:[[we.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),s})(),q=(()=>{class s{constructor(e,n,r){this.afAuth=e,this.db=n,this.httpClient=r,this.customerStatus=new P.xQ,this.newMessage=new P.xQ,this.messages=[],this.clientId="",this.chatRoomId=""}initCustomer(){this.clientId=localStorage.getItem("clientId"),this.clientId||(this.clientId=Math.random().toString(36).slice(-8),localStorage.setItem("clientId",this.clientId)),this.checkForChatRoom()}checkForChatRoom(){this.db.list("chatRooms",n=>n.orderByChild("clientId").equalTo(this.clientId)).snapshotChanges().pipe((0,D.P)()).subscribe(n=>{(n=n.filter(r=>{var i;return"open"===(null===(i=r.payload.val())||void 0===i?void 0:i.status)})).length?(this.chatRoomId=n[0].key,this.initChatRoom()):console.log("no open chat room")})}createChatRoom(){this.db.list("chatRooms").push({isAgent:!1,clientId:this.clientId,date:(new Date).toString(),status:"open"}).then(e=>{this.chatRoomId=e.key,this.initChatRoom(!0)})}initChatRoom(e){e?(this.sendNotificationEmail(),this.customerStatus.next("chat-started")):this.customerStatus.next("minimized"),this.db.list("chatRooms/"+this.chatRoomId).snapshotChanges().subscribe(r=>{const i=r.find(a=>"status"===a.key),l=r.find(a=>"messages"===a.key);"open"===(null==i?void 0:i.payload.val())&&l&&Object.values(l.payload.val()).sort((a,d)=>a.time-d.time).map(a=>{const d=a;if(!this.messages.find(b=>b.time===d.time)){const y=new Date(d.time).toTimeString().substr(0,5),c={time:d.time,dateText:y,sender:d.sender,message:d.message};this.messages.push(c),this.newMessage.next(c)}return d})})}sendNotificationEmail(){this.httpClient.post(R.N.formspreeApiUrl,{email:"a@a.com",message:"new coa customer has started chating"}).subscribe()}sendMessage(e){const n={time:(new Date).getTime(),sender:"client",message:e};this.db.list("chatRooms/"+this.chatRoomId+"/messages").push(n)}endChat(){this.db.list("chatRooms").update(this.chatRoomId,{status:"closed"}),this.customerStatus.next("waiting"),this.chatRoomId="",this.messages=[]}}return s.\u0275fac=function(e){return new(e||s)(o.LFG(ne.zQ),o.LFG(re.KQ),o.LFG(Y))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac}),s})();var Me=h(5298);function Se(s,t){if(1&s){const e=o.EpF();o.ynx(0),o.TgZ(1,"app-messages",4),o.NdJ("messageSent",function(r){return o.CHM(e),o.oxw().insertMessage(r)}),o.qZA(),o.BQk()}if(2&s){const e=o.oxw();o.xp6(1),o.Q6J("messages",e.messages)("newMessages",e.newMessages)}}const xe=function(s){return{"close-on":s}};let Oe=(()=>{class s{constructor(e,n){this.authService=e,this.customerService=n,this.destroy$=new P.xQ,this.customerStatus="waiting",this.messages=[],this.newMessages=0,this.inputForm=new T.cw({message:new T.NI})}ngOnInit(){this.authService.signInCheckRemote({email:R.N.customer.email,password:R.N.customer.password}),this.authService.isFbUserSingedIn.pipe((0,D.P)()).subscribe(e=>{e&&this.continueToInit()})}onMessage(e){e.data.innerWidth&&(this.isParentMobile=e.data.innerWidth<992),this.setCustomerStatus(this.customerStatus)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}setCustomerStatus(e){"chat-started"===e?this.isParentMobile?parent.postMessage([{prop:"width",value:"100%"},{prop:"height",value:"100%"}],"*"):parent.postMessage([{prop:"width",value:"304px"},{prop:"height",value:"565px"}],"*"):parent.postMessage([{prop:"width",value:"100px"},{prop:"height",value:"90px"}],"*"),this.customerStatus=e}continueToInit(){this.customerService.customerStatus.pipe((0,j.R)(this.destroy$)).subscribe(e=>{this.setCustomerStatus(e)}),this.customerService.newMessage.pipe((0,j.R)(this.destroy$)).subscribe(e=>{this.messages.push(e),this.newMessages++}),this.customerService.initCustomer()}createChatRoom(){this.customerService.createChatRoom()}insertMessage(e){this.customerService.sendMessage(e),this.inputForm.reset()}}return s.\u0275fac=function(e){return new(e||s)(o.Y36(se.e),o.Y36(q))},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-customer"]],hostBindings:function(e,n){1&e&&o.NdJ("message",function(i){return n.onMessage(i)},!1,o.Jf7)},decls:6,vars:4,consts:[[4,"ngIf"],[1,"switch-btn",3,"ngClass","click"],["src","assets/images/mail.svg","alt","mail"],[1,"close-icon"],[3,"messages","newMessages","messageSent"]],template:function(e,n){1&e&&(o.YNc(0,Se,2,2,"ng-container",0),o.TgZ(1,"button",1),o.NdJ("click",function(){return"chat-started"===n.customerStatus?n.setCustomerStatus("minimized"):"waiting"===n.customerStatus?n.createChatRoom():n.setCustomerStatus("chat-started")}),o._UZ(2,"img",2),o.TgZ(3,"span",3),o._UZ(4,"span"),o._UZ(5,"span"),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngIf","chat-started"===n.customerStatus),o.xp6(1),o.Q6J("ngClass",o.VKq(2,xe,"chat-started"===n.customerStatus)))},directives:[w.O5,w.mk,Me.d],styles:[".switch-btn[_ngcontent-%COMP%]{background-color:#4f4fb9;width:75px;height:75px;border-radius:1000px;border:0;cursor:pointer;float:right;margin:10px 10px 10px 0}.switch-btn[_ngcontent-%COMP%]:hover{border:0}.switch-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;transition:opacity .3s .3s}.switch-btn[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{width:50px;display:inline-block;margin-top:-34px;vertical-align:top;float:left;margin-left:6px}.switch-btn[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:0;transition:all .3s 0s}.switch-btn[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){display:block;height:3px;background-color:#000;transform:translate(-10px,-7px) rotate(45deg)}.switch-btn[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){display:block;height:3px;background-color:#000;transform:translate(10px,-10px) rotate(-45deg)}.switch-btn.close-on[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0;transition-delay:0s}.switch-btn.close-on[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:1;transition-delay:.3s}.switch-btn.close-on[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:translateY(3px) rotate(45deg)}.switch-btn.close-on[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){transform:translate(0) rotate(-45deg)}"]}),s})();var ee=h(9932),Te=h(4466);const Pe={suppressScrollX:!0,wheelSpeed:1,swipeEasing:!1};let Re=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({providers:[q,{provide:ee.op,useValue:Pe}],imports:[[w.ez,te.Bz.forChild([{path:"",component:Oe}]),T.UX,Ee,ee.Xd,Te.m]]}),s})()}}]);