(self.webpackChunkchat_on_angular=self.webpackChunkchat_on_angular||[]).push([[179],{8255:at=>{function we(M){return Promise.resolve().then(()=>{var T=new Error("Cannot find module '"+M+"'");throw T.code="MODULE_NOT_FOUND",T})}we.keys=()=>[],we.resolve=we,we.id=8255,at.exports=we},8583:(at,we,M)=>{"use strict";M.d(we,{mr:()=>Se,ez:()=>so,K0:()=>le,Do:()=>_t,V_:()=>H,Ye:()=>ct,S$:()=>it,mk:()=>st,sg:()=>Xe,O5:()=>K,b0:()=>ze,lw:()=>$,EM:()=>vn,JF:()=>vi,NF:()=>ki,PM:()=>kr,w_:()=>j,bD:()=>ao,q:()=>S,Mx:()=>Be,HT:()=>ue});var T=M(7716);let R=null;function S(){return R}function ue(b){R||(R=b)}class j{}const le=new T.OlP("DocumentToken");let $=(()=>{class b{historyGo(_){throw new Error("Not implemented")}}return b.\u0275fac=function(_){return new(_||b)},b.\u0275prov=(0,T.Yz7)({factory:G,token:b,providedIn:"platform"}),b})();function G(){return(0,T.LFG)(ne)}const H=new T.OlP("Location Initialized");let ne=(()=>{class b extends ${constructor(_){super(),this._doc=_,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(_){const F=S().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",_,!1),()=>F.removeEventListener("popstate",_)}onHashChange(_){const F=S().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",_,!1),()=>F.removeEventListener("hashchange",_)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(_){this.location.pathname=_}pushState(_,F,z){V()?this._history.pushState(_,F,z):this.location.hash=z}replaceState(_,F,z){V()?this._history.replaceState(_,F,z):this.location.hash=z}forward(){this._history.forward()}back(){this._history.back()}historyGo(_=0){this._history.go(_)}getState(){return this._history.state}}return b.\u0275fac=function(_){return new(_||b)(T.LFG(le))},b.\u0275prov=(0,T.Yz7)({factory:te,token:b,providedIn:"platform"}),b})();function V(){return!!window.history.pushState}function te(){return new ne((0,T.LFG)(le))}function be(b,x){if(0==b.length)return x;if(0==x.length)return b;let _=0;return b.endsWith("/")&&_++,x.startsWith("/")&&_++,2==_?b+x.substring(1):1==_?b+x:b+"/"+x}function ge(b){const x=b.match(/#|\?|$/),_=x&&x.index||b.length;return b.slice(0,_-("/"===b[_-1]?1:0))+b.slice(_)}function Me(b){return b&&"?"!==b[0]?"?"+b:b}let it=(()=>{class b{historyGo(_){throw new Error("Not implemented")}}return b.\u0275fac=function(_){return new(_||b)},b.\u0275prov=(0,T.Yz7)({factory:Ne,token:b,providedIn:"root"}),b})();function Ne(b){const x=(0,T.LFG)(le).location;return new ze((0,T.LFG)($),x&&x.origin||"")}const Se=new T.OlP("appBaseHref");let ze=(()=>{class b extends it{constructor(_,F){if(super(),this._platformLocation=_,this._removeListenerFns=[],null==F&&(F=this._platformLocation.getBaseHrefFromDOM()),null==F)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=F}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(_){this._removeListenerFns.push(this._platformLocation.onPopState(_),this._platformLocation.onHashChange(_))}getBaseHref(){return this._baseHref}prepareExternalUrl(_){return be(this._baseHref,_)}path(_=!1){const F=this._platformLocation.pathname+Me(this._platformLocation.search),z=this._platformLocation.hash;return z&&_?`${F}${z}`:F}pushState(_,F,z,Ae){const Le=this.prepareExternalUrl(z+Me(Ae));this._platformLocation.pushState(_,F,Le)}replaceState(_,F,z,Ae){const Le=this.prepareExternalUrl(z+Me(Ae));this._platformLocation.replaceState(_,F,Le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(_=0){var F,z;null===(z=(F=this._platformLocation).historyGo)||void 0===z||z.call(F,_)}}return b.\u0275fac=function(_){return new(_||b)(T.LFG($),T.LFG(Se,8))},b.\u0275prov=T.Yz7({token:b,factory:b.\u0275fac}),b})(),_t=(()=>{class b extends it{constructor(_,F){super(),this._platformLocation=_,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(_){this._removeListenerFns.push(this._platformLocation.onPopState(_),this._platformLocation.onHashChange(_))}getBaseHref(){return this._baseHref}path(_=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(_){const F=be(this._baseHref,_);return F.length>0?"#"+F:F}pushState(_,F,z,Ae){let Le=this.prepareExternalUrl(z+Me(Ae));0==Le.length&&(Le=this._platformLocation.pathname),this._platformLocation.pushState(_,F,Le)}replaceState(_,F,z,Ae){let Le=this.prepareExternalUrl(z+Me(Ae));0==Le.length&&(Le=this._platformLocation.pathname),this._platformLocation.replaceState(_,F,Le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(_=0){var F,z;null===(z=(F=this._platformLocation).historyGo)||void 0===z||z.call(F,_)}}return b.\u0275fac=function(_){return new(_||b)(T.LFG($),T.LFG(Se,8))},b.\u0275prov=T.Yz7({token:b,factory:b.\u0275fac}),b})(),ct=(()=>{class b{constructor(_,F){this._subject=new T.vpe,this._urlChangeListeners=[],this._platformStrategy=_;const z=this._platformStrategy.getBaseHref();this._platformLocation=F,this._baseHref=ge(Ft(z)),this._platformStrategy.onPopState(Ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ae.state,type:Ae.type})})}path(_=!1){return this.normalize(this._platformStrategy.path(_))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(_,F=""){return this.path()==this.normalize(_+Me(F))}normalize(_){return b.stripTrailingSlash(function(b,x){return b&&x.startsWith(b)?x.substring(b.length):x}(this._baseHref,Ft(_)))}prepareExternalUrl(_){return _&&"/"!==_[0]&&(_="/"+_),this._platformStrategy.prepareExternalUrl(_)}go(_,F="",z=null){this._platformStrategy.pushState(z,"",_,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+Me(F)),z)}replaceState(_,F="",z=null){this._platformStrategy.replaceState(z,"",_,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+Me(F)),z)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(_=0){var F,z;null===(z=(F=this._platformStrategy).historyGo)||void 0===z||z.call(F,_)}onUrlChange(_){this._urlChangeListeners.push(_),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)}))}_notifyUrlChangeListeners(_="",F){this._urlChangeListeners.forEach(z=>z(_,F))}subscribe(_,F,z){return this._subject.subscribe({next:_,error:F,complete:z})}}return b.\u0275fac=function(_){return new(_||b)(T.LFG(it),T.LFG($))},b.normalizeQueryParams=Me,b.joinWithSlash=be,b.stripTrailingSlash=ge,b.\u0275prov=(0,T.Yz7)({factory:Wt,token:b,providedIn:"root"}),b})();function Wt(){return new ct((0,T.LFG)(it),(0,T.LFG)($))}function Ft(b){return b.replace(/\/index.html$/,"")}var ye=(()=>((ye=ye||{})[ye.Zero=0]="Zero",ye[ye.One=1]="One",ye[ye.Two=2]="Two",ye[ye.Few=3]="Few",ye[ye.Many=4]="Many",ye[ye.Other=5]="Other",ye))();const pe=T.kL8;class k{}let De=(()=>{class b extends k{constructor(_){super(),this.locale=_}getPluralCategory(_,F){switch(pe(F||this.locale)(_)){case ye.Zero:return"zero";case ye.One:return"one";case ye.Two:return"two";case ye.Few:return"few";case ye.Many:return"many";default:return"other"}}}return b.\u0275fac=function(_){return new(_||b)(T.LFG(T.soG))},b.\u0275prov=T.Yz7({token:b,factory:b.\u0275fac}),b})();function Be(b,x){x=encodeURIComponent(x);for(const _ of b.split(";")){const F=_.indexOf("="),[z,Ae]=-1==F?[_,""]:[_.slice(0,F),_.slice(F+1)];if(z.trim()===x)return decodeURIComponent(Ae)}return null}let st=(()=>{class b{constructor(_,F,z,Ae){this._iterableDiffers=_,this._keyValueDiffers=F,this._ngEl=z,this._renderer=Ae,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(_){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof _?_.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(_){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof _?_.split(/\s+/):_,this._rawClass&&((0,T.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const _=this._iterableDiffer.diff(this._rawClass);_&&this._applyIterableChanges(_)}else if(this._keyValueDiffer){const _=this._keyValueDiffer.diff(this._rawClass);_&&this._applyKeyValueChanges(_)}}_applyKeyValueChanges(_){_.forEachAddedItem(F=>this._toggleClass(F.key,F.currentValue)),_.forEachChangedItem(F=>this._toggleClass(F.key,F.currentValue)),_.forEachRemovedItem(F=>{F.previousValue&&this._toggleClass(F.key,!1)})}_applyIterableChanges(_){_.forEachAddedItem(F=>{if("string"!=typeof F.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,T.AaK)(F.item)}`);this._toggleClass(F.item,!0)}),_.forEachRemovedItem(F=>this._toggleClass(F.item,!1))}_applyClasses(_){_&&(Array.isArray(_)||_ instanceof Set?_.forEach(F=>this._toggleClass(F,!0)):Object.keys(_).forEach(F=>this._toggleClass(F,!!_[F])))}_removeClasses(_){_&&(Array.isArray(_)||_ instanceof Set?_.forEach(F=>this._toggleClass(F,!1)):Object.keys(_).forEach(F=>this._toggleClass(F,!1)))}_toggleClass(_,F){(_=_.trim())&&_.split(/\s+/g).forEach(z=>{F?this._renderer.addClass(this._ngEl.nativeElement,z):this._renderer.removeClass(this._ngEl.nativeElement,z)})}}return b.\u0275fac=function(_){return new(_||b)(T.Y36(T.ZZ4),T.Y36(T.aQg),T.Y36(T.SBq),T.Y36(T.Qsj))},b.\u0275dir=T.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),b})();class qe{constructor(x,_,F,z){this.$implicit=x,this.ngForOf=_,this.index=F,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xe=(()=>{class b{constructor(_,F,z){this._viewContainer=_,this._template=F,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(_){this._ngForOf=_,this._ngForOfDirty=!0}set ngForTrackBy(_){this._trackByFn=_}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(_){_&&(this._template=_)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const _=this._ngForOf;if(!this._differ&&_)try{this._differ=this._differs.find(_).create(this.ngForTrackBy)}catch(F){throw new Error(`Cannot find a differ supporting object '${_}' of type '${function(b){return b.name||typeof b}(_)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const _=this._differ.diff(this._ngForOf);_&&this._applyChanges(_)}}_applyChanges(_){const F=[];_.forEachOperation((z,Ae,Le)=>{if(null==z.previousIndex){const gt=this._viewContainer.createEmbeddedView(this._template,new qe(null,this._ngForOf,-1,-1),null===Le?void 0:Le),Ht=new vt(z,gt);F.push(Ht)}else if(null==Le)this._viewContainer.remove(null===Ae?void 0:Ae);else if(null!==Ae){const gt=this._viewContainer.get(Ae);this._viewContainer.move(gt,Le);const Ht=new vt(z,gt);F.push(Ht)}});for(let z=0;z<F.length;z++)this._perViewChange(F[z].view,F[z].record);for(let z=0,Ae=this._viewContainer.length;z<Ae;z++){const Le=this._viewContainer.get(z);Le.context.index=z,Le.context.count=Ae,Le.context.ngForOf=this._ngForOf}_.forEachIdentityChange(z=>{this._viewContainer.get(z.currentIndex).context.$implicit=z.item})}_perViewChange(_,F){_.context.$implicit=F.item}static ngTemplateContextGuard(_,F){return!0}}return b.\u0275fac=function(_){return new(_||b)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(T.ZZ4))},b.\u0275dir=T.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),b})();class vt{constructor(x,_){this.record=x,this.view=_}}let K=(()=>{class b{constructor(_,F){this._viewContainer=_,this._context=new U,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(_){this._context.$implicit=this._context.ngIf=_,this._updateView()}set ngIfThen(_){se("ngIfThen",_),this._thenTemplateRef=_,this._thenViewRef=null,this._updateView()}set ngIfElse(_){se("ngIfElse",_),this._elseTemplateRef=_,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(_,F){return!0}}return b.\u0275fac=function(_){return new(_||b)(T.Y36(T.s_b),T.Y36(T.Rgc))},b.\u0275dir=T.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),b})();class U{constructor(){this.$implicit=null,this.ngIf=null}}function se(b,x){if(x&&!x.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,T.AaK)(x)}'.`)}let so=(()=>{class b{}return b.\u0275fac=function(_){return new(_||b)},b.\u0275mod=T.oAB({type:b}),b.\u0275inj=T.cJS({providers:[{provide:k,useClass:De}]}),b})();const ao="browser";function ki(b){return b===ao}function kr(b){return"server"===b}let vn=(()=>{class b{}return b.\u0275prov=(0,T.Yz7)({token:b,providedIn:"root",factory:()=>new ms((0,T.LFG)(le),window)}),b})();class ms{constructor(x,_){this.document=x,this.window=_,this.offset=()=>[0,0]}setOffset(x){this.offset=Array.isArray(x)?()=>x:x}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(x){this.supportsScrolling()&&this.window.scrollTo(x[0],x[1])}scrollToAnchor(x){if(!this.supportsScrolling())return;const _=function(b,x){const _=b.getElementById(x)||b.getElementsByName(x)[0];if(_)return _;if("function"==typeof b.createTreeWalker&&b.body&&(b.body.createShadowRoot||b.body.attachShadow)){const F=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let z=F.currentNode;for(;z;){const Ae=z.shadowRoot;if(Ae){const Le=Ae.getElementById(x)||Ae.querySelector(`[name="${x}"]`);if(Le)return Le}z=F.nextNode()}}return null}(this.document,x);_&&(this.scrollToElement(_),this.attemptFocus(_))}setHistoryScrollRestoration(x){if(this.supportScrollRestoration()){const _=this.window.history;_&&_.scrollRestoration&&(_.scrollRestoration=x)}}scrollToElement(x){const _=x.getBoundingClientRect(),F=_.left+this.window.pageXOffset,z=_.top+this.window.pageYOffset,Ae=this.offset();this.window.scrollTo(F-Ae[0],z-Ae[1])}attemptFocus(x){return x.focus(),this.document.activeElement===x}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const x=lo(this.window.history)||lo(Object.getPrototypeOf(this.window.history));return!(!x||!x.writable&&!x.set)}catch(x){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(x){return!1}}}function lo(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class vi{}},7716:(at,we,M)=>{"use strict";M.d(we,{deG:()=>Od,tb:()=>I_,AFp:()=>C_,ip1:()=>mp,CZH:()=>Pl,hGG:()=>kT,z2F:()=>Ju,sBO:()=>DD,Sil:()=>Zu,_Vd:()=>wl,EJc:()=>S_,SBq:()=>No,qLn:()=>js,vpe:()=>Fo,gxx:()=>al,tBr:()=>Ns,XFs:()=>Ee,OlP:()=>Bn,zs3:()=>jn,ZZ4:()=>cd,aQg:()=>dd,soG:()=>Cd,YKP:()=>my,v3s:()=>mT,h0i:()=>_a,PXZ:()=>cT,R0b:()=>pi,FiY:()=>$i,Lbi:()=>w_,g9A:()=>D_,Qsj:()=>lD,FYo:()=>ud,JOm:()=>Ri,Tiy:()=>Wh,q3G:()=>_n,tp0:()=>Ii,EAV:()=>ET,Rgc:()=>Bu,dDg:()=>x_,DyG:()=>ka,q4F:()=>$h,GfV:()=>uy,s_b:()=>pd,ifc:()=>lt,eFA:()=>L_,G48:()=>rT,Gpc:()=>ne,X6Q:()=>Dp,_c5:()=>MT,VLi:()=>nT,c2e:()=>T_,zSh:()=>Su,wAp:()=>Pt,vHH:()=>ge,EiD:()=>pa,mCW:()=>Xr,qzn:()=>Io,JVY:()=>tf,pB0:()=>of,eBb:()=>_c,L6k:()=>nf,LAX:()=>rf,cg1:()=>Nh,Tjo:()=>RT,kL8:()=>xv,yhl:()=>yc,dqk:()=>Zt,sIi:()=>Mu,CqO:()=>Th,QGY:()=>Ih,F4k:()=>Lm,RDi:()=>Gr,AaK:()=>$,z3N:()=>Gi,qOj:()=>dh,TTD:()=>so,_Bn:()=>iy,xp6:()=>fg,uIk:()=>ph,ekj:()=>Mh,Suo:()=>e_,Xpm:()=>Jt,lG2:()=>Jr,Yz7:()=>Ot,cJS:()=>Mt,oAB:()=>Cr,Yjl:()=>$r,Y36:()=>Pu,_UZ:()=>Nm,BQk:()=>wh,ynx:()=>Dh,qZA:()=>Ch,TgZ:()=>bh,EpF:()=>Fm,n5z:()=>ht,Ikx:()=>Oh,LFG:()=>Sn,$8M:()=>It,NdJ:()=>Sh,CRH:()=>t_,oxw:()=>Um,Hsn:()=>Hm,F$t:()=>jm,Q6J:()=>_h,VKq:()=>$y,iGM:()=>Jy,Jf7:()=>Vc,CHM:()=>_s,LSH:()=>Ja,kYT:()=>Wr,YNc:()=>Cm,_uU:()=>fv,Oqu:()=>Ph,hij:()=>nd,Gf:()=>qy});var T=M(9765),R=M(5319),S=M(7574),ee=M(6682),ue=M(8819);function j(e){for(let t in e)if(e[t]===j)return t;throw Error("Could not find renamed property on target object.")}function le(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map($).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function G(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const H=j({__forward_ref__:j});function ne(e){return e.__forward_ref__=ne,e.toString=function(){return $(this())},e}function V(e){return te(e)?e():e}function te(e){return"function"==typeof e&&e.hasOwnProperty(H)&&e.__forward_ref__===ne}class ge extends Error{constructor(t,n){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,n)),this.code=t}}function Ne(e){return"string"==typeof e?e:null==e?"":String(e)}function Se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ne(e)}function Wt(e,t){const n=t?` in ${t}`:"";throw new ge("201",`No provider for ${Se(e)} found${n}`)}function nt(e,t){null==e&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ot(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Mt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Nt(e){return cn(e,pe)||cn(e,Oe)}function cn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Vt(e){return e&&(e.hasOwnProperty(Ie)||e.hasOwnProperty(Je))?e[Ie]:null}const pe=j({\u0275prov:j}),Ie=j({\u0275inj:j}),Oe=j({ngInjectableDef:j}),Je=j({ngInjectorDef:j});var Ee=(()=>((Ee=Ee||{})[Ee.Default=0]="Default",Ee[Ee.Host=1]="Host",Ee[Ee.Self=2]="Self",Ee[Ee.SkipSelf=4]="SkipSelf",Ee[Ee.Optional=8]="Optional",Ee))();let ut;function wt(e){const t=ut;return ut=e,t}function En(e,t,n){const r=Nt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ee.Optional?null:void 0!==t?t:void Wt($(e),"Injector")}function xn(e){return{toString:e}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),lt=(()=>((lt=lt||{})[lt.Emulated=0]="Emulated",lt[lt.None=2]="None",lt[lt.ShadowDom=3]="ShadowDom",lt))();const At="undefined"!=typeof globalThis&&globalThis,br="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=At||"undefined"!=typeof global&&global||br||Tt,on={},J=[],Q=j({\u0275cmp:j}),de=j({\u0275dir:j}),Ce=j({\u0275pipe:j}),fe=j({\u0275mod:j}),tt=j({\u0275loc:j}),yt=j({\u0275fac:j}),Et=j({__NG_ELEMENT_ID__:j});let Ut=0;function Jt(e){return xn(()=>{const n={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||J,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||lt.Emulated,id:"c",styles:e.styles||J,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,l=e.features,c=e.pipes;return r.id+=Ut++,r.inputs=Nr(e.inputs,n),r.outputs=Nr(e.outputs),l&&l.forEach(d=>d(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(An):null,r.pipeDefs=c?()=>("function"==typeof c?c():c).map(Mn):null,r})}function An(e){return mn(e)||function(e){return e[de]||null}(e)}function Mn(e){return function(e){return e[Ce]||null}(e)}const mr={};function Cr(e){return xn(()=>{const t={type:e.type,bootstrap:e.bootstrap||J,declarations:e.declarations||J,imports:e.imports||J,exports:e.exports||J,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(mr[e.id]=e.type),t})}function Wr(e,t){return xn(()=>{const n=$n(e,!0);n.declarations=t.declarations||J,n.imports=t.imports||J,n.exports=t.exports||J})}function Nr(e,t){if(null==e)return on;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],l=s;Array.isArray(s)&&(l=s[1],s=s[0]),n[s]=r,t&&(t[s]=l)}return n}const Jr=Jt;function $r(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function mn(e){return e[Q]||null}function $n(e,t){const n=e[fe]||null;if(!n&&!0===t)throw new Error(`Type ${$(e)} does not have '\u0275mod' property.`);return n}const A=11;function Rt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Gn(e){return Array.isArray(e)&&!0===e[1]}function Oi(e){return 0!=(8&e.flags)}function Ln(e){return 2==(2&e.flags)}function Ni(e){return 1==(1&e.flags)}function ur(e){return null!==e.template}function cr(e){return 0!=(512&e[2])}function Lr(e,t){return e.hasOwnProperty(yt)?e[yt]:null}class oo{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function so(){return ao}function ao(e){return e.type.prototype.ngOnChanges&&(e.setInput=jo),ps}function ps(){const e=ki(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===on)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function jo(e,t,n,r){const s=ki(e)||function(e,t){return e[ti]=t}(e,{previous:on,current:null}),l=s.current||(s.current={}),c=s.previous,d=this.declaredInputs[n],g=c[d];l[d]=new oo(g&&g.currentValue,t,c===on),e[r]=t}so.ngInherit=!0;const ti="__ngSimpleChanges__";function ki(e){return e[ti]||null}let lo;function Gr(e){lo=e}function b(e){return!!e.listen}const _={createRenderer:(e,t)=>void 0!==lo?lo:"undefined"!=typeof document?document:void 0};function z(e){for(;Array.isArray(e);)e=e[0];return e}function gt(e,t){return z(t[e])}function Ht(e,t){return z(t[e.index])}function ln(e,t){return e.data[t]}function dn(e,t){const n=t[e];return Rt(n)?n:n[0]}function hn(e){return 4==(4&e[2])}function kn(e){return 128==(128&e[2])}function Nn(e,t){return null==t?null:e[t]}function ri(e){e[18]=0}function Yn(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ct={lFrame:Kr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Sa(){return Ct.bindingsEnabled}function je(){return Ct.lFrame.lView}function en(){return Ct.lFrame.tView}function _s(e){return Ct.lFrame.contextLView=e,e[8]}function Hn(){let e=Vi();for(;null!==e&&64===e.type;)e=e.parent;return e}function Vi(){return Ct.lFrame.currentTNode}function Jn(e,t){const n=Ct.lFrame;n.currentTNode=e,n.isParent=t}function Es(){return Ct.lFrame.isParent}function bs(){Ct.lFrame.isParent=!1}function Bi(){return Ct.isInCheckNoChangesMode}function ii(e){Ct.isInCheckNoChangesMode=e}function Ui(){return Ct.lFrame.bindingIndex++}function jl(e,t){const n=Ct.lFrame;n.bindingIndex=n.bindingRootIndex=e,dr(t)}function dr(e){Ct.lFrame.currentDirectiveIndex=e}function Ds(){return Ct.lFrame.currentQueryIndex}function uo(e){Ct.lFrame.currentQueryIndex=e}function ic(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ws(e,t,n){if(n&Ee.SkipSelf){let s=t,l=e;for(;!(s=s.parent,null!==s||n&Ee.Host||(s=ic(l),null===s||(l=l[15],10&s.type))););if(null===s)return!1;t=s,e=l}const r=Ct.lFrame=$o();return r.currentTNode=t,r.lView=e,!0}function _i(e){const t=$o(),n=e[1];Ct.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function $o(){const e=Ct.lFrame,t=null===e?null:e.child;return null===t?Kr(e):t}function Kr(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Aa(){const e=Ct.lFrame;return Ct.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ma=Aa;function Ei(){const e=Aa();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Vn(){return Ct.lFrame.selectedIndex}function Tr(e){Ct.lFrame.selectedIndex=e}function Rn(){const e=Ct.lFrame;return ln(e.tView,e.selectedIndex)}function bi(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const l=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:d,ngAfterViewInit:g,ngAfterViewChecked:y,ngOnDestroy:w}=l;c&&(e.contentHooks||(e.contentHooks=[])).push(-n,c),d&&((e.contentHooks||(e.contentHooks=[])).push(n,d),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,d)),g&&(e.viewHooks||(e.viewHooks=[])).push(-n,g),y&&((e.viewHooks||(e.viewHooks=[])).push(n,y),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,y)),null!=w&&(e.destroyHooks||(e.destroyHooks=[])).push(n,w)}}function co(e,t,n){Ci(e,t,3,n)}function Go(e,t,n,r){(3&e[2])===n&&Ci(e,t,n,r)}function fo(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Ci(e,t,n,r){const l=null!=r?r:-1,c=t.length-1;let d=0;for(let g=void 0!==r?65535&e[18]:0;g<c;g++)if("number"==typeof t[g+1]){if(d=t[g],null!=r&&d>=r)break}else t[g]<0&&(e[18]+=65536),(d<l||-1==l)&&(xa(e,n,t,g),e[18]=(4294901760&e[18])+g+2),g++}function xa(e,t,n,r){const s=n[r]<0,l=n[r+1],d=e[s?-n[r]:n[r]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{l.call(d)}finally{}}}else try{l.call(d)}finally{}}class ji{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Yo(e,t,n){const r=b(e);let s=0;for(;s<n.length;){const l=n[s];if("number"==typeof l){if(0!==l)break;s++;const c=n[s++],d=n[s++],g=n[s++];r?e.setAttribute(t,d,g,c):t.setAttributeNS(c,d,g)}else{const c=l,d=n[++s];zo(c)?r&&e.setProperty(t,c,d):r?e.setAttribute(t,c,d):t.setAttribute(c,d),s++}}return s}function Oa(e){return 3===e||4===e||6===e}function zo(e){return 64===e.charCodeAt(0)}function ho(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||Rs(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function Rs(e,t,n,r,s){let l=0,c=e.length;if(-1===t)c=-1;else for(;l<e.length;){const d=e[l++];if("number"==typeof d){if(d===t){c=-1;break}if(d>t){c=l-1;break}}}for(;l<e.length;){const d=e[l];if("number"==typeof d)break;if(d===n){if(null===r)return void(null!==s&&(e[l+1]=s));if(r===e[l+1])return void(e[l+2]=s)}l++,null!==r&&l++,null!==s&&l++}-1!==c&&(e.splice(c,0,t),l=c+1),e.splice(l++,0,n),null!==r&&e.splice(l++,0,r),null!==s&&e.splice(l++,0,s)}function Kl(e){return-1!==e}function Sr(e){return 32767&e}function po(e,t){let n=function(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let ta=!0;function Hi(e){const t=ta;return ta=e,t}let Ql=0;function go(e,t){const n=ra(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ms(r.data,e),Ms(t,null),Ms(r.blueprint,null));const s=mo(e,t),l=e.injectorIndex;if(Kl(s)){const c=Sr(s),d=po(s,t),g=d[1].data;for(let y=0;y<8;y++)t[l+y]=d[c+y]|g[c+y]}return t[l+8]=s,l}function Ms(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ra(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function mo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){const l=s[1],c=l.type;if(r=2===c?l.declTNode:1===c?s[6]:null,null===r)return-1;if(n++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Qo(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Et)&&(r=n[Et]),null==r&&(r=n[Et]=Ql++);const s=255&r;t.data[e+(s>>5)]|=1<<s}(e,t,n)}function oa(e,t,n){if(n&Ee.Optional)return e;Wt(t,"NodeInjector")}function La(e,t,n,r){if(n&Ee.Optional&&void 0===r&&(r=null),0==(n&(Ee.Self|Ee.Host))){const s=e[9],l=wt(void 0);try{return s?s.get(t,r,n&Ee.Optional):En(t,r,n&Ee.Optional)}finally{wt(l)}}return oa(r,t,n)}function Xl(e,t,n,r=Ee.Default,s){if(null!==e){const l=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Et)?e[Et]:void 0;return"number"==typeof t?t>=0?255&t:p:t}(n);if("function"==typeof l){if(!ws(t,e,r))return r&Ee.Host?oa(s,n,r):La(t,n,r,s);try{const c=l(r);if(null!=c||r&Ee.Optional)return c;Wt(n)}finally{Ma()}}else if("number"==typeof l){let c=null,d=ra(e,t),g=-1,y=r&Ee.Host?t[16][6]:null;for((-1===d||r&Ee.SkipSelf)&&(g=-1===d?mo(e,t):t[d+8],-1!==g&&re(r,!1)?(c=t[1],d=Sr(g),t=po(g,t)):d=-1);-1!==d;){const w=t[1];if(Y(l,d,w.data)){const N=h(d,t,n,c,r,y);if(N!==m)return N}g=t[d+8],-1!==g&&re(r,t[1].data[d+8]===y)&&Y(l,d,t)?(c=w,d=Sr(g),t=po(g,t)):d=-1}}}return La(t,n,r,s)}const m={};function p(){return new Pe(Hn(),je())}function h(e,t,n,r,s,l){const c=t[1],d=c.data[e+8],w=E(d,c,n,null==r?Ln(d)&&ta:r!=c&&0!=(3&d.type),s&Ee.Host&&l===d);return null!==w?D(t,c,w,d):m}function E(e,t,n,r,s){const l=e.providerIndexes,c=t.data,d=1048575&l,g=e.directiveStart,w=l>>20,B=s?d+w:e.directiveEnd;for(let q=r?d:d+w;q<B;q++){const ae=c[q];if(q<g&&n===ae||q>=g&&ae.type===n)return q}if(s){const q=c[g];if(q&&ur(q)&&q.type===n)return g}return null}function D(e,t,n,r){let s=e[n];const l=t.data;if(function(e){return e instanceof ji}(s)){const c=s;c.resolving&&function(e,t){throw new ge("200",`Circular dependency in DI detected for ${e}`)}(Se(l[n]));const d=Hi(c.canSeeViewProviders);c.resolving=!0;const g=c.injectImpl?wt(c.injectImpl):null;ws(e,r,Ee.Default);try{s=e[n]=c.factory(void 0,l,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:l}=t.type.prototype;if(r){const c=ao(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),l&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l))}(n,l[n],t)}finally{null!==g&&wt(g),Hi(d),c.resolving=!1,Ma()}}return s}function Y(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function re(e,t){return!(e&Ee.Self||e&Ee.Host&&t)}class Pe{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Xl(this._tNode,this._lView,t,r,n)}}function ht(e){return xn(()=>{const t=e.prototype.constructor,n=t[yt]||nn(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const l=s[yt]||nn(s);if(l&&l!==n)return l;s=Object.getPrototypeOf(s)}return l=>new l})}function nn(e){return te(e)?()=>{const t=nn(V(e));return t&&t()}:Lr(e)}function It(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let s=0;for(;s<r;){const l=n[s];if(Oa(l))break;if(0===l)s+=2;else if("number"==typeof l)for(s++;s<r&&"string"==typeof n[s];)s++;else{if(l===t)return n[s+1];s+=2}}}return null}(Hn(),e)}const Qt="__parameters__";function Ar(e,t,n){return xn(()=>{const r=function(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...l){if(this instanceof s)return r.apply(this,l),this;const c=new s(...l);return d.annotation=c,d;function d(g,y,w){const N=g.hasOwnProperty(Qt)?g[Qt]:Object.defineProperty(g,Qt,{value:[]})[Qt];for(;N.length<=w;)N.push(null);return(N[w]=N[w]||[]).push(c),g}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class Bn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ot({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Od=new Bn("AnalyzeForEntryComponents"),ka=Function;function Qr(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Qr(r,t)):t!==e&&t.push(r)}return t}function ir(e,t){e.forEach(n=>Array.isArray(n)?ir(n,t):t(n))}function yo(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Jo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function _o(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Br(e,t,n){let r=qo(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Eo(e,t){const n=qo(e,t);if(n>=0)return e[1|n]}function qo(e,t){return function(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){const l=r+(s-r>>1),c=e[l<<n];if(t===c)return l<<n;c>t?s=l:r=l+1}return~(s<<n)}(e,t,1)}const la={},ou="__NG_DI_FLAG__",Ps="ngTempTokenPath",cc=/\n/gm,su="__source",ua=j({provide:String,useValue:j});let ts;function bo(e){const t=ts;return ts=e,t}function Ha(e,t=Ee.Default){if(void 0===ts)throw new Error("inject() must be called from an injection context");return null===ts?En(e,void 0,t):ts.get(e,t&Ee.Optional?null:void 0,t)}function Sn(e,t=Ee.Default){return(ut||Ha)(V(e),t)}function ns(e){const t=[];for(let n=0;n<e.length;n++){const r=V(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let s,l=Ee.Default;for(let c=0;c<r.length;c++){const d=r[c],g=dc(d);"number"==typeof g?-1===g?s=d.token:l|=g:s=d}t.push(Sn(s,l))}else t.push(Sn(r))}return t}function Co(e,t){return e[ou]=t,e.prototype[ou]=t,e}function dc(e){return e[ou]}function fc(e,t,n,r){const s=e[Ps];throw t[su]&&s.unshift(t[su]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=$(t);if(Array.isArray(t))s=t.map($).join(" -> ");else if("object"==typeof t){let l=[];for(let c in t)if(t.hasOwnProperty(c)){let d=t[c];l.push(c+":"+("string"==typeof d?JSON.stringify(d):$(d)))}s=`{${l.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(cc,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[Ps]=null,e}const Ns=Co(Ar("Inject",e=>({token:e})),-1),$i=Co(Ar("Optional"),8),Ii=Co(Ar("SkipSelf"),4);let os;function or(e){var t;return(null===(t=function(){if(void 0===os&&(os=null,Zt.trustedTypes))try{os=Zt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return os}())||void 0===t?void 0:t.createHTML(e))||e}class wo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qd extends wo{getTypeName(){return"HTML"}}class vc extends wo{getTypeName(){return"Style"}}class ef extends wo{getTypeName(){return"Script"}}class du extends wo{getTypeName(){return"URL"}}class Ka extends wo{getTypeName(){return"ResourceURL"}}function Gi(e){return e instanceof wo?e.changingThisBreaksApplicationSecurity:e}function Io(e,t){const n=yc(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function yc(e){return e instanceof wo&&e.getTypeName()||null}function tf(e){return new qd(e)}function nf(e){return new vc(e)}function _c(e){return new ef(e)}function rf(e){return new du(e)}function of(e){return new Ka(e)}class fu{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(or(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class bc{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=or(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=or(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let s=n.length-1;0<s;s--){const c=n.item(s).name;("xmlns:ns1"===c||0===c.indexOf("ns1:"))&&t.removeAttribute(c)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const af=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ks=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xr(e){return(e=String(e)).match(af)||e.match(ks)?e:"unsafe:"+e}function Zr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function To(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Dc=Zr("area,br,col,hr,img,wbr"),ss=Zr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wc=Zr("rp,rt"),Vs=To(Dc,To(ss,Zr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),To(wc,Zr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),To(wc,ss)),fa=Zr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ha=Zr("srcset"),Qa=To(fa,ha,Zr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),df=Zr("script,style,template");class Ic{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=this.checkClobberedElement(n,n.nextSibling);if(s){n=s;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Vs.hasOwnProperty(n))return this.sanitizedSomething=!0,!df.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let s=0;s<r.length;s++){const l=r.item(s),c=l.name,d=c.toLowerCase();if(!Qa.hasOwnProperty(d)){this.sanitizedSomething=!0;continue}let g=l.value;fa[d]&&(g=Xr(g)),ha[d]&&(e=g,g=(e=String(e)).split(",").map(t=>Xr(t.trim())).join(", ")),this.buf.push(" ",c,'="',Rc(g),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Vs.hasOwnProperty(n)&&!Dc.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Rc(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Tc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sc=/([^\#-~ |!])/g;function Rc(e){return e.replace(/&/g,"&amp;").replace(Tc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Sc,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Er;function pa(e,t){let n=null;try{Er=Er||function(e){const t=new bc(e);return function(){try{return!!(new window.DOMParser).parseFromString(or(""),"text/html")}catch(e){return!1}}()?new fu(t):t}(e);let r=t?String(t):"";n=Er.getInertBodyElement(r);let s=5,l=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=l,l=n.innerHTML,n=Er.getInertBodyElement(r)}while(r!==l);return or((new Ic).sanitizeChildren(Ti(n)||n))}finally{if(n){const r=Ti(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ti(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var _n=(()=>((_n=_n||{})[_n.NONE=0]="NONE",_n[_n.HTML=1]="HTML",_n[_n.STYLE=2]="STYLE",_n[_n.SCRIPT=3]="SCRIPT",_n[_n.URL=4]="URL",_n[_n.RESOURCE_URL=5]="RESOURCE_URL",_n))();function Ja(e){const t=function(){const e=je();return e&&e[12]}();return t?t.sanitize(_n.URL,e)||"":Io(e,"URL")?Gi(e):Xr(Ne(e))}const pu="__ngContext__";function sr(e,t){e[pu]=t}function el(e){const t=function(e){return e[pu]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function tl(e){return e.ngOriginalError}function Df(e,...t){e.error(...t)}class js{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),r=this._findContext(t),s=(e=t)&&e.ngErrorLogger||Df;var e;s(this._console,"ERROR",t),n&&s(this._console,"ORIGINAL ERROR",n),r&&s(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?t.ngDebugContext||this._findContext(tl(t)):null}_findOriginalError(t){let n=t&&tl(t);for(;n&&tl(n);)n=tl(n);return n||null}}const kc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function Vc(e){return e.ownerDocument.defaultView}function Si(e){return e instanceof Function?e():e}var Ri=(()=>((Ri=Ri||{})[Ri.Important=1]="Important",Ri[Ri.DashCase=2]="DashCase",Ri))();function ls(e,t){return undefined(e,t)}function Ao(e){const t=e[3];return Gn(t)?t[3]:t}function Eu(e){return Wc(e[13])}function bu(e){return Wc(e[4])}function Wc(e){for(;null!==e&&!Gn(e);)e=e[4];return e}function Ws(e,t,n,r,s){if(null!=r){let l,c=!1;Gn(r)?l=r:Rt(r)&&(c=!0,r=r[0]);const d=z(r);0===e&&null!==n?null==s?O(t,n,d):C(t,n,d,s||null,!0):1===e&&null!==n?C(t,n,d,s||null,!0):2===e?function(e,t,n){const r=Z(e,t);r&&function(e,t,n,r){b(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,d,c):3===e&&t.destroyNode(d),null!=l&&function(e,t,n,r,s){const l=n[7];l!==z(n)&&Ws(t,e,r,l,s);for(let d=10;d<n.length;d++){const g=n[d];ma(g[1],g,e,t,r,l)}}(t,e,l,n,s)}}function Du(e,t,n){return b(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Gc(e,t){const n=e[9],r=n.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Yn(s,-1)),n.splice(r,1)}function wu(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Gc(s,r),t>0&&(e[n-1][4]=r[4]);const l=Jo(e,10+t);!function(e,t){ma(e,t,t[A],2,null,null),t[0]=null,t[6]=null}(r[1],r);const c=l[19];null!==c&&c.detachView(l[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function o(e,t){if(!(256&t[2])){const n=t[A];b(n)&&n.destroyNode&&ma(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return i(e[1],e);for(;t;){let n=null;if(Rt(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Rt(t)&&i(t[1],t),t=t[3];null===t&&(t=e),Rt(t)&&i(t[1],t),n=t&&t[4]}t=n}}(t)}}function i(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof ji)){const l=n[r+1];if(Array.isArray(l))for(let c=0;c<l.length;c+=2){const d=s[l[c]],g=l[c+1];try{g.call(d)}finally{}}else try{l.call(s)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let s=-1;if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const c=n[l+1],d="function"==typeof c?c(t):z(t[c]),g=r[s=n[l+2]],y=n[l+3];"boolean"==typeof y?d.removeEventListener(n[l],g,y):y>=0?r[s=y]():r[s=-y].unsubscribe(),l+=2}else{const c=r[s=n[l+1]];n[l].call(c)}if(null!==r){for(let l=s+1;l<r.length;l++)r[l]();t[7]=null}}(e,t),1===t[1].type&&b(t[A])&&t[A].destroy();const n=t[17];if(null!==n&&Gn(t[3])){n!==t[3]&&Gc(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function f(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const s=e.data[r.directiveStart].encapsulation;if(s===lt.None||s===lt.Emulated)return null}return Ht(r,n)}(e,t.parent,n)}function C(e,t,n,r,s){b(e)?e.insertBefore(t,n,r,s):t.insertBefore(n,r,s)}function O(e,t,n){b(e)?e.appendChild(t,n):t.appendChild(n)}function L(e,t,n,r,s){null!==r?C(e,t,n,r,s):O(e,t,n)}function Z(e,t){return b(e)?e.parentNode(t):t.parentNode}function Fe(e,t,n){return dt(e,t,n)}let dt=function(e,t,n){return 40&e.type?Ht(e,n):null};function $t(e,t,n,r){const s=f(e,r,t),l=t[A],d=Fe(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(n))for(let g=0;g<n.length;g++)L(l,s,n[g],d,!1);else L(l,s,n,d,!1)}function Un(e,t){if(null!==t){const n=t.type;if(3&n)return Ht(t,e);if(4&n)return $s(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Un(e,r);{const s=e[t.index];return Gn(s)?$s(-1,s):z(s)}}if(32&n)return ls(t,e)()||z(e[t.index]);{const r=fi(e,t);return null!==r?Array.isArray(r)?r[0]:Un(Ao(e[16]),r):Un(e,t.next)}}return null}function fi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function $s(e,t){const n=10+e+1;if(n<t.length){const r=t[n],s=r[1].firstChild;if(null!==s)return Un(r,s)}return t[7]}function ga(e,t,n,r,s,l,c){for(;null!=n;){const d=r[n.index],g=n.type;if(c&&0===t&&(d&&sr(z(d),r),n.flags|=4),64!=(64&n.flags))if(8&g)ga(e,t,n.child,r,s,l,!1),Ws(t,e,s,d,l);else if(32&g){const y=ls(n,r);let w;for(;w=y();)Ws(t,e,s,w,l);Ws(t,e,s,d,l)}else 16&g?og(e,t,r,n,s,l):Ws(t,e,s,d,l);n=c?n.projectionNext:n.next}}function ma(e,t,n,r,s,l){ga(n,r,e.firstChild,t,s,l,!1)}function og(e,t,n,r,s,l){const c=n[16],g=c[6].projection[r.projection];if(Array.isArray(g))for(let y=0;y<g.length;y++)Ws(t,e,s,g[y],l);else ga(e,t,g,c[3],s,l,!0)}function sg(e,t,n){b(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Vf(e,t,n){b(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function ag(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const l=t.length;if(s+l===r||e.charCodeAt(s+l)<=32)return s}n=s+1}}const lg="ng-template";function mE(e,t,n){let r=0;for(;r<e.length;){let s=e[r++];if(n&&"class"===s){if(s=e[r],-1!==ag(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function ug(e){return 4===e.type&&e.value!==lg}function vE(e,t,n){return t===(4!==e.type||n?e.value:lg)}function yE(e,t,n){let r=4;const s=e.attrs||[],l=function(e){for(let t=0;t<e.length;t++)if(Oa(e[t]))return t;return e.length}(s);let c=!1;for(let d=0;d<t.length;d++){const g=t[d];if("number"!=typeof g){if(!c)if(4&r){if(r=2|1&r,""!==g&&!vE(e,g,n)||""===g&&1===t.length){if(Yi(r))return!1;c=!0}}else{const y=8&r?g:t[++d];if(8&r&&null!==e.attrs){if(!mE(e.attrs,y,n)){if(Yi(r))return!1;c=!0}continue}const N=_E(8&r?"class":g,s,ug(e),n);if(-1===N){if(Yi(r))return!1;c=!0;continue}if(""!==y){let B;B=N>l?"":s[N+1].toLowerCase();const q=8&r?B:null;if(q&&-1!==ag(q,y,0)||2&r&&y!==B){if(Yi(r))return!1;c=!0}}}}else{if(!c&&!Yi(r)&&!Yi(g))return!1;if(c&&Yi(g))continue;c=!1,r=g|1&r}}return Yi(r)||c}function Yi(e){return 0==(1&e)}function _E(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let l=!1;for(;s<t.length;){const c=t[s];if(c===e)return s;if(3===c||6===c)l=!0;else{if(1===c||2===c){let d=t[++s];for(;"string"==typeof d;)d=t[++s];continue}if(4===c)break;if(0===c){s+=4;continue}}s+=l?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function cg(e,t,n=!1){for(let r=0;r<t.length;r++)if(yE(e,t[r],n))return!0;return!1}function DE(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let s=0;s<e.length;s++)if(e[s]!==r[s])continue e;return!0}}return!1}function dg(e,t){return e?":not("+t.trim()+")":t}function wE(e){let t=e[0],n=1,r=2,s="",l=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const d=e[++n];s+="["+c+(d.length>0?'="'+d+'"':"")+"]"}else 8&r?s+="."+c:4&r&&(s+=" "+c);else""!==s&&!Yi(c)&&(t+=dg(l,s),s=""),r=c,l=l||!Yi(r);n++}return""!==s&&(t+=dg(l,s)),t}const zt={};function fg(e){hg(en(),je(),Vn()+e,Bi())}function hg(e,t,n,r){if(!r)if(3==(3&t[2])){const l=e.preOrderCheckHooks;null!==l&&co(t,l,n)}else{const l=e.preOrderHooks;null!==l&&Go(t,l,0,n)}Tr(n)}function Yc(e,t){return e<<17|t<<2}function zi(e){return e>>17&32767}function Bf(e){return 2|e}function us(e){return(131068&e)>>2}function Uf(e,t){return-131069&e|t<<2}function jf(e){return 1|e}function Dg(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],l=n[r+1];if(-1!==l){const c=e.data[l];uo(s),c.contentQueries(2,t[l],l)}}}function Iu(e,t,n,r,s,l,c,d,g,y){const w=t.blueprint.slice();return w[0]=s,w[2]=140|r,ri(w),w[3]=w[15]=e,w[8]=n,w[10]=c||e&&e[10],w[A]=d||e&&e[A],w[12]=g||e&&e[12]||null,w[9]=y||e&&e[9]||null,w[6]=l,w[16]=2==t.type?e[16]:w,w}function il(e,t,n,r,s){let l=e.data[t];if(null===l)l=function(e,t,n,r,s){const l=Vi(),c=Es(),g=e.data[t]=function(e,t,n,r,s,l){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?l:l&&l.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=g),null!==l&&(c?null==l.child&&null!==g.parent&&(l.child=g):null===l.next&&(l.next=g)),g}(e,t,n,r,s),Ct.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=n,l.value=r,l.attrs=s;const c=function(){const e=Ct.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===c?-1:c.injectorIndex}return Jn(l,!0),l}function ol(e,t,n,r){if(0===n)return-1;const s=t.length;for(let l=0;l<n;l++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function Tu(e,t,n){_i(t);try{const r=e.viewQuery;null!==r&&rh(1,r,n);const s=e.template;null!==s&&wg(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Dg(e,t),e.staticViewQueries&&rh(2,e.viewQuery,n);const l=e.components;null!==l&&function(e,t){for(let n=0;n<t.length;n++)rb(e,t[n])}(t,l)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ei()}}function sl(e,t,n,r){const s=t[2];if(256==(256&s))return;_i(t);const l=Bi();try{ri(t),function(e){Ct.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&wg(e,t,n,2,r);const c=3==(3&s);if(!l)if(c){const y=e.preOrderCheckHooks;null!==y&&co(t,y,null)}else{const y=e.preOrderHooks;null!==y&&Go(t,y,0,null),fo(t,0)}if(function(e){for(let t=Eu(e);null!==t;t=bu(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const s=n[r],l=s[3];0==(1024&s[2])&&Yn(l,1),s[2]|=1024}}}(t),function(e){for(let t=Eu(e);null!==t;t=bu(t))for(let n=10;n<t.length;n++){const r=t[n],s=r[1];kn(r)&&sl(s,r,s.template,r[8])}}(t),null!==e.contentQueries&&Dg(e,t),!l)if(c){const y=e.contentCheckHooks;null!==y&&co(t,y)}else{const y=e.contentHooks;null!==y&&Go(t,y,1),fo(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)Tr(~s);else{const l=s,c=n[++r],d=n[++r];jl(c,l),d(2,t[l])}}}finally{Tr(-1)}}(e,t);const d=e.components;null!==d&&function(e,t){for(let n=0;n<t.length;n++)nb(e,t[n])}(t,d);const g=e.viewQuery;if(null!==g&&rh(2,g,r),!l)if(c){const y=e.viewCheckHooks;null!==y&&co(t,y)}else{const y=e.viewHooks;null!==y&&Go(t,y,2),fo(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),l||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Yn(t[3],-1))}finally{Ei()}}function kE(e,t,n,r){const s=t[10],l=!Bi(),c=hn(t);try{l&&!c&&s.begin&&s.begin(),c&&Tu(e,t,r),sl(e,t,n,r)}finally{l&&!c&&s.end&&s.end()}}function wg(e,t,n,r,s){const l=Vn(),c=2&r;try{Tr(-1),c&&t.length>20&&hg(e,t,20,Bi()),n(r,s)}finally{Tr(l)}}function Ig(e,t,n){if(Oi(t)){const s=t.directiveEnd;for(let l=t.directiveStart;l<s;l++){const c=e.data[l];c.contentQueries&&c.contentQueries(1,n[l],l)}}}function Qf(e,t,n){!Sa()||(function(e,t,n,r){const s=n.directiveStart,l=n.directiveEnd;e.firstCreatePass||go(n,t),sr(r,t);const c=n.initialInputs;for(let d=s;d<l;d++){const g=e.data[d],y=ur(g);y&&ZE(t,n,g);const w=D(t,e,d,n);sr(w,t),null!==c&&JE(0,d-s,w,g,0,c),y&&(dn(n.index,t)[8]=w)}}(e,t,n,Ht(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,s=n.directiveEnd,c=n.index,d=Ct.lFrame.currentDirectiveIndex;try{Tr(c);for(let g=r;g<s;g++){const y=e.data[g],w=t[g];dr(g),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&Og(y,w)}}finally{Tr(-1),dr(d)}}(e,t,n))}function Xf(e,t,n=Ht){const r=t.localNames;if(null!==r){let s=t.index+1;for(let l=0;l<r.length;l+=2){const c=r[l+1],d=-1===c?n(t,e):e[c];e[s++]=d}}}function Tg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Qc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Qc(e,t,n,r,s,l,c,d,g,y){const w=20+r,N=w+s,B=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:zt);return n}(w,N),q="function"==typeof y?y():y;return B[1]={type:e,blueprint:B,template:n,queries:null,viewQuery:d,declTNode:t,data:B.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:g,consts:q,incompleteFirstPass:!1}}function Ag(e,t,n,r){const s=Bg(t);null===n?s.push(r):(s.push(n),e.firstCreatePass&&Ug(e).push(r,s.length-1))}function Mg(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,s):n[r]=[t,s]}return n}function hi(e,t,n,r,s,l,c,d){const g=Ht(t,n);let w,y=t.inputs;!d&&null!=y&&(w=y[r])?(Wg(e,n,w,r,s),Ln(t)&&function(e,t){const n=dn(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=c?c(s,t.value||"",r):s,b(l)?l.setProperty(g,r,s):zo(r)||(g.setProperty?g.setProperty(r,s):g[r]=s))}function Zf(e,t,n,r){let s=!1;if(Sa()){const l=function(e,t,n){const r=e.directiveRegistry;let s=null;if(r)for(let l=0;l<r.length;l++){const c=r[l];cg(n,c.selectors,!1)&&(s||(s=[]),Qo(go(n,t),e,c.type),ur(c)?(Ng(e,n),s.unshift(c)):s.push(c))}return s}(e,t,n),c=null===r?null:{"":-1};if(null!==l){s=!0,Fg(n,e.data.length,l.length);for(let w=0;w<l.length;w++){const N=l[w];N.providersResolver&&N.providersResolver(N)}let d=!1,g=!1,y=ol(e,t,l.length,null);for(let w=0;w<l.length;w++){const N=l[w];n.mergedAttrs=ho(n.mergedAttrs,N.hostAttrs),Lg(e,n,t,y,N),XE(y,N,c),null!==N.contentQueries&&(n.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(n.flags|=128);const B=N.type.prototype;!d&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),d=!0),!g&&(B.ngOnChanges||B.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),g=!0),y++}!function(e,t){const r=t.directiveEnd,s=e.data,l=t.attrs,c=[];let d=null,g=null;for(let y=t.directiveStart;y<r;y++){const w=s[y],N=w.inputs,B=null===l||ug(t)?null:qE(N,l);c.push(B),d=Mg(N,y,d),g=Mg(w.outputs,y,g)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=16),d.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=c,t.inputs=d,t.outputs=g}(e,n)}c&&function(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const l=n[t[s+1]];if(null==l)throw new ge("301",`Export of name '${t[s+1]}' not found!`);r.push(t[s],l)}}}(n,r,c)}return n.mergedAttrs=ho(n.mergedAttrs,n.attrs),s}function Pg(e,t,n,r,s,l){const c=l.hostBindings;if(c){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const g=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=g&&d.push(g),d.push(r,s,c)}}function Og(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ng(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function XE(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ur(t)&&(n[""]=e)}}function Fg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Lg(e,t,n,r,s){e.data[r]=s;const l=s.factory||(s.factory=Lr(s.type)),c=new ji(l,ur(s),null);e.blueprint[r]=c,n[r]=c,Pg(e,t,0,r,ol(e,n,s.hostVars,zt),s)}function ZE(e,t,n){const r=Ht(t,e),s=Tg(n),l=e[10],c=Xc(e,Iu(e,s,null,n.onPush?64:16,r,t,l,l.createRenderer(r,n),null,null));e[t.index]=c}function Mo(e,t,n,r,s,l){const c=Ht(e,t);!function(e,t,n,r,s,l,c){if(null==l)b(e)?e.removeAttribute(t,s,n):t.removeAttribute(s);else{const d=null==c?Ne(l):c(l,r||"",s);b(e)?e.setAttribute(t,s,d,n):n?t.setAttributeNS(n,s,d):t.setAttribute(s,d)}}(t[A],c,l,e.value,n,r,s)}function JE(e,t,n,r,s,l){const c=l[t];if(null!==c){const d=r.setInput;for(let g=0;g<c.length;){const y=c[g++],w=c[g++],N=c[g++];null!==d?r.setInput(n,N,y,w):n[w]=N}}}function qE(e,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[r+1])),r+=2}else r+=2;else r+=4}return n}function kg(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function nb(e,t){const n=dn(t,e);if(kn(n)){const r=n[1];80&n[2]?sl(r,n,r.template,n[8]):n[5]>0&&qf(n)}}function qf(e){for(let r=Eu(e);null!==r;r=bu(r))for(let s=10;s<r.length;s++){const l=r[s];if(1024&l[2]){const c=l[1];sl(c,l,c.template,l[8])}else l[5]>0&&qf(l)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const s=dn(n[r],e);kn(s)&&s[5]>0&&qf(s)}}function rb(e,t){const n=dn(t,e),r=n[1];(function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Tu(r,n,n[8])}function Xc(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function eh(e){for(;e;){e[2]|=64;const t=Ao(e);if(cr(e)&&!t)return e;e=t}return null}function nh(e,t,n){const r=t[10];r.begin&&r.begin();try{sl(e,t,e.template,n)}catch(s){throw Hg(t,s),s}finally{r.end&&r.end()}}function Vg(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=el(n),s=r[1];kE(s,r,s.template,n)}}(e[8])}function rh(e,t,n){uo(0),t(e,n)}const lb=(()=>Promise.resolve(null))();function Bg(e){return e[7]||(e[7]=[])}function Ug(e){return e.cleanup||(e.cleanup=[])}function Hg(e,t){const n=e[9],r=n?n.get(js,null):null;r&&r.handleError(t)}function Wg(e,t,n,r,s){for(let l=0;l<n.length;){const c=n[l++],d=n[l++],g=t[c],y=e.data[c];null!==y.setInput?y.setInput(g,s,r,d):g[d]=s}}function ds(e,t,n){const r=gt(t,e);!function(e,t,n){b(e)?e.setValue(t,n):t.textContent=n}(e[A],r,n)}function Zc(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,l=0;if(null!==t)for(let c=0;c<t.length;c++){const d=t[c];"number"==typeof d?l=d:1==l?s=G(s,d):2==l&&(r=G(r,d+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}const al=new Bn("INJECTOR",-1);class $g{get(t,n=la){if(n===la){const r=new Error(`NullInjectorError: No provider for ${$(t)}!`);throw r.name="NullInjectorError",r}return n}}const Su=new Bn("Set Injector scope."),Ru={},db={};let ih;function Gg(){return void 0===ih&&(ih=new $g),ih}function Yg(e,t=null,n=null,r){return new hb(e,n,t||Gg(),r)}class hb{constructor(t,n,r,s=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];n&&ir(n,d=>this.processProvider(d,t,n)),ir([t],d=>this.processInjectorType(d,[],l)),this.records.set(al,ll(void 0,this));const c=this.records.get(Su);this.scope=null!=c?c.value:null,this.source=s||("object"==typeof t?null:$(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=la,r=Ee.Default){this.assertNotDestroyed();const s=bo(this),l=wt(void 0);try{if(!(r&Ee.SkipSelf)){let d=this.records.get(t);if(void 0===d){const g=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Bn)&&Nt(t);d=g&&this.injectableDefInScope(g)?ll(oh(t),Ru):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(r&Ee.Self?Gg():this.parent).get(t,n=r&Ee.Optional&&n===la?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[Ps]=c[Ps]||[]).unshift($(t)),s)throw c;return fc(c,t,"R3InjectorError",this.source)}throw c}finally{wt(l),bo(s)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,s)=>t.push($(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,n,r){if(!(t=V(t)))return!1;let s=Vt(t);const l=null==s&&t.ngModule||void 0,c=void 0===l?t:l,d=-1!==r.indexOf(c);if(void 0!==l&&(s=Vt(l)),null==s)return!1;if(null!=s.imports&&!d){let w;r.push(c);try{ir(s.imports,N=>{this.processInjectorType(N,n,r)&&(void 0===w&&(w=[]),w.push(N))})}finally{}if(void 0!==w)for(let N=0;N<w.length;N++){const{ngModule:B,providers:q}=w[N];ir(q,ae=>this.processProvider(ae,B,q||J))}}this.injectorDefTypes.add(c);const g=Lr(c)||(()=>new c);this.records.set(c,ll(g,Ru));const y=s.providers;if(null!=y&&!d){const w=t;ir(y,N=>this.processProvider(N,w,y))}return void 0!==l&&void 0!==t.providers}processProvider(t,n,r){let s=ul(t=V(t))?t:V(t&&t.provide);const l=Kg(e=t)?ll(void 0,e.useValue):ll(zg(e),Ru);var e;if(ul(t)||!0!==t.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=ll(void 0,Ru,!0),c.factory=()=>ns(c.multi),this.records.set(s,c)),s=t,c.multi.push(t)}this.records.set(s,l)}hydrate(t,n){return n.value===Ru&&(n.value=db,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(e=n.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const n=V(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function oh(e){const t=Nt(e),n=null!==t?t.factory:Lr(e);if(null!==n)return n;if(e instanceof Bn)throw new Error(`Token ${$(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const r=_o(t,"?");throw new Error(`Can't resolve all parameters for ${$(e)}: (${r.join(", ")}).`)}const n=function(e){const t=e&&(e[pe]||e[Oe]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function zg(e,t,n){let r;if(ul(e)){const s=V(e);return Lr(s)||oh(s)}if(Kg(e))r=()=>V(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...ns(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Sn(V(e.useExisting));else{const s=V(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Lr(s)||oh(s);r=()=>new s(...ns(e.deps))}return r}function ll(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Kg(e){return null!==e&&"object"==typeof e&&ua in e}function ul(e){return"function"==typeof e}const Qg=function(e,t,n){return function(e,t=null,n=null,r){const s=Yg(e,t,n,r);return s._resolveInjectorDefTypes(),s}({name:n},t,e,n)};let jn=(()=>{class e{static create(n,r){return Array.isArray(n)?Qg(n,r,""):Qg(n.providers,n.parent,n.name||"")}}return e.THROW_IF_NOT_FOUND=la,e.NULL=new $g,e.\u0275prov=Ot({token:e,providedIn:"any",factory:()=>Sn(al)}),e.__NG_ELEMENT_ID__=-1,e})();function Nb(e,t){bi(el(e)[1],Hn())}function dh(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let s;if(ur(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(n){r.push(s);const c=e;c.inputs=fh(e.inputs),c.declaredInputs=fh(e.declaredInputs),c.outputs=fh(e.outputs);const d=s.hostBindings;d&&Vb(e,d);const g=s.viewQuery,y=s.contentQueries;if(g&&Lb(e,g),y&&kb(e,y),le(e.inputs,s.inputs),le(e.declaredInputs,s.declaredInputs),le(e.outputs,s.outputs),ur(s)&&s.data.animation){const w=e.data;w.animation=(w.animation||[]).concat(s.data.animation)}}const l=s.features;if(l)for(let c=0;c<l.length;c++){const d=l[c];d&&d.ngInherit&&d(e),d===dh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=ho(s.hostAttrs,n=ho(n,s.hostAttrs))}}(r)}function fh(e){return e===on?{}:e===J?[]:e}function Lb(e,t){const n=e.viewQuery;e.viewQuery=n?(r,s)=>{t(r,s),n(r,s)}:t}function kb(e,t){const n=e.contentQueries;e.contentQueries=n?(r,s,l)=>{t(r,s,l),n(r,s,l)}:t}function Vb(e,t){const n=e.hostBindings;e.hostBindings=n?(r,s)=>{t(r,s),n(r,s)}:t}let Jc=null;function cl(){if(!Jc){const e=Zt.Symbol;if(e&&e.iterator)Jc=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Jc=r)}}}return Jc}function Mu(e){return!!hh(e)&&(Array.isArray(e)||!(e instanceof Map)&&cl()in e)}function hh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ph(e,t,n,r){const s=je();return xr(s,Ui(),t)&&(en(),Mo(Rn(),s,e,t,n,r)),ph}function Cm(e,t,n,r,s,l,c,d){const g=je(),y=en(),w=e+20,N=y.firstCreatePass?function(e,t,n,r,s,l,c,d,g){const y=t.consts,w=il(t,e,4,c||null,Nn(y,d));Zf(t,n,w,Nn(y,g)),bi(t,w);const N=w.tViews=Qc(2,w,r,s,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,y);return null!==t.queries&&(t.queries.template(t,w),N.queries=t.queries.embeddedTView(w)),w}(w,y,g,t,n,r,s,l,c):y.data[w];Jn(N,!1);const B=g[A].createComment("");$t(y,g,B,N),sr(B,g),Xc(g,g[w]=kg(B,g,B,N)),Ni(N)&&Qf(y,g,N),null!=c&&Xf(g,N,d)}function Pu(e,t=Ee.Default){const n=je();return null===n?Sn(e,t):Xl(Hn(),n,V(e),t)}function _h(e,t,n){const r=je();return xr(r,Ui(),t)&&hi(en(),Rn(),r,e,t,r[A],n,!1),_h}function Eh(e,t,n,r,s){const c=s?"class":"style";Wg(e,n,t.inputs[c],c,r)}function bh(e,t,n,r){const s=je(),l=en(),c=20+e,d=s[A],g=s[c]=Du(d,t,Ct.lFrame.currentNamespace),y=l.firstCreatePass?function(e,t,n,r,s,l,c){const d=t.consts,y=il(t,e,2,s,Nn(d,l));return Zf(t,n,y,Nn(d,c)),null!==y.attrs&&Zc(y,y.attrs,!1),null!==y.mergedAttrs&&Zc(y,y.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,y),y}(c,l,s,0,t,n,r):l.data[c];Jn(y,!0);const w=y.mergedAttrs;null!==w&&Yo(d,g,w);const N=y.classes;null!==N&&Vf(d,g,N);const B=y.styles;null!==B&&sg(d,g,B),64!=(64&y.flags)&&$t(l,s,g,y),0===Ct.lFrame.elementDepthCount&&sr(g,s),Ct.lFrame.elementDepthCount++,Ni(y)&&(Qf(l,s,y),Ig(l,y,s)),null!==r&&Xf(s,y)}function Ch(){let e=Hn();Es()?bs():(e=e.parent,Jn(e,!1));const t=e;Ct.lFrame.elementDepthCount--;const n=en();n.firstCreatePass&&(bi(n,e),Oi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Eh(n,t,je(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Eh(n,t,je(),t.stylesWithoutHost,!1)}function Nm(e,t,n,r){bh(e,t,n,r),Ch()}function Dh(e,t,n){const r=je(),s=en(),l=e+20,c=s.firstCreatePass?function(e,t,n,r,s){const l=t.consts,c=Nn(l,r),d=il(t,e,8,"ng-container",c);return null!==c&&Zc(d,c,!0),Zf(t,n,d,Nn(l,s)),null!==t.queries&&t.queries.elementStart(t,d),d}(l,s,r,t,n):s.data[l];Jn(c,!0);const d=r[l]=r[A].createComment("");$t(s,r,d,c),sr(d,r),Ni(c)&&(Qf(s,r,c),Ig(s,c,r)),null!=n&&Xf(r,c)}function wh(){let e=Hn();const t=en();Es()?bs():(e=e.parent,Jn(e,!1)),t.firstCreatePass&&(bi(t,e),Oi(e)&&t.queries.elementEnd(e))}function Fm(){return je()}function Ih(e){return!!e&&"function"==typeof e.then}function Lm(e){return!!e&&"function"==typeof e.subscribe}const Th=Lm;function Sh(e,t,n,r){const s=je(),l=en(),c=Hn();return function(e,t,n,r,s,l,c,d){const g=Ni(r),w=e.firstCreatePass&&Ug(e),N=t[8],B=Bg(t);let q=!0;if(3&r.type||d){const ve=Ht(r,t),Ke=d?d(ve):ve,Ve=B.length,bt=d?Lt=>d(z(Lt[r.index])):r.index;if(b(n)){let Lt=null;if(!d&&g&&(Lt=function(e,t,n,r){const s=e.cleanup;if(null!=s)for(let l=0;l<s.length-1;l+=2){const c=s[l];if(c===n&&s[l+1]===r){const d=t[7],g=s[l+2];return d.length>g?d[g]:null}"string"==typeof c&&(l+=2)}return null}(e,t,s,r.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=l,Lt.__ngLastListenerFn__=l,q=!1;else{l=Rh(r,t,N,l,!1);const un=n.listen(Ke,s,l);B.push(l,un),w&&w.push(s,bt,Ve,Ve+1)}}else l=Rh(r,t,N,l,!0),Ke.addEventListener(s,l,c),B.push(l),w&&w.push(s,bt,Ve,c)}else l=Rh(r,t,N,l,!1);const ae=r.outputs;let Te;if(q&&null!==ae&&(Te=ae[s])){const ve=Te.length;if(ve)for(let Ke=0;Ke<ve;Ke+=2){const lr=t[Te[Ke]][Te[Ke+1]].subscribe(l),Pi=B.length;B.push(l,lr),w&&w.push(s,r.index,Pi,-(Pi+1))}}}(l,s,s[A],c,e,t,!!n,r),Sh}function Bm(e,t,n,r){try{return!1!==n(r)}catch(s){return Hg(e,s),!1}}function Rh(e,t,n,r,s){return function l(c){if(c===Function)return r;const d=2&e.flags?dn(e.index,t):t;0==(32&t[2])&&eh(d);let g=Bm(t,0,r,c),y=l.__ngNextListenerFn__;for(;y;)g=Bm(t,0,y,c)&&g,y=y.__ngNextListenerFn__;return s&&!1===g&&(c.preventDefault(),c.returnValue=!1),g}}function Um(e=1){return function(e){return(Ct.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ct.lFrame.contextLView))[8]}(e)}function E0(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let s=0;s<t.length;s++){const l=t[s];if("*"!==l){if(null===r?cg(e,l,!0):DE(r,l))return s}else n=s}return n}function jm(e){const t=je()[16][6];if(!t.projection){const r=t.projection=_o(e?e.length:1,null),s=r.slice();let l=t.child;for(;null!==l;){const c=e?E0(l,e):0;null!==c&&(s[c]?s[c].projectionNext=l:r[c]=l,s[c]=l),l=l.next}}}function Hm(e,t=0,n){const r=je(),s=en(),l=il(s,20+e,16,null,n||null);null===l.projection&&(l.projection=t),bs(),64!=(64&l.flags)&&function(e,t,n){og(t[A],0,t,n,f(e,n,t),Fe(n.parent||t[6],n,t))}(s,r,l)}function Jm(e,t,n,r,s){const l=e[n+1],c=null===t;let d=r?zi(l):us(l),g=!1;for(;0!==d&&(!1===g||c);){const w=e[d+1];D0(e[d],t)&&(g=!0,e[d+1]=r?jf(w):Bf(w)),d=r?zi(w):us(w)}g&&(e[n+1]=r?Bf(l):jf(l))}function D0(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&qo(e,t)>=0}function Mh(e,t){return function(e,t,n,r){const s=je(),l=en(),c=function(e){const t=Ct.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);l.firstUpdatePass&&function(e,t,n,r){const s=e.data;if(null===s[n+1]){const l=s[Vn()],c=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(l,r)&&null===t&&!c&&(t=!1),t=function(e,t,n,r){const s=function(e){const t=Ct.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=Ou(n=xh(null,e,t,n,r),t.attrs,r),l=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==s)if(n=xh(s,e,t,n,r),null===l){let g=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==us(r))return e[zi(r)]}(e,t,r);void 0!==g&&Array.isArray(g)&&(g=xh(null,e,t,g[1],r),g=Ou(g,t.attrs,r),function(e,t,n,r){e[zi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,g))}else l=function(e,t,n){let r;const s=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<s;l++)r=Ou(r,e[l].hostAttrs,n);return Ou(r,t.attrs,n)}(e,t,r)}return void 0!==l&&(r?t.residualClasses=l:t.residualStyles=l),n}(s,l,t,r),function(e,t,n,r,s,l){let c=l?t.classBindings:t.styleBindings,d=zi(c),g=us(c);e[r]=n;let w,y=!1;if(Array.isArray(n)){const N=n;w=N[1],(null===w||qo(N,w)>0)&&(y=!0)}else w=n;if(s)if(0!==g){const B=zi(e[d+1]);e[r+1]=Yc(B,d),0!==B&&(e[B+1]=Uf(e[B+1],r)),e[d+1]=function(e,t){return 131071&e|t<<17}(e[d+1],r)}else e[r+1]=Yc(d,0),0!==d&&(e[d+1]=Uf(e[d+1],r)),d=r;else e[r+1]=Yc(g,0),0===d?d=r:e[g+1]=Uf(e[g+1],r),g=r;y&&(e[r+1]=Bf(e[r+1])),Jm(e,w,r,!0),Jm(e,w,r,!1),function(e,t,n,r,s){const l=s?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&qo(l,t)>=0&&(n[r+1]=jf(n[r+1]))}(t,w,e,r,l),c=Yc(d,g),l?t.classBindings=c:t.styleBindings=c}(s,l,t,n,c,r)}}(l,e,c,r),t!==zt&&xr(s,c,t)&&function(e,t,n,r,s,l,c,d){if(!(3&t.type))return;const g=e.data,y=g[d+1];td(function(e){return 1==(1&e)}(y)?cv(g,t,n,s,us(y),c):void 0)||(td(l)||function(e){return 2==(2&e)}(y)&&(l=cv(g,null,n,s,d,c)),function(e,t,n,r,s){const l=b(e);if(t)s?l?e.addClass(n,r):n.classList.add(r):l?e.removeClass(n,r):n.classList.remove(r);else{let c=-1===r.indexOf("-")?void 0:Ri.DashCase;if(null==s)l?e.removeStyle(n,r,c):n.style.removeProperty(r);else{const d="string"==typeof s&&s.endsWith("!important");d&&(s=s.slice(0,-10),c|=Ri.Important),l?e.setStyle(n,r,s,c):n.style.setProperty(r,s,d?"important":"")}}}(r,c,gt(Vn(),n),s,l))}(l,l.data[Vn()],s,s[A],e,s[c+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=$(Gi(e)))),e}(t,n),r,c)}(e,t,null,!0),Mh}function xh(e,t,n,r,s){let l=null;const c=n.directiveEnd;let d=n.directiveStylingLast;for(-1===d?d=n.directiveStart:d++;d<c&&(l=t[d],r=Ou(r,l.hostAttrs,s),l!==e);)d++;return null!==e&&(n.directiveStylingLast=d),r}function Ou(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let l=0;l<t.length;l++){const c=t[l];"number"==typeof c?s=c:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Br(e,c,!!n||t[++l]))}return void 0===e?null:e}function cv(e,t,n,r,s,l){const c=null===t;let d;for(;s>0;){const g=e[s],y=Array.isArray(g),w=y?g[1]:g,N=null===w;let B=n[s+1];B===zt&&(B=N?J:void 0);let q=N?Eo(B,r):w===r?B:void 0;if(y&&!td(q)&&(q=Eo(g,r)),td(q)&&(d=q,c))return d;const ae=e[s+1];s=c?zi(ae):us(ae)}if(null!==t){let g=l?t.residualClasses:t.residualStyles;null!=g&&(d=Eo(g,r))}return d}function td(e){return void 0!==e}function fv(e,t=""){const n=je(),r=en(),s=e+20,l=r.firstCreatePass?il(r,s,1,t,null):r.data[s],c=n[s]=function(e,t){return b(e)?e.createText(t):e.createTextNode(t)}(n[A],t);$t(r,n,c,l),Jn(l,!1)}function Ph(e){return nd("",e,""),Ph}function nd(e,t,n){const r=je(),s=function(e,t,n,r){return xr(e,Ui(),n)?t+Ne(n)+r:zt}(r,e,t,n);return s!==zt&&ds(r,Vn(),s),nd}function Oh(e,t,n){const r=je();return xr(r,Ui(),t)&&hi(en(),Rn(),r,e,t,r[A],n,!0),Oh}const ya=void 0;var iC=["en",[["a","p"],["AM","PM"],ya],[["AM","PM"],ya,ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ya,"{1} 'at' {0}",ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Cl={};function Nh(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Pv(t);if(n)return n;const r=t.split("-")[0];if(n=Pv(r),n)return n;if("en"===r)return iC;throw new Error(`Missing locale data for the locale "${e}".`)}function xv(e){return Nh(e)[Pt.PluralCase]}function Pv(e){return e in Cl||(Cl[e]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[e]),Cl[e]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const rd="en-US";let Ov=rd;function Fh(e){nt(e,"Expected localeId to be defined"),"string"==typeof e&&(Ov=e.toLowerCase().replace(/_/g,"-"))}function Vh(e,t,n,r,s){if(e=V(e),Array.isArray(e))for(let l=0;l<e.length;l++)Vh(e[l],t,n,r,s);else{const l=en(),c=je();let d=ul(e)?e:V(e.provide),g=zg(e);const y=Hn(),w=1048575&y.providerIndexes,N=y.directiveStart,B=y.providerIndexes>>20;if(ul(e)||!e.multi){const q=new ji(g,s,Pu),ae=Uh(d,t,s?w:w+B,N);-1===ae?(Qo(go(y,c),l,d),Bh(l,e,t.length),t.push(d),y.directiveStart++,y.directiveEnd++,s&&(y.providerIndexes+=1048576),n.push(q),c.push(q)):(n[ae]=q,c[ae]=q)}else{const q=Uh(d,t,w+B,N),ae=Uh(d,t,w,w+B),Te=q>=0&&n[q],ve=ae>=0&&n[ae];if(s&&!ve||!s&&!Te){Qo(go(y,c),l,d);const Ke=function(e,t,n,r,s){const l=new ji(e,n,Pu);return l.multi=[],l.index=t,l.componentProviders=0,ry(l,s,r&&!n),l}(s?tD:eD,n.length,s,r,g);!s&&ve&&(n[ae].providerFactory=Ke),Bh(l,e,t.length,0),t.push(d),y.directiveStart++,y.directiveEnd++,s&&(y.providerIndexes+=1048576),n.push(Ke),c.push(Ke)}else Bh(l,e,q>-1?q:ae,ry(n[s?ae:q],g,!s&&r));!s&&r&&ve&&n[ae].componentProviders++}}}function Bh(e,t,n,r){const s=ul(t);if(s||function(e){return!!e.useClass}(t)){const c=(t.useClass||t).prototype.ngOnDestroy;if(c){const d=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const g=d.indexOf(n);-1===g?d.push(n,[r,c]):d[g+1].push(r,c)}else d.push(n,c)}}}function ry(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Uh(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function eD(e,t,n,r){return jh(this.multi,[])}function tD(e,t,n,r){const s=this.multi;let l;if(this.providerFactory){const c=this.providerFactory.componentProviders,d=D(n,n[1],this.providerFactory.index,r);l=d.slice(0,c),jh(s,l);for(let g=c;g<d.length;g++)l.push(d[g])}else l=[],jh(s,l);return l}function jh(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function iy(e,t=[]){return n=>{n.providersResolver=(r,s)=>function(e,t,n){const r=en();if(r.firstCreatePass){const s=ur(e);Vh(n,r.data,r.blueprint,s,!0),Vh(t,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,t)}}class oy{}const ay="ngComponent";class iD{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${$(e)}. Did you add it to @NgModule.entryComponents?`);return t[ay]=e,t}(t)}}let wl=(()=>{class e{}return e.NULL=new iD,e})();function ld(...e){}function Il(e,t){return new No(Ht(e,t))}const aD=function(){return Il(Hn(),je())};let No=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=aD,e})();function ly(e){return e instanceof No?e.nativeElement:e}class ud{}let lD=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>cD(),e})();const cD=function(){const e=je(),n=dn(Hn().index,e);return function(e){return e[A]}(Rt(n)?n:e)};let Wh=(()=>{class e{}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:()=>null}),e})();class uy{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $h=new uy("12.2.16");class cy{constructor(){}supports(t){return Mu(t)}create(t){return new pD(t)}}const hD=(e,t)=>t;class pD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||hD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,l=null;for(;n||r;){const c=!r||n&&n.currentIndex<fy(r,s,l)?n:r,d=fy(c,s,l),g=c.currentIndex;if(c===r)s--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)s++;else{l||(l=[]);const y=d-s,w=g-s;if(y!=w){for(let B=0;B<y;B++){const q=B<l.length?l[B]:l[B]=0,ae=q+B;w<=ae&&ae<y&&(l[B]=q+1)}l[c.previousIndex]=w-y}}d!==g&&t(c,d,g)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Mu(t))throw new Error(`Error trying to diff '${$(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,l,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)l=t[d],c=this._trackByFn(d,l),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,l,c,d)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,c,d),r=!0),n=n._next}else s=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[cl()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,d=>{c=this._trackByFn(s,d),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,d,c,s)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,c,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,l,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,l,s)):t=this._addAfter(new gD(n,r),l,s),t}_verifyReinsertion(t,n,r,s){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==l?t=this._reinsertAfter(l,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,l=t._nextRemoved;return null===s?this._removalsHead=l:s._nextRemoved=l,null===l?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const s=null===n?this._itHead:n._next;return t._next=s,t._prev=n,null===s?this._itTail=t:s._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new dy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class gD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class dy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new mD,this.map.set(n,r)),r.add(t)}get(t,n){const s=this.map.get(t);return s?s.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fy(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class hy{constructor(){}supports(t){return t instanceof Map||hh(t)}create(){return new vD}}class vD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||hh(t)))throw new Error(`Error trying to diff '${$(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const l=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,l)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,n);const l=s._prev,c=s._next;return l&&(l._next=c),c&&(c._prev=l),s._next=null,s._prev=null,s}const r=new yD(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class yD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function py(){return new cd([new cy])}let cd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||py()),deps:[[e,new Ii,new $i]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(e){return e.name||typeof e}(n)}'`)}}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:py}),e})();function gy(){return new dd([new hy])}let dd=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||gy()),deps:[[e,new Ii,new $i]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:gy}),e})();function fd(e,t,n,r,s=!1){for(;null!==n;){const l=t[n.index];if(null!==l&&r.push(z(l)),Gn(l))for(let d=10;d<l.length;d++){const g=l[d],y=g[1].firstChild;null!==y&&fd(g[1],g,y,r)}const c=n.type;if(8&c)fd(e,t,n.child,r);else if(32&c){const d=ls(n,t);let g;for(;g=d();)r.push(g)}else if(16&c){const d=fi(t,n);if(Array.isArray(d))r.push(...d);else{const g=Ao(t[16]);fd(g[1],g,d,r,!0)}}n=s?n.projectionNext:n.next}return r}class Vu{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return fd(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Gn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(wu(t,r),Jo(n,r))}this._attachedToViewContainer=!1}o(this._lView[1],this._lView)}onDestroy(t){Ag(this._lView[1],this._lView,null,t)}markForCheck(){eh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){ii(!0);try{nh(e,t,n)}finally{ii(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ma(this._lView[1],t=this._lView,t[A],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ED extends Vu{constructor(t){super(t),this._view=t}detectChanges(){Vg(this._view)}checkNoChanges(){!function(e){ii(!0);try{Vg(e)}finally{ii(!1)}}(this._view)}get context(){return null}}const CD=function(e){return function(e,t,n){if(Ln(e)&&!n){const r=dn(e.index,t);return new Vu(r,r)}return 47&e.type?new Vu(t[16],t):null}(Hn(),je(),16==(16&e))};let DD=(()=>{class e{}return e.__NG_ELEMENT_ID__=CD,e})();const TD=[new hy],RD=new cd([new cy]),AD=new dd(TD),xD=function(){return hd(Hn(),je())};let Bu=(()=>{class e{}return e.__NG_ELEMENT_ID__=xD,e})();const PD=Bu,OD=class extends PD{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t){const n=this._declarationTContainer.tViews,r=Iu(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(r[19]=l.createEmbeddedView(n)),Tu(n,r,t),new Vu(r)}};function hd(e,t){return 4&e.type?new OD(t,e,Il(e,t)):null}class _a{}class my{}const LD=function(){return _y(Hn(),je())};let pd=(()=>{class e{}return e.__NG_ELEMENT_ID__=LD,e})();const VD=pd,vy=class extends VD{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Il(this._hostTNode,this._hostLView)}get injector(){return new Pe(this._hostTNode,this._hostLView)}get parentInjector(){const t=mo(this._hostTNode,this._hostLView);if(Kl(t)){const n=po(t,this._hostLView),r=Sr(t);return new Pe(n[1].data[r+8],n)}return new Pe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=yy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){const s=t.createEmbeddedView(n||{});return this.insert(s,r),s}createComponent(t,n,r,s,l){const c=r||this.parentInjector;if(!l&&null==t.ngModule&&c){const g=c.get(_a,null);g&&(l=g)}const d=t.create(c,s,void 0,l);return this.insert(d.hostView,n),d}insert(t,n){const r=t._lView,s=r[1];if(Gn(r[3])){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const N=r[3],B=new vy(N,N[6],N[3]);B.detach(B.indexOf(t))}}const l=this._adjustIndex(n),c=this._lContainer;!function(e,t,n,r){const s=10+r,l=n.length;r>0&&(n[s-1][4]=t),r<l-10?(t[4]=n[s],yo(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const c=t[17];null!==c&&n!==c&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(c,t);const d=t[19];null!==d&&d.insertView(e),t[2]|=128}(s,r,c,l);const d=$s(l,c),g=r[A],y=Z(g,c[7]);return null!==y&&function(e,t,n,r,s,l){r[0]=s,r[6]=t,ma(e,r,n,1,s,l)}(s,c[6],g,r,y,d),t.attachToViewContainerRef(),yo(Gh(c),l,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=yy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=wu(this._lContainer,n);r&&(Jo(Gh(this._lContainer),n),o(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=wu(this._lContainer,n);return r&&null!=Jo(Gh(this._lContainer),n)?new Vu(r):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function yy(e){return e[8]}function Gh(e){return e[8]||(e[8]=[])}function _y(e,t){let n;const r=t[e.index];if(Gn(r))n=r;else{let s;if(8&e.type)s=z(r);else{const l=t[A];s=l.createComment("");const c=Ht(e,t);C(l,Z(l,c),s,function(e,t){return b(e)?e.nextSibling(t):t.nextSibling}(l,c),!1)}t[e.index]=n=kg(r,t,s,e),Xc(t,n)}return new vy(n,e,t)}const Al={};class By extends wl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=mn(t);return new jy(n,this.ngModule)}}function Uy(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Nw=new Bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kc});class jy extends oy{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=t.selectors.map(wE).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Uy(this.componentDef.inputs)}get outputs(){return Uy(this.componentDef.outputs)}create(t,n,r,s){const l=(s=s||this.ngModule)?function(e,t){return{get:(n,r,s)=>{const l=e.get(n,Al,s);return l!==Al||r===Al?l:t.get(n,r,s)}}}(t,s.injector):t,c=l.get(ud,_),d=l.get(Wh,null),g=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=r?function(e,t,n){if(b(e))return e.selectRootElement(t,n===lt.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(g,r,this.componentDef.encapsulation):Du(c.createRenderer(null,this.componentDef),y,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(y)),N=this.componentDef.onPush?576:528,B=function(e,t){return{components:[],scheduler:e||kc,clean:lb,playerHandler:t||null,flags:0}}(),q=Qc(0,null,null,1,0,null,null,null,null,null),ae=Iu(null,q,B,N,null,null,c,g,d,l);let Te,ve;_i(ae);try{const Ke=function(e,t,n,r,s,l){const c=n[1];n[20]=e;const g=il(c,20,2,"#host",null),y=g.mergedAttrs=t.hostAttrs;null!==y&&(Zc(g,y,!0),null!==e&&(Yo(s,e,y),null!==g.classes&&Vf(s,e,g.classes),null!==g.styles&&sg(s,e,g.styles)));const w=r.createRenderer(e,t),N=Iu(n,Tg(t),null,t.onPush?64:16,n[20],g,r,w,l||null,null);return c.firstCreatePass&&(Qo(go(g,n),c,t.type),Ng(c,g),Fg(g,n.length,1)),Xc(n,N),n[20]=N}(w,this.componentDef,ae,c,g);if(w)if(r)Yo(g,w,["ng-version",$h.full]);else{const{attrs:Ve,classes:bt}=function(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let l=e[r];if("string"==typeof l)2===s?""!==l&&t.push(l,e[++r]):8===s&&n.push(l);else{if(!Yi(s))break;s=l}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Ve&&Yo(g,w,Ve),bt&&bt.length>0&&Vf(g,w,bt.join(" "))}if(ve=ln(q,20),void 0!==n){const Ve=ve.projection=[];for(let bt=0;bt<this.ngContentSelectors.length;bt++){const Lt=n[bt];Ve.push(null!=Lt?Array.from(Lt):null)}}Te=function(e,t,n,r,s){const l=n[1],c=function(e,t,n){const r=Hn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Lg(e,r,t,ol(e,t,1,null),n));const s=D(t,e,r.directiveStart,r);sr(s,t);const l=Ht(r,t);return l&&sr(l,t),s}(l,n,t);if(r.components.push(c),e[8]=c,s&&s.forEach(g=>g(c,t)),t.contentQueries){const g=Hn();t.contentQueries(1,c,g.directiveStart)}const d=Hn();return!l.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Tr(d.index),Pg(n[1],d,0,d.directiveStart,d.directiveEnd,t),Og(t,c)),c}(Ke,this.componentDef,ae,B,[Nb]),Tu(q,ae,null)}finally{Ei()}return new kw(this.componentType,Te,Il(ve,ae),ae,ve)}}class kw extends class{}{constructor(t,n,r,s,l){super(),this.location=r,this._rootLView=s,this._tNode=l,this.instance=n,this.hostView=this.changeDetectorRef=new ED(s),this.componentType=t}get injector(){return new Pe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ml=new Map;class Uw extends _a{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new By(this);const r=$n(t),s=t[tt]||null;s&&Fh(s),this._bootstrapComponents=Si(r.bootstrap),this._r3Injector=Yg(t,n,[{provide:_a,useValue:this},{provide:wl,useValue:this.componentFactoryResolver}],$(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=jn.THROW_IF_NOT_FOUND,r=Ee.Default){return t===jn||t===_a||t===al?this:this._r3Injector.get(t,n,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ip extends my{constructor(t){super(),this.moduleType=t,null!==$n(t)&&function(e){const t=new Set;!function n(r){const s=$n(r,!0),l=s.id;null!==l&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${$(t)} vs ${$(t.name)}`)}(l,Ml.get(l),r),Ml.set(l,r));const c=Si(s.imports);for(const d of c)t.has(d)||(t.add(d),n(d))}(e)}(t)}create(t){return new Uw(this.moduleType,t)}}function $y(e,t,n,r){return function(e,t,n,r,s,l){const c=t+n;return xr(e,c,s)?function(e,t,n){return e[t]=n}(e,c+1,l?r.call(l,s):r(s)):function(e,t){const n=e[t];return n===zt?void 0:n}(e,c+1)}(je(),function(){const e=Ct.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r)}function op(e){return t=>{setTimeout(e,void 0,t)}}const Fo=class extends T.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){var s,l,c;let d=t,g=n||(()=>null),y=r;if(t&&"object"==typeof t){const N=t;d=null===(s=N.next)||void 0===s?void 0:s.bind(N),g=null===(l=N.error)||void 0===l?void 0:l.bind(N),y=null===(c=N.complete)||void 0===c?void 0:c.bind(N)}this.__isAsync&&(g=op(g),d&&(d=op(d)),y&&(y=op(y)));const w=super.subscribe({next:d,error:g,complete:y});return t instanceof R.w&&t.add(w),w}};function iI(){return this._results[cl()]()}class _d{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=cl(),r=_d.prototype;r[n]||(r[n]=iI)}get changes(){return this._changes||(this._changes=new Fo)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const s=Qr(t);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],l=t[r];if(n&&(s=n(s),l=n(l)),l!==s)return!1}return!0}(r._results,s,n))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class sp{constructor(t){this.queryList=t,this.matches=null}clone(){return new sp(this.queryList)}setDirty(){this.queryList.setDirty()}}class ap{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let l=0;l<r;l++){const c=n.getByIndex(l);s.push(this.queries[c.indexInDeclarationView].clone())}return new ap(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==i_(t,n).matches&&this.queries[n].setDirty()}}class Xy{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class lp{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,l=this.getByIndex(r).embeddedTView(t,s);l&&(l.indexInDeclarationView=r,null!==n?n.push(l):n=[l])}return null!==n?new lp(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class up{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new up(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const l=r[s];this.matchTNodeWithReadOption(t,n,aI(n,l)),this.matchTNodeWithReadOption(t,n,E(n,t,l,!1,!1))}else r===Bu?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,E(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===No||s===pd||s===Bu&&4&n.type)this.addMatch(n.index,-2);else{const l=E(n,t,s,!1,!1);null!==l&&this.addMatch(n.index,l)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function aI(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function uI(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Il(e,t):4&e.type?hd(e,t):null}(t,e):-2===n?function(e,t,n){return n===No?Il(t,e):n===Bu?hd(t,e):n===pd?_y(t,e):void 0}(e,t,r):D(e,e[1],n,t)}function Zy(e,t,n,r){const s=t[19].queries[r];if(null===s.matches){const l=e.data,c=n.matches,d=[];for(let g=0;g<c.length;g+=2){const y=c[g];d.push(y<0?null:uI(t,l[y],c[g+1],n.metadata.read))}s.matches=d}return s.matches}function cp(e,t,n,r){const s=e.queries.getByIndex(n),l=s.matches;if(null!==l){const c=Zy(e,t,s,n);for(let d=0;d<l.length;d+=2){const g=l[d];if(g>0)r.push(c[d/2]);else{const y=l[d+1],w=t[-g];for(let N=10;N<w.length;N++){const B=w[N];B[17]===B[3]&&cp(B[1],B,y,r)}if(null!==w[9]){const N=w[9];for(let B=0;B<N.length;B++){const q=N[B];cp(q[1],q,y,r)}}}}}return r}function Jy(e){const t=je(),n=en(),r=Ds();uo(r+1);const s=i_(n,r);if(e.dirty&&hn(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const l=s.crossesNgTemplate?cp(n,t,r,[]):Zy(n,t,s,r);e.reset(l,ly),e.notifyOnChanges()}return!0}return!1}function qy(e,t,n){const r=en();r.firstCreatePass&&(r_(r,new Xy(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),n_(r,je(),t)}function e_(e,t,n,r){const s=en();if(s.firstCreatePass){const l=Hn();r_(s,new Xy(t,n,r),l.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}n_(s,je(),n)}function t_(){return e=je(),t=Ds(),e[19].queries[t].queryList;var e,t}function n_(e,t,n){const r=new _d(4==(4&n));Ag(e,t,r,r.destroy),null===t[19]&&(t[19]=new ap),t[19].queries.push(new sp(r))}function r_(e,t,n){null===e.queries&&(e.queries=new lp),e.queries.track(new up(t,n))}function i_(e,t){return e.queries.getByIndex(t)}const mp=new Bn("Application Initializer");let Pl=(()=>{class e{constructor(n){this.appInits=n,this.resolve=ld,this.reject=ld,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const l=this.appInits[s]();if(Ih(l))n.push(l);else if(Th(l)){const c=new Promise((d,g)=>{l.subscribe({complete:d,error:g})});n.push(c)}}Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Sn(mp,8))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();const C_=new Bn("AppId"),UI={provide:C_,useFactory:function(){return`${vp()}${vp()}${vp()}`},deps:[]};function vp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const D_=new Bn("Platform Initializer"),w_=new Bn("Platform ID"),I_=new Bn("appBootstrapListener");let T_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();const Cd=new Bn("LocaleId"),S_=new Bn("DefaultCurrencyCode");class HI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}const yp=function(e){return new ip(e)},WI=yp,$I=function(e){return Promise.resolve(yp(e))},R_=function(e){const t=yp(e),r=Si($n(e).declarations).reduce((s,l)=>{const c=mn(l);return c&&s.push(new jy(c)),s},[]);return new HI(t,r)},GI=R_,YI=function(e){return Promise.resolve(R_(e))};let Zu=(()=>{class e{constructor(){this.compileModuleSync=WI,this.compileModuleAsync=$I,this.compileModuleAndAllComponentsSync=GI,this.compileModuleAndAllComponentsAsync=YI}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();const QI=(()=>Promise.resolve(0))();function _p(e){"undefined"==typeof Zone?QI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class pi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fo(!1),this.onMicrotaskEmpty=new Fo(!1),this.onStable=new Fo(!1),this.onError=new Fo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let e=Zt.requestAnimationFrame,t=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Zt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,bp(e),e.isCheckStableRunning=!0,Ep(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),bp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,l,c,d)=>{try{return A_(e),n.invokeTask(s,l,c,d)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&t(),M_(e)}},onInvoke:(n,r,s,l,c,d,g)=>{try{return A_(e),n.invoke(s,l,c,d,g)}finally{e.shouldCoalesceRunChangeDetection&&t(),M_(e)}},onHasTask:(n,r,s,l)=>{n.hasTask(s,l),r===s&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,bp(e),Ep(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,r,s,l)=>(n.handleError(s,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const l=this._inner,c=l.scheduleEventTask("NgZoneEvent: "+s,t,ZI,ld,ld);try{return l.runTask(c,n,r)}finally{l.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const ZI={};function Ep(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function A_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function M_(e){e._nesting--,Ep(e)}class eT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fo,this.onMicrotaskEmpty=new Fo,this.onStable=new Fo,this.onError=new Fo}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,s){return t.apply(n,r)}}let x_=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pi.assertNotInAngularZone(),_p(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_p(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==l),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,s){return[]}}return e.\u0275fac=function(n){return new(n||e)(Sn(pi))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})(),P_=(()=>{class e{constructor(){this._applications=new Map,Cp.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Cp.findTestabilityInTree(this,n,r)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();class tT{addToWindow(t){}findTestabilityInTree(t,n,r){return null}}function nT(e){Cp=e}let Cp=new tT,O_=!0,N_=!1;function Dp(){return N_=!0,O_}function rT(){if(N_)throw new Error("Cannot enable prod mode after platform setup.");O_=!1}let eo;const F_=new Bn("AllowMultipleToken");class cT{constructor(t,n){this.name=t,this.token=n}}function L_(e,t,n=[]){const r=`Platform: ${t}`,s=new Bn(r);return(l=[])=>{let c=k_();if(!c||c.injector.get(F_,!1))if(e)e(n.concat(l).concat({provide:s,useValue:!0}));else{const d=n.concat(l).concat({provide:s,useValue:!0},{provide:Su,useValue:"platform"});!function(e){if(eo&&!eo.destroyed&&!eo.injector.get(F_,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");eo=e.get(V_);const t=e.get(D_,null);t&&t.forEach(n=>n())}(jn.create({providers:d,name:r}))}return function(e){const t=k_();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function k_(){return eo&&!eo.destroyed?eo:null}let V_=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const d=function(e,t){let n;return n="noop"===e?new eT:("zone.js"===e?void 0:e)||new pi({enableLongStackTrace:Dp(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),g=[{provide:pi,useValue:d}];return d.run(()=>{const y=jn.create({providers:g,parent:this.injector,name:n.moduleType.name}),w=n.create(y),N=w.injector.get(js,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return d.runOutsideAngular(()=>{const B=d.onError.subscribe({next:q=>{N.handleError(q)}});w.onDestroy(()=>{wp(this._modules,w),B.unsubscribe()})}),function(e,t,n){try{const r=n();return Ih(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(N,d,()=>{const B=w.injector.get(Pl);return B.runInitializers(),B.donePromise.then(()=>(Fh(w.injector.get(Cd,rd)||rd),this._moduleDoBootstrap(w),w))})})}bootstrapModule(n,r=[]){const s=B_({},r);return function(e,t,n){const r=new ip(n);return Promise.resolve(r)}(0,0,n).then(l=>this.bootstrapModuleFactory(l,s))}_moduleDoBootstrap(n){const r=n.injector.get(Ju);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${$(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Sn(jn))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();function B_(e,t){return Array.isArray(t)?t.reduce(B_,e):Object.assign(Object.assign({},e),t)}let Ju=(()=>{class e{constructor(n,r,s,l,c){this._zone=n,this._injector=r,this._exceptionHandler=s,this._componentFactoryResolver=l,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new S.y(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),g=new S.y(y=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{pi.assertNotInAngularZone(),_p(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{w.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ee.T)(d,g.pipe((0,ue.B)()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=n instanceof oy?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(s.componentType);const l=function(e){return e.isBoundToModule}(s)?void 0:this._injector.get(_a),d=s.create(jn.NULL,[],r||s.selector,l),g=d.location.nativeElement,y=d.injector.get(x_,null),w=y&&d.injector.get(P_);return y&&w&&w.registerApplication(g,y),d.onDestroy(()=>{this.detachView(d.hostView),wp(this.components,d),w&&w.unregisterApplication(g)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;wp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(I_,[]).concat(this._bootstrapListeners).forEach(s=>s(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(Sn(pi),Sn(jn),Sn(js),Sn(wl),Sn(Pl))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();function wp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class mT{}class yT{}const _T={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ET=(()=>{class e{constructor(n,r){this._compiler=n,this._config=r||_T}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,s]=n.split("#");return void 0===s&&(s="default"),M(8255)(r).then(l=>l[s]).then(l=>W_(l,r,s)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(n){let[r,s]=n.split("#"),l="NgFactory";return void 0===s&&(s="default",l=""),M(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(c=>c[s+l]).then(c=>W_(c,r,s))}}return e.\u0275fac=function(n){return new(n||e)(Sn(Zu),Sn(yT,8))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();function W_(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const RT=function(e){return null},MT=L_(null,"core",[{provide:w_,useValue:"unknown"},{provide:V_,deps:[jn]},{provide:P_,deps:[]},{provide:T_,deps:[]}]),FT=[{provide:Ju,useClass:Ju,deps:[pi,jn,js,wl,Pl]},{provide:Nw,deps:[pi],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Pl,useClass:Pl,deps:[[new $i,mp]]},{provide:Zu,useClass:Zu,deps:[]},UI,{provide:cd,useFactory:function(){return RD},deps:[]},{provide:dd,useFactory:function(){return AD},deps:[]},{provide:Cd,useFactory:function(e){return Fh(e=e||"undefined"!=typeof $localize&&$localize.locale||rd),e},deps:[[new Ns(Cd),new $i,new Ii]]},{provide:S_,useValue:"USD"}];let kT=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Sn(Ju))},e.\u0275mod=Cr({type:e}),e.\u0275inj=Mt({providers:FT}),e})()},1562:(at,we,M)=>{"use strict";M.d(we,{zQ:()=>xe,ww:()=>he,Qv:()=>Ft});var T=M(7716),R=M(9765),S=M(5917),ee=M(7574),ue=M(4402),j=M(6682),le=M(7771),$=M(5319),G=M(6136),H=M(7971),ne=M(8858);class V extends R.xQ{constructor(We=Number.POSITIVE_INFINITY,pt=Number.POSITIVE_INFINITY,Ze){super(),this.scheduler=Ze,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=We<1?1:We,this._windowTime=pt<1?1:pt,pt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(We){if(!this.isStopped){const pt=this._events;pt.push(We),pt.length>this._bufferSize&&pt.shift()}super.next(We)}nextTimeWindow(We){this.isStopped||(this._events.push(new te(this._getNow(),We)),this._trimBufferThenGetEvents()),super.next(We)}_subscribe(We){const pt=this._infiniteTimeWindow,Ze=pt?this._events:this._trimBufferThenGetEvents(),nt=this.scheduler,ke=Ze.length;let $e;if(this.closed)throw new H.N;if(this.isStopped||this.hasError?$e=$.w.EMPTY:(this.observers.push(We),$e=new ne.W(this,We)),nt&&We.add(We=new G.ht(We,nt)),pt)for(let rt=0;rt<ke&&!We.closed;rt++)We.next(Ze[rt]);else for(let rt=0;rt<ke&&!We.closed;rt++)We.next(Ze[rt].value);return this.hasError?We.error(this.thrownError):this.isStopped&&We.complete(),$e}_getNow(){return(this.scheduler||le.c).now()}_trimBufferThenGetEvents(){const We=this._getNow(),pt=this._bufferSize,Ze=this._windowTime,nt=this._events,ke=nt.length;let $e=0;for(;$e<ke&&!(We-nt[$e].time<Ze);)$e++;return ke>pt&&($e=Math.max($e,ke-pt)),$e>0&&nt.splice(0,$e),nt}}class te{constructor(We,pt){this.time=We,this.value=pt}}function be(Ye,We,pt){let Ze;return Ze=Ye&&"object"==typeof Ye?Ye:{bufferSize:Ye,windowTime:We,refCount:!1,scheduler:pt},nt=>nt.lift(function({bufferSize:Ye=Number.POSITIVE_INFINITY,windowTime:We=Number.POSITIVE_INFINITY,refCount:pt,scheduler:Ze}){let nt,$e,ke=0,rt=!1,St=!1;return function(an){let Mt;ke++,!nt||rt?(rt=!1,nt=new V(Ye,We,Ze),Mt=nt.subscribe(this),$e=an.subscribe({next(Nt){nt.next(Nt)},error(Nt){rt=!0,nt.error(Nt)},complete(){St=!0,$e=void 0,nt.complete()}}),St&&($e=void 0)):Mt=nt.subscribe(this),this.add(()=>{ke--,Mt.unsubscribe(),Mt=void 0,$e&&!St&&pt&&0===ke&&($e.unsubscribe(),$e=void 0,nt=void 0)})}}(Ze))}var Me=M(3190);function it(Ye,We){return We?(0,Me.w)(()=>Ye,We):(0,Me.w)(()=>Ye)}var Ne=M(8002),Se=M(8049),ze=M(2639),_t=M(5435),ct=M(57),Wt=M(8583);const Ft=new T.OlP("angularfire2.auth.use-emulator"),kt=new T.OlP("angularfire2.auth.settings"),me=new T.OlP("angularfire2.auth.tenant-id"),ye=new T.OlP("angularfire2.auth.langugage-code"),X=new T.OlP("angularfire2.auth.use-device-language"),ce=new T.OlP("angularfire.auth.persistence");let xe=(()=>{class Ye{constructor(pt,Ze,nt,ke,$e,rt,St,Ot,an,Mt){const Nt=new ct.HU(ke),cn=(0,ct.ss)(Nt),rn=new R.xQ,tn=(0,S.of)(void 0).pipe((0,G.QV)(Nt.outsideAngular),(0,Me.w)(()=>ke.runOutsideAngular(()=>M.e(336).then(M.bind(M,1336)))),(0,Ne.U)(()=>(0,ct.on)(pt,ke,Ze)),(0,Ne.U)(Vt=>ke.runOutsideAngular(()=>{const pe=$e,Ie=rt;return(0,ct.sI)(`${Vt.name}.auth`,"AngularFireAuth",Vt,()=>{const Oe=ke.runOutsideAngular(()=>Vt.auth());if(pe&&Oe.useEmulator(`http://${pe.join(":")}`),St&&(Oe.tenantId=St),Oe.languageCode=Ot,an&&Oe.useDeviceLanguage(),Ie)for(const[Je,Ee]of Object.entries(Ie))Oe.settings[Je]=Ee;return Mt&&Oe.setPersistence(Mt),Oe},[pe,St,Ot,an,Ie,Mt])})),be({bufferSize:1,refCount:!1}));if((0,Wt.PM)(nt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,S.of)(null);else{tn.pipe((0,Se.P)()).subscribe();const pe=tn.pipe((0,Me.w)(Ee=>Ee.getRedirectResult().then(ut=>ut,()=>null)),cn,be({bufferSize:1,refCount:!1})),Ie=Ee=>new ee.y(ut=>({unsubscribe:ke.runOutsideAngular(()=>Ee(ut))})),Oe=tn.pipe((0,Me.w)(Ee=>Ie(Ee.onAuthStateChanged.bind(Ee)))),Je=tn.pipe((0,Me.w)(Ee=>Ie(Ee.onIdTokenChanged.bind(Ee))));this.authState=pe.pipe(it(Oe),(0,ze.R)(Nt.outsideAngular),(0,G.QV)(Nt.insideAngular)),this.user=pe.pipe(it(Je),(0,ze.R)(Nt.outsideAngular),(0,G.QV)(Nt.insideAngular)),this.idToken=this.user.pipe((0,Me.w)(Ee=>Ee?(0,ue.D)(Ee.getIdToken()):(0,S.of)(null))),this.idTokenResult=this.user.pipe((0,Me.w)(Ee=>Ee?(0,ue.D)(Ee.getIdTokenResult()):(0,S.of)(null))),this.credential=(0,j.T)(pe,rn,this.authState.pipe((0,_t.h)(Ee=>!Ee))).pipe((0,Ne.U)(Ee=>(null==Ee?void 0:Ee.user)?Ee:null),(0,ze.R)(Nt.outsideAngular),(0,G.QV)(Nt.insideAngular))}return(0,ct.pX)(this,tn,ke,{spy:{apply:(Vt,pe,Ie)=>{(Vt.startsWith("signIn")||Vt.startsWith("createUser"))&&Ie.then(Oe=>rn.next(Oe))}}})}}return Ye.\u0275fac=function(pt){return new(pt||Ye)(T.LFG(ct.Dh),T.LFG(ct.xv,8),T.LFG(T.Lbi),T.LFG(T.R0b),T.LFG(Ft,8),T.LFG(kt,8),T.LFG(me,8),T.LFG(ye,8),T.LFG(X,8),T.LFG(ce,8))},Ye.\u0275prov=T.Yz7({factory:function(){return new Ye(T.LFG(ct.Dh),T.LFG(ct.xv,8),T.LFG(T.Lbi),T.LFG(T.R0b),T.LFG(Ft,8),T.LFG(kt,8),T.LFG(me,8),T.LFG(ye,8),T.LFG(X,8),T.LFG(ce,8))},token:Ye,providedIn:"any"}),Ye})(),he=(()=>{class Ye{}return Ye.\u0275fac=function(pt){return new(pt||Ye)},Ye.\u0275mod=T.oAB({type:Ye}),Ye.\u0275inj=T.cJS({providers:[xe]}),Ye})()},7318:(at,we,M)=>{"use strict";M.d(we,{KQ:()=>tn,JS:()=>Vt});var T=M(7716),R=M(3637),S=M(7574),ee=M(5917),ue=M(6682),j=M(5197),le=M(509);class G{constructor(Ie,Oe){this.observables=Ie,this.project=Oe}call(Ie,Oe){return Oe.subscribe(new H(Ie,this.observables,this.project))}}class H extends j.L{constructor(Ie,Oe,Je){super(Ie),this.observables=Oe,this.project=Je,this.toRespond=[];const Ee=Oe.length;this.values=new Array(Ee);for(let ut=0;ut<Ee;ut++)this.toRespond.push(ut);for(let ut=0;ut<Ee;ut++)this.add((0,le.D)(this,Oe[ut],void 0,ut))}notifyNext(Ie,Oe,Je){this.values[Je]=Oe;const Ee=this.toRespond;if(Ee.length>0){const ut=Ee.indexOf(Je);-1!==ut&&Ee.splice(ut,1)}}notifyComplete(){}_next(Ie){if(0===this.toRespond.length){const Oe=[Ie,...this.values];this.project?this._tryProject(Oe):this.destination.next(Oe)}}_tryProject(Ie){let Oe;try{Oe=this.project.apply(this,Ie)}catch(Je){return void this.destination.error(Je)}this.destination.next(Oe)}}var ne=M(7393);class te{constructor(Ie){this.predicate=Ie}call(Ie,Oe){return Oe.subscribe(new be(Ie,this.predicate))}}class be extends ne.L{constructor(Ie,Oe){super(Ie),this.predicate=Oe,this.skipping=!0,this.index=0}_next(Ie){const Oe=this.destination;this.skipping&&this.tryCallPredicate(Ie),this.skipping||Oe.next(Ie)}tryCallPredicate(Ie){try{const Oe=this.predicate(Ie,this.index++);this.skipping=Boolean(Oe)}catch(Oe){this.destination.error(Oe)}}}var ge=M(8002),Me=M(8819),it=M(3190),Ne=M(2145),Se=M(7519),ze=M(57),ct=(M(9192),M(1562)),Wt=M(2329);function kt(pe){return null==pe}function me(pe){return"function"==typeof pe.set}function ye(pe,Ie){return me(Ie)?Ie:pe.ref(Ie)}function X(pe,Ie){if(function(pe){return"string"==typeof pe}(pe))return Ie.stringCase();if(me(pe))return Ie.firebaseCase();if(function(pe){return"function"==typeof pe.exportVal}(pe))return Ie.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof pe)}function ce(pe,Ie,Oe="on",Je=R.z){return new S.y(Ee=>{let ut=null;return ut=pe[Oe](Ie,(Bt,wt)=>{Je.schedule(()=>{Ee.next({snapshot:Bt,prevKey:wt})}),"once"===Oe&&Je.schedule(()=>Ee.complete())},Bt=>{Je.schedule(()=>Ee.error(Bt))}),"on"===Oe?{unsubscribe(){null!=ut&&pe.off(Ie,ut)}}:{unsubscribe(){}}}).pipe((0,ge.U)(Ee=>{const{snapshot:ut,prevKey:Bt}=Ee;let wt=null;return ut.exists()&&(wt=ut.key),{type:Ie,payload:ut,prevKey:Bt,key:wt}}),(0,Me.B)())}function he(pe,Ie){const Oe=pe.length;for(let Je=0;Je<Oe;Je++)if(pe[Je].payload.key===Ie)return Je;return-1}function We(pe,Ie){const{payload:Oe,prevKey:Je,key:Ee}=Ie,ut=he(pe,Ee),Bt=function(pe,Ie){if(kt(Ie))return 0;{const Oe=he(pe,Ie);return-1===Oe?pe.length:Oe+1}}(pe,Je);switch(Ie.type){case"value":if(Ie.payload&&Ie.payload.exists()){let wt=null;Ie.payload.forEach(En=>{const Qn={payload:En,type:"value",prevKey:wt,key:En.key};return wt=En.key,pe=[...pe,Qn],!1})}return pe;case"child_added":if(ut>-1){const wt=pe[ut-1];(wt&&wt.key||null)!==Je&&(pe=pe.filter(En=>En.payload.key!==Oe.key)).splice(Bt,0,Ie)}else{if(null==Je)return[Ie,...pe];(pe=pe.slice()).splice(Bt,0,Ie)}return pe;case"child_removed":return pe.filter(wt=>wt.payload.key!==Oe.key);case"child_changed":return pe.map(wt=>wt.payload.key===Ee?Ie:wt);case"child_moved":if(ut>-1){const wt=pe.splice(ut,1)[0];return(pe=pe.slice()).splice(Bt,0,wt),pe}return pe;default:return pe}}function pt(pe){return(kt(pe)||0===pe.length)&&(pe=["child_added","child_removed","child_changed","child_moved"]),pe}function Ze(pe,Ie,Oe){return function(pe,Ie,Oe){return ce(pe,"value","once",Oe).pipe((0,it.w)(Je=>{const Ee=[(0,ee.of)(Je)];return Ie.forEach(ut=>Ee.push(ce(pe,ut,"on",Oe))),(0,ue.T)(...Ee).pipe((0,Ne.R)(We,[]))}),(0,Se.x)())}(pe,Ie=pt(Ie),Oe)}function nt(pe,Ie,Oe){const Je=(Ie=pt(Ie)).map(Ee=>ce(pe,Ee,"on",Oe));return(0,ue.T)(...Je)}function St(pe,Ie){return function(Je,Ee){return X(Je,{stringCase:()=>pe.child(Je)[Ie](Ee),firebaseCase:()=>Je[Ie](Ee),snapshotCase:()=>Je.ref[Ie](Ee)})}}function Ot(pe){return function(Oe){return Oe?X(Oe,{stringCase:()=>pe.child(Oe).remove(),firebaseCase:()=>Oe.remove(),snapshotCase:()=>Oe.ref.remove()}):pe.remove()}}function Mt(pe,Ie){return function(){return ce(pe,"value","on",Ie)}}const cn=new T.OlP("angularfire2.realtimeDatabaseURL"),rn=new T.OlP("angularfire2.database.use-emulator");let tn=(()=>{class pe{constructor(Oe,Je,Ee,ut,Bt,wt,En){this.schedulers=new ze.HU(Bt),this.keepUnstableUntilFirst=(0,ze.ss)(this.schedulers);const Qn=wt,xn=(0,ze.on)(Oe,Bt,Je);!Wt.Z.auth&&En&&(0,ze.yq)(),this.database=(0,ze.sI)(`${xn.name}.database.${Ee}`,"AngularFireDatabase",xn,()=>{const pn=Bt.runOutsideAngular(()=>xn.database(Ee||void 0));return Qn&&pn.useEmulator(...Qn),pn},[Qn])}list(Oe,Je){const Ee=this.schedulers.ngZone.runOutsideAngular(()=>ye(this.database,Oe));let ut=Ee;return Je&&(ut=Je(Ee)),function(pe,Ie){const Oe=Ie.schedulers.outsideAngular,Je=Ie.schedulers.ngZone.run(()=>pe.ref);return{query:pe,update:St(Je,"update"),set:St(Je,"set"),push:Ee=>Je.push(Ee),remove:Ot(Je),snapshotChanges:Ee=>Ze(pe,Ee,Oe).pipe(Ie.keepUnstableUntilFirst),stateChanges:Ee=>nt(pe,Ee,Oe).pipe(Ie.keepUnstableUntilFirst),auditTrail:Ee=>function(pe,Ie,Oe){return function(pe,Ie,Oe){return function(pe,Ie){return ce(pe,"value","on",Ie).pipe((0,ge.U)(Oe=>{let Je;return Oe.payload.forEach(Ee=>(Je=Ee.key,!1)),{data:Oe,lastKeyToLoad:Je}}))}(pe,Oe).pipe(function(...pe){return Ie=>{let Oe;return"function"==typeof pe[pe.length-1]&&(Oe=pe.pop()),Ie.lift(new G(pe,Oe))}}(Ie),(0,ge.U)(([Ee,ut])=>{const Bt=Ee.lastKeyToLoad,wt=ut.map(En=>En.key);return{actions:ut,lastKeyToLoad:Bt,loadedKeys:wt}}),function(pe){return Ie=>Ie.lift(new te(pe))}(Ee=>-1===Ee.loadedKeys.indexOf(Ee.lastKeyToLoad)),(0,ge.U)(Ee=>Ee.actions))}(pe,nt(pe,Ie).pipe((0,Ne.R)((Ee,ut)=>[...Ee,ut],[])),Oe)}(pe,Ee,Oe).pipe(Ie.keepUnstableUntilFirst),valueChanges:(Ee,ut)=>Ze(pe,Ee,Oe).pipe((0,ge.U)(wt=>wt.map(En=>ut&&ut.idField?Object.assign(Object.assign({},En.payload.val()),{[ut.idField]:En.key}):En.payload.val())),Ie.keepUnstableUntilFirst)}}(ut,this)}object(Oe){return function(pe,Ie){return{query:pe,snapshotChanges:()=>Mt(pe,Ie.schedulers.outsideAngular)().pipe(Ie.keepUnstableUntilFirst),update:Oe=>pe.ref.update(Oe),set:Oe=>pe.ref.set(Oe),remove:()=>pe.ref.remove(),valueChanges:()=>Mt(pe,Ie.schedulers.outsideAngular)().pipe(Ie.keepUnstableUntilFirst,(0,ge.U)(Je=>Je.payload.exists()?Je.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ye(this.database,Oe)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return pe.\u0275fac=function(Oe){return new(Oe||pe)(T.LFG(ze.Dh),T.LFG(ze.xv,8),T.LFG(cn,8),T.LFG(T.Lbi),T.LFG(T.R0b),T.LFG(rn,8),T.LFG(ct.Qv,8))},pe.\u0275prov=T.Yz7({factory:function(){return new pe(T.LFG(ze.Dh),T.LFG(ze.xv,8),T.LFG(cn,8),T.LFG(T.Lbi),T.LFG(T.R0b),T.LFG(rn,8),T.LFG(ct.Qv,8))},token:pe,providedIn:"any"}),pe})(),Vt=(()=>{class pe{}return pe.\u0275fac=function(Oe){return new(Oe||pe)},pe.\u0275mod=T.oAB({type:pe}),pe.\u0275inj=T.cJS({providers:[tn]}),pe})()},57:(at,we,M)=>{"use strict";M.d(we,{hO:()=>kt,xv:()=>it,Dh:()=>Me,HU:()=>ne,GT:()=>ge,sI:()=>Xt,on:()=>ze,ss:()=>V,pX:()=>be,yq:()=>_t});var T=M(7771),R=M(3637),S=M(3342),ee=M(2639),ue=M(6136),j=M(7716),le=M(2329);function $(){}at=M.hmd(at);class G{constructor(ye,X=T.N){this.zone=ye,this.delegate=X}now(){return this.delegate.now()}schedule(ye,X,ce){const xe=this.zone;return this.delegate.schedule(function(Ye){xe.runGuarded(()=>{ye.apply(this,[Ye])})},X,ce)}}class H{constructor(ye){this.zone=ye,this.task=null}call(ye,X){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$,{},$,$)),X.pipe((0,S.b)({next:ce,complete:ce,error:ce})).subscribe(ye).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ne{constructor(ye){this.ngZone=ye,this.outsideAngular=ye.runOutsideAngular(()=>new G(Zone.current)),this.insideAngular=ye.run(()=>new G(Zone.current,R.z))}}function V(me){return function(X){return(X=X.lift(new H(me.ngZone))).pipe((0,ee.R)(me.outsideAngular),(0,ue.QV)(me.insideAngular))}}const te=["ngOnDestroy"],be=(me,ye,X,ce={})=>new Proxy(me,{get:(xe,he)=>X.runOutsideAngular(()=>{var Ye;if(me[he])return(null===(Ye=null==ce?void 0:ce.spy)||void 0===Ye?void 0:Ye.get)&&ce.spy.get(he,me[he]),me[he];if(te.indexOf(he)>-1)return()=>{};const We=ye.toPromise().then(pt=>{const Ze=pt&&pt[he];return"function"==typeof Ze?Ze.bind(pt):Ze&&Ze.then?Ze.then(nt=>X.run(()=>nt)):X.run(()=>Ze)});return new Proxy(()=>{},{get:(pt,Ze)=>We[Ze],apply:(pt,Ze,nt)=>We.then(ke=>{var $e;const rt=ke&&ke(...nt);return(null===($e=null==ce?void 0:ce.spy)||void 0===$e?void 0:$e.apply)&&ce.spy.apply(he,nt,rt),rt})})})}),ge=(me,ye)=>{ye.forEach(X=>{Object.getOwnPropertyNames(X.prototype||X).forEach(ce=>{Object.defineProperty(me.prototype,ce,Object.getOwnPropertyDescriptor(X.prototype||X,ce))})})},Me=new j.OlP("angularfire2.app.options"),it=new j.OlP("angularfire2.app.nameOrConfig"),Se=new j.GfV("6.1.5");function ze(me,ye,X){const xe="object"==typeof X&&X||{};xe.name=xe.name||"string"==typeof X&&X||"[DEFAULT]";const Ye=le.Z.apps.filter(We=>We&&We.name===xe.name)[0]||ye.runOutsideAngular(()=>le.Z.initializeApp(me,xe));try{JSON.stringify(me)!==JSON.stringify(Ye.options)&&ct("error",`${Ye.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return Ye}const _t=()=>{ct("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},ct=(me,...ye)=>{(0,j.X6Q)()&&"undefined"!=typeof console&&console[me](...ye)};function Xt(me,ye,X,ce,xe){const[he,...Ye]=globalThis.\u0275AngularfireInstanceCache.get(me)||[];if(he){try{xe.some((We,pt)=>{const Ze=Ye[pt];return We&&"object"==typeof We?JSON.stringify(We)!==JSON.stringify(Ze):We!==Ze})&&ct("error",`${ye} was already initialized on the ${X.name} Firebase App instance with different settings.${at.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(We){}return he}{const We=ce();return globalThis.\u0275AngularfireInstanceCache.set(me,[We,...xe]),We}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Ft={provide:class{},useFactory:ze,deps:[Me,j.R0b,[new j.FiY,it]]};let kt=(()=>{class me{constructor(X){le.Z.registerVersion("angularfire",Se.full,X.toString()),le.Z.registerVersion("angular",j.q4F.full)}static initializeApp(X,ce){return{ngModule:me,providers:[{provide:Me,useValue:X},{provide:it,useValue:ce}]}}}return me.\u0275fac=function(X){return new(X||me)(j.LFG(j.Lbi))},me.\u0275mod=j.oAB({type:me}),me.\u0275inj=j.cJS({providers:[Ft]}),me})()},5492:(at,we,M)=>{"use strict";M.d(we,{gz:()=>Rt,F0:()=>yn,yS:()=>Vr,Bz:()=>Fa,lC:()=>Pa});var T=M(8583),R=M(7716),S=M(9765),ee=M(7971);class ue extends S.xQ{constructor(p){super(),this._value=p}get value(){return this.getValue()}_subscribe(p){const h=super._subscribe(p);return h&&!h.closed&&p.next(this._value),h}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ee.N;return this._value}next(p){super.next(this._value=p)}}var j=M(4869),le=M(9796),$=M(5197),G=M(509),H=M(6693);const ne={};class te{constructor(p){this.resultSelector=p}call(p,h){return h.subscribe(new be(p,this.resultSelector))}}class be extends $.L{constructor(p,h){super(p),this.resultSelector=h,this.active=0,this.values=[],this.observables=[]}_next(p){this.values.push(ne),this.observables.push(p)}_complete(){const p=this.observables,h=p.length;if(0===h)this.destination.complete();else{this.active=h,this.toRespond=h;for(let E=0;E<h;E++)this.add((0,G.D)(this,p[E],void 0,E))}}notifyComplete(p){0==(this.active-=1)&&this.destination.complete()}notifyNext(p,h,E){const D=this.values,Y=this.toRespond?D[E]===ne?--this.toRespond:this.toRespond:0;D[E]=h,0===Y&&(this.resultSelector?this._tryResultSelector(D):this.destination.next(D.slice()))}_tryResultSelector(p){let h;try{h=this.resultSelector.apply(this,p)}catch(E){return void this.destination.error(E)}this.destination.next(h)}}var ge=M(5917),Me=M(3282);function Ne(...m){return(0,Me.J)(1)((0,ge.of)(...m))}var Se=M(7574),ze=M(4402),_t=M(9193);function ct(m){return new Se.y(p=>{let h;try{h=m()}catch(D){return void p.error(D)}return(h?(0,ze.D)(h):(0,_t.c)()).subscribe(p)})}var Wt=M(3410),Xt=M(2441),kt=M(5435),me=M(7393),ye=M(7108);function X(m){return function(h){return 0===m?(0,_t.c)():h.lift(new ce(m))}}class ce{constructor(p){if(this.total=p,this.total<0)throw new ye.W}call(p,h){return h.subscribe(new xe(p,this.total))}}class xe extends me.L{constructor(p,h){super(p),this.total=h,this.ring=new Array,this.count=0}_next(p){const h=this.ring,E=this.total,D=this.count++;h.length<E?h.push(p):h[D%E]=p}_complete(){const p=this.destination;let h=this.count;if(h>0){const E=this.count>=this.total?this.total:this.count,D=this.ring;for(let P=0;P<E;P++){const Y=h++%E;p.next(D[Y])}}p.complete()}}var he=M(4635),Ye=M(5242),We=M(4487),Ze=M(5319);class ke{constructor(p){this.callback=p}call(p,h){return h.subscribe(new $e(p,this.callback))}}class $e extends me.L{constructor(p,h){super(p),this.add(new Ze.w(h))}}var rt=M(8002),St=M(3190),Ot=M(5257),an=M(2145),Mt=M(5304),Nt=M(4612),cn=M(8049),rn=M(9773),tn=M(3342),Vt=M(1307);class pe{constructor(p,h){this.id=p,this.url=h}}class Ie extends pe{constructor(p,h,E="imperative",D=null){super(p,h),this.navigationTrigger=E,this.restoredState=D}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oe extends pe{constructor(p,h,E){super(p,h),this.urlAfterRedirects=E}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Je extends pe{constructor(p,h,E){super(p,h),this.reason=E}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ee extends pe{constructor(p,h,E){super(p,h),this.error=E}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ut extends pe{constructor(p,h,E,D){super(p,h),this.urlAfterRedirects=E,this.state=D}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bt extends pe{constructor(p,h,E,D){super(p,h),this.urlAfterRedirects=E,this.state=D}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wt extends pe{constructor(p,h,E,D,P){super(p,h),this.urlAfterRedirects=E,this.state=D,this.shouldActivate=P}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class En extends pe{constructor(p,h,E,D){super(p,h),this.urlAfterRedirects=E,this.state=D}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn extends pe{constructor(p,h,E,D){super(p,h),this.urlAfterRedirects=E,this.state=D}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xn{constructor(p){this.route=p}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pn{constructor(p){this.route=p}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gi{constructor(p){this.snapshot=p}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gn{constructor(p){this.snapshot=p}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(p){this.snapshot=p}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class At{constructor(p){this.snapshot=p}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(p,h,E){this.routerEvent=p,this.position=h,this.anchor=E}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Tt="primary";class Fn{constructor(p){this.params=p||{}}has(p){return Object.prototype.hasOwnProperty.call(this.params,p)}get(p){if(this.has(p)){const h=this.params[p];return Array.isArray(h)?h[0]:h}return null}getAll(p){if(this.has(p)){const h=this.params[p];return Array.isArray(h)?h:[h]}return[]}get keys(){return Object.keys(this.params)}}function Zt(m){return new Fn(m)}const Xn="ngNavigationCancelingError";function Hr(m){const p=Error("NavigationCancelingError: "+m);return p[Xn]=!0,p}function J(m,p,h){const E=h.path.split("/");if(E.length>m.length||"full"===h.pathMatch&&(p.hasChildren()||E.length<m.length))return null;const D={};for(let P=0;P<E.length;P++){const Y=E[P],re=m[P];if(Y.startsWith(":"))D[Y.substring(1)]=re;else if(Y!==re.path)return null}return{consumed:m.slice(0,E.length),posParams:D}}function de(m,p){const h=m?Object.keys(m):void 0,E=p?Object.keys(p):void 0;if(!h||!E||h.length!=E.length)return!1;let D;for(let P=0;P<h.length;P++)if(D=h[P],!Ce(m[D],p[D]))return!1;return!0}function Ce(m,p){if(Array.isArray(m)&&Array.isArray(p)){if(m.length!==p.length)return!1;const h=[...m].sort(),E=[...p].sort();return h.every((D,P)=>E[P]===D)}return m===p}function fe(m){return Array.prototype.concat.apply([],m)}function tt(m){return m.length>0?m[m.length-1]:null}function Et(m,p){for(const h in m)m.hasOwnProperty(h)&&p(m[h],h)}function Ut(m){return(0,R.CqO)(m)?m:(0,R.QGY)(m)?(0,ze.D)(Promise.resolve(m)):(0,ge.of)(m)}const Pn={exact:function Cr(m,p,h){if(!rr(m.segments,p.segments)||!$r(m.segments,p.segments,h)||m.numberOfChildren!==p.numberOfChildren)return!1;for(const E in p.children)if(!m.children[E]||!Cr(m.children[E],p.children[E],h))return!1;return!0},subset:Nr},An={exact:function(m,p){return de(m,p)},subset:function(m,p){return Object.keys(p).length<=Object.keys(m).length&&Object.keys(p).every(h=>Ce(m[h],p[h]))},ignored:()=>!0};function Mn(m,p,h){return Pn[h.paths](m.root,p.root,h.matrixParams)&&An[h.queryParams](m.queryParams,p.queryParams)&&!("exact"===h.fragment&&m.fragment!==p.fragment)}function Nr(m,p,h){return Jr(m,p,p.segments,h)}function Jr(m,p,h,E){if(m.segments.length>h.length){const D=m.segments.slice(0,h.length);return!(!rr(D,h)||p.hasChildren()||!$r(D,h,E))}if(m.segments.length===h.length){if(!rr(m.segments,h)||!$r(m.segments,h,E))return!1;for(const D in p.children)if(!m.children[D]||!Nr(m.children[D],p.children[D],E))return!1;return!0}{const D=h.slice(0,m.segments.length),P=h.slice(m.segments.length);return!!(rr(m.segments,D)&&$r(m.segments,D,E)&&m.children[Tt])&&Jr(m.children[Tt],p,P,E)}}function $r(m,p,h){return p.every((E,D)=>An[h](m[D].parameters,E.parameters))}class mn{constructor(p,h,E){this.root=p,this.queryParams=h,this.fragment=E}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zt(this.queryParams)),this._queryParamMap}toString(){return sn.serialize(this)}}class mt{constructor(p,h){this.segments=p,this.children=h,this.parent=null,Et(h,(E,D)=>E.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tn(this)}}class Dn{constructor(p,h){this.path=p,this.parameters=h}get parameterMap(){return this._parameterMap||(this._parameterMap=Zt(this.parameters)),this._parameterMap}toString(){return k(this)}}function rr(m,p){return m.length===p.length&&m.every((h,E)=>h.path===p[E].path)}class ot{}class jt{parse(p){const h=new vt(p);return new mn(h.parseRootSegment(),h.parseQueryParams(),h.parseFragment())}serialize(p){var m;return`${`/${tr(p.root,!0)}`}${function(m){const p=Object.keys(m).map(h=>{const E=m[h];return Array.isArray(E)?E.map(D=>`${Zn(h)}=${Zn(D)}`).join("&"):`${Zn(h)}=${Zn(E)}`}).filter(h=>!!h);return p.length?`?${p.join("&")}`:""}(p.queryParams)}${"string"==typeof p.fragment?`#${m=p.fragment,encodeURI(m)}`:""}`}}const sn=new jt;function Tn(m){return m.segments.map(p=>k(p)).join("/")}function tr(m,p){if(!m.hasChildren())return Tn(m);if(p){const h=m.children[Tt]?tr(m.children[Tt],!1):"",E=[];return Et(m.children,(D,P)=>{P!==Tt&&E.push(`${P}:${tr(D,!1)}`)}),E.length>0?`${h}(${E.join("//")})`:h}{const h=function(m,p){let h=[];return Et(m.children,(E,D)=>{D===Tt&&(h=h.concat(p(E,D)))}),Et(m.children,(E,D)=>{D!==Tt&&(h=h.concat(p(E,D)))}),h}(m,(E,D)=>D===Tt?[tr(m.children[Tt],!1)]:[`${D}:${tr(E,!1)}`]);return 1===Object.keys(m.children).length&&null!=m.children[Tt]?`${Tn(m)}/${h[0]}`:`${Tn(m)}/(${h.join("//")})`}}function bn(m){return encodeURIComponent(m).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zn(m){return bn(m).replace(/%3B/gi,";")}function vr(m){return bn(m).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function I(m){return decodeURIComponent(m)}function A(m){return I(m.replace(/\+/g,"%20"))}function k(m){return`${vr(m.path)}${function(m){return Object.keys(m).map(p=>`;${vr(p)}=${vr(m[p])}`).join("")}(m.parameters)}`}const He=/^[^\/()?;=#]+/;function Be(m){const p=m.match(He);return p?p[0]:""}const st=/^[^=?&#]+/,qe=/^[^?&#]+/;class vt{constructor(p){this.url=p,this.remaining=p}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mt([],{}):new mt([],this.parseChildren())}parseQueryParams(){const p={};if(this.consumeOptional("?"))do{this.parseQueryParam(p)}while(this.consumeOptional("&"));return p}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const p=[];for(this.peekStartsWith("(")||p.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),p.push(this.parseSegment());let h={};this.peekStartsWith("/(")&&(this.capture("/"),h=this.parseParens(!0));let E={};return this.peekStartsWith("(")&&(E=this.parseParens(!1)),(p.length>0||Object.keys(h).length>0)&&(E[Tt]=new mt(p,h)),E}parseSegment(){const p=Be(this.remaining);if(""===p&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(p),new Dn(I(p),this.parseMatrixParams())}parseMatrixParams(){const p={};for(;this.consumeOptional(";");)this.parseParam(p);return p}parseParam(p){const h=Be(this.remaining);if(!h)return;this.capture(h);let E="";if(this.consumeOptional("=")){const D=Be(this.remaining);D&&(E=D,this.capture(E))}p[I(h)]=I(E)}parseQueryParam(p){const h=function(m){const p=m.match(st);return p?p[0]:""}(this.remaining);if(!h)return;this.capture(h);let E="";if(this.consumeOptional("=")){const Y=function(m){const p=m.match(qe);return p?p[0]:""}(this.remaining);Y&&(E=Y,this.capture(E))}const D=A(h),P=A(E);if(p.hasOwnProperty(D)){let Y=p[D];Array.isArray(Y)||(Y=[Y],p[D]=Y),Y.push(P)}else p[D]=P}parseParens(p){const h={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const E=Be(this.remaining),D=this.remaining[E.length];if("/"!==D&&")"!==D&&";"!==D)throw new Error(`Cannot parse url '${this.url}'`);let P;E.indexOf(":")>-1?(P=E.substr(0,E.indexOf(":")),this.capture(P),this.capture(":")):p&&(P=Tt);const Y=this.parseChildren();h[P]=1===Object.keys(Y).length?Y[Tt]:new mt([],Y),this.consumeOptional("//")}return h}peekStartsWith(p){return this.remaining.startsWith(p)}consumeOptional(p){return!!this.peekStartsWith(p)&&(this.remaining=this.remaining.substring(p.length),!0)}capture(p){if(!this.consumeOptional(p))throw new Error(`Expected "${p}".`)}}class ie{constructor(p){this._root=p}get root(){return this._root.value}parent(p){const h=this.pathFromRoot(p);return h.length>1?h[h.length-2]:null}children(p){const h=K(p,this._root);return h?h.children.map(E=>E.value):[]}firstChild(p){const h=K(p,this._root);return h&&h.children.length>0?h.children[0].value:null}siblings(p){const h=U(p,this._root);return h.length<2?[]:h[h.length-2].children.map(D=>D.value).filter(D=>D!==p)}pathFromRoot(p){return U(p,this._root).map(h=>h.value)}}function K(m,p){if(m===p.value)return p;for(const h of p.children){const E=K(m,h);if(E)return E}return null}function U(m,p){if(m===p.value)return[p];for(const h of p.children){const E=U(m,h);if(E.length)return E.unshift(p),E}return[]}class se{constructor(p,h){this.value=p,this.children=h}toString(){return`TreeNode(${this.value})`}}function Re(m){const p={};return m&&m.children.forEach(h=>p[h.value.outlet]=h),p}class et extends ie{constructor(p,h){super(p),this.snapshot=h,ur(this,p)}toString(){return this.snapshot.toString()}}function Ue(m,p){const h=function(m,p){const Y=new Ln([],{},{},"",{},Tt,p,null,m.root,-1,{});return new Ni("",new se(Y,[]))}(m,p),E=new ue([new Dn("",{})]),D=new ue({}),P=new ue({}),Y=new ue({}),re=new ue(""),Pe=new Rt(E,D,Y,re,P,Tt,p,h.root);return Pe.snapshot=h.root,new et(new se(Pe,[]),h)}class Rt{constructor(p,h,E,D,P,Y,re,Pe){this.url=p,this.params=h,this.queryParams=E,this.fragment=D,this.data=P,this.outlet=Y,this.component=re,this._futureSnapshot=Pe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(p=>Zt(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(p=>Zt(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gn(m,p="emptyOnly"){const h=m.pathFromRoot;let E=0;if("always"!==p)for(E=h.length-1;E>=1;){const D=h[E],P=h[E-1];if(D.routeConfig&&""===D.routeConfig.path)E--;else{if(P.component)break;E--}}return function(m){return m.reduce((p,h)=>({params:Object.assign(Object.assign({},p.params),h.params),data:Object.assign(Object.assign({},p.data),h.data),resolve:Object.assign(Object.assign({},p.resolve),h._resolvedData)}),{params:{},data:{},resolve:{}})}(h.slice(E))}class Ln{constructor(p,h,E,D,P,Y,re,Pe,ht,nn,It){this.url=p,this.params=h,this.queryParams=E,this.fragment=D,this.data=P,this.outlet=Y,this.component=re,this.routeConfig=Pe,this._urlSegment=ht,this._lastPathIndex=nn,this._resolve=It}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(E=>E.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ni extends ie{constructor(p,h){super(h),this.url=p,ur(this,h)}toString(){return cr(this._root)}}function ur(m,p){p.value._routerState=m,p.children.forEach(h=>ur(m,h))}function cr(m){const p=m.children.length>0?` { ${m.children.map(cr).join(", ")} } `:"";return`${m.value}${p}`}function Lo(m){if(m.snapshot){const p=m.snapshot,h=m._futureSnapshot;m.snapshot=h,de(p.queryParams,h.queryParams)||m.queryParams.next(h.queryParams),p.fragment!==h.fragment&&m.fragment.next(h.fragment),de(p.params,h.params)||m.params.next(h.params),function(m,p){if(m.length!==p.length)return!1;for(let h=0;h<m.length;++h)if(!de(m[h],p[h]))return!1;return!0}(p.url,h.url)||m.url.next(h.url),de(p.data,h.data)||m.data.next(h.data)}else m.snapshot=m._futureSnapshot,m.data.next(m._futureSnapshot.data)}function Fr(m,p){return de(m.params,p.params)&&function(m,p){return rr(m,p)&&m.every((h,E)=>de(h.parameters,p[E].parameters))}(m.url,p.url)&&!(!m.parent!=!p.parent)&&(!m.parent||Fr(m.parent,p.parent))}function qr(m,p,h){if(h&&m.shouldReuseRoute(p.value,h.value.snapshot)){const E=h.value;E._futureSnapshot=p.value;const D=function(m,p,h){return p.children.map(E=>{for(const D of h.children)if(m.shouldReuseRoute(E.value,D.value.snapshot))return qr(m,E,D);return qr(m,E)})}(m,p,h);return new se(E,D)}{if(m.shouldAttach(p.value)){const P=m.retrieve(p.value);if(null!==P){const Y=P.route;return Xs(p,Y),Y}}const E=function(m){return new Rt(new ue(m.url),new ue(m.params),new ue(m.queryParams),new ue(m.fragment),new ue(m.data),m.outlet,m.component,m)}(p.value),D=p.children.map(P=>qr(m,P));return new se(E,D)}}function Xs(m,p){if(m.value.routeConfig!==p.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(m.children.length!==p.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");p.value._futureSnapshot=m.value;for(let h=0;h<m.children.length;++h)Xs(m.children[h],p.children[h])}function ko(m){return"object"==typeof m&&null!=m&&!m.outlets&&!m.segmentPath}function ro(m){return"object"==typeof m&&null!=m&&m.outlets}function Vo(m,p,h,E,D){let P={};return E&&Et(E,(Y,re)=>{P[re]=Array.isArray(Y)?Y.map(Pe=>`${Pe}`):`${Y}`}),new mn(h.root===m?p:ei(h.root,m,p),P,D)}function ei(m,p,h){const E={};return Et(m.children,(D,P)=>{E[P]=D===p?h:ei(D,p,h)}),new mt(m.segments,E)}class qt{constructor(p,h,E){if(this.isAbsolute=p,this.numberOfDoubleDots=h,this.commands=E,p&&E.length>0&&ko(E[0]))throw new Error("Root segment cannot have matrix parameters");const D=E.find(ro);if(D&&D!==tt(E))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fi{constructor(p,h,E){this.segmentGroup=p,this.processChildren=h,this.index=E}}function nr(m,p,h){if(m||(m=new mt([],{})),0===m.segments.length&&m.hasChildren())return Uo(m,p,h);const E=function(m,p,h){let E=0,D=p;const P={match:!1,pathIndex:0,commandIndex:0};for(;D<m.segments.length;){if(E>=h.length)return P;const Y=m.segments[D],re=h[E];if(ro(re))break;const Pe=`${re}`,ht=E<h.length-1?h[E+1]:null;if(D>0&&void 0===Pe)break;if(Pe&&ht&&"object"==typeof ht&&void 0===ht.outlets){if(!so(Pe,ht,Y))return P;E+=2}else{if(!so(Pe,{},Y))return P;E++}D++}return{match:!0,pathIndex:D,commandIndex:E}}(m,p,h),D=h.slice(E.commandIndex);if(E.match&&E.pathIndex<m.segments.length){const P=new mt(m.segments.slice(0,E.pathIndex),{});return P.children[Tt]=new mt(m.segments.slice(E.pathIndex),m.children),Uo(P,0,D)}return E.match&&0===D.length?new mt(m.segments,{}):E.match&&!m.hasChildren()?io(m,p,h):E.match?Uo(m,0,D):io(m,p,h)}function Uo(m,p,h){if(0===h.length)return new mt(m.segments,{});{const E=function(m){return ro(m[0])?m[0].outlets:{[Tt]:m}}(h),D={};return Et(E,(P,Y)=>{"string"==typeof P&&(P=[P]),null!==P&&(D[Y]=nr(m.children[Y],p,P))}),Et(m.children,(P,Y)=>{void 0===E[Y]&&(D[Y]=P)}),new mt(m.segments,D)}}function io(m,p,h){const E=m.segments.slice(0,p);let D=0;for(;D<h.length;){const P=h[D];if(ro(P)){const Pe=Lr(P.outlets);return new mt(E,Pe)}if(0===D&&ko(h[0])){E.push(new Dn(m.segments[p].path,oo(h[0]))),D++;continue}const Y=ro(P)?P.outlets[Tt]:`${P}`,re=D<h.length-1?h[D+1]:null;Y&&re&&ko(re)?(E.push(new Dn(Y,oo(re))),D+=2):(E.push(new Dn(Y,{})),D++)}return new mt(E,{})}function Lr(m){const p={};return Et(m,(h,E)=>{"string"==typeof h&&(h=[h]),null!==h&&(p[E]=io(new mt([],{}),0,h))}),p}function oo(m){const p={};return Et(m,(h,E)=>p[E]=`${h}`),p}function so(m,p,h){return m==h.path&&de(p,h.parameters)}class ps{constructor(p,h,E,D){this.routeReuseStrategy=p,this.futureState=h,this.currState=E,this.forwardEvent=D}activate(p){const h=this.futureState._root,E=this.currState?this.currState._root:null;this.deactivateChildRoutes(h,E,p),Lo(this.futureState.root),this.activateChildRoutes(h,E,p)}deactivateChildRoutes(p,h,E){const D=Re(h);p.children.forEach(P=>{const Y=P.value.outlet;this.deactivateRoutes(P,D[Y],E),delete D[Y]}),Et(D,(P,Y)=>{this.deactivateRouteAndItsChildren(P,E)})}deactivateRoutes(p,h,E){const D=p.value,P=h?h.value:null;if(D===P)if(D.component){const Y=E.getContext(D.outlet);Y&&this.deactivateChildRoutes(p,h,Y.children)}else this.deactivateChildRoutes(p,h,E);else P&&this.deactivateRouteAndItsChildren(h,E)}deactivateRouteAndItsChildren(p,h){this.routeReuseStrategy.shouldDetach(p.value.snapshot)?this.detachAndStoreRouteSubtree(p,h):this.deactivateRouteAndOutlet(p,h)}detachAndStoreRouteSubtree(p,h){const E=h.getContext(p.value.outlet);if(E&&E.outlet){const D=E.outlet.detach(),P=E.children.onOutletDeactivated();this.routeReuseStrategy.store(p.value.snapshot,{componentRef:D,route:p,contexts:P})}}deactivateRouteAndOutlet(p,h){const E=h.getContext(p.value.outlet),D=E&&p.value.component?E.children:h,P=Re(p);for(const Y of Object.keys(P))this.deactivateRouteAndItsChildren(P[Y],D);E&&E.outlet&&(E.outlet.deactivate(),E.children.onOutletDeactivated(),E.attachRef=null,E.resolver=null,E.route=null)}activateChildRoutes(p,h,E){const D=Re(h);p.children.forEach(P=>{this.activateRoutes(P,D[P.value.outlet],E),this.forwardEvent(new At(P.value.snapshot))}),p.children.length&&this.forwardEvent(new gn(p.value.snapshot))}activateRoutes(p,h,E){const D=p.value,P=h?h.value:null;if(Lo(D),D===P)if(D.component){const Y=E.getOrCreateContext(D.outlet);this.activateChildRoutes(p,h,Y.children)}else this.activateChildRoutes(p,h,E);else if(D.component){const Y=E.getOrCreateContext(D.outlet);if(this.routeReuseStrategy.shouldAttach(D.snapshot)){const re=this.routeReuseStrategy.retrieve(D.snapshot);this.routeReuseStrategy.store(D.snapshot,null),Y.children.onOutletReAttached(re.contexts),Y.attachRef=re.componentRef,Y.route=re.route.value,Y.outlet&&Y.outlet.attach(re.componentRef,re.route.value),jo(re.route)}else{const re=function(m){for(let p=m.parent;p;p=p.parent){const h=p.routeConfig;if(h&&h._loadedConfig)return h._loadedConfig;if(h&&h.component)return null}return null}(D.snapshot),Pe=re?re.module.componentFactoryResolver:null;Y.attachRef=null,Y.route=D,Y.resolver=Pe,Y.outlet&&Y.outlet.activateWith(D,Pe),this.activateChildRoutes(p,null,Y.children)}}else this.activateChildRoutes(p,null,E)}}function jo(m){Lo(m.value),m.children.forEach(jo)}class ki{constructor(p,h){this.routes=p,this.module=h}}function kr(m){return"function"==typeof m}function mi(m){return m instanceof mn}const Gr=Symbol("INITIAL_VALUE");function Yr(){return(0,St.w)(m=>function(...m){let p,h;return(0,j.K)(m[m.length-1])&&(h=m.pop()),"function"==typeof m[m.length-1]&&(p=m.pop()),1===m.length&&(0,le.k)(m[0])&&(m=m[0]),(0,H.n)(m,h).lift(new te(p))}(m.map(p=>p.pipe((0,Ot.q)(1),function(...m){const p=m[m.length-1];return(0,j.K)(p)?(m.pop(),h=>Ne(m,h,p)):h=>Ne(m,h)}(Gr)))).pipe((0,an.R)((p,h)=>{let E=!1;return h.reduce((D,P,Y)=>D!==Gr?D:(P===Gr&&(E=!0),E||!1!==P&&Y!==h.length-1&&!mi(P)?D:P),p)},Gr),(0,kt.h)(p=>p!==Gr),(0,rt.U)(p=>mi(p)?p:!0===p),(0,Ot.q)(1)))}let vi=(()=>{class m{}return m.\u0275fac=function(h){return new(h||m)},m.\u0275cmp=R.Xpm({type:m,selectors:[["ng-component"]],decls:1,vars:0,template:function(h,E){1&h&&R._UZ(0,"router-outlet")},directives:function(){return[Pa]},encapsulation:2}),m})();function b(m,p=""){for(let h=0;h<m.length;h++){const E=m[h];x(E,_(p,E))}}function x(m,p){m.children&&b(m.children,p)}function _(m,p){return p?m||p.path?m&&!p.path?`${m}/`:!m&&p.path?p.path:`${m}/${p.path}`:"":m}function F(m){const p=m.children&&m.children.map(F),h=p?Object.assign(Object.assign({},m),{children:p}):Object.assign({},m);return!h.component&&(p||h.loadChildren)&&h.outlet&&h.outlet!==Tt&&(h.component=vi),h}function z(m){return m.outlet||Tt}function Ae(m,p){const h=m.filter(E=>z(E)===p);return h.push(...m.filter(E=>z(E)!==p)),h}const Le={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gt(m,p,h){var E;if(""===p.path)return"full"===p.pathMatch&&(m.hasChildren()||h.length>0)?Object.assign({},Le):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const P=(p.matcher||J)(h,m,p);if(!P)return Object.assign({},Le);const Y={};Et(P.posParams,(Pe,ht)=>{Y[ht]=Pe.path});const re=P.consumed.length>0?Object.assign(Object.assign({},Y),P.consumed[P.consumed.length-1].parameters):Y;return{matched:!0,consumedSegments:P.consumed,lastChild:P.consumed.length,parameters:re,positionalParamSegments:null!==(E=P.posParams)&&void 0!==E?E:{}}}function Ht(m,p,h,E,D="corrected"){if(h.length>0&&function(m,p,h){return h.some(E=>hn(m,p,E)&&z(E)!==Tt)}(m,h,E)){const Y=new mt(p,function(m,p,h,E){const D={};D[Tt]=E,E._sourceSegment=m,E._segmentIndexShift=p.length;for(const P of h)if(""===P.path&&z(P)!==Tt){const Y=new mt([],{});Y._sourceSegment=m,Y._segmentIndexShift=p.length,D[z(P)]=Y}return D}(m,p,E,new mt(h,m.children)));return Y._sourceSegment=m,Y._segmentIndexShift=p.length,{segmentGroup:Y,slicedSegments:[]}}if(0===h.length&&function(m,p,h){return h.some(E=>hn(m,p,E))}(m,h,E)){const Y=new mt(m.segments,function(m,p,h,E,D,P){const Y={};for(const re of E)if(hn(m,h,re)&&!D[z(re)]){const Pe=new mt([],{});Pe._sourceSegment=m,Pe._segmentIndexShift="legacy"===P?m.segments.length:p.length,Y[z(re)]=Pe}return Object.assign(Object.assign({},D),Y)}(m,p,h,E,m.children,D));return Y._sourceSegment=m,Y._segmentIndexShift=p.length,{segmentGroup:Y,slicedSegments:h}}const P=new mt(m.segments,m.children);return P._sourceSegment=m,P._segmentIndexShift=p.length,{segmentGroup:P,slicedSegments:h}}function hn(m,p,h){return(!(m.hasChildren()||p.length>0)||"full"!==h.pathMatch)&&""===h.path}function kn(m,p,h,E){return!!(z(m)===E||E!==Tt&&hn(p,h,m))&&("**"===m.path||gt(p,m,h).matched)}function ni(m,p,h){return 0===p.length&&!m.children[h]}class Nn{constructor(p){this.segmentGroup=p||null}}class ri{constructor(p){this.urlTree=p}}function Yn(m){return new Se.y(p=>p.error(new Nn(m)))}function Ct(m){return new Se.y(p=>p.error(new ri(m)))}function yi(m){return new Se.y(p=>p.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${m}'`)))}class Ta{constructor(p,h,E,D,P){this.configLoader=h,this.urlSerializer=E,this.urlTree=D,this.config=P,this.allowRedirects=!0,this.ngModule=p.get(R.h0i)}apply(){const p=Ht(this.urlTree.root,[],[],this.config).segmentGroup,h=new mt(p.segments,p.children);return this.expandSegmentGroup(this.ngModule,this.config,h,Tt).pipe((0,rt.U)(P=>this.createUrlTree(ys(P),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Mt.K)(P=>{if(P instanceof ri)return this.allowRedirects=!1,this.match(P.urlTree);throw P instanceof Nn?this.noMatchError(P):P}))}match(p){return this.expandSegmentGroup(this.ngModule,this.config,p.root,Tt).pipe((0,rt.U)(D=>this.createUrlTree(ys(D),p.queryParams,p.fragment))).pipe((0,Mt.K)(D=>{throw D instanceof Nn?this.noMatchError(D):D}))}noMatchError(p){return new Error(`Cannot match any routes. URL Segment: '${p.segmentGroup}'`)}createUrlTree(p,h,E){const D=p.segments.length>0?new mt([],{[Tt]:p}):p;return new mn(D,h,E)}expandSegmentGroup(p,h,E,D){return 0===E.segments.length&&E.hasChildren()?this.expandChildren(p,h,E).pipe((0,rt.U)(P=>new mt([],P))):this.expandSegment(p,E,h,E.segments,D,!0)}expandChildren(p,h,E){const D=[];for(const P of Object.keys(E.children))"primary"===P?D.unshift(P):D.push(P);return(0,ze.D)(D).pipe((0,Nt.b)(P=>{const Y=E.children[P],re=Ae(h,P);return this.expandSegmentGroup(p,re,Y,P).pipe((0,rt.U)(Pe=>({segment:Pe,outlet:P})))}),(0,an.R)((P,Y)=>(P[Y.outlet]=Y.segment,P),{}),function(m,p){const h=arguments.length>=2;return E=>E.pipe(m?(0,kt.h)((D,P)=>m(D,P,E)):We.y,X(1),h?(0,Ye.d)(p):(0,he.T)(()=>new Wt.K))}())}expandSegment(p,h,E,D,P,Y){return(0,ze.D)(E).pipe((0,Nt.b)(re=>this.expandSegmentAgainstRoute(p,h,E,re,D,P,Y).pipe((0,Mt.K)(ht=>{if(ht instanceof Nn)return(0,ge.of)(null);throw ht}))),(0,cn.P)(re=>!!re),(0,Mt.K)((re,Pe)=>{if(re instanceof Wt.K||"EmptyError"===re.name){if(ni(h,D,P))return(0,ge.of)(new mt([],{}));throw new Nn(h)}throw re}))}expandSegmentAgainstRoute(p,h,E,D,P,Y,re){return kn(D,h,P,Y)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(p,h,D,P,Y):re&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(p,h,E,D,P,Y):Yn(h):Yn(h)}expandSegmentAgainstRouteUsingRedirect(p,h,E,D,P,Y){return"**"===D.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(p,E,D,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(p,h,E,D,P,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(p,h,E,D){const P=this.applyRedirectCommands([],E.redirectTo,{});return E.redirectTo.startsWith("/")?Ct(P):this.lineralizeSegments(E,P).pipe((0,rn.zg)(Y=>{const re=new mt(Y,{});return this.expandSegment(p,re,h,Y,D,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(p,h,E,D,P,Y){const{matched:re,consumedSegments:Pe,lastChild:ht,positionalParamSegments:nn}=gt(h,D,P);if(!re)return Yn(h);const It=this.applyRedirectCommands(Pe,D.redirectTo,nn);return D.redirectTo.startsWith("/")?Ct(It):this.lineralizeSegments(D,It).pipe((0,rn.zg)(fn=>this.expandSegment(p,h,E,fn.concat(P.slice(ht)),Y,!1)))}matchSegmentAgainstRoute(p,h,E,D,P){if("**"===E.path)return E.loadChildren?(E._loadedConfig?(0,ge.of)(E._loadedConfig):this.configLoader.load(p.injector,E)).pipe((0,rt.U)(fn=>(E._loadedConfig=fn,new mt(D,{})))):(0,ge.of)(new mt(D,{}));const{matched:Y,consumedSegments:re,lastChild:Pe}=gt(h,E,D);if(!Y)return Yn(h);const ht=D.slice(Pe);return this.getChildConfig(p,E,D).pipe((0,rn.zg)(It=>{const fn=It.module,Qt=It.routes,{segmentGroup:_r,slicedSegments:fr}=Ht(h,re,ht,Qt),Rr=new mt(_r.segments,_r.children);if(0===fr.length&&Rr.hasChildren())return this.expandChildren(fn,Qt,Rr).pipe((0,rt.U)(xs=>new mt(re,xs)));if(0===Qt.length&&0===fr.length)return(0,ge.of)(new mt(re,{}));const Ar=z(E)===P;return this.expandSegment(fn,Rr,Qt,fr,Ar?Tt:P,!0).pipe((0,rt.U)(Wi=>new mt(re.concat(Wi.segments),Wi.children)))}))}getChildConfig(p,h,E){return h.children?(0,ge.of)(new ki(h.children,p)):h.loadChildren?void 0!==h._loadedConfig?(0,ge.of)(h._loadedConfig):this.runCanLoadGuards(p.injector,h,E).pipe((0,rn.zg)(D=>{return D?this.configLoader.load(p.injector,h).pipe((0,rt.U)(P=>(h._loadedConfig=P,P))):(m=h,new Se.y(p=>p.error(Hr(`Cannot load children because the guard of the route "path: '${m.path}'" returned false`))));var m})):(0,ge.of)(new ki([],p))}runCanLoadGuards(p,h,E){const D=h.canLoad;if(!D||0===D.length)return(0,ge.of)(!0);const P=D.map(Y=>{const re=p.get(Y);let Pe;if((m=re)&&kr(m.canLoad))Pe=re.canLoad(h,E);else{if(!kr(re))throw new Error("Invalid CanLoad guard");Pe=re(h,E)}var m;return Ut(Pe)});return(0,ge.of)(P).pipe(Yr(),(0,tn.b)(Y=>{if(!mi(Y))return;const re=Hr(`Redirecting to "${this.urlSerializer.serialize(Y)}"`);throw re.url=Y,re}),(0,rt.U)(Y=>!0===Y))}lineralizeSegments(p,h){let E=[],D=h.root;for(;;){if(E=E.concat(D.segments),0===D.numberOfChildren)return(0,ge.of)(E);if(D.numberOfChildren>1||!D.children[Tt])return yi(p.redirectTo);D=D.children[Tt]}}applyRedirectCommands(p,h,E){return this.applyRedirectCreatreUrlTree(h,this.urlSerializer.parse(h),p,E)}applyRedirectCreatreUrlTree(p,h,E,D){const P=this.createSegmentGroup(p,h.root,E,D);return new mn(P,this.createQueryParams(h.queryParams,this.urlTree.queryParams),h.fragment)}createQueryParams(p,h){const E={};return Et(p,(D,P)=>{if("string"==typeof D&&D.startsWith(":")){const re=D.substring(1);E[P]=h[re]}else E[P]=D}),E}createSegmentGroup(p,h,E,D){const P=this.createSegments(p,h.segments,E,D);let Y={};return Et(h.children,(re,Pe)=>{Y[Pe]=this.createSegmentGroup(p,re,E,D)}),new mt(P,Y)}createSegments(p,h,E,D){return h.map(P=>P.path.startsWith(":")?this.findPosParam(p,P,D):this.findOrReturn(P,E))}findPosParam(p,h,E){const D=E[h.path.substring(1)];if(!D)throw new Error(`Cannot redirect to '${p}'. Cannot find '${h.path}'.`);return D}findOrReturn(p,h){let E=0;for(const D of h){if(D.path===p.path)return h.splice(E),D;E++}return p}}function ys(m){const p={};for(const E of Object.keys(m.children)){const P=ys(m.children[E]);(P.segments.length>0||P.hasChildren())&&(p[E]=P)}return function(m){if(1===m.numberOfChildren&&m.children[Tt]){const p=m.children[Tt];return new mt(m.segments.concat(p.segments),p.children)}return m}(new mt(m.segments,p))}class je{constructor(p){this.path=p,this.route=this.path[this.path.length-1]}}class en{constructor(p,h){this.component=p,this.route=h}}function _s(m,p,h){const E=m._root;return Jn(E,p?p._root:null,h,[E.value])}function Vi(m,p,h){const E=function(m){if(!m)return null;for(let p=m.parent;p;p=p.parent){const h=p.routeConfig;if(h&&h._loadedConfig)return h._loadedConfig}return null}(p);return(E?E.module.injector:h).get(m)}function Jn(m,p,h,E,D={canDeactivateChecks:[],canActivateChecks:[]}){const P=Re(p);return m.children.forEach(Y=>{(function(m,p,h,E,D={canDeactivateChecks:[],canActivateChecks:[]}){const P=m.value,Y=p?p.value:null,re=h?h.getContext(m.value.outlet):null;if(Y&&P.routeConfig===Y.routeConfig){const Pe=function(m,p,h){if("function"==typeof h)return h(m,p);switch(h){case"pathParamsChange":return!rr(m.url,p.url);case"pathParamsOrQueryParamsChange":return!rr(m.url,p.url)||!de(m.queryParams,p.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fr(m,p)||!de(m.queryParams,p.queryParams);case"paramsChange":default:return!Fr(m,p)}}(Y,P,P.routeConfig.runGuardsAndResolvers);Pe?D.canActivateChecks.push(new je(E)):(P.data=Y.data,P._resolvedData=Y._resolvedData),Jn(m,p,P.component?re?re.children:null:h,E,D),Pe&&re&&re.outlet&&re.outlet.isActivated&&D.canDeactivateChecks.push(new en(re.outlet.component,Y))}else Y&&Cs(p,re,D),D.canActivateChecks.push(new je(E)),Jn(m,null,P.component?re?re.children:null:h,E,D)})(Y,P[Y.value.outlet],h,E.concat([Y.value]),D),delete P[Y.value.outlet]}),Et(P,(Y,re)=>Cs(Y,h.getContext(re),D)),D}function Cs(m,p,h){const E=Re(m),D=m.value;Et(E,(P,Y)=>{Cs(P,D.component?p?p.children.getContext(Y):null:p,h)}),h.canDeactivateChecks.push(new en(D.component&&p&&p.outlet&&p.outlet.isActivated?p.outlet.component:null,D))}class Ul{}function ea(m){return new Se.y(p=>p.error(m))}class Hl{constructor(p,h,E,D,P,Y){this.rootComponentType=p,this.config=h,this.urlTree=E,this.url=D,this.paramsInheritanceStrategy=P,this.relativeLinkResolution=Y}recognize(){const p=Ht(this.urlTree.root,[],[],this.config.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution).segmentGroup,h=this.processSegmentGroup(this.config,p,Tt);if(null===h)return null;const E=new Ln([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tt,this.rootComponentType,null,this.urlTree.root,-1,{}),D=new se(E,h),P=new Ni(this.url,D);return this.inheritParamsAndData(P._root),P}inheritParamsAndData(p){const h=p.value,E=Gn(h,this.paramsInheritanceStrategy);h.params=Object.freeze(E.params),h.data=Object.freeze(E.data),p.children.forEach(D=>this.inheritParamsAndData(D))}processSegmentGroup(p,h,E){return 0===h.segments.length&&h.hasChildren()?this.processChildren(p,h):this.processSegment(p,h,h.segments,E)}processChildren(p,h){const E=[];for(const P of Object.keys(h.children)){const Y=h.children[P],re=Ae(p,P),Pe=this.processSegmentGroup(re,Y,P);if(null===Pe)return null;E.push(...Pe)}const D=uo(E);return D.sort((p,h)=>p.value.outlet===Tt?-1:h.value.outlet===Tt?1:p.value.outlet.localeCompare(h.value.outlet)),D}processSegment(p,h,E,D){for(const P of p){const Y=this.processSegmentAgainstRoute(P,h,E,D);if(null!==Y)return Y}return ni(h,E,D)?[]:null}processSegmentAgainstRoute(p,h,E,D){if(p.redirectTo||!kn(p,h,E,D))return null;let P,Y=[],re=[];if("**"===p.path){const Qt=E.length>0?tt(E).parameters:{};P=new Ln(E,Qt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$o(p),z(p),p.component,p,ws(h),_i(h)+E.length,Kr(p))}else{const Qt=gt(h,p,E);if(!Qt.matched)return null;Y=Qt.consumedSegments,re=E.slice(Qt.lastChild),P=new Ln(Y,Qt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$o(p),z(p),p.component,p,ws(h),_i(h)+Y.length,Kr(p))}const Pe=(m=p).children?m.children:m.loadChildren?m._loadedConfig.routes:[],{segmentGroup:ht,slicedSegments:nn}=Ht(h,Y,re,Pe.filter(Qt=>void 0===Qt.redirectTo),this.relativeLinkResolution);var m;if(0===nn.length&&ht.hasChildren()){const Qt=this.processChildren(Pe,ht);return null===Qt?null:[new se(P,Qt)]}if(0===Pe.length&&0===nn.length)return[new se(P,[])];const It=z(p)===D,fn=this.processSegment(Pe,ht,nn,It?Tt:D);return null===fn?null:[new se(P,fn)]}}function Ds(m){const p=m.value.routeConfig;return p&&""===p.path&&void 0===p.redirectTo}function uo(m){const p=[],h=new Set;for(const E of m){if(!Ds(E)){p.push(E);continue}const D=p.find(P=>E.value.routeConfig===P.value.routeConfig);void 0!==D?(D.children.push(...E.children),h.add(D)):p.push(E)}for(const E of h){const D=uo(E.children);p.push(new se(E.value,D))}return p.filter(E=>!h.has(E))}function ws(m){let p=m;for(;p._sourceSegment;)p=p._sourceSegment;return p}function _i(m){let p=m,h=p._segmentIndexShift?p._segmentIndexShift:0;for(;p._sourceSegment;)p=p._sourceSegment,h+=p._segmentIndexShift?p._segmentIndexShift:0;return h-1}function $o(m){return m.data||{}}function Kr(m){return m.resolve||{}}function Vn(m){return(0,St.w)(p=>{const h=m(p);return h?(0,ze.D)(h).pipe((0,rt.U)(()=>p)):(0,ge.of)(p)})}class Is extends class{shouldDetach(p){return!1}store(p,h){}shouldAttach(p){return!1}retrieve(p){return null}shouldReuseRoute(p,h){return p.routeConfig===h.routeConfig}}{}const oi=new R.OlP("ROUTES");class Ts{constructor(p,h,E,D){this.loader=p,this.compiler=h,this.onLoadStartListener=E,this.onLoadEndListener=D}load(p,h){if(h._loader$)return h._loader$;this.onLoadStartListener&&this.onLoadStartListener(h);const D=this.loadModuleFactory(h.loadChildren).pipe((0,rt.U)(P=>{this.onLoadEndListener&&this.onLoadEndListener(h);const Y=P.create(p);return new ki(fe(Y.injector.get(oi,void 0,R.XFs.Self|R.XFs.Optional)).map(F),Y)}),(0,Mt.K)(P=>{throw h._loader$=void 0,P}));return h._loader$=new Xt.c(D,()=>new S.xQ).pipe((0,Vt.x)()),h._loader$}loadModuleFactory(p){return"string"==typeof p?(0,ze.D)(this.loader.load(p)):Ut(p()).pipe((0,rn.zg)(h=>h instanceof R.YKP?(0,ge.of)(h):(0,ze.D)(this.compiler.compileModuleAsync(h))))}}class Gl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zn,this.attachRef=null}}class zn{constructor(){this.contexts=new Map}onChildOutletCreated(p,h){const E=this.getOrCreateContext(p);E.outlet=h,this.contexts.set(p,E)}onChildOutletDestroyed(p){const h=this.getContext(p);h&&(h.outlet=null,h.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let h=this.getContext(p);return h||(h=new Gl,this.contexts.set(p,h)),h}getContext(p){return this.contexts.get(p)||null}}class bi{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,h){return p}}function co(m){throw m}function Go(m,p,h){return p.parse("/")}function fo(m,p){return(0,ge.of)(null)}const Ci={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yn=(()=>{class m{constructor(h,E,D,P,Y,re,Pe,ht){this.rootComponentType=h,this.urlSerializer=E,this.rootContexts=D,this.location=P,this.config=ht,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new S.xQ,this.errorHandler=co,this.malformedUriErrorHandler=Go,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fo,afterPreactivation:fo},this.urlHandlingStrategy=new bi,this.routeReuseStrategy=new Is,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Y.get(R.h0i),this.console=Y.get(R.c2e);const fn=Y.get(R.R0b);this.isNgZoneEnabled=fn instanceof R.R0b&&R.R0b.isInAngularZone(),this.resetConfig(ht),this.currentUrlTree=new mn(new mt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ts(re,Pe,Qt=>this.triggerEvent(new xn(Qt)),Qt=>this.triggerEvent(new pn(Qt))),this.routerState=Ue(this.currentUrlTree,this.rootComponentType),this.transitions=new ue({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var h;return null===(h=this.location.getState())||void 0===h?void 0:h.\u0275routerPageId}setupNavigations(h){const E=this.events;return h.pipe((0,kt.h)(D=>0!==D.id),(0,rt.U)(D=>Object.assign(Object.assign({},D),{extractedUrl:this.urlHandlingStrategy.extract(D.rawUrl)})),(0,St.w)(D=>{let P=!1,Y=!1;return(0,ge.of)(D).pipe((0,tn.b)(re=>{this.currentNavigation={id:re.id,initialUrl:re.currentRawUrl,extractedUrl:re.extractedUrl,trigger:re.source,extras:re.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,St.w)(re=>{const Pe=this.browserUrlTree.toString(),ht=!this.navigated||re.extractedUrl.toString()!==Pe||Pe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ht)&&this.urlHandlingStrategy.shouldProcessUrl(re.rawUrl))return ai(re.source)&&(this.browserUrlTree=re.extractedUrl),(0,ge.of)(re).pipe((0,St.w)(It=>{const fn=this.transitions.getValue();return E.next(new Ie(It.id,this.serializeUrl(It.extractedUrl),It.source,It.restoredState)),fn!==this.transitions.getValue()?_t.E:Promise.resolve(It)}),function(m,p,h,E){return(0,St.w)(D=>function(m,p,h,E,D){return new Ta(m,p,h,E,D).apply()}(m,p,h,D.extractedUrl,E).pipe((0,rt.U)(P=>Object.assign(Object.assign({},D),{urlAfterRedirects:P}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,tn.b)(It=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:It.urlAfterRedirects})}),function(m,p,h,E,D){return(0,rn.zg)(P=>function(m,p,h,E,D="emptyOnly",P="legacy"){try{const Y=new Hl(m,p,h,E,D,P).recognize();return null===Y?ea(new Ul):(0,ge.of)(Y)}catch(Y){return ea(Y)}}(m,p,P.urlAfterRedirects,h(P.urlAfterRedirects),E,D).pipe((0,rt.U)(Y=>Object.assign(Object.assign({},P),{targetSnapshot:Y}))))}(this.rootComponentType,this.config,It=>this.serializeUrl(It),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,tn.b)(It=>{"eager"===this.urlUpdateStrategy&&(It.extras.skipLocationChange||this.setBrowserUrl(It.urlAfterRedirects,It),this.browserUrlTree=It.urlAfterRedirects);const fn=new ut(It.id,this.serializeUrl(It.extractedUrl),this.serializeUrl(It.urlAfterRedirects),It.targetSnapshot);E.next(fn)}));if(ht&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:fn,extractedUrl:Qt,source:_r,restoredState:fr,extras:Rr}=re,Ar=new Ie(fn,this.serializeUrl(Qt),_r,fr);E.next(Ar);const wi=Ue(Qt,this.rootComponentType).snapshot;return(0,ge.of)(Object.assign(Object.assign({},re),{targetSnapshot:wi,urlAfterRedirects:Qt,extras:Object.assign(Object.assign({},Rr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=re.rawUrl,this.browserUrlTree=re.urlAfterRedirects,re.resolve(null),_t.E}),Vn(re=>{const{targetSnapshot:Pe,id:ht,extractedUrl:nn,rawUrl:It,extras:{skipLocationChange:fn,replaceUrl:Qt}}=re;return this.hooks.beforePreactivation(Pe,{navigationId:ht,appliedUrlTree:nn,rawUrlTree:It,skipLocationChange:!!fn,replaceUrl:!!Qt})}),(0,tn.b)(re=>{const Pe=new Bt(re.id,this.serializeUrl(re.extractedUrl),this.serializeUrl(re.urlAfterRedirects),re.targetSnapshot);this.triggerEvent(Pe)}),(0,rt.U)(re=>Object.assign(Object.assign({},re),{guards:_s(re.targetSnapshot,re.currentSnapshot,this.rootContexts)})),function(m,p){return(0,rn.zg)(h=>{const{targetSnapshot:E,currentSnapshot:D,guards:{canActivateChecks:P,canDeactivateChecks:Y}}=h;return 0===Y.length&&0===P.length?(0,ge.of)(Object.assign(Object.assign({},h),{guardsResult:!0})):function(m,p,h,E){return(0,ze.D)(m).pipe((0,rn.zg)(D=>function(m,p,h,E,D){const P=p&&p.routeConfig?p.routeConfig.canDeactivate:null;if(!P||0===P.length)return(0,ge.of)(!0);const Y=P.map(re=>{const Pe=Vi(re,p,D);let ht;if(function(m){return m&&kr(m.canDeactivate)}(Pe))ht=Ut(Pe.canDeactivate(m,p,h,E));else{if(!kr(Pe))throw new Error("Invalid CanDeactivate guard");ht=Ut(Pe(m,p,h,E))}return ht.pipe((0,cn.P)())});return(0,ge.of)(Y).pipe(Yr())}(D.component,D.route,h,p,E)),(0,cn.P)(D=>!0!==D,!0))}(Y,E,D,m).pipe((0,rn.zg)(re=>re&&function(m){return"boolean"==typeof m}(re)?function(m,p,h,E){return(0,ze.D)(p).pipe((0,Nt.b)(D=>Ne(function(m,p){return null!==m&&p&&p(new gi(m)),(0,ge.of)(!0)}(D.route.parent,E),function(m,p){return null!==m&&p&&p(new lt(m)),(0,ge.of)(!0)}(D.route,E),function(m,p,h){const E=p[p.length-1],P=p.slice(0,p.length-1).reverse().map(Y=>function(m){const p=m.routeConfig?m.routeConfig.canActivateChild:null;return p&&0!==p.length?{node:m,guards:p}:null}(Y)).filter(Y=>null!==Y).map(Y=>ct(()=>{const re=Y.guards.map(Pe=>{const ht=Vi(Pe,Y.node,h);let nn;if(function(m){return m&&kr(m.canActivateChild)}(ht))nn=Ut(ht.canActivateChild(E,m));else{if(!kr(ht))throw new Error("Invalid CanActivateChild guard");nn=Ut(ht(E,m))}return nn.pipe((0,cn.P)())});return(0,ge.of)(re).pipe(Yr())}));return(0,ge.of)(P).pipe(Yr())}(m,D.path,h),function(m,p,h){const E=p.routeConfig?p.routeConfig.canActivate:null;if(!E||0===E.length)return(0,ge.of)(!0);const D=E.map(P=>ct(()=>{const Y=Vi(P,p,h);let re;if(function(m){return m&&kr(m.canActivate)}(Y))re=Ut(Y.canActivate(p,m));else{if(!kr(Y))throw new Error("Invalid CanActivate guard");re=Ut(Y(p,m))}return re.pipe((0,cn.P)())}));return(0,ge.of)(D).pipe(Yr())}(m,D.route,h))),(0,cn.P)(D=>!0!==D,!0))}(E,P,m,p):(0,ge.of)(re)),(0,rt.U)(re=>Object.assign(Object.assign({},h),{guardsResult:re})))})}(this.ngModule.injector,re=>this.triggerEvent(re)),(0,tn.b)(re=>{if(mi(re.guardsResult)){const ht=Hr(`Redirecting to "${this.serializeUrl(re.guardsResult)}"`);throw ht.url=re.guardsResult,ht}const Pe=new wt(re.id,this.serializeUrl(re.extractedUrl),this.serializeUrl(re.urlAfterRedirects),re.targetSnapshot,!!re.guardsResult);this.triggerEvent(Pe)}),(0,kt.h)(re=>!!re.guardsResult||(this.restoreHistory(re),this.cancelNavigationTransition(re,""),!1)),Vn(re=>{if(re.guards.canActivateChecks.length)return(0,ge.of)(re).pipe((0,tn.b)(Pe=>{const ht=new En(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot);this.triggerEvent(ht)}),(0,St.w)(Pe=>{let ht=!1;return(0,ge.of)(Pe).pipe(function(m,p){return(0,rn.zg)(h=>{const{targetSnapshot:E,guards:{canActivateChecks:D}}=h;if(!D.length)return(0,ge.of)(h);let P=0;return(0,ze.D)(D).pipe((0,Nt.b)(Y=>function(m,p,h,E){return function(m,p,h,E){const D=Object.keys(m);if(0===D.length)return(0,ge.of)({});const P={};return(0,ze.D)(D).pipe((0,rn.zg)(Y=>function(m,p,h,E){const D=Vi(m,p,E);return Ut(D.resolve?D.resolve(p,h):D(p,h))}(m[Y],p,h,E).pipe((0,tn.b)(re=>{P[Y]=re}))),X(1),(0,rn.zg)(()=>Object.keys(P).length===D.length?(0,ge.of)(P):_t.E))}(m._resolve,m,p,E).pipe((0,rt.U)(P=>(m._resolvedData=P,m.data=Object.assign(Object.assign({},m.data),Gn(m,h).resolve),null)))}(Y.route,E,m,p)),(0,tn.b)(()=>P++),X(1),(0,rn.zg)(Y=>P===D.length?(0,ge.of)(h):_t.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,tn.b)({next:()=>ht=!0,complete:()=>{ht||(this.restoreHistory(Pe),this.cancelNavigationTransition(Pe,"At least one route resolver didn't emit any value."))}}))}),(0,tn.b)(Pe=>{const ht=new Qn(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot);this.triggerEvent(ht)}))}),Vn(re=>{const{targetSnapshot:Pe,id:ht,extractedUrl:nn,rawUrl:It,extras:{skipLocationChange:fn,replaceUrl:Qt}}=re;return this.hooks.afterPreactivation(Pe,{navigationId:ht,appliedUrlTree:nn,rawUrlTree:It,skipLocationChange:!!fn,replaceUrl:!!Qt})}),(0,rt.U)(re=>{const Pe=function(m,p,h){const E=qr(m,p._root,h?h._root:void 0);return new et(E,p)}(this.routeReuseStrategy,re.targetSnapshot,re.currentRouterState);return Object.assign(Object.assign({},re),{targetRouterState:Pe})}),(0,tn.b)(re=>{this.currentUrlTree=re.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl),this.routerState=re.targetRouterState,"deferred"===this.urlUpdateStrategy&&(re.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,re),this.browserUrlTree=re.urlAfterRedirects)}),((m,p,h)=>(0,rt.U)(E=>(new ps(p,E.targetRouterState,E.currentRouterState,h).activate(m),E)))(this.rootContexts,this.routeReuseStrategy,re=>this.triggerEvent(re)),(0,tn.b)({next(){P=!0},complete(){P=!0}}),function(m){return p=>p.lift(new ke(m))}(()=>{var re;if(!P&&!Y){const Pe=`Navigation ID ${D.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(D),this.cancelNavigationTransition(D,Pe)):this.cancelNavigationTransition(D,Pe)}(null===(re=this.currentNavigation)||void 0===re?void 0:re.id)===D.id&&(this.currentNavigation=null)}),(0,Mt.K)(re=>{if(Y=!0,function(m){return m&&m[Xn]}(re)){const Pe=mi(re.url);Pe||(this.navigated=!0,this.restoreHistory(D,!0));const ht=new Je(D.id,this.serializeUrl(D.extractedUrl),re.message);E.next(ht),Pe?setTimeout(()=>{const nn=this.urlHandlingStrategy.merge(re.url,this.rawUrlTree),It={skipLocationChange:D.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ai(D.source)};this.scheduleNavigation(nn,"imperative",null,It,{resolve:D.resolve,reject:D.reject,promise:D.promise})},0):D.resolve(!1)}else{this.restoreHistory(D,!0);const Pe=new Ee(D.id,this.serializeUrl(D.extractedUrl),re);E.next(Pe);try{D.resolve(this.errorHandler(re))}catch(ht){D.reject(ht)}}return _t.E}))}))}resetRootComponentType(h){this.rootComponentType=h,this.routerState.root.component=this.rootComponentType}getTransition(){const h=this.transitions.value;return h.urlAfterRedirects=this.browserUrlTree,h}setTransition(h){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),h))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(h=>{const E=this.extractLocationChangeInfoFromEvent(h);this.shouldScheduleNavigation(this.lastLocationChangeInfo,E)&&setTimeout(()=>{const{source:D,state:P,urlTree:Y}=E,re={replaceUrl:!0};if(P){const Pe=Object.assign({},P);delete Pe.navigationId,delete Pe.\u0275routerPageId,0!==Object.keys(Pe).length&&(re.state=Pe)}this.scheduleNavigation(Y,D,P,re)},0),this.lastLocationChangeInfo=E}))}extractLocationChangeInfoFromEvent(h){var E;return{source:"popstate"===h.type?"popstate":"hashchange",urlTree:this.parseUrl(h.url),state:(null===(E=h.state)||void 0===E?void 0:E.navigationId)?h.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(h,E){if(!h)return!0;const D=E.urlTree.toString()===h.urlTree.toString();return E.transitionId!==h.transitionId||!D||!("hashchange"===E.source&&"popstate"===h.source||"popstate"===E.source&&"hashchange"===h.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(h){this.events.next(h)}resetConfig(h){b(h),this.config=h.map(F),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(h,E={}){const{relativeTo:D,queryParams:P,fragment:Y,queryParamsHandling:re,preserveFragment:Pe}=E,ht=D||this.routerState.root,nn=Pe?this.currentUrlTree.fragment:Y;let It=null;switch(re){case"merge":It=Object.assign(Object.assign({},this.currentUrlTree.queryParams),P);break;case"preserve":It=this.currentUrlTree.queryParams;break;default:It=P||null}return null!==It&&(It=this.removeEmptyProps(It)),function(m,p,h,E,D){if(0===h.length)return Vo(p.root,p.root,p,E,D);const P=function(m){if("string"==typeof m[0]&&1===m.length&&"/"===m[0])return new qt(!0,0,m);let p=0,h=!1;const E=m.reduce((D,P,Y)=>{if("object"==typeof P&&null!=P){if(P.outlets){const re={};return Et(P.outlets,(Pe,ht)=>{re[ht]="string"==typeof Pe?Pe.split("/"):Pe}),[...D,{outlets:re}]}if(P.segmentPath)return[...D,P.segmentPath]}return"string"!=typeof P?[...D,P]:0===Y?(P.split("/").forEach((re,Pe)=>{0==Pe&&"."===re||(0==Pe&&""===re?h=!0:".."===re?p++:""!=re&&D.push(re))}),D):[...D,P]},[]);return new qt(h,p,E)}(h);if(P.toRoot())return Vo(p.root,new mt([],{}),p,E,D);const Y=function(m,p,h){if(m.isAbsolute)return new Fi(p.root,!0,0);if(-1===h.snapshot._lastPathIndex){const P=h.snapshot._urlSegment;return new Fi(P,P===p.root,0)}const E=ko(m.commands[0])?0:1;return function(m,p,h){let E=m,D=p,P=h;for(;P>D;){if(P-=D,E=E.parent,!E)throw new Error("Invalid number of '../'");D=E.segments.length}return new Fi(E,!1,D-P)}(h.snapshot._urlSegment,h.snapshot._lastPathIndex+E,m.numberOfDoubleDots)}(P,p,m),re=Y.processChildren?Uo(Y.segmentGroup,Y.index,P.commands):nr(Y.segmentGroup,Y.index,P.commands);return Vo(Y.segmentGroup,re,p,E,D)}(ht,this.currentUrlTree,h,It,null!=nn?nn:null)}navigateByUrl(h,E={skipLocationChange:!1}){const D=mi(h)?h:this.parseUrl(h),P=this.urlHandlingStrategy.merge(D,this.rawUrlTree);return this.scheduleNavigation(P,"imperative",null,E)}navigate(h,E={skipLocationChange:!1}){return function(m){for(let p=0;p<m.length;p++){const h=m[p];if(null==h)throw new Error(`The requested path contains ${h} segment at index ${p}`)}}(h),this.navigateByUrl(this.createUrlTree(h,E),E)}serializeUrl(h){return this.urlSerializer.serialize(h)}parseUrl(h){let E;try{E=this.urlSerializer.parse(h)}catch(D){E=this.malformedUriErrorHandler(D,this.urlSerializer,h)}return E}isActive(h,E){let D;if(D=!0===E?Object.assign({},Ci):!1===E?Object.assign({},xa):E,mi(h))return Mn(this.currentUrlTree,h,D);const P=this.parseUrl(h);return Mn(this.currentUrlTree,P,D)}removeEmptyProps(h){return Object.keys(h).reduce((E,D)=>{const P=h[D];return null!=P&&(E[D]=P),E},{})}processNavigations(){this.navigations.subscribe(h=>{this.navigated=!0,this.lastSuccessfulId=h.id,this.currentPageId=h.targetPageId,this.events.next(new Oe(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,h.resolve(!0)},h=>{this.console.warn(`Unhandled Navigation Error: ${h}`)})}scheduleNavigation(h,E,D,P,Y){var re,Pe;if(this.disposed)return Promise.resolve(!1);const ht=this.getTransition(),nn=ai(E)&&ht&&!ai(ht.source),Qt=(this.lastSuccessfulId===ht.id||this.currentNavigation?ht.rawUrl:ht.urlAfterRedirects).toString()===h.toString();if(nn&&Qt)return Promise.resolve(!0);let _r,fr,Rr;Y?(_r=Y.resolve,fr=Y.reject,Rr=Y.promise):Rr=new Promise((Wi,xs)=>{_r=Wi,fr=xs});const Ar=++this.navigationId;let wi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(D=this.location.getState()),wi=D&&D.\u0275routerPageId?D.\u0275routerPageId:P.replaceUrl||P.skipLocationChange?null!==(re=this.browserPageId)&&void 0!==re?re:0:(null!==(Pe=this.browserPageId)&&void 0!==Pe?Pe:0)+1):wi=0,this.setTransition({id:Ar,targetPageId:wi,source:E,restoredState:D,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:h,extras:P,resolve:_r,reject:fr,promise:Rr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rr.catch(Wi=>Promise.reject(Wi))}setBrowserUrl(h,E){const D=this.urlSerializer.serialize(h),P=Object.assign(Object.assign({},E.extras.state),this.generateNgRouterState(E.id,E.targetPageId));this.location.isCurrentPathEqualTo(D)||E.extras.replaceUrl?this.location.replaceState(D,"",P):this.location.go(D,"",P)}restoreHistory(h,E=!1){var D,P;if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-h.targetPageId;"popstate"!==h.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(D=this.currentNavigation)||void 0===D?void 0:D.finalUrl)||0===Y?this.currentUrlTree===(null===(P=this.currentNavigation)||void 0===P?void 0:P.finalUrl)&&0===Y&&(this.resetState(h),this.browserUrlTree=h.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Y)}else"replace"===this.canceledNavigationResolution&&(E&&this.resetState(h),this.resetUrlToCurrentUrlTree())}resetState(h){this.routerState=h.currentRouterState,this.currentUrlTree=h.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,h.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(h,E){const D=new Je(h.id,this.serializeUrl(h.extractedUrl),E);this.triggerEvent(D),h.resolve(!1)}generateNgRouterState(h,E){return"computed"===this.canceledNavigationResolution?{navigationId:h,\u0275routerPageId:E}:{navigationId:h}}}return m.\u0275fac=function(h){return new(h||m)(R.LFG(R.DyG),R.LFG(ot),R.LFG(zn),R.LFG(T.Ye),R.LFG(R.zs3),R.LFG(R.v3s),R.LFG(R.Sil),R.LFG(void 0))},m.\u0275prov=R.Yz7({token:m,factory:m.\u0275fac}),m})();function ai(m){return"imperative"!==m}let Vr=(()=>{class m{constructor(h,E,D){this.router=h,this.route=E,this.locationStrategy=D,this.commands=[],this.onChanges=new S.xQ,this.subscription=h.events.subscribe(P=>{P instanceof Oe&&this.updateTargetUrlAndHref()})}set routerLink(h){this.commands=null!=h?Array.isArray(h)?h:[h]:[]}ngOnChanges(h){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(h,E,D,P,Y){if(0!==h||E||D||P||Y||"string"==typeof this.target&&"_self"!=this.target)return!0;const re={skipLocationChange:Di(this.skipLocationChange),replaceUrl:Di(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,re),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Di(this.preserveFragment)})}}return m.\u0275fac=function(h){return new(h||m)(R.Y36(yn),R.Y36(Rt),R.Y36(T.S$))},m.\u0275dir=R.lG2({type:m,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(h,E){1&h&&R.NdJ("click",function(P){return E.onClick(P.button,P.ctrlKey,P.shiftKey,P.altKey,P.metaKey)}),2&h&&(R.Ikx("href",E.href,R.LSH),R.uIk("target",E.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[R.TTD]}),m})();function Di(m){return""===m||!!m}let Pa=(()=>{class m{constructor(h,E,D,P,Y){this.parentContexts=h,this.location=E,this.resolver=D,this.changeDetector=Y,this.activated=null,this._activatedRoute=null,this.activateEvents=new R.vpe,this.deactivateEvents=new R.vpe,this.name=P||Tt,h.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const h=this.parentContexts.getContext(this.name);h&&h.route&&(h.attachRef?this.attach(h.attachRef,h.route):this.activateWith(h.route,h.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const h=this.activated;return this.activated=null,this._activatedRoute=null,h}attach(h,E){this.activated=h,this._activatedRoute=E,this.location.insert(h.hostView)}deactivate(){if(this.activated){const h=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(h)}}activateWith(h,E){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=h;const Y=(E=E||this.resolver).resolveComponentFactory(h._futureSnapshot.routeConfig.component),re=this.parentContexts.getOrCreateContext(this.name).children,Pe=new oc(h,re,this.location.injector);this.activated=this.location.createComponent(Y,this.location.length,Pe),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return m.\u0275fac=function(h){return new(h||m)(R.Y36(zn),R.Y36(R.s_b),R.Y36(R._Vd),R.$8M("name"),R.Y36(R.sBO))},m.\u0275dir=R.lG2({type:m,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),m})();class oc{constructor(p,h,E){this.route=p,this.childContexts=h,this.parent=E}get(p,h){return p===Rt?this.route:p===zn?this.childContexts:this.parent.get(p,h)}}class Yo{}class zo{preload(p,h){return(0,ge.of)(null)}}let ho=(()=>{class m{constructor(h,E,D,P,Y){this.router=h,this.injector=P,this.preloadingStrategy=Y,this.loader=new Ts(E,D,ht=>h.triggerEvent(new xn(ht)),ht=>h.triggerEvent(new pn(ht)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,kt.h)(h=>h instanceof Oe),(0,Nt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const h=this.injector.get(R.h0i);return this.processRoutes(h,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(h,E){const D=[];for(const P of E)if(P.loadChildren&&!P.canLoad&&P._loadedConfig){const Y=P._loadedConfig;D.push(this.processRoutes(Y.module,Y.routes))}else P.loadChildren&&!P.canLoad?D.push(this.preloadConfig(h,P)):P.children&&D.push(this.processRoutes(h,P.children));return(0,ze.D)(D).pipe((0,Me.J)(),(0,rt.U)(P=>{}))}preloadConfig(h,E){return this.preloadingStrategy.preload(E,()=>(E._loadedConfig?(0,ge.of)(E._loadedConfig):this.loader.load(h.injector,E)).pipe((0,rn.zg)(P=>(E._loadedConfig=P,this.processRoutes(P.module,P.routes)))))}}return m.\u0275fac=function(h){return new(h||m)(R.LFG(yn),R.LFG(R.v3s),R.LFG(R.Sil),R.LFG(R.zs3),R.LFG(Yo))},m.\u0275prov=R.Yz7({token:m,factory:m.\u0275fac}),m})(),Rs=(()=>{class m{constructor(h,E,D={}){this.router=h,this.viewportScroller=E,this.options=D,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},D.scrollPositionRestoration=D.scrollPositionRestoration||"disabled",D.anchorScrolling=D.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(h=>{h instanceof Ie?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=h.navigationTrigger,this.restoredId=h.restoredState?h.restoredState.navigationId:0):h instanceof Oe&&(this.lastId=h.id,this.scheduleScrollEvent(h,this.router.parseUrl(h.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(h=>{h instanceof br&&(h.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(h.position):h.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(h.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(h,E){this.router.triggerEvent(new br(h,"popstate"===this.lastSource?this.store[this.restoredId]:null,E))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return m.\u0275fac=function(h){return new(h||m)(R.LFG(yn),R.LFG(T.EM),R.LFG(void 0))},m.\u0275prov=R.Yz7({token:m,factory:m.\u0275fac}),m})();const Sr=new R.OlP("ROUTER_CONFIGURATION"),Na=new R.OlP("ROUTER_FORROOT_GUARD"),ta=[T.Ye,{provide:ot,useClass:jt},{provide:yn,useFactory:function(m,p,h,E,D,P,Y,re={},Pe,ht){const nn=new yn(null,m,p,h,E,D,P,fe(Y));return Pe&&(nn.urlHandlingStrategy=Pe),ht&&(nn.routeReuseStrategy=ht),function(m,p){m.errorHandler&&(p.errorHandler=m.errorHandler),m.malformedUriErrorHandler&&(p.malformedUriErrorHandler=m.malformedUriErrorHandler),m.onSameUrlNavigation&&(p.onSameUrlNavigation=m.onSameUrlNavigation),m.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=m.paramsInheritanceStrategy),m.relativeLinkResolution&&(p.relativeLinkResolution=m.relativeLinkResolution),m.urlUpdateStrategy&&(p.urlUpdateStrategy=m.urlUpdateStrategy)}(re,nn),re.enableTracing&&nn.events.subscribe(It=>{var fn,Qt;null===(fn=console.group)||void 0===fn||fn.call(console,`Router Event: ${It.constructor.name}`),console.log(It.toString()),console.log(It),null===(Qt=console.groupEnd)||void 0===Qt||Qt.call(console)}),nn},deps:[ot,zn,T.Ye,R.zs3,R.v3s,R.Sil,oi,Sr,[class{},new R.FiY],[class{},new R.FiY]]},zn,{provide:Rt,useFactory:function(m){return m.routerState.root},deps:[yn]},{provide:R.v3s,useClass:R.EAV},ho,zo,class{preload(p,h){return h().pipe((0,Mt.K)(()=>(0,ge.of)(null)))}},{provide:Sr,useValue:{enableTracing:!1}}];function Hi(){return new R.PXZ("Router",yn)}let Fa=(()=>{class m{constructor(h,E){}static forRoot(h,E){return{ngModule:m,providers:[ta,As(h),{provide:Na,useFactory:Ql,deps:[[yn,new R.FiY,new R.tp0]]},{provide:Sr,useValue:E||{}},{provide:T.S$,useFactory:Ko,deps:[T.lw,[new R.tBr(T.mr),new R.FiY],Sr]},{provide:Rs,useFactory:na,deps:[yn,T.EM,Sr]},{provide:Yo,useExisting:E&&E.preloadingStrategy?E.preloadingStrategy:zo},{provide:R.PXZ,multi:!0,useFactory:Hi},[mo,{provide:R.ip1,multi:!0,useFactory:Qo,deps:[mo]},{provide:oa,useFactory:ia,deps:[mo]},{provide:R.tb,multi:!0,useExisting:oa}]]}}static forChild(h){return{ngModule:m,providers:[As(h)]}}}return m.\u0275fac=function(h){return new(h||m)(R.LFG(Na,8),R.LFG(yn,8))},m.\u0275mod=R.oAB({type:m}),m.\u0275inj=R.cJS({}),m})();function na(m,p,h){return h.scrollOffset&&p.setOffset(h.scrollOffset),new Rs(m,p,h)}function Ko(m,p,h={}){return h.useHash?new T.Do(m,p):new T.b0(m,p)}function Ql(m){return"guarded"}function As(m){return[{provide:R.deG,multi:!0,useValue:m},{provide:oi,multi:!0,useValue:m}]}let mo=(()=>{class m{constructor(h){this.injector=h,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new S.xQ}appInitializer(){return this.injector.get(T.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let E=null;const D=new Promise(re=>E=re),P=this.injector.get(yn),Y=this.injector.get(Sr);return"disabled"===Y.initialNavigation?(P.setUpLocationChangeListener(),E(!0)):"enabled"===Y.initialNavigation||"enabledBlocking"===Y.initialNavigation?(P.hooks.afterPreactivation=()=>this.initNavigation?(0,ge.of)(null):(this.initNavigation=!0,E(!0),this.resultOfPreactivationDone),P.initialNavigation()):E(!0),D})}bootstrapListener(h){const E=this.injector.get(Sr),D=this.injector.get(ho),P=this.injector.get(Rs),Y=this.injector.get(yn),re=this.injector.get(R.z2F);h===re.components[0]&&(("enabledNonBlocking"===E.initialNavigation||void 0===E.initialNavigation)&&Y.initialNavigation(),D.setUpPreloading(),P.init(),Y.resetRootComponentType(re.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return m.\u0275fac=function(h){return new(h||m)(R.LFG(R.zs3))},m.\u0275prov=R.Yz7({token:m,factory:m.\u0275fac}),m})();function Qo(m){return m.appInitializer.bind(m)}function ia(m){return m.bootstrapListener.bind(m)}const oa=new R.OlP("Router Initializer")},9759:(at,we,M)=>{"use strict";M.d(we,{Z:()=>nt});var ue,ct,T=M(4762),R=M(4685),S=M(6034),ee=M(300),j=((ue={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ue["bad-app-name"]="Illegal App name: '{$appName}",ue["duplicate-app"]="Firebase App named '{$appName}' already exists",ue["app-deleted"]="Firebase App named '{$appName}' already deleted",ue["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ue["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ue),le=new R.LL("app","Firebase",j),$="@firebase/app",Wt="[DEFAULT]",Xt=((ct={})[$]="fire-core",ct["@firebase/analytics"]="fire-analytics",ct["@firebase/app-check"]="fire-app-check",ct["@firebase/auth"]="fire-auth",ct["@firebase/database"]="fire-rtdb",ct["@firebase/functions"]="fire-fn",ct["@firebase/installations"]="fire-iid",ct["@firebase/messaging"]="fire-fcm",ct["@firebase/performance"]="fire-perf",ct["@firebase/remote-config"]="fire-rc",ct["@firebase/storage"]="fire-gcs",ct["@firebase/firestore"]="fire-fst",ct["fire-js"]="fire-js",ct["firebase-wrapper"]="fire-js-all",ct),Ft=new ee.Yd("@firebase/app"),kt=function(){function ke($e,rt,St){var Ot=this;this.firebase_=St,this.isDeleted_=!1,this.name_=rt.name,this.automaticDataCollectionEnabled_=rt.automaticDataCollectionEnabled||!1,this.options_=(0,R.p$)($e),this.container=new S.H0(rt.name),this._addComponent(new S.wA("app",function(){return Ot},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(an){return Ot._addComponent(an)})}return Object.defineProperty(ke.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function($e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=$e},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(ke.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),ke.prototype.delete=function(){var $e=this;return new Promise(function(rt){$e.checkDestroyed_(),rt()}).then(function(){return $e.firebase_.INTERNAL.removeApp($e.name_),Promise.all($e.container.getProviders().map(function(rt){return rt.delete()}))}).then(function(){$e.isDeleted_=!0})},ke.prototype._getService=function($e,rt){var St;void 0===rt&&(rt=Wt),this.checkDestroyed_();var Ot=this.container.getProvider($e);return!Ot.isInitialized()&&"EXPLICIT"===(null===(St=Ot.getComponent())||void 0===St?void 0:St.instantiationMode)&&Ot.initialize(),Ot.getImmediate({identifier:rt})},ke.prototype._removeServiceInstance=function($e,rt){void 0===rt&&(rt=Wt),this.container.getProvider($e).clearInstance(rt)},ke.prototype._addComponent=function($e){try{this.container.addComponent($e)}catch(rt){Ft.debug("Component "+$e.name+" failed to register with FirebaseApp "+this.name,rt)}},ke.prototype._addOrOverwriteComponent=function($e){this.container.addOrOverwriteComponent($e)},ke.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},ke.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw le.create("app-deleted",{appName:this.name_})},ke}();kt.prototype.name&&kt.prototype.options||kt.prototype.delete||console.log("dc");var ce=function X(){var ke=function(ke){var $e={},rt=new Map,St={__esModule:!0,initializeApp:function(pe,Ie){void 0===Ie&&(Ie={}),("object"!=typeof Ie||null===Ie)&&(Ie={name:Ie});var Je=Ie;void 0===Je.name&&(Je.name=Wt);var Ee=Je.name;if("string"!=typeof Ee||!Ee)throw le.create("bad-app-name",{appName:String(Ee)});if((0,R.r3)($e,Ee))throw le.create("duplicate-app",{appName:Ee});var ut=new ke(pe,Je,St);return $e[Ee]=ut,ut},app:an,registerVersion:function(pe,Ie,Oe){var Je,Ee=null!==(Je=Xt[pe])&&void 0!==Je?Je:pe;Oe&&(Ee+="-"+Oe);var ut=Ee.match(/\s|\//),Bt=Ie.match(/\s|\//);if(ut||Bt){var wt=['Unable to register library "'+Ee+'" with version "'+Ie+'":'];return ut&&wt.push('library name "'+Ee+'" contains illegal characters (whitespace or "/")'),ut&&Bt&&wt.push("and"),Bt&&wt.push('version name "'+Ie+'" contains illegal characters (whitespace or "/")'),void Ft.warn(wt.join(" "))}cn(new S.wA(Ee+"-version",function(){return{library:Ee,version:Ie}},"VERSION"))},setLogLevel:ee.Ub,onLog:function(pe,Ie){if(null!==pe&&"function"!=typeof pe)throw le.create("invalid-log-argument");(0,ee.Am)(pe,Ie)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:cn,removeApp:function(pe){delete $e[pe]},components:rt,useAsService:function(pe,Ie){return"serverAuth"===Ie?null:Ie}}};function an(pe){if(!(0,R.r3)($e,pe=pe||Wt))throw le.create("no-app",{appName:pe});return $e[pe]}function cn(pe){var Ie=pe.name;if(rt.has(Ie))return Ft.debug("There were multiple attempts to register component "+Ie+"."),"PUBLIC"===pe.type?St[Ie]:null;if(rt.set(Ie,pe),"PUBLIC"===pe.type){var Oe=function(Bt){if(void 0===Bt&&(Bt=an()),"function"!=typeof Bt[Ie])throw le.create("invalid-app-argument",{appName:Ie});return Bt[Ie]()};void 0!==pe.serviceProps&&(0,R.ZB)(Oe,pe.serviceProps),St[Ie]=Oe,ke.prototype[Ie]=function(){for(var Bt=[],wt=0;wt<arguments.length;wt++)Bt[wt]=arguments[wt];return this._getService.bind(this,Ie).apply(this,pe.multipleInstances?Bt:[])}}for(var Je=0,Ee=Object.keys($e);Je<Ee.length;Je++)$e[Ee[Je]]._addComponent(pe);return"PUBLIC"===pe.type?St[Ie]:null}return St.default=St,Object.defineProperty(St,"apps",{get:function(){return Object.keys($e).map(function(pe){return $e[pe]})}}),an.App=ke,St}(kt);return ke.INTERNAL=(0,T.pi)((0,T.pi)({},ke.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(rt){(0,R.ZB)(ke,rt)},createSubscribe:R.ne,ErrorFactory:R.LL,deepExtend:R.ZB}),ke}(),xe=function(){function ke($e){this.container=$e}return ke.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(rt){if(function(ke){var $e=ke.getComponent();return"VERSION"===(null==$e?void 0:$e.type)}(rt)){var St=rt.getImmediate();return St.library+"/"+St.version}return null}).filter(function(rt){return rt}).join(" ")},ke}();if((0,R.jU)()&&void 0!==self.firebase){Ft.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&Ft.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pt=ce.initializeApp;ce.initializeApp=function(){for(var ke=[],$e=0;$e<arguments.length;$e++)ke[$e]=arguments[$e];return(0,R.UG)()&&Ft.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),pt.apply(void 0,ke)};var ke,Ze=ce;(ke=Ze).INTERNAL.registerComponent(new S.wA("platform-logger",function(rt){return new xe(rt)},"PRIVATE")),ke.registerVersion($,"0.6.30",undefined),ke.registerVersion("fire-js","");const nt=Ze},6034:(at,we,M)=>{"use strict";M.d(we,{wA:()=>S,H0:()=>$,zt:()=>ue});var T=M(4762),R=M(4685),S=function(){function G(H,ne,V){this.name=H,this.instanceFactory=ne,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return G.prototype.setInstantiationMode=function(H){return this.instantiationMode=H,this},G.prototype.setMultipleInstances=function(H){return this.multipleInstances=H,this},G.prototype.setServiceProps=function(H){return this.serviceProps=H,this},G.prototype.setInstanceCreatedCallback=function(H){return this.onInstanceCreated=H,this},G}(),ee="[DEFAULT]",ue=function(){function G(H,ne){this.name=H,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return G.prototype.get=function(H){var ne=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(ne)){var V=new R.BH;if(this.instancesDeferred.set(ne,V),this.isInitialized(ne)||this.shouldAutoInitialize())try{var te=this.getOrInitializeService({instanceIdentifier:ne});te&&V.resolve(te)}catch(be){}}return this.instancesDeferred.get(ne).promise},G.prototype.getImmediate=function(H){var ne,V=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),te=null!==(ne=null==H?void 0:H.optional)&&void 0!==ne&&ne;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(te)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(be){if(te)return null;throw be}},G.prototype.getComponent=function(){return this.component},G.prototype.setComponent=function(H){var ne,V;if(H.name!==this.name)throw Error("Mismatching Component "+H.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=H,this.shouldAutoInitialize()){if(function(G){return"EAGER"===G.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(ze){}try{for(var te=(0,T.XA)(this.instancesDeferred.entries()),be=te.next();!be.done;be=te.next()){var ge=(0,T.CR)(be.value,2),it=ge[1],Ne=this.normalizeInstanceIdentifier(ge[0]);try{var Se=this.getOrInitializeService({instanceIdentifier:Ne});it.resolve(Se)}catch(ze){}}}catch(ze){ne={error:ze}}finally{try{be&&!be.done&&(V=te.return)&&V.call(te)}finally{if(ne)throw ne.error}}}},G.prototype.clearInstance=function(H){void 0===H&&(H=ee),this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)},G.prototype.delete=function(){return(0,T.mG)(this,void 0,void 0,function(){var H;return(0,T.Jh)(this,function(ne){switch(ne.label){case 0:return H=Array.from(this.instances.values()),[4,Promise.all((0,T.ev)((0,T.ev)([],(0,T.CR)(H.filter(function(V){return"INTERNAL"in V}).map(function(V){return V.INTERNAL.delete()}))),(0,T.CR)(H.filter(function(V){return"_delete"in V}).map(function(V){return V._delete()}))))];case 1:return ne.sent(),[2]}})})},G.prototype.isComponentSet=function(){return null!=this.component},G.prototype.isInitialized=function(H){return void 0===H&&(H=ee),this.instances.has(H)},G.prototype.getOptions=function(H){return void 0===H&&(H=ee),this.instancesOptions.get(H)||{}},G.prototype.initialize=function(H){var ne,V;void 0===H&&(H={});var te=H.options,be=void 0===te?{}:te,ge=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ge))throw Error(this.name+"("+ge+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Me=this.getOrInitializeService({instanceIdentifier:ge,options:be});try{for(var it=(0,T.XA)(this.instancesDeferred.entries()),Ne=it.next();!Ne.done;Ne=it.next()){var Se=(0,T.CR)(Ne.value,2),_t=Se[1];ge===this.normalizeInstanceIdentifier(Se[0])&&_t.resolve(Me)}}catch(Wt){ne={error:Wt}}finally{try{Ne&&!Ne.done&&(V=it.return)&&V.call(it)}finally{if(ne)throw ne.error}}return Me},G.prototype.onInit=function(H,ne){var V,te=this.normalizeInstanceIdentifier(ne),be=null!==(V=this.onInitCallbacks.get(te))&&void 0!==V?V:new Set;be.add(H),this.onInitCallbacks.set(te,be);var ge=this.instances.get(te);return ge&&H(ge,te),function(){be.delete(H)}},G.prototype.invokeOnInitCallbacks=function(H,ne){var V,te,be=this.onInitCallbacks.get(ne);if(be)try{for(var ge=(0,T.XA)(be),Me=ge.next();!Me.done;Me=ge.next()){var it=Me.value;try{it(H,ne)}catch(Ne){}}}catch(Ne){V={error:Ne}}finally{try{Me&&!Me.done&&(te=ge.return)&&te.call(ge)}finally{if(V)throw V.error}}},G.prototype.getOrInitializeService=function(H){var ne=H.instanceIdentifier,V=H.options,te=void 0===V?{}:V,be=this.instances.get(ne);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:j(ne),options:te}),this.instances.set(ne,be),this.instancesOptions.set(ne,te),this.invokeOnInitCallbacks(be,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,be)}catch(ge){}return be||null},G.prototype.normalizeInstanceIdentifier=function(H){return void 0===H&&(H=ee),this.component?this.component.multipleInstances?H:ee:H},G.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},G}();function j(G){return G===ee?void 0:G}var $=function(){function G(H){this.name=H,this.providers=new Map}return G.prototype.addComponent=function(H){var ne=this.getProvider(H.name);if(ne.isComponentSet())throw new Error("Component "+H.name+" has already been registered with "+this.name);ne.setComponent(H)},G.prototype.addOrOverwriteComponent=function(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)},G.prototype.getProvider=function(H){if(this.providers.has(H))return this.providers.get(H);var ne=new ue(H,this);return this.providers.set(H,ne),ne},G.prototype.getProviders=function(){return Array.from(this.providers.values())},G}()},9192:(at,we,M)=>{"use strict";var T=M(9759),R=M(6034),S=M(4685),ee=M(4762),ue=M(300);at=M.hmd(at);var $="";function G(o){$=o}var o,H=function(){function o(i){this.domStorage_=i,this.prefix_="firebase:"}return o.prototype.set=function(i,a){null==a?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,S.Pz)(a))},o.prototype.get=function(i){var a=this.domStorage_.getItem(this.prefixedName_(i));return null==a?null:(0,S.cI)(a)},o.prototype.remove=function(i){this.domStorage_.removeItem(this.prefixedName_(i))},o.prototype.prefixedName_=function(i){return this.prefix_+i},o.prototype.toString=function(){return this.domStorage_.toString()},o}(),ne=function(){function o(){this.cache_={},this.isInMemoryStorage=!0}return o.prototype.set=function(i,a){null==a?delete this.cache_[i]:this.cache_[i]=a},o.prototype.get=function(i){return(0,S.r3)(this.cache_,i)?this.cache_[i]:null},o.prototype.remove=function(i){delete this.cache_[i]},o}(),V=function(o){try{if("undefined"!=typeof window&&void 0!==window[o]){var i=window[o];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new H(i)}}catch(a){}return new ne},te=V("localStorage"),be=V("sessionStorage"),ge=new ue.Yd("@firebase/database"),Me=(o=1,function(){return o++}),it=function(o){var i=(0,S.dS)(o),a=new S.gQ;a.update(i);var u=a.digest();return S.US.encodeByteArray(u)},Ne=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];for(var a="",u=0;u<o.length;u++){var f=o[u];Array.isArray(f)||f&&"object"==typeof f&&"number"==typeof f.length?a+=Ne.apply(null,f):a+="object"==typeof f?(0,S.Pz)(f):f,a+=" "}return a},Se=null,ze=!0,_t=function(o,i){(0,S.hu)(!i||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(ge.logLevel=ue.in.VERBOSE,Se=ge.log.bind(ge),i&&be.set("logging_enabled",!0)):"function"==typeof o?Se=o:(Se=null,be.remove("logging_enabled"))},ct=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(!0===ze&&(ze=!1,null===Se&&!0===be.get("logging_enabled")&&_t(!0)),Se){var a=Ne.apply(null,o);Se(a)}},Wt=function(o){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];ct.apply(void 0,(0,ee.ev)([o],(0,ee.CR)(i)))}},Xt=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a="FIREBASE INTERNAL ERROR: "+Ne.apply(void 0,(0,ee.ev)([],(0,ee.CR)(o)));ge.error(a)},Ft=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a="FIREBASE FATAL ERROR: "+Ne.apply(void 0,(0,ee.ev)([],(0,ee.CR)(o)));throw ge.error(a),new Error(a)},kt=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a="FIREBASE WARNING: "+Ne.apply(void 0,(0,ee.ev)([],(0,ee.CR)(o)));ge.warn(a)},ye=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},ce="[MIN_NAME]",xe="[MAX_NAME]",he=function(o,i){if(o===i)return 0;if(o===ce||i===xe)return-1;if(i===ce||o===xe)return 1;var a=Nt(o),u=Nt(i);return null!==a?null!==u?a-u==0?o.length-i.length:a-u:-1:null!==u?1:o<i?-1:1},Ye=function(o,i){return o===i?0:o<i?-1:1},We=function(o,i){if(i&&o in i)return i[o];throw new Error("Missing required key ("+o+") in object: "+(0,S.Pz)(i))},pt=function(o){if("object"!=typeof o||null===o)return(0,S.Pz)(o);var i=[];for(var a in o)i.push(a);i.sort();for(var u="{",f=0;f<i.length;f++)0!==f&&(u+=","),u+=(0,S.Pz)(i[f]),u+=":",u+=pt(o[i[f]]);return u+"}"},Ze=function(o,i){var a=o.length;if(a<=i)return[o];for(var u=[],f=0;f<a;f+=i)u.push(o.substring(f,f+i>a?a:f+i));return u};function nt(o,i){for(var a in o)o.hasOwnProperty(a)&&i(a,o[a])}var ke=function(o){(0,S.hu)(!ye(o),"Invalid JSON number");var f,v,C,O,L,u=1023;0===o?(v=0,C=0,f=1/o==-1/0?1:0):(f=o<0,(o=Math.abs(o))>=Math.pow(2,1-u)?(v=(O=Math.min(Math.floor(Math.log(o)/Math.LN2),u))+u,C=Math.round(o*Math.pow(2,52-O)-Math.pow(2,52))):(v=0,C=Math.round(o/Math.pow(2,-1074))));var W=[];for(L=52;L;L-=1)W.push(C%2?1:0),C=Math.floor(C/2);for(L=11;L;L-=1)W.push(v%2?1:0),v=Math.floor(v/2);W.push(f?1:0),W.reverse();var Z=W.join(""),_e="";for(L=0;L<64;L+=8){var Fe=parseInt(Z.substr(L,8),2).toString(16);1===Fe.length&&(Fe="0"+Fe),_e+=Fe}return _e.toLowerCase()},Ot=new RegExp("^-?(0*)\\d{1,10}$"),an=-2147483648,Mt=2147483647,Nt=function(o){if(Ot.test(o)){var i=Number(o);if(i>=an&&i<=Mt)return i}return null},cn=function(o){try{o()}catch(i){setTimeout(function(){throw kt("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},tn=function(o,i){var a=setTimeout(o,i);return"object"==typeof a&&a.unref&&a.unref(),a},Vt=function(){function o(i,a){var u=this;this.appName_=i,this.appCheckProvider=a,this.appCheck=null==a?void 0:a.getImmediate({optional:!0}),this.appCheck||null==a||a.get().then(function(f){return u.appCheck=f})}return o.prototype.getToken=function(i){var a=this;return this.appCheck?this.appCheck.getToken(i):new Promise(function(u,f){setTimeout(function(){a.appCheck?a.getToken(i).then(u,f):u(null)},0)})},o.prototype.addTokenChangeListener=function(i){var a;null===(a=this.appCheckProvider)||void 0===a||a.get().then(function(u){return u.addTokenListener(i)})},o.prototype.notifyForInvalidToken=function(){kt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},o}(),pe=function(){function o(i,a,u){var f=this;this.appName_=i,this.firebaseOptions_=a,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(function(v){return f.auth_=v})}return o.prototype.getToken=function(i){var a=this;return this.auth_?this.auth_.getToken(i).catch(function(u){return u&&"auth/token-not-initialized"===u.code?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(u)}):new Promise(function(u,f){setTimeout(function(){a.auth_?a.getToken(i).then(u,f):u(null)},0)})},o.prototype.addTokenChangeListener=function(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(function(a){return a.addAuthTokenListener(i)})},o.prototype.removeTokenChangeListener=function(i){this.authProvider_.get().then(function(a){return a.removeAuthTokenListener(i)})},o.prototype.notifyForInvalidToken=function(){var i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';kt(i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},o}(),Ie=function(){function o(i){this.accessToken=i}return o.prototype.getToken=function(i){return Promise.resolve({accessToken:this.accessToken})},o.prototype.addTokenChangeListener=function(i){i(this.accessToken)},o.prototype.removeTokenChangeListener=function(i){},o.prototype.notifyForInvalidToken=function(){},o.OWNER="owner",o}(),wt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pn="websocket",gi="long_polling",gn=function(){function o(i,a,u,f,v,C,O){void 0===v&&(v=!1),void 0===C&&(C=""),void 0===O&&(O=!1),this.secure=a,this.namespace=u,this.webSocketOnly=f,this.nodeAdmin=v,this.persistenceKey=C,this.includeNamespaceInQueryParams=O,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=te.get("host:"+i)||this._host}return o.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},o.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(o.prototype,"host",{get:function(){return this._host},set:function(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&te.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),o.prototype.toString=function(){var i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i},o.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},o}();function At(o,i,a){var u;if((0,S.hu)("string"==typeof i,"typeof type must == string"),(0,S.hu)("object"==typeof a,"typeof params must == object"),i===pn)u=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(i!==gi)throw new Error("Unknown connection type: "+i);u=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(a.ns=o.namespace);var f=[];return nt(a,function(v,C){f.push(v+"="+C)}),u+f.join("&")}var br=function(){function o(){this.counters_={}}return o.prototype.incrementCounter=function(i,a){void 0===a&&(a=1),(0,S.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=a},o.prototype.get=function(){return(0,S.p$)(this.counters_)},o}(),Tt={},Fn={};function Zt(o){var i=o.toString();return Tt[i]||(Tt[i]=new br),Tt[i]}var Hr=function(){function o(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return o.prototype.closeAfter=function(i,a){this.closeAfterResponse=i,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},o.prototype.handleResponse=function(i,a){var u=this;this.pendingResponses[i]=a;for(var f=function(){var O=v.pendingResponses[v.currentResponseNum];delete v.pendingResponses[v.currentResponseNum];for(var L=function(Z){O[Z]&&cn(function(){u.onMessage_(O[Z])})},W=0;W<O.length;++W)L(W);if(v.currentResponseNum===v.closeAfterResponse)return v.onClose&&(v.onClose(),v.onClose=null),"break";v.currentResponseNum++},v=this;this.pendingResponses[this.currentResponseNum]&&"break"!==f(););},o}(),J="close",Nr=function(){function o(i,a,u,f,v,C,O){var L=this;this.connId=i,this.repoInfo=a,this.applicationId=u,this.appCheckToken=f,this.authToken=v,this.transportSessionId=C,this.lastSessionId=O,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wt(i),this.stats_=Zt(a),this.urlFn=function(W){return L.appCheckToken&&(W.ac=L.appCheckToken),At(a,gi,W)}}return o.prototype.open=function(i,a){var u=this;this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new Hr(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){u.log_("Timed out trying to connect."),u.onClosed_(),u.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,S.Yr)()||"complete"===document.readyState)o();else{var i=!1,a=function(){document.body?i||(i=!0,o()):setTimeout(a,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&a()}),window.attachEvent("onload",a))}}(function(){if(!u.isClosed_){u.scriptTagHolder=new Jr(function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];var L=(0,ee.CR)(C,5),W=L[0],Z=L[1],_e=L[2];if(u.incrementIncomingBytes_(C),u.scriptTagHolder)if(u.connectTimeoutTimer_&&(clearTimeout(u.connectTimeoutTimer_),u.connectTimeoutTimer_=null),u.everConnected_=!0,"start"===W)u.id=Z,u.password=_e;else{if(W!==J)throw new Error("Unrecognized command received: "+W);Z?(u.scriptTagHolder.sendNewPolls=!1,u.myPacketOrderer.closeAfter(Z,function(){u.onClosed_()})):u.onClosed_()}},function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];var L=(0,ee.CR)(C,2),W=L[0],Z=L[1];u.incrementIncomingBytes_(C),u.myPacketOrderer.handleResponse(W,Z)},function(){u.onClosed_()},u.urlFn);var f={start:"t"};f.ser=Math.floor(1e8*Math.random()),u.scriptTagHolder.uniqueCallbackIdentifier&&(f.cb=u.scriptTagHolder.uniqueCallbackIdentifier),f.v="5",u.transportSessionId&&(f.s=u.transportSessionId),u.lastSessionId&&(f.ls=u.lastSessionId),u.applicationId&&(f.p=u.applicationId),u.appCheckToken&&(f.ac=u.appCheckToken),"undefined"!=typeof location&&location.hostname&&wt.test(location.hostname)&&(f.r="f");var v=u.urlFn(f);u.log_("Connecting via long-poll to "+v),u.scriptTagHolder.addTag(v,function(){})}})},o.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},o.forceAllow=function(){o.forceAllow_=!0},o.forceDisallow=function(){o.forceDisallow_=!0},o.isAvailable=function(){return!((0,S.Yr)()||!o.forceAllow_&&(o.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},o.prototype.markConnectionHealthy=function(){},o.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},o.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},o.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},o.prototype.send=function(i){var a=(0,S.Pz)(i);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);for(var u=(0,S.h$)(a),f=Ze(u,1840),v=0;v<f.length;v++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,f.length,f[v]),this.curSegmentNum++},o.prototype.addDisconnectPingFrame=function(i,a){if(!(0,S.Yr)()){this.myDisconnFrame=document.createElement("iframe");var u={dframe:"t"};u.id=i,u.pw=a,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},o.prototype.incrementIncomingBytes_=function(i){var a=(0,S.Pz)(i).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)},o}(),Jr=function(){function o(i,a,u,f){if(this.onDisconnect=u,this.urlFn=f,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,S.Yr)())this.commandCB=i,this.onMessageCB=a;else{this.uniqueCallbackIdentifier=Me(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=a,this.myIFrame=o.createIFrame_();var v="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(v='<script>document.domain="'+document.domain+'";<\/script>');var O="<html><body>"+v+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(O),this.myIFrame.doc.close()}catch(L){ct("frame writing exception"),L.stack&&ct(L.stack),ct(L)}}}return o.createIFrame_=function(){var i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||ct("No IE domain setting required")}catch(f){var u=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i},o.prototype.close=function(){var i=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==i.myIFrame&&(document.body.removeChild(i.myIFrame),i.myIFrame=null)},Math.floor(0)));var a=this.onDisconnect;a&&(this.onDisconnect=null,a())},o.prototype.startLongPoll=function(i,a){for(this.myID=i,this.myPW=a,this.alive=!0;this.newRequest_(););},o.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;for(var a=this.urlFn(i),u="",f=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){var C=this.pendingSegs.shift();u=u+"&seg"+f+"="+C.seg+"&ts"+f+"="+C.ts+"&d"+f+"="+C.d,f++}return this.addLongPollTag_(a+=u,this.currentSerial),!0}return!1},o.prototype.enqueueSegment=function(i,a,u){this.pendingSegs.push({seg:i,ts:a,d:u}),this.alive&&this.newRequest_()},o.prototype.addLongPollTag_=function(i,a){var u=this;this.outstandingRequests.add(a);var f=function(){u.outstandingRequests.delete(a),u.newRequest_()},v=setTimeout(f,Math.floor(25e3));this.addTag(i,function(){clearTimeout(v),f()})},o.prototype.addTag=function(i,a){var u=this;(0,S.Yr)()?this.doNodeLongPoll(i,a):setTimeout(function(){try{if(!u.sendNewPolls)return;var f=u.myIFrame.doc.createElement("script");f.type="text/javascript",f.async=!0,f.src=i,f.onload=f.onreadystatechange=function(){var v=f.readyState;(!v||"loaded"===v||"complete"===v)&&(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),a())},f.onerror=function(){ct("Long-poll script failed to load: "+i),u.sendNewPolls=!1,u.close()},u.myIFrame.doc.body.appendChild(f)}catch(v){}},Math.floor(1))},o}(),mt=null;"undefined"!=typeof MozWebSocket?mt=MozWebSocket:"undefined"!=typeof WebSocket&&(mt=WebSocket);var Dn=function(){function o(i,a,u,f,v,C,O){this.connId=i,this.applicationId=u,this.appCheckToken=f,this.authToken=v,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wt(this.connId),this.stats_=Zt(a),this.connURL=o.connectionURL_(a,C,O,f),this.nodeAdmin=a.nodeAdmin}return o.connectionURL_=function(i,a,u,f){var v={v:"5"};return!(0,S.Yr)()&&"undefined"!=typeof location&&location.hostname&&wt.test(location.hostname)&&(v.r="f"),a&&(v.s=a),u&&(v.ls=u),f&&(v.ac=f),At(i,pn,v)},o.prototype.open=function(i,a){var u=this;this.onDisconnect=a,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,te.set("previous_websocket_failure",!0);try{if((0,S.Yr)()){var v={headers:{"User-Agent":"Firebase/5/"+$+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(v.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(v.headers["X-Firebase-AppCheck"]=this.appCheckToken);var C=process.env,O=0===this.connURL.indexOf("wss://")?C.HTTPS_PROXY||C.https_proxy:C.HTTP_PROXY||C.http_proxy;O&&(v.proxy={origin:O}),this.mySock=new mt(this.connURL,[],v)}else this.mySock=new mt(this.connURL,[],v={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(W){this.log_("Error instantiating WebSocket.");var L=W.message||W.data;return L&&this.log_(L),void this.onClosed_()}this.mySock.onopen=function(){u.log_("Websocket connected."),u.everConnected_=!0},this.mySock.onclose=function(){u.log_("Websocket connection was disconnected."),u.mySock=null,u.onClosed_()},this.mySock.onmessage=function(W){u.handleIncomingFrame(W)},this.mySock.onerror=function(W){u.log_("WebSocket error.  Closing connection.");var Z=W.message||W.data;Z&&u.log_(Z),u.onClosed_()}},o.prototype.start=function(){},o.forceDisallow=function(){o.forceDisallow_=!0},o.isAvailable=function(){var i=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(i=!0)}return!i&&null!==mt&&!o.forceDisallow_},o.previouslyFailed=function(){return te.isInMemoryStorage||!0===te.get("previous_websocket_failure")},o.prototype.markConnectionHealthy=function(){te.remove("previous_websocket_failure")},o.prototype.appendFrame_=function(i){if(this.frames.push(i),this.frames.length===this.totalFrames){var a=this.frames.join("");this.frames=null;var u=(0,S.cI)(a);this.onMessage(u)}},o.prototype.handleNewFrameCount_=function(i){this.totalFrames=i,this.frames=[]},o.prototype.extractFrameCount_=function(i){if((0,S.hu)(null===this.frames,"We already have a frame buffer"),i.length<=6){var a=Number(i);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),i},o.prototype.handleIncomingFrame=function(i){if(null!==this.mySock){var a=i.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(a);else{var u=this.extractFrameCount_(a);null!==u&&this.appendFrame_(u)}}},o.prototype.send=function(i){this.resetKeepAlive();var a=(0,S.Pz)(i);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);var u=Ze(a,16384);u.length>1&&this.sendString_(String(u.length));for(var f=0;f<u.length;f++)this.sendString_(u[f])},o.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},o.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},o.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},o.prototype.resetKeepAlive=function(){var i=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){i.mySock&&i.sendString_("0"),i.resetKeepAlive()},Math.floor(45e3))},o.prototype.sendString_=function(i){try{this.mySock.send(i)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o}(),$n=function(){function o(i){this.initTransports_(i)}return Object.defineProperty(o,"ALL_TRANSPORTS",{get:function(){return[Nr,Dn]},enumerable:!1,configurable:!0}),o.prototype.initTransports_=function(i){var a,u,f=Dn&&Dn.isAvailable(),v=f&&!Dn.previouslyFailed();if(i.webSocketOnly&&(f||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),v=!0),v)this.transports_=[Dn];else{var C=this.transports_=[];try{for(var O=(0,ee.XA)(o.ALL_TRANSPORTS),L=O.next();!L.done;L=O.next()){var W=L.value;W&&W.isAvailable()&&C.push(W)}}catch(Z){a={error:Z}}finally{try{L&&!L.done&&(u=O.return)&&u.call(O)}finally{if(a)throw a.error}}}},o.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},o.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},o}(),oe=function(){function o(i,a,u,f,v,C,O,L,W,Z){this.id=i,this.repoInfo_=a,this.applicationId_=u,this.appCheckToken_=f,this.authToken_=v,this.onMessage_=C,this.onReady_=O,this.onDisconnect_=L,this.onKill_=W,this.lastSessionId=Z,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wt("c:"+this.id+":"),this.transportManager_=new $n(a),this.log_("Connection created"),this.start_()}return o.prototype.start_=function(){var i=this,a=this.transportManager_.initialTransport();this.conn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;var u=this.connReceiver_(this.conn_),f=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){i.conn_&&i.conn_.open(u,f)},Math.floor(0));var v=a.healthyTimeout||0;v>0&&(this.healthyTimeout_=tn(function(){i.healthyTimeout_=null,i.isHealthy_||(i.conn_&&i.conn_.bytesReceived>102400?(i.log_("Connection exceeded healthy timeout but has received "+i.conn_.bytesReceived+" bytes.  Marking connection healthy."),i.isHealthy_=!0,i.conn_.markConnectionHealthy()):i.conn_&&i.conn_.bytesSent>10240?i.log_("Connection exceeded healthy timeout but has sent "+i.conn_.bytesSent+" bytes.  Leaving connection alive."):(i.log_("Closing unhealthy connection after timeout."),i.close()))},Math.floor(v)))},o.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},o.prototype.disconnReceiver_=function(i){var a=this;return function(u){i===a.conn_?a.onConnectionLost_(u):i===a.secondaryConn_?(a.log_("Secondary connection lost."),a.onSecondaryConnectionLost_()):a.log_("closing an old connection")}},o.prototype.connReceiver_=function(i){var a=this;return function(u){2!==a.state_&&(i===a.rx_?a.onPrimaryMessageReceived_(u):i===a.secondaryConn_?a.onSecondaryMessageReceived_(u):a.log_("message on old connection"))}},o.prototype.sendRequest=function(i){this.sendData_({t:"d",d:i})},o.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},o.prototype.onSecondaryControl_=function(i){if("t"in i){var a=i.t;"a"===a?this.upgradeIfSecondaryHealthy_():"r"===a?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===a&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},o.prototype.onSecondaryMessageReceived_=function(i){var a=We("t",i),u=We("d",i);if("c"===a)this.onSecondaryControl_(u);else{if("d"!==a)throw new Error("Unknown protocol layer: "+a);this.pendingDataMessages.push(u)}},o.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},o.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},o.prototype.onPrimaryMessageReceived_=function(i){var a=We("t",i),u=We("d",i);"c"===a?this.onControl_(u):"d"===a&&this.onDataMessage_(u)},o.prototype.onDataMessage_=function(i){this.onPrimaryResponse_(),this.onMessage_(i)},o.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},o.prototype.onControl_=function(i){var a=We("t",i);if("d"in i){var u=i.d;if("h"===a)this.onHandshake_(u);else if("n"===a){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var f=0;f<this.pendingDataMessages.length;++f)this.onDataMessage_(this.pendingDataMessages[f]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===a?this.onConnectionShutdown_(u):"r"===a?this.onReset_(u):"e"===a?Xt("Server Error: "+u):"o"===a?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xt("Unknown control packet command: "+a)}},o.prototype.onHandshake_=function(i){var a=i.ts,u=i.v,f=i.h;this.sessionId=i.s,this.repoInfo_.host=f,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),"5"!==u&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())},o.prototype.tryStartUpgrade_=function(){var i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)},o.prototype.startUpgrade_=function(i){var a=this;this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;var u=this.connReceiver_(this.secondaryConn_),f=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(u,f),tn(function(){a.secondaryConn_&&(a.log_("Timed out trying to upgrade."),a.secondaryConn_.close())},Math.floor(6e4))},o.prototype.onReset_=function(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())},o.prototype.onConnectionEstablished_=function(i,a){var u=this;this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tn(function(){u.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},o.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},o.prototype.onSecondaryConnectionLost_=function(){var i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()},o.prototype.onConnectionLost_=function(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(te.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},o.prototype.onConnectionShutdown_=function(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()},o.prototype.sendData_=function(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)},o.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},o.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},o}(),De=function(){function o(){}return o.prototype.put=function(i,a,u,f){},o.prototype.merge=function(i,a,u,f){},o.prototype.refreshAuthToken=function(i){},o.prototype.refreshAppCheckToken=function(i){},o.prototype.onDisconnectPut=function(i,a,u){},o.prototype.onDisconnectMerge=function(i,a,u){},o.prototype.onDisconnectCancel=function(i,a){},o.prototype.reportStats=function(i){},o}(),He=function(){function o(i){this.allowedEvents_=i,this.listeners_={},(0,S.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}return o.prototype.trigger=function(i){for(var a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(Array.isArray(this.listeners_[i]))for(var f=(0,ee.ev)([],(0,ee.CR)(this.listeners_[i])),v=0;v<f.length;v++)f[v].callback.apply(f[v].context,a)},o.prototype.on=function(i,a,u){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:a,context:u});var f=this.getInitialEvent(i);f&&a.apply(u,f)},o.prototype.off=function(i,a,u){this.validateEventType_(i);for(var f=this.listeners_[i]||[],v=0;v<f.length;v++)if(f[v].callback===a&&(!u||u===f[v].context))return void f.splice(v,1)},o.prototype.validateEventType_=function(i){(0,S.hu)(this.allowedEvents_.find(function(a){return a===i}),"Unknown event: "+i)},o}(),Be=function(o){function i(){var a=o.call(this,["online"])||this;return a.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,S.uI)()&&(window.addEventListener("online",function(){a.online_||(a.online_=!0,a.trigger("online",!0))},!1),window.addEventListener("offline",function(){a.online_&&(a.online_=!1,a.trigger("online",!1))},!1)),a}return(0,ee.ZT)(i,o),i.getInstance=function(){return new i},i.prototype.getInitialEvent=function(a){return(0,S.hu)("online"===a,"Unknown event type: "+a),[this.online_]},i.prototype.currentlyOnline=function(){return this.online_},i}(He),qe=function(){function o(i,a){if(void 0===a){this.pieces_=i.split("/");for(var u=0,f=0;f<this.pieces_.length;f++)this.pieces_[f].length>0&&(this.pieces_[u]=this.pieces_[f],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=a}return o.prototype.toString=function(){for(var i="",a=this.pieceNum_;a<this.pieces_.length;a++)""!==this.pieces_[a]&&(i+="/"+this.pieces_[a]);return i||"/"},o}();function Xe(){return new qe("")}function vt(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function ie(o){return o.pieces_.length-o.pieceNum_}function K(o){var i=o.pieceNum_;return i<o.pieces_.length&&i++,new qe(o.pieces_,i)}function U(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function Re(o,i){return void 0===i&&(i=0),o.pieces_.slice(o.pieceNum_+i)}function et(o){if(o.pieceNum_>=o.pieces_.length)return null;for(var i=[],a=o.pieceNum_;a<o.pieces_.length-1;a++)i.push(o.pieces_[a]);return new qe(i,0)}function Ue(o,i){for(var a=[],u=o.pieceNum_;u<o.pieces_.length;u++)a.push(o.pieces_[u]);if(i instanceof qe)for(u=i.pieceNum_;u<i.pieces_.length;u++)a.push(i.pieces_[u]);else{var f=i.split("/");for(u=0;u<f.length;u++)f[u].length>0&&a.push(f[u])}return new qe(a,0)}function ft(o){return o.pieceNum_>=o.pieces_.length}function Rt(o,i){var a=vt(o),u=vt(i);if(null===a)return i;if(a===u)return Rt(K(o),K(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+o+")")}function Gn(o,i){for(var a=Re(o,0),u=Re(i,0),f=0;f<a.length&&f<u.length;f++){var v=he(a[f],u[f]);if(0!==v)return v}return a.length===u.length?0:a.length<u.length?-1:1}function Oi(o,i){if(ie(o)!==ie(i))return!1;for(var a=o.pieceNum_,u=i.pieceNum_;a<=o.pieces_.length;a++,u++)if(o.pieces_[a]!==i.pieces_[u])return!1;return!0}function Ln(o,i){var a=o.pieceNum_,u=i.pieceNum_;if(ie(o)>ie(i))return!1;for(;a<o.pieces_.length;){if(o.pieces_[a]!==i.pieces_[u])return!1;++a,++u}return!0}var Ni=function(i,a){this.errorPrefix_=a,this.parts_=Re(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(var u=0;u<this.parts_.length;u++)this.byteLength_+=(0,S.ug)(this.parts_[u]);Lo(this)};function Lo(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Fr(o))}function Fr(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}var Fi,oo,Qs=function(o){function i(){var u,f,a=o.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(f="visibilitychange",u="hidden"):void 0!==document.mozHidden?(f="mozvisibilitychange",u="mozHidden"):void 0!==document.msHidden?(f="msvisibilitychange",u="msHidden"):void 0!==document.webkitHidden&&(f="webkitvisibilitychange",u="webkitHidden")),a.visible_=!0,f&&document.addEventListener(f,function(){var v=!document[u];v!==a.visible_&&(a.visible_=v,a.trigger("visible",v))},!1),a}return(0,ee.ZT)(i,o),i.getInstance=function(){return new i},i.prototype.getInitialEvent=function(a){return(0,S.hu)("visible"===a,"Unknown event type: "+a),[this.visible_]},i}(He),qr=1e3,ei=function(o){function i(a,u,f,v,C,O,L,W){var Z=o.call(this)||this;if(Z.repoInfo_=a,Z.applicationId_=u,Z.onDataUpdate_=f,Z.onConnectStatus_=v,Z.onServerInfoUpdate_=C,Z.authTokenProvider_=O,Z.appCheckTokenProvider_=L,Z.authOverride_=W,Z.id=i.nextPersistentConnectionId_++,Z.log_=Wt("p:"+Z.id+":"),Z.interruptReasons_={},Z.listens=new Map,Z.outstandingPuts_=[],Z.outstandingGets_=[],Z.outstandingPutCount_=0,Z.outstandingGetCount_=0,Z.onDisconnectRequestQueue_=[],Z.connected_=!1,Z.reconnectDelay_=qr,Z.maxReconnectDelay_=3e5,Z.securityDebugCallback_=null,Z.lastSessionId=null,Z.establishConnectionTimer_=null,Z.visible_=!1,Z.requestCBHash_={},Z.requestNumber_=0,Z.realtime_=null,Z.authToken_=null,Z.appCheckToken_=null,Z.forceTokenRefresh_=!1,Z.invalidAuthTokenCount_=0,Z.invalidAppCheckTokenCount_=0,Z.firstConnection_=!0,Z.lastConnectionAttemptTime_=null,Z.lastConnectionEstablishedTime_=null,W&&!(0,S.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Qs.getInstance().on("visible",Z.onVisible_,Z),-1===a.host.indexOf("fblocal")&&Be.getInstance().on("online",Z.onOnline_,Z),Z}return(0,ee.ZT)(i,o),i.prototype.sendRequest=function(a,u,f){var v=++this.requestNumber_,C={r:v,a,b:u};this.log_((0,S.Pz)(C)),(0,S.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(C),f&&(this.requestCBHash_[v]=f)},i.prototype.get=function(a){var u=this;this.initConnection_();var f=new S.BH,v={p:a._path.toString(),q:a._queryObject},C={action:"g",request:v,onComplete:function(L){var W=L.d;"ok"===L.s?(u.onDataUpdate_(v.p,W,!1,null),f.resolve(W)):f.reject(W)}};this.outstandingGets_.push(C),this.outstandingGetCount_++;var O=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var L=u.outstandingGets_[O];void 0===L||C!==L||(delete u.outstandingGets_[O],u.outstandingGetCount_--,0===u.outstandingGetCount_&&(u.outstandingGets_=[]),u.log_("get "+O+" timed out on connection"),f.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(O),f.promise},i.prototype.listen=function(a,u,f,v){this.initConnection_();var C=a._queryIdentifier,O=a._path.toString();this.log_("Listen called for "+O+" "+C),this.listens.has(O)||this.listens.set(O,new Map),(0,S.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,S.hu)(!this.listens.get(O).has(C),"listen() called twice for same path/queryId.");var L={onComplete:v,hashFn:u,query:a,tag:f};this.listens.get(O).set(C,L),this.connected_&&this.sendListen_(L)},i.prototype.sendGet_=function(a){var u=this,f=this.outstandingGets_[a];this.sendRequest("g",f.request,function(v){delete u.outstandingGets_[a],u.outstandingGetCount_--,0===u.outstandingGetCount_&&(u.outstandingGets_=[]),f.onComplete&&f.onComplete(v)})},i.prototype.sendListen_=function(a){var u=this,f=a.query,v=f._path.toString(),C=f._queryIdentifier;this.log_("Listen on "+v+" for "+C);var O={p:v};a.tag&&(O.q=f._queryObject,O.t=a.tag),O.h=a.hashFn(),this.sendRequest("q",O,function(W){var Z=W.d,_e=W.s;i.warnOnListenWarnings_(Z,f),(u.listens.get(v)&&u.listens.get(v).get(C))===a&&(u.log_("listen response",W),"ok"!==_e&&u.removeListen_(v,C),a.onComplete&&a.onComplete(_e,Z))})},i.warnOnListenWarnings_=function(a,u){if(a&&"object"==typeof a&&(0,S.r3)(a,"w")){var f=(0,S.DV)(a,"w");if(Array.isArray(f)&&~f.indexOf("no_index")){var v='".indexOn": "'+u._queryParams.getIndex().toString()+'"',C=u._path.toString();kt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+v+" at "+C+" to your security rules for better performance.")}}},i.prototype.refreshAuthToken=function(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(a)},i.prototype.reduceReconnectDelayIfAdminCredential_=function(a){(a&&40===a.length||(0,S.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},i.prototype.refreshAppCheckToken=function(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},i.prototype.tryAuth=function(){var a=this;if(this.connected_&&this.authToken_){var u=this.authToken_,f=(0,S.w9)(u)?"auth":"gauth",v={cred:u};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(f,v,function(C){var O=C.s,L=C.d||"error";a.authToken_===u&&("ok"===O?a.invalidAuthTokenCount_=0:a.onAuthRevoked_(O,L))})}},i.prototype.tryAppCheck=function(){var a=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(u){var f=u.s,v=u.d||"error";"ok"===f?a.invalidAppCheckTokenCount_=0:a.onAppCheckRevoked_(f,v)})},i.prototype.unlisten=function(a,u){var f=a._path.toString(),v=a._queryIdentifier;this.log_("Unlisten called for "+f+" "+v),(0,S.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(f,v)&&this.connected_&&this.sendUnlisten_(f,v,a._queryObject,u)},i.prototype.sendUnlisten_=function(a,u,f,v){this.log_("Unlisten on "+a+" for "+u);var C={p:a};v&&(C.q=f,C.t=v),this.sendRequest("n",C)},i.prototype.onDisconnectPut=function(a,u,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,u,f):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:u,onComplete:f})},i.prototype.onDisconnectMerge=function(a,u,f){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,u,f):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:u,onComplete:f})},i.prototype.onDisconnectCancel=function(a,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,u):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:u})},i.prototype.sendOnDisconnect_=function(a,u,f,v){var C={p:u,d:f};this.log_("onDisconnect "+a,C),this.sendRequest(a,C,function(O){v&&setTimeout(function(){v(O.s,O.d)},Math.floor(0))})},i.prototype.put=function(a,u,f,v){this.putInternal("p",a,u,f,v)},i.prototype.merge=function(a,u,f,v){this.putInternal("m",a,u,f,v)},i.prototype.putInternal=function(a,u,f,v,C){this.initConnection_();var O={p:u,d:f};void 0!==C&&(O.h=C),this.outstandingPuts_.push({action:a,request:O,onComplete:v}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)},i.prototype.sendPut_=function(a){var u=this,f=this.outstandingPuts_[a].action,v=this.outstandingPuts_[a].request,C=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(f,v,function(O){u.log_(f+" response",O),delete u.outstandingPuts_[a],u.outstandingPutCount_--,0===u.outstandingPutCount_&&(u.outstandingPuts_=[]),C&&C(O.s,O.d)})},i.prototype.reportStats=function(a){var u=this;if(this.connected_){var f={c:a};this.log_("reportStats",f),this.sendRequest("s",f,function(v){"ok"!==v.s&&u.log_("reportStats","Error sending stats: "+v.d)})}},i.prototype.onDataMessage_=function(a){if("r"in a){this.log_("from server: "+(0,S.Pz)(a));var u=a.r,f=this.requestCBHash_[u];f&&(delete this.requestCBHash_[u],f(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}},i.prototype.onDataPush_=function(a,u){this.log_("handleServerMessage",a,u),"d"===a?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===a?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===a?this.onListenRevoked_(u.p,u.q):"ac"===a?this.onAuthRevoked_(u.s,u.d):"apc"===a?this.onAppCheckRevoked_(u.s,u.d):"sd"===a?this.onSecurityDebugPacket_(u):Xt("Unrecognized action received from server: "+(0,S.Pz)(a)+"\nAre you using the latest client?")},i.prototype.onReady_=function(a,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},i.prototype.scheduleConnect_=function(a){var u=this;(0,S.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){u.establishConnectionTimer_=null,u.establishConnection_()},Math.floor(a))},i.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},i.prototype.onVisible_=function(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qr,this.realtime_||this.scheduleConnect_(0)),this.visible_=a},i.prototype.onOnline_=function(a){a?(this.log_("Browser went online."),this.reconnectDelay_=qr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},i.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=qr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var u=(new Date).getTime()-this.lastConnectionAttemptTime_,f=Math.max(0,this.reconnectDelay_-u);f=Math.random()*f,this.log_("Trying to reconnect in "+f+"ms"),this.scheduleConnect_(f),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},i.prototype.establishConnection_=function(){return(0,ee.mG)(this,void 0,void 0,function(){var a,u,f,v,C,O,L,W,_e,Fe,Ge,dt,xt,Dt=this;return(0,ee.Jh)(this,function($t){switch($t.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,a=this.onDataMessage_.bind(this),u=this.onReady_.bind(this),f=this.onRealtimeDisconnect_.bind(this),v=this.id+":"+i.nextConnectionId_++,C=this.lastSessionId,O=!1,L=null,this.realtime_={close:W=function(){L?L.close():(O=!0,f())},sendRequest:function(Un){(0,S.hu)(L,"sendRequest call when we're not connected not allowed."),L.sendRequest(Un)}},_e=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,$t.label=1;case 1:return $t.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(_e),this.appCheckTokenProvider_.getToken(_e)])];case 2:return Fe=ee.CR.apply(void 0,[$t.sent(),2]),Ge=Fe[0],dt=Fe[1],O?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=Ge&&Ge.accessToken,this.appCheckToken_=dt&&dt.token,L=new oe(v,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,a,u,f,function(Un){kt(Un+" ("+Dt.repoInfo_.toString()+")"),Dt.interrupt("server_kill")},C)),[3,4];case 3:return xt=$t.sent(),this.log_("Failed to get token: "+xt),O||(this.repoInfo_.nodeAdmin&&kt(xt),W()),[3,4];case 4:return[2]}})})},i.prototype.interrupt=function(a){ct("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},i.prototype.resume=function(a){ct("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,S.xb)(this.interruptReasons_)&&(this.reconnectDelay_=qr,this.realtime_||this.scheduleConnect_(0))},i.prototype.handleTimestamp_=function(a){var u=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})},i.prototype.cancelSentTransactions_=function(){for(var a=0;a<this.outstandingPuts_.length;a++){var u=this.outstandingPuts_[a];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},i.prototype.onListenRevoked_=function(a,u){var f;f=u?u.map(function(C){return pt(C)}).join("$"):"default";var v=this.removeListen_(a,f);v&&v.onComplete&&v.onComplete("permission_denied")},i.prototype.removeListen_=function(a,u){var v,f=new qe(a).toString();if(this.listens.has(f)){var C=this.listens.get(f);v=C.get(u),C.delete(u),0===C.size&&this.listens.delete(f)}else v=void 0;return v},i.prototype.onAuthRevoked_=function(a,u){ct("Auth token revoked: "+a+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},i.prototype.onAppCheckRevoked_=function(a,u){ct("App check token revoked: "+a+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},i.prototype.onSecurityDebugPacket_=function(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))},i.prototype.restoreState_=function(){var a,u,f,v;this.tryAuth(),this.tryAppCheck();try{for(var C=(0,ee.XA)(this.listens.values()),O=C.next();!O.done;O=C.next()){var L=O.value;try{for(var W=(f=void 0,(0,ee.XA)(L.values())),Z=W.next();!Z.done;Z=W.next())this.sendListen_(Z.value)}catch(dt){f={error:dt}}finally{try{Z&&!Z.done&&(v=W.return)&&v.call(W)}finally{if(f)throw f.error}}}}catch(dt){a={error:dt}}finally{try{O&&!O.done&&(u=C.return)&&u.call(C)}finally{if(a)throw a.error}}for(var Fe=0;Fe<this.outstandingPuts_.length;Fe++)this.outstandingPuts_[Fe]&&this.sendPut_(Fe);for(;this.onDisconnectRequestQueue_.length;){var Ge=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(Ge.action,Ge.pathString,Ge.data,Ge.onComplete)}for(Fe=0;Fe<this.outstandingGets_.length;Fe++)this.outstandingGets_[Fe]&&this.sendGet_(Fe)},i.prototype.sendConnectStats_=function(){var a={},u="js";(0,S.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+u+"."+$.replace(/\./g,"-")]=1,(0,S.uI)()?a["framework.cordova"]=1:(0,S.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)},i.prototype.shouldReconnect_=function(){var a=Be.getInstance().currentlyOnline();return(0,S.xb)(this.interruptReasons_)&&a},i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i}(De),qt=function(){function o(i,a){this.name=i,this.node=a}return o.Wrap=function(i,a){return new o(i,a)},o}(),Bo=function(){function o(){}return o.prototype.getCompare=function(){return this.compare.bind(this)},o.prototype.indexedValueChanged=function(i,a){var u=new qt(ce,i),f=new qt(ce,a);return 0!==this.compare(u,f)},o.prototype.minPost=function(){return qt.MIN},o}(),Js=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,ee.ZT)(i,o),Object.defineProperty(i,"__EMPTY_NODE",{get:function(){return Fi},set:function(a){Fi=a},enumerable:!1,configurable:!0}),i.prototype.compare=function(a,u){return he(a.name,u.name)},i.prototype.isDefinedOn=function(a){throw(0,S.g5)("KeyIndex.isDefinedOn not expected to be called.")},i.prototype.indexedValueChanged=function(a,u){return!1},i.prototype.minPost=function(){return qt.MIN},i.prototype.maxPost=function(){return new qt(xe,Fi)},i.prototype.makePost=function(a,u){return(0,S.hu)("string"==typeof a,"KeyIndex indexValue must always be a string."),new qt(a,Fi)},i.prototype.toString=function(){return".key"},i}(Bo),Dr=new Js,Li=function(){function o(i,a,u,f,v){void 0===v&&(v=null),this.isReverse_=f,this.resultGenerator_=v,this.nodeStack_=[];for(var C=1;!i.isEmpty();)if(i=i,C=a?u(i.key,a):1,f&&(C*=-1),C<0)i=this.isReverse_?i.left:i.right;else{if(0===C){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}return o.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var a,i=this.nodeStack_.pop();if(a=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return a},o.prototype.hasNext=function(){return this.nodeStack_.length>0},o.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}},o}(),nr=function(){function o(i,a,u,f,v){this.key=i,this.value=a,this.color=null!=u?u:o.RED,this.left=null!=f?f:wr.EMPTY_NODE,this.right=null!=v?v:wr.EMPTY_NODE}return o.prototype.copy=function(i,a,u,f,v){return new o(null!=i?i:this.key,null!=a?a:this.value,null!=u?u:this.color,null!=f?f:this.left,null!=v?v:this.right)},o.prototype.count=function(){return this.left.count()+1+this.right.count()},o.prototype.isEmpty=function(){return!1},o.prototype.inorderTraversal=function(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)},o.prototype.reverseTraversal=function(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)},o.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},o.prototype.minKey=function(){return this.min_().key},o.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},o.prototype.insert=function(i,a,u){var f=this,v=u(i,f.key);return(f=v<0?f.copy(null,null,null,f.left.insert(i,a,u),null):0===v?f.copy(null,a,null,null,null):f.copy(null,null,null,null,f.right.insert(i,a,u))).fixUp_()},o.prototype.removeMin_=function(){if(this.left.isEmpty())return wr.EMPTY_NODE;var i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),(i=i.copy(null,null,null,i.left.removeMin_(),null)).fixUp_()},o.prototype.remove=function(i,a){var u,f;if(a(i,(u=this).key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(i,a),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===a(i,u.key)){if(u.right.isEmpty())return wr.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(i,a))}return u.fixUp_()},o.prototype.isRed_=function(){return this.color},o.prototype.fixUp_=function(){var i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i},o.prototype.moveRedLeft_=function(){var i=this.colorFlip_();return i.right.left.isRed_()&&(i=(i=(i=i.copy(null,null,null,null,i.right.rotateRight_())).rotateLeft_()).colorFlip_()),i},o.prototype.moveRedRight_=function(){var i=this.colorFlip_();return i.left.left.isRed_()&&(i=(i=i.rotateRight_()).colorFlip_()),i},o.prototype.rotateLeft_=function(){var i=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)},o.prototype.rotateRight_=function(){var i=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)},o.prototype.colorFlip_=function(){var i=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,a)},o.prototype.checkMaxDepth_=function(){var i=this.check_();return Math.pow(2,i)<=this.count()+1},o.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)},o.RED=!0,o.BLACK=!1,o}(),Uo=function(){function o(){}return o.prototype.copy=function(i,a,u,f,v){return this},o.prototype.insert=function(i,a,u){return new nr(i,a,null)},o.prototype.remove=function(i,a){return this},o.prototype.count=function(){return 0},o.prototype.isEmpty=function(){return!0},o.prototype.inorderTraversal=function(i){return!1},o.prototype.reverseTraversal=function(i){return!1},o.prototype.minKey=function(){return null},o.prototype.maxKey=function(){return null},o.prototype.check_=function(){return 0},o.prototype.isRed_=function(){return!1},o}(),wr=function(){function o(i,a){void 0===a&&(a=o.EMPTY_NODE),this.comparator_=i,this.root_=a}return o.prototype.insert=function(i,a){return new o(this.comparator_,this.root_.insert(i,a,this.comparator_).copy(null,null,nr.BLACK,null,null))},o.prototype.remove=function(i){return new o(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,nr.BLACK,null,null))},o.prototype.get=function(i){for(var a,u=this.root_;!u.isEmpty();){if(0===(a=this.comparator_(i,u.key)))return u.value;a<0?u=u.left:a>0&&(u=u.right)}return null},o.prototype.getPredecessorKey=function(i){for(var a,u=this.root_,f=null;!u.isEmpty();){if(0===(a=this.comparator_(i,u.key))){if(u.left.isEmpty())return f?f.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}a<0?u=u.left:a>0&&(f=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},o.prototype.isEmpty=function(){return this.root_.isEmpty()},o.prototype.count=function(){return this.root_.count()},o.prototype.minKey=function(){return this.root_.minKey()},o.prototype.maxKey=function(){return this.root_.maxKey()},o.prototype.inorderTraversal=function(i){return this.root_.inorderTraversal(i)},o.prototype.reverseTraversal=function(i){return this.root_.reverseTraversal(i)},o.prototype.getIterator=function(i){return new Li(this.root_,null,this.comparator_,!1,i)},o.prototype.getIteratorFrom=function(i,a){return new Li(this.root_,i,this.comparator_,!1,a)},o.prototype.getReverseIteratorFrom=function(i,a){return new Li(this.root_,i,this.comparator_,!0,a)},o.prototype.getReverseIterator=function(i){return new Li(this.root_,null,this.comparator_,!0,i)},o.EMPTY_NODE=new Uo,o}();function io(o,i){return he(o.name,i.name)}function Lr(o,i){return he(o,i)}var jo,ki,kr,Yr,x,ao=function(o){return"number"==typeof o?"number:"+ke(o):"string:"+o},ps=function(o){if(o.isLeafNode()){var i=o.val();(0,S.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,S.r3)(i,".sv"),"Priority must be a string or number.")}else(0,S.hu)(o===oo||o.isEmpty(),"priority of unexpected type.");(0,S.hu)(o===oo||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ti=function(){function o(i,a){void 0===a&&(a=o.__childrenNodeConstructor.EMPTY_NODE),this.value_=i,this.priorityNode_=a,this.lazyHash_=null,(0,S.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ps(this.priorityNode_)}return Object.defineProperty(o,"__childrenNodeConstructor",{get:function(){return jo},set:function(i){jo=i},enumerable:!1,configurable:!0}),o.prototype.isLeafNode=function(){return!0},o.prototype.getPriority=function(){return this.priorityNode_},o.prototype.updatePriority=function(i){return new o(this.value_,i)},o.prototype.getImmediateChild=function(i){return".priority"===i?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE},o.prototype.getChild=function(i){return ft(i)?this:".priority"===vt(i)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE},o.prototype.hasChild=function(){return!1},o.prototype.getPredecessorChildName=function(i,a){return null},o.prototype.updateImmediateChild=function(i,a){return".priority"===i?this.updatePriority(a):a.isEmpty()&&".priority"!==i?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,a).updatePriority(this.priorityNode_)},o.prototype.updateChild=function(i,a){var u=vt(i);return null===u?a:a.isEmpty()&&".priority"!==u?this:((0,S.hu)(".priority"!==u||1===ie(i),".priority must be the last token in a path"),this.updateImmediateChild(u,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(K(i),a)))},o.prototype.isEmpty=function(){return!1},o.prototype.numChildren=function(){return 0},o.prototype.forEachChild=function(i,a){return!1},o.prototype.val=function(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},o.prototype.hash=function(){if(null===this.lazyHash_){var i="";this.priorityNode_.isEmpty()||(i+="priority:"+ao(this.priorityNode_.val())+":");var a=typeof this.value_;i+=a+":",i+="number"===a?ke(this.value_):this.value_,this.lazyHash_=it(i)}return this.lazyHash_},o.prototype.getValue=function(){return this.value_},o.prototype.compareTo=function(i){return i===o.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof o.__childrenNodeConstructor?-1:((0,S.hu)(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))},o.prototype.compareToLeafNode_=function(i){var a=typeof i.value_,u=typeof this.value_,f=o.VALUE_TYPE_ORDER.indexOf(a),v=o.VALUE_TYPE_ORDER.indexOf(u);return(0,S.hu)(f>=0,"Unknown leaf type: "+a),(0,S.hu)(v>=0,"Unknown leaf type: "+u),f===v?"object"===u?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:v-f},o.prototype.withIndex=function(){return this},o.prototype.isIndexed=function(){return!0},o.prototype.equals=function(i){return i===this||!!i.isLeafNode()&&(this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_))},o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o}(),vn=new(function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,ee.ZT)(i,o),i.prototype.compare=function(a,u){var f=a.node.getPriority(),v=u.node.getPriority(),C=f.compareTo(v);return 0===C?he(a.name,u.name):C},i.prototype.isDefinedOn=function(a){return!a.getPriority().isEmpty()},i.prototype.indexedValueChanged=function(a,u){return!a.getPriority().equals(u.getPriority())},i.prototype.minPost=function(){return qt.MIN},i.prototype.maxPost=function(){return new qt(xe,new ti("[PRIORITY-POST]",kr))},i.prototype.makePost=function(a,u){var f=ki(a);return new qt(u,new ti("[PRIORITY-POST]",f))},i.prototype.toString=function(){return".priority"},i}(Bo)),ms=Math.log(2),lo=function(){function o(i){this.count=parseInt(Math.log(i+1)/ms,10),this.current_=this.count-1;var f=parseInt(Array(this.count+1).join("1"),2);this.bits_=i+1&f}return o.prototype.nextBitIsOne=function(){var i=!(this.bits_&1<<this.current_);return this.current_--,i},o}(),Gr=function(o,i,a,u){o.sort(i);var f=function(L,W){var _e,Fe,Z=W-L;if(0===Z)return null;if(1===Z)return _e=o[L],Fe=a?a(_e):_e,new nr(Fe,_e.node,nr.BLACK,null,null);var Ge=parseInt(Z/2,10)+L,dt=f(L,Ge),xt=f(Ge+1,W);return _e=o[Ge],Fe=a?a(_e):_e,new nr(Fe,_e.node,nr.BLACK,dt,xt)},O=function(L){for(var W=null,Z=null,_e=o.length,Fe=function($t,Un){var fi=_e-$t,$s=_e;_e-=$t;var rl=f(fi+1,$s),ga=o[fi],ma=a?a(ga):ga;Ge(new nr(ma,ga.node,Un,null,rl))},Ge=function($t){W?(W.left=$t,W=$t):(Z=$t,W=$t)},dt=0;dt<L.count;++dt){var xt=L.nextBitIsOne(),Dt=Math.pow(2,L.count-(dt+1));xt?Fe(Dt,nr.BLACK):(Fe(Dt,nr.BLACK),Fe(Dt,nr.RED))}return Z}(new lo(o.length));return new wr(u||i,O)},vi={},b=function(){function o(i,a){this.indexes_=i,this.indexSet_=a}return Object.defineProperty(o,"Default",{get:function(){return(0,S.hu)(vi&&vn,"ChildrenNode.ts has not been loaded"),Yr=Yr||new o({".priority":vi},{".priority":vn})},enumerable:!1,configurable:!0}),o.prototype.get=function(i){var a=(0,S.DV)(this.indexes_,i);if(!a)throw new Error("No index defined for "+i);return a instanceof wr?a:null},o.prototype.hasIndex=function(i){return(0,S.r3)(this.indexSet_,i.toString())},o.prototype.addIndex=function(i,a){(0,S.hu)(i!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var u=[],f=!1,v=a.getIterator(qt.Wrap),C=v.getNext();C;)f=f||i.isDefinedOn(C.node),u.push(C),C=v.getNext();var O;O=f?Gr(u,i.getCompare()):vi;var L=i.toString(),W=(0,ee.pi)({},this.indexSet_);W[L]=i;var Z=(0,ee.pi)({},this.indexes_);return Z[L]=O,new o(Z,W)},o.prototype.addToIndexes=function(i,a){var u=this;return new o((0,S.UI)(this.indexes_,function(v,C){var O=(0,S.DV)(u.indexSet_,C);if((0,S.hu)(O,"Missing index implementation for "+C),v===vi){if(O.isDefinedOn(i.node)){for(var L=[],W=a.getIterator(qt.Wrap),Z=W.getNext();Z;)Z.name!==i.name&&L.push(Z),Z=W.getNext();return L.push(i),Gr(L,O.getCompare())}return vi}var _e=a.get(i.name),Fe=v;return _e&&(Fe=Fe.remove(new qt(i.name,_e))),Fe.insert(i,i.node)}),this.indexSet_)},o.prototype.removeFromIndexes=function(i,a){return new o((0,S.UI)(this.indexes_,function(f){if(f===vi)return f;var v=a.get(i.name);return v?f.remove(new qt(i.name,v)):f}),this.indexSet_)},o}(),_=function(){function o(i,a,u){this.children_=i,this.priorityNode_=a,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&ps(this.priorityNode_),this.children_.isEmpty()&&(0,S.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(o,"EMPTY_NODE",{get:function(){return x||(x=new o(new wr(Lr),null,b.Default))},enumerable:!1,configurable:!0}),o.prototype.isLeafNode=function(){return!1},o.prototype.getPriority=function(){return this.priorityNode_||x},o.prototype.updatePriority=function(i){return this.children_.isEmpty()?this:new o(this.children_,i,this.indexMap_)},o.prototype.getImmediateChild=function(i){if(".priority"===i)return this.getPriority();var a=this.children_.get(i);return null===a?x:a},o.prototype.getChild=function(i){var a=vt(i);return null===a?this:this.getImmediateChild(a).getChild(K(i))},o.prototype.hasChild=function(i){return null!==this.children_.get(i)},o.prototype.updateImmediateChild=function(i,a){if((0,S.hu)(a,"We should always be passing snapshot nodes"),".priority"===i)return this.updatePriority(a);var u=new qt(i,a),f=void 0,v=void 0;a.isEmpty()?(f=this.children_.remove(i),v=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(i,a),v=this.indexMap_.addToIndexes(u,this.children_));var C=f.isEmpty()?x:this.priorityNode_;return new o(f,C,v)},o.prototype.updateChild=function(i,a){var u=vt(i);if(null===u)return a;(0,S.hu)(".priority"!==vt(i)||1===ie(i),".priority must be the last token in a path");var f=this.getImmediateChild(u).updateChild(K(i),a);return this.updateImmediateChild(u,f)},o.prototype.isEmpty=function(){return this.children_.isEmpty()},o.prototype.numChildren=function(){return this.children_.count()},o.prototype.val=function(i){if(this.isEmpty())return null;var a={},u=0,f=0,v=!0;if(this.forEachChild(vn,function(L,W){a[L]=W.val(i),u++,v&&o.INTEGER_REGEXP_.test(L)?f=Math.max(f,Number(L)):v=!1}),!i&&v&&f<2*u){var C=[];for(var O in a)C[O]=a[O];return C}return i&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a},o.prototype.hash=function(){if(null===this.lazyHash_){var i="";this.getPriority().isEmpty()||(i+="priority:"+ao(this.getPriority().val())+":"),this.forEachChild(vn,function(a,u){var f=u.hash();""!==f&&(i+=":"+a+":"+f)}),this.lazyHash_=""===i?"":it(i)}return this.lazyHash_},o.prototype.getPredecessorChildName=function(i,a,u){var f=this.resolveIndex_(u);if(f){var v=f.getPredecessorKey(new qt(i,a));return v?v.name:null}return this.children_.getPredecessorKey(i)},o.prototype.getFirstChildName=function(i){var a=this.resolveIndex_(i);if(a){var u=a.minKey();return u&&u.name}return this.children_.minKey()},o.prototype.getFirstChild=function(i){var a=this.getFirstChildName(i);return a?new qt(a,this.children_.get(a)):null},o.prototype.getLastChildName=function(i){var a=this.resolveIndex_(i);if(a){var u=a.maxKey();return u&&u.name}return this.children_.maxKey()},o.prototype.getLastChild=function(i){var a=this.getLastChildName(i);return a?new qt(a,this.children_.get(a)):null},o.prototype.forEachChild=function(i,a){var u=this.resolveIndex_(i);return u?u.inorderTraversal(function(f){return a(f.name,f.node)}):this.children_.inorderTraversal(a)},o.prototype.getIterator=function(i){return this.getIteratorFrom(i.minPost(),i)},o.prototype.getIteratorFrom=function(i,a){var u=this.resolveIndex_(a);if(u)return u.getIteratorFrom(i,function(C){return C});for(var f=this.children_.getIteratorFrom(i.name,qt.Wrap),v=f.peek();null!=v&&a.compare(v,i)<0;)f.getNext(),v=f.peek();return f},o.prototype.getReverseIterator=function(i){return this.getReverseIteratorFrom(i.maxPost(),i)},o.prototype.getReverseIteratorFrom=function(i,a){var u=this.resolveIndex_(a);if(u)return u.getReverseIteratorFrom(i,function(C){return C});for(var f=this.children_.getReverseIteratorFrom(i.name,qt.Wrap),v=f.peek();null!=v&&a.compare(v,i)>0;)f.getNext(),v=f.peek();return f},o.prototype.compareTo=function(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===z?-1:0},o.prototype.withIndex=function(i){if(i===Dr||this.indexMap_.hasIndex(i))return this;var a=this.indexMap_.addIndex(i,this.children_);return new o(this.children_,this.priorityNode_,a)},o.prototype.isIndexed=function(i){return i===Dr||this.indexMap_.hasIndex(i)},o.prototype.equals=function(i){if(i===this)return!0;if(i.isLeafNode())return!1;var a=i;if(this.getPriority().equals(a.getPriority())){if(this.children_.count()===a.children_.count()){for(var u=this.getIterator(vn),f=a.getIterator(vn),v=u.getNext(),C=f.getNext();v&&C;){if(v.name!==C.name||!v.node.equals(C.node))return!1;v=u.getNext(),C=f.getNext()}return null===v&&null===C}return!1}return!1},o.prototype.resolveIndex_=function(i){return i===Dr?null:this.indexMap_.get(i.toString())},o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o}(),z=new(function(o){function i(){return o.call(this,new wr(Lr),_.EMPTY_NODE,b.Default)||this}return(0,ee.ZT)(i,o),i.prototype.compareTo=function(a){return a===this?0:1},i.prototype.equals=function(a){return a===this},i.prototype.getPriority=function(){return this},i.prototype.getImmediateChild=function(a){return _.EMPTY_NODE},i.prototype.isEmpty=function(){return!1},i}(_));function Le(o,i){if(void 0===i&&(i=null),null===o)return _.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(i=o[".priority"]),(0,S.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new ti(o,Le(i));if(o instanceof Array){var L=_.EMPTY_NODE;return nt(o,function(W,Z){if((0,S.r3)(o,W)&&"."!==W.substring(0,1)){var _e=Le(Z);(_e.isLeafNode()||!_e.isEmpty())&&(L=L.updateImmediateChild(W,_e))}}),L.updatePriority(Le(i))}var u=[],f=!1;if(nt(o,function(W,Z){if("."!==W.substring(0,1)){var _e=Le(Z);_e.isEmpty()||(f=f||!_e.getPriority().isEmpty(),u.push(new qt(W,_e)))}}),0===u.length)return _.EMPTY_NODE;var C=Gr(u,io,function(W){return W.name},Lr);if(f){var O=Gr(u,vn.getCompare());return new _(C,Le(i),new b({".priority":O},{".priority":vn}))}return new _(C,Le(i),b.Default)}Object.defineProperties(qt,{MIN:{value:new qt(ce,_.EMPTY_NODE)},MAX:{value:new qt(xe,z)}}),Js.__EMPTY_NODE=_.EMPTY_NODE,ti.__childrenNodeConstructor=_,function(o){oo=o}(z),function(o){kr=o}(z),function(o){ki=o}(Le);var gt=function(o){function i(a){var u=o.call(this)||this;return u.indexPath_=a,(0,S.hu)(!ft(a)&&".priority"!==vt(a),"Can't create PathIndex with empty path or .priority key"),u}return(0,ee.ZT)(i,o),i.prototype.extractChild=function(a){return a.getChild(this.indexPath_)},i.prototype.isDefinedOn=function(a){return!a.getChild(this.indexPath_).isEmpty()},i.prototype.compare=function(a,u){var f=this.extractChild(a.node),v=this.extractChild(u.node),C=f.compareTo(v);return 0===C?he(a.name,u.name):C},i.prototype.makePost=function(a,u){var f=Le(a),v=_.EMPTY_NODE.updateChild(this.indexPath_,f);return new qt(u,v)},i.prototype.maxPost=function(){var a=_.EMPTY_NODE.updateChild(this.indexPath_,z);return new qt(xe,a)},i.prototype.toString=function(){return Re(this.indexPath_,0).join("/")},i}(Bo),Cn=new(function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,ee.ZT)(i,o),i.prototype.compare=function(a,u){var f=a.node.compareTo(u.node);return 0===f?he(a.name,u.name):f},i.prototype.isDefinedOn=function(a){return!0},i.prototype.indexedValueChanged=function(a,u){return!a.equals(u)},i.prototype.minPost=function(){return qt.MIN},i.prototype.maxPost=function(){return qt.MAX},i.prototype.makePost=function(a,u){var f=Le(a);return new qt(u,f)},i.prototype.toString=function(){return".value"},i}(Bo)),ln="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kn=function(){var o=0,i=[];return function(a){var u=a===o;o=a;var f,v=new Array(8);for(f=7;f>=0;f--)v[f]=ln.charAt(a%64),a=Math.floor(a/64);(0,S.hu)(0===a,"Cannot push at time == 0");var C=v.join("");if(u){for(f=11;f>=0&&63===i[f];f--)i[f]=0;i[f]++}else for(f=0;f<12;f++)i[f]=Math.floor(64*Math.random());for(f=0;f<12;f++)C+=ln.charAt(i[f]);return(0,S.hu)(20===C.length,"nextPushId: Length should be 20."),C}}(),ni=function(o){if(o===""+Mt)return"-";var i=Nt(o);if(null!=i)return""+(i+1);for(var a=new Array(o.length),u=0;u<a.length;u++)a[u]=o.charAt(u);if(a.length<786)return a.push("-"),a.join("");for(var f=a.length-1;f>=0&&"z"===a[f];)f--;if(-1===f)return xe;var C=ln.charAt(ln.indexOf(a[f])+1);return a[f]=C,a.slice(0,f+1).join("")},Nn=function(o){if(o===""+an)return ce;var i=Nt(o);if(null!=i)return""+(i-1);for(var a=new Array(o.length),u=0;u<a.length;u++)a[u]=o.charAt(u);return"-"===a[a.length-1]?1===a.length?""+Mt:(delete a[a.length-1],a.join("")):(a[a.length-1]=ln.charAt(ln.indexOf(a[a.length-1])-1),a.join("")+"z".repeat(786-a.length))};function ri(o){return{type:"value",snapshotNode:o}}function Yn(o,i){return{type:"child_added",snapshotNode:i,childName:o}}function Ct(o,i){return{type:"child_removed",snapshotNode:i,childName:o}}function yi(o,i,a){return{type:"child_changed",snapshotNode:i,childName:o,oldSnap:a}}var qs=function(){function o(i){this.index_=i}return o.prototype.updateChild=function(i,a,u,f,v,C){(0,S.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");var O=i.getImmediateChild(a);return O.getChild(f).equals(u.getChild(f))&&O.isEmpty()===u.isEmpty()||(null!=C&&(u.isEmpty()?i.hasChild(a)?C.trackChildChange(Ct(a,O)):(0,S.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):O.isEmpty()?C.trackChildChange(Yn(a,u)):C.trackChildChange(yi(a,u,O))),i.isLeafNode()&&u.isEmpty())?i:i.updateImmediateChild(a,u).withIndex(this.index_)},o.prototype.updateFullNode=function(i,a,u){return null!=u&&(i.isLeafNode()||i.forEachChild(vn,function(f,v){a.hasChild(f)||u.trackChildChange(Ct(f,v))}),a.isLeafNode()||a.forEachChild(vn,function(f,v){if(i.hasChild(f)){var C=i.getImmediateChild(f);C.equals(v)||u.trackChildChange(yi(f,v,C))}else u.trackChildChange(Yn(f,v))})),a.withIndex(this.index_)},o.prototype.updatePriority=function(i,a){return i.isEmpty()?_.EMPTY_NODE:i.updatePriority(a)},o.prototype.filtersNodes=function(){return!1},o.prototype.getIndexedFilter=function(){return this},o.prototype.getIndex=function(){return this.index_},o}(),Ta=function(){function o(i){this.indexedFilter_=new qs(i.getIndex()),this.index_=i.getIndex(),this.startPost_=o.getStartPost_(i),this.endPost_=o.getEndPost_(i)}return o.prototype.getStartPost=function(){return this.startPost_},o.prototype.getEndPost=function(){return this.endPost_},o.prototype.matches=function(i){return this.index_.compare(this.getStartPost(),i)<=0&&this.index_.compare(i,this.getEndPost())<=0},o.prototype.updateChild=function(i,a,u,f,v,C){return this.matches(new qt(a,u))||(u=_.EMPTY_NODE),this.indexedFilter_.updateChild(i,a,u,f,v,C)},o.prototype.updateFullNode=function(i,a,u){a.isLeafNode()&&(a=_.EMPTY_NODE);var f=a.withIndex(this.index_);f=f.updatePriority(_.EMPTY_NODE);var v=this;return a.forEachChild(vn,function(C,O){v.matches(new qt(C,O))||(f=f.updateImmediateChild(C,_.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,f,u)},o.prototype.updatePriority=function(i,a){return i},o.prototype.filtersNodes=function(){return!0},o.prototype.getIndexedFilter=function(){return this.indexedFilter_},o.prototype.getIndex=function(){return this.index_},o.getStartPost_=function(i){if(i.hasStart()){var a=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),a)}return i.getIndex().minPost()},o.getEndPost_=function(i){if(i.hasEnd()){var a=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),a)}return i.getIndex().maxPost()},o}(),Sa=function(){function o(i){this.rangedFilter_=new Ta(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft()}return o.prototype.updateChild=function(i,a,u,f,v,C){return this.rangedFilter_.matches(new qt(a,u))||(u=_.EMPTY_NODE),i.getImmediateChild(a).equals(u)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,a,u,f,v,C):this.fullLimitUpdateChild_(i,a,u,v,C)},o.prototype.updateFullNode=function(i,a,u){var f;if(a.isLeafNode()||a.isEmpty())f=_.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<a.numChildren()&&a.isIndexed(this.index_)){f=_.EMPTY_NODE.withIndex(this.index_);var v=void 0;v=this.reverse_?a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var C=0;v.hasNext()&&C<this.limit_;){var O=v.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),O)<=0:this.index_.compare(O,this.rangedFilter_.getEndPost())<=0))break;f=f.updateImmediateChild(O.name,O.node),C++}}else{f=(f=a.withIndex(this.index_)).updatePriority(_.EMPTY_NODE);var W=void 0,Z=void 0,_e=void 0;if(v=void 0,this.reverse_){v=f.getReverseIterator(this.index_),W=this.rangedFilter_.getEndPost(),Z=this.rangedFilter_.getStartPost();var Fe=this.index_.getCompare();_e=function(Dt,$t){return Fe($t,Dt)}}else v=f.getIterator(this.index_),W=this.rangedFilter_.getStartPost(),Z=this.rangedFilter_.getEndPost(),_e=this.index_.getCompare();C=0;for(var Ge=!1;v.hasNext();)O=v.getNext(),!Ge&&_e(W,O)<=0&&(Ge=!0),Ge&&C<this.limit_&&_e(O,Z)<=0?C++:f=f.updateImmediateChild(O.name,_.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,f,u)},o.prototype.updatePriority=function(i,a){return i},o.prototype.filtersNodes=function(){return!0},o.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},o.prototype.getIndex=function(){return this.index_},o.prototype.fullLimitUpdateChild_=function(i,a,u,f,v){var C;if(this.reverse_){var O=this.index_.getCompare();C=function(Un,fi){return O(fi,Un)}}else C=this.index_.getCompare();var L=i;(0,S.hu)(L.numChildren()===this.limit_,"");var W=new qt(a,u),Z=this.reverse_?L.getFirstChild(this.index_):L.getLastChild(this.index_),_e=this.rangedFilter_.matches(W);if(L.hasChild(a)){for(var Fe=L.getImmediateChild(a),Ge=f.getChildAfterChild(this.index_,Z,this.reverse_);null!=Ge&&(Ge.name===a||L.hasChild(Ge.name));)Ge=f.getChildAfterChild(this.index_,Ge,this.reverse_);var dt=null==Ge?1:C(Ge,W);if(_e&&!u.isEmpty()&&dt>=0)return null!=v&&v.trackChildChange(yi(a,u,Fe)),L.updateImmediateChild(a,u);null!=v&&v.trackChildChange(Ct(a,Fe));var Dt=L.updateImmediateChild(a,_.EMPTY_NODE);return null!=Ge&&this.rangedFilter_.matches(Ge)?(null!=v&&v.trackChildChange(Yn(Ge.name,Ge.node)),Dt.updateImmediateChild(Ge.name,Ge.node)):Dt}return u.isEmpty()?i:_e&&C(Z,W)>=0?(null!=v&&(v.trackChildChange(Ct(Z.name,Z.node)),v.trackChildChange(Yn(a,u))),L.updateImmediateChild(a,u).updateImmediateChild(Z.name,_.EMPTY_NODE)):i},o}(),ys=function(){function o(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vn}return o.prototype.hasStart=function(){return this.startSet_},o.prototype.hasStartAfter=function(){return this.startAfterSet_},o.prototype.hasEndBefore=function(){return this.endBeforeSet_},o.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},o.prototype.getIndexStartValue=function(){return(0,S.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},o.prototype.getIndexStartName=function(){return(0,S.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ce},o.prototype.hasEnd=function(){return this.endSet_},o.prototype.getIndexEndValue=function(){return(0,S.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},o.prototype.getIndexEndName=function(){return(0,S.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xe},o.prototype.hasLimit=function(){return this.limitSet_},o.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},o.prototype.getLimit=function(){return(0,S.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},o.prototype.getIndex=function(){return this.index_},o.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},o.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===vn},o.prototype.copy=function(){var i=new o;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i},o}();function _s(o,i,a){var u=o.copy();return u.startSet_=!0,void 0===i&&(i=null),u.indexStartValue_=i,null!=a?(u.startNameSet_=!0,u.indexStartName_=a):(u.startNameSet_=!1,u.indexStartName_=""),u}function Vi(o,i,a){var u=o.copy();return u.endSet_=!0,void 0===i&&(i=null),u.indexEndValue_=i,void 0!==a?(u.endNameSet_=!0,u.indexEndName_=a):(u.endNameSet_=!1,u.indexEndName_=""),u}function Jn(o,i){var a=o.copy();return a.index_=i,a}function Es(o){var a,i={};return o.isDefault()||(o.index_===vn?a="$priority":o.index_===Cn?a="$value":o.index_===Dr?a="$key":((0,S.hu)(o.index_ instanceof gt,"Unrecognized index type!"),a=o.index_.toString()),i.orderBy=(0,S.Pz)(a),o.startSet_&&(i.startAt=(0,S.Pz)(o.indexStartValue_),o.startNameSet_&&(i.startAt+=","+(0,S.Pz)(o.indexStartName_))),o.endSet_&&(i.endAt=(0,S.Pz)(o.indexEndValue_),o.endNameSet_&&(i.endAt+=","+(0,S.Pz)(o.indexEndName_))),o.limitSet_&&(o.isViewFromLeft()?i.limitToFirst=o.limit_:i.limitToLast=o.limit_)),i}function bs(o){var i={};if(o.startSet_&&(i.sp=o.indexStartValue_,o.startNameSet_&&(i.sn=o.indexStartName_)),o.endSet_&&(i.ep=o.indexEndValue_,o.endNameSet_&&(i.en=o.indexEndName_)),o.limitSet_){i.l=o.limit_;var a=o.viewFrom_;""===a&&(a=o.isViewFromLeft()?"l":"r"),i.vf=a}return o.index_!==vn&&(i.i=o.index_.toString()),i}var Cs=function(o){function i(a,u,f,v){var C=o.call(this)||this;return C.repoInfo_=a,C.onDataUpdate_=u,C.authTokenProvider_=f,C.appCheckTokenProvider_=v,C.log_=Wt("p:rest:"),C.listens_={},C}return(0,ee.ZT)(i,o),i.prototype.reportStats=function(a){throw new Error("Method not implemented.")},i.getListenId_=function(a,u){return void 0!==u?"tag$"+u:((0,S.hu)(a._queryParams.isDefault(),"should have a tag if it's not a default query."),a._path.toString())},i.prototype.listen=function(a,u,f,v){var C=this,O=a._path.toString();this.log_("Listen called for "+O+" "+a._queryIdentifier);var L=i.getListenId_(a,f),W={};this.listens_[L]=W;var Z=Es(a._queryParams);this.restRequest_(O+".json",Z,function(_e,Fe){var Ge=Fe;404===_e&&(Ge=null,_e=null),null===_e&&C.onDataUpdate_(O,Ge,!1,f),(0,S.DV)(C.listens_,L)===W&&v(_e?401===_e?"permission_denied":"rest_error:"+_e:"ok",null)})},i.prototype.unlisten=function(a,u){var f=i.getListenId_(a,u);delete this.listens_[f]},i.prototype.get=function(a){var u=this,f=Es(a._queryParams),v=a._path.toString(),C=new S.BH;return this.restRequest_(v+".json",f,function(O,L){var W=L;404===O&&(W=null,O=null),null===O?(u.onDataUpdate_(v,W,!1,null),C.resolve(W)):C.reject(new Error(W))}),C.promise},i.prototype.refreshAuthToken=function(a){},i.prototype.restRequest_=function(a,u,f){var v=this;return void 0===u&&(u={}),u.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(C){var O=(0,ee.CR)(C,2),L=O[0],W=O[1];L&&L.accessToken&&(u.auth=L.accessToken),W&&W.token&&(u.ac=W.token);var Z=(v.repoInfo_.secure?"https://":"http://")+v.repoInfo_.host+a+"?ns="+v.repoInfo_.namespace+(0,S.xO)(u);v.log_("Sending REST request for "+Z);var _e=new XMLHttpRequest;_e.onreadystatechange=function(){if(f&&4===_e.readyState){v.log_("REST Response for "+Z+" received. status:",_e.status,"response:",_e.responseText);var Fe=null;if(_e.status>=200&&_e.status<300){try{Fe=(0,S.cI)(_e.responseText)}catch(Ge){kt("Failed to parse JSON response for "+Z+": "+_e.responseText)}f(null,Fe)}else 401!==_e.status&&404!==_e.status&&kt("Got unsuccessful REST response for "+Z+" Status: "+_e.status),f(_e.status);f=null}},_e.open("GET",Z,!0),_e.send()})},i}(De),Bl=function(){function o(){this.rootNode_=_.EMPTY_NODE}return o.prototype.getNode=function(i){return this.rootNode_.getChild(i)},o.prototype.updateSnapshot=function(i,a){this.rootNode_=this.rootNode_.updateChild(i,a)},o}();function Bi(){return{value:null,children:new Map}}function ii(o,i,a){if(ft(i))o.value=a,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(i,a);else{var u=vt(i);o.children.has(u)||o.children.set(u,Bi()),ii(o.children.get(u),i=K(i),a)}}function qn(o,i){if(ft(i))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;var a=o.value;return o.value=null,a.forEachChild(vn,function(v,C){ii(o,new qe(v),C)}),qn(o,i)}if(o.children.size>0){var u=vt(i);return i=K(i),o.children.has(u)&&qn(o.children.get(u),i)&&o.children.delete(u),0===o.children.size}return!0}function Ir(o,i,a){null!==o.value?a(i,o.value):function(o,i){o.children.forEach(function(a,u){i(u,a)})}(o,function(u,f){Ir(f,new qe(i.toString()+"/"+u),a)})}var Ui=function(){function o(i){this.collection_=i,this.last_=null}return o.prototype.get=function(){var i=this.collection_.get(),a=(0,ee.pi)({},i);return this.last_&&nt(this.last_,function(u,f){a[u]=a[u]-f}),this.last_=i,a},o}(),jl=function(){function o(i,a){this.server_=a,this.statsToReport_={},this.statsListener_=new Ui(i);var u=1e4+2e4*Math.random();tn(this.reportStats_.bind(this),Math.floor(u))}return o.prototype.reportStats_=function(){var i=this,a=this.statsListener_.get(),u={},f=!1;nt(a,function(v,C){C>0&&(0,S.r3)(i.statsToReport_,v)&&(u[v]=C,f=!0)}),f&&this.server_.reportStats(u),tn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},o}(),dr=(()=>(function(o){o[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(dr||(dr={})),dr))();function uo(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}var ic=function(){function o(i,a,u){this.path=i,this.affectedTree=a,this.revert=u,this.type=dr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return o.prototype.operationForChild=function(i){if(ft(this.path)){if(null!=this.affectedTree.value)return(0,S.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var a=this.affectedTree.subtree(new qe(i));return new o(Xe(),a,this.revert)}return(0,S.hu)(vt(this.path)===i,"operationForChild called for unrelated child."),new o(K(this.path),this.affectedTree,this.revert)},o}(),ws=function(){function o(i,a){this.source=i,this.path=a,this.type=dr.LISTEN_COMPLETE}return o.prototype.operationForChild=function(i){return ft(this.path)?new o(this.source,Xe()):new o(this.source,K(this.path))},o}(),_i=function(){function o(i,a,u){this.source=i,this.path=a,this.snap=u,this.type=dr.OVERWRITE}return o.prototype.operationForChild=function(i){return ft(this.path)?new o(this.source,Xe(),this.snap.getImmediateChild(i)):new o(this.source,K(this.path),this.snap)},o}(),$o=function(){function o(i,a,u){this.source=i,this.path=a,this.children=u,this.type=dr.MERGE}return o.prototype.operationForChild=function(i){if(ft(this.path)){var a=this.children.subtree(new qe(i));return a.isEmpty()?null:a.value?new _i(this.source,Xe(),a.value):new o(this.source,Xe(),a)}return(0,S.hu)(vt(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new o(this.source,K(this.path),this.children)},o.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},o}(),Kr=function(){function o(i,a,u){this.node_=i,this.fullyInitialized_=a,this.filtered_=u}return o.prototype.isFullyInitialized=function(){return this.fullyInitialized_},o.prototype.isFiltered=function(){return this.filtered_},o.prototype.isCompleteForPath=function(i){if(ft(i))return this.isFullyInitialized()&&!this.filtered_;var a=vt(i);return this.isCompleteForChild(a)},o.prototype.isCompleteForChild=function(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)},o.prototype.getNode=function(){return this.node_},o}(),Aa=function(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()};function Ei(o,i,a,u,f,v){var C=u.filter(function(O){return O.type===a});C.sort(function(O,L){return function(o,i,a){if(null==i.childName||null==a.childName)throw(0,S.g5)("Should only compare child_ events.");var u=new qt(i.childName,i.snapshotNode),f=new qt(a.childName,a.snapshotNode);return o.index_.compare(u,f)}(o,O,L)}),C.forEach(function(O){var L=function(o,i,a){return"value"===i.type||"child_removed"===i.type||(i.prevName=a.getPredecessorChildName(i.childName,i.snapshotNode,o.index_)),i}(o,O,v);f.forEach(function(W){W.respondsTo(O.type)&&i.push(W.createEvent(L,o.query_))})})}function Vn(o,i){return{eventCache:o,serverCache:i}}function Tr(o,i,a,u){return Vn(new Kr(i,a,u),o.serverCache)}function Rn(o,i,a,u){return Vn(o.eventCache,new Kr(i,a,u))}function Is(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function oi(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}var Ts,zn=function(){function o(i,a){void 0===a&&(Ts||(Ts=new wr(Ye)),a=Ts),this.value=i,this.children=a}return o.fromObject=function(i){var a=new o(null);return nt(i,function(u,f){a=a.set(new qe(u),f)}),a},o.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},o.prototype.findRootMostMatchingPathAndValue=function(i,a){if(null!=this.value&&a(this.value))return{path:Xe(),value:this.value};if(ft(i))return null;var u=vt(i),f=this.children.get(u);if(null!==f){var v=f.findRootMostMatchingPathAndValue(K(i),a);return null!=v?{path:Ue(new qe(u),v.path),value:v.value}:null}return null},o.prototype.findRootMostValueAndPath=function(i){return this.findRootMostMatchingPathAndValue(i,function(){return!0})},o.prototype.subtree=function(i){if(ft(i))return this;var a=vt(i),u=this.children.get(a);return null!==u?u.subtree(K(i)):new o(null)},o.prototype.set=function(i,a){if(ft(i))return new o(a,this.children);var u=vt(i),v=(this.children.get(u)||new o(null)).set(K(i),a),C=this.children.insert(u,v);return new o(this.value,C)},o.prototype.remove=function(i){if(ft(i))return this.children.isEmpty()?new o(null):new o(null,this.children);var a=vt(i),u=this.children.get(a);if(u){var f=u.remove(K(i)),v=void 0;return v=f.isEmpty()?this.children.remove(a):this.children.insert(a,f),null===this.value&&v.isEmpty()?new o(null):new o(this.value,v)}return this},o.prototype.get=function(i){if(ft(i))return this.value;var a=vt(i),u=this.children.get(a);return u?u.get(K(i)):null},o.prototype.setTree=function(i,a){if(ft(i))return a;var C,u=vt(i),v=(this.children.get(u)||new o(null)).setTree(K(i),a);return C=v.isEmpty()?this.children.remove(u):this.children.insert(u,v),new o(this.value,C)},o.prototype.fold=function(i){return this.fold_(Xe(),i)},o.prototype.fold_=function(i,a){var u={};return this.children.inorderTraversal(function(f,v){u[f]=v.fold_(Ue(i,f),a)}),a(i,this.value,u)},o.prototype.findOnPath=function(i,a){return this.findOnPath_(i,Xe(),a)},o.prototype.findOnPath_=function(i,a,u){var f=!!this.value&&u(a,this.value);if(f)return f;if(ft(i))return null;var v=vt(i),C=this.children.get(v);return C?C.findOnPath_(K(i),Ue(a,v),u):null},o.prototype.foreachOnPath=function(i,a){return this.foreachOnPath_(i,Xe(),a)},o.prototype.foreachOnPath_=function(i,a,u){if(ft(i))return this;this.value&&u(a,this.value);var f=vt(i),v=this.children.get(f);return v?v.foreachOnPath_(K(i),Ue(a,f),u):new o(null)},o.prototype.foreach=function(i){this.foreach_(Xe(),i)},o.prototype.foreach_=function(i,a){this.children.inorderTraversal(function(u,f){f.foreach_(Ue(i,u),a)}),this.value&&a(i,this.value)},o.prototype.foreachChild=function(i){this.children.inorderTraversal(function(a,u){u.value&&i(a,u.value)})},o}(),si=function(){function o(i){this.writeTree_=i}return o.empty=function(){return new o(new zn(null))},o}();function bi(o,i,a){if(ft(i))return new si(new zn(a));var u=o.writeTree_.findRootMostValueAndPath(i);if(null!=u){var f=u.path,v=u.value,C=Rt(f,i);return v=v.updateChild(C,a),new si(o.writeTree_.set(f,v))}var O=new zn(a),L=o.writeTree_.setTree(i,O);return new si(L)}function co(o,i,a){var u=o;return nt(a,function(f,v){u=bi(u,Ue(i,f),v)}),u}function Go(o,i){if(ft(i))return si.empty();var a=o.writeTree_.setTree(i,new zn(null));return new si(a)}function fo(o,i){return null!=Ci(o,i)}function Ci(o,i){var a=o.writeTree_.findRootMostValueAndPath(i);return null!=a?o.writeTree_.get(a.path).getChild(Rt(a.path,i)):null}function xa(o){var i=[],a=o.writeTree_.value;return null!=a?a.isLeafNode()||a.forEachChild(vn,function(u,f){i.push(new qt(u,f))}):o.writeTree_.children.inorderTraversal(function(u,f){null!=f.value&&i.push(new qt(u,f.value))}),i}function yn(o,i){if(ft(i))return o;var a=Ci(o,i);return new si(null!=a?new zn(a):o.writeTree_.subtree(i))}function ji(o){return o.writeTree_.isEmpty()}function ai(o,i){return Ss(Xe(),o.writeTree_,i)}function Ss(o,i,a){if(null!=i.value)return a.updateChild(o,i.value);var u=null;return i.children.inorderTraversal(function(f,v){".priority"===f?((0,S.hu)(null!==v.value,"Priority writes must always be leaf nodes"),u=v.value):a=Ss(Ue(o,f),v,a)}),!a.getChild(o).isEmpty()&&null!==u&&(a=a.updateChild(Ue(o,".priority"),u)),a}function Vr(o,i){return Ms(i,o)}function oc(o,i){if(o.snap)return Ln(o.path,i);for(var a in o.children)if(o.children.hasOwnProperty(a)&&Ln(Ue(o.path,a),i))return!0;return!1}function Oa(o){return o.visible}function zo(o,i,a){for(var u=si.empty(),f=0;f<o.length;++f){var v=o[f];if(i(v)){var C=v.path,O=void 0;if(v.snap)Ln(a,C)?u=bi(u,O=Rt(a,C),v.snap):Ln(C,a)&&(O=Rt(C,a),u=bi(u,Xe(),v.snap.getChild(O)));else{if(!v.children)throw(0,S.g5)("WriteRecord should have .snap or .children");if(Ln(a,C))u=co(u,O=Rt(a,C),v.children);else if(Ln(C,a))if(ft(O=Rt(C,a)))u=co(u,Xe(),v.children);else{var L=(0,S.DV)(v.children,vt(O));if(L){var W=L.getChild(K(O));u=bi(u,Xe(),W)}}}}}return u}function ho(o,i,a,u,f){if(u||f){var L=yn(o.visibleWrites,i);return!f&&ji(L)?a:f||null!=a||fo(L,Xe())?ai(zo(o.allWrites,function(Fe){return(Fe.visible||f)&&(!u||!~u.indexOf(Fe.writeId))&&(Ln(Fe.path,i)||Ln(i,Fe.path))},i),a||_.EMPTY_NODE):null}var v=Ci(o.visibleWrites,i);if(null!=v)return v;var C=yn(o.visibleWrites,i);return ji(C)?a:null!=a||fo(C,Xe())?ai(C,a||_.EMPTY_NODE):null}function Hi(o,i,a,u){return ho(o.writeTree,o.treePath,i,a,u)}function Fa(o,i){return function(o,i,a){var u=_.EMPTY_NODE,f=Ci(o.visibleWrites,i);if(f)return f.isLeafNode()||f.forEachChild(vn,function(O,L){u=u.updateImmediateChild(O,L)}),u;if(a){var v=yn(o.visibleWrites,i);return a.forEachChild(vn,function(O,L){var W=ai(yn(v,new qe(O)),L);u=u.updateImmediateChild(O,W)}),xa(v).forEach(function(O){u=u.updateImmediateChild(O.name,O.node)}),u}return xa(yn(o.visibleWrites,i)).forEach(function(O){u=u.updateImmediateChild(O.name,O.node)}),u}(o.writeTree,o.treePath,i)}function na(o,i,a,u){return function(o,i,a,u,f){(0,S.hu)(u||f,"Either existingEventSnap or existingServerSnap must exist");var v=Ue(i,a);if(fo(o.visibleWrites,v))return null;var C=yn(o.visibleWrites,v);return ji(C)?f.getChild(a):ai(C,f.getChild(a))}(o.writeTree,o.treePath,i,a,u)}function Ko(o,i){return function(o,i){return Ci(o.visibleWrites,i)}(o.writeTree,Ue(o.treePath,i))}function As(o,i,a){return function(o,i,a,u){var f=Ue(i,a),v=Ci(o.visibleWrites,f);return null!=v?v:u.isCompleteForChild(a)?ai(yn(o.visibleWrites,f),u.getNode().getImmediateChild(a)):null}(o.writeTree,o.treePath,i,a)}function go(o,i){return Ms(Ue(o.treePath,i),o.writeTree)}function Ms(o,i){return{treePath:o,writeTree:i}}var ra=function(){function o(){this.changeMap=new Map}return o.prototype.trackChildChange=function(i){var a=i.type,u=i.childName;(0,S.hu)("child_added"===a||"child_changed"===a||"child_removed"===a,"Only child changes supported for tracking"),(0,S.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");var f=this.changeMap.get(u);if(f){var v=f.type;if("child_added"===a&&"child_removed"===v)this.changeMap.set(u,yi(u,i.snapshotNode,f.snapshotNode));else if("child_removed"===a&&"child_added"===v)this.changeMap.delete(u);else if("child_removed"===a&&"child_changed"===v)this.changeMap.set(u,Ct(u,f.oldSnap));else if("child_changed"===a&&"child_added"===v)this.changeMap.set(u,Yn(u,i.snapshotNode));else{if("child_changed"!==a||"child_changed"!==v)throw(0,S.g5)("Illegal combination of changes: "+i+" occurred after "+f);this.changeMap.set(u,yi(u,i.snapshotNode,f.oldSnap))}}else this.changeMap.set(u,i)},o.prototype.getChanges=function(){return Array.from(this.changeMap.values())},o}(),Qo=new(function(){function o(){}return o.prototype.getCompleteChild=function(i){return null},o.prototype.getChildAfterChild=function(i,a,u){return null},o}()),ia=function(){function o(i,a,u){void 0===u&&(u=null),this.writes_=i,this.viewCache_=a,this.optCompleteServerCache_=u}return o.prototype.getCompleteChild=function(i){var a=this.viewCache_.eventCache;if(a.isCompleteForChild(i))return a.getNode().getImmediateChild(i);var u=null!=this.optCompleteServerCache_?new Kr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return As(this.writes_,i,u)},o.prototype.getChildAfterChild=function(i,a,u){var f=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oi(this.viewCache_),v=function(o,i,a,u,f,v){return function(o,i,a,u,f,v,C){var O,L=yn(o.visibleWrites,i),W=Ci(L,Xe());if(null!=W)O=W;else{if(null==a)return[];O=ai(L,a)}if((O=O.withIndex(C)).isEmpty()||O.isLeafNode())return[];for(var Z=[],_e=C.getCompare(),Fe=v?O.getReverseIteratorFrom(u,C):O.getIteratorFrom(u,C),Ge=Fe.getNext();Ge&&Z.length<f;)0!==_e(Ge,u)&&Z.push(Ge),Ge=Fe.getNext();return Z}(o.writeTree,o.treePath,i,a,u,f,v)}(this.writes_,f,a,1,u,i);return 0===v.length?null:v[0]},o}();function p(o,i,a,u,f,v){var C=i.eventCache;if(null!=Ko(u,a))return i;var O=void 0,L=void 0;if(ft(a))if((0,S.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){var W=oi(i),_e=Fa(u,W instanceof _?W:_.EMPTY_NODE);O=o.filter.updateFullNode(i.eventCache.getNode(),_e,v)}else{var Fe=Hi(u,oi(i));O=o.filter.updateFullNode(i.eventCache.getNode(),Fe,v)}else{var Ge=vt(a);if(".priority"===Ge){(0,S.hu)(1===ie(a),"Can't have a priority with additional path components");var dt=C.getNode(),xt=na(u,a,dt,L=i.serverCache.getNode());O=null!=xt?o.filter.updatePriority(dt,xt):C.getNode()}else{var Dt=K(a),$t=void 0;if(C.isCompleteForChild(Ge)){L=i.serverCache.getNode();var Un=na(u,a,C.getNode(),L);$t=null!=Un?C.getNode().getImmediateChild(Ge).updateChild(Dt,Un):C.getNode().getImmediateChild(Ge)}else $t=As(u,Ge,i.serverCache);O=null!=$t?o.filter.updateChild(C.getNode(),Ge,$t,Dt,f,v):C.getNode()}}return Tr(i,O,C.isFullyInitialized()||ft(a),o.filter.filtersNodes())}function h(o,i,a,u,f,v,C,O){var W,L=i.serverCache,Z=C?o.filter:o.filter.getIndexedFilter();if(ft(a))W=Z.updateFullNode(L.getNode(),u,null);else if(Z.filtersNodes()&&!L.isFiltered()){var _e=L.getNode().updateChild(a,u);W=Z.updateFullNode(L.getNode(),_e,null)}else{var Fe=vt(a);if(!L.isCompleteForPath(a)&&ie(a)>1)return i;var Ge=K(a),xt=L.getNode().getImmediateChild(Fe).updateChild(Ge,u);W=".priority"===Fe?Z.updatePriority(L.getNode(),xt):Z.updateChild(L.getNode(),Fe,xt,Ge,Qo,null)}var Dt=Rn(i,W,L.isFullyInitialized()||ft(a),Z.filtersNodes());return p(o,Dt,a,f,new ia(f,Dt,v),O)}function E(o,i,a,u,f,v,C){var L,W,O=i.eventCache,Z=new ia(f,i,v);if(ft(a))W=o.filter.updateFullNode(i.eventCache.getNode(),u,C),L=Tr(i,W,!0,o.filter.filtersNodes());else{var _e=vt(a);if(".priority"===_e)W=o.filter.updatePriority(i.eventCache.getNode(),u),L=Tr(i,W,O.isFullyInitialized(),O.isFiltered());else{var Fe=K(a),Ge=O.getNode().getImmediateChild(_e),dt=void 0;if(ft(Fe))dt=u;else{var xt=Z.getCompleteChild(_e);dt=null!=xt?".priority"===U(Fe)&&xt.getChild(et(Fe)).isEmpty()?xt:xt.updateChild(Fe,u):_.EMPTY_NODE}L=Ge.equals(dt)?i:Tr(i,o.filter.updateChild(O.getNode(),_e,dt,Fe,Z,C),O.isFullyInitialized(),o.filter.filtersNodes())}}return L}function D(o,i){return o.eventCache.isCompleteForChild(i)}function Y(o,i,a){return a.foreach(function(u,f){i=i.updateChild(u,f)}),i}function re(o,i,a,u,f,v,C,O){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;var W,L=i;W=ft(a)?u:new zn(null).setTree(a,u);var Z=i.serverCache.getNode();return W.children.inorderTraversal(function(_e,Fe){if(Z.hasChild(_e)){var dt=Y(0,i.serverCache.getNode().getImmediateChild(_e),Fe);L=h(o,L,new qe(_e),dt,f,v,C,O)}}),W.children.inorderTraversal(function(_e,Fe){var Ge=!i.serverCache.isCompleteForChild(_e)&&void 0===Fe.value;if(!Z.hasChild(_e)&&!Ge){var xt=Y(0,i.serverCache.getNode().getImmediateChild(_e),Fe);L=h(o,L,new qe(_e),xt,f,v,C,O)}}),L}var It=function(){function o(i,a){this.query_=i,this.eventRegistrations_=[];var u=this.query_._queryParams,f=new qs(u.getIndex()),v=function(o){return o.loadsAllData()?new qs(o.getIndex()):o.hasLimit()?new Sa(o):new Ta(o)}(u);this.processor_=function(o){return{filter:o}}(v);var C=a.serverCache,O=a.eventCache,L=f.updateFullNode(_.EMPTY_NODE,C.getNode(),null),W=v.updateFullNode(_.EMPTY_NODE,O.getNode(),null),Z=new Kr(L,C.isFullyInitialized(),f.filtersNodes()),_e=new Kr(W,O.isFullyInitialized(),v.filtersNodes());this.viewCache_=Vn(_e,Z),this.eventGenerator_=new Aa(this.query_)}return Object.defineProperty(o.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),o}();function _r(o,i){var a=oi(o.viewCache_);return a&&(o.query._queryParams.loadsAllData()||!ft(i)&&!a.getImmediateChild(vt(i)).isEmpty())?a.getChild(i):null}function fr(o){return 0===o.eventRegistrations_.length}function Ar(o,i,a){var u=[];if(a){(0,S.hu)(null==i,"A cancel should cancel all event registrations.");var f=o.query._path;o.eventRegistrations_.forEach(function(L){var W=L.createCancelEvent(a,f);W&&u.push(W)})}if(i){for(var v=[],C=0;C<o.eventRegistrations_.length;++C){var O=o.eventRegistrations_[C];if(O.matches(i)){if(i.hasAnyCallback()){v=v.concat(o.eventRegistrations_.slice(C+1));break}}else v.push(O)}o.eventRegistrations_=v}else o.eventRegistrations_=[];return u}function wi(o,i,a,u){i.type===dr.MERGE&&null!==i.source.queryId&&((0,S.hu)(oi(o.viewCache_),"We should always have a full cache before handling merges"),(0,S.hu)(Is(o.viewCache_),"Missing event cache, even though we have a server cache"));var f=o.viewCache_,v=function(o,i,a,u,f){var C,O,v=new ra;if(a.type===dr.OVERWRITE){var L=a;L.source.fromUser?C=E(o,i,L.path,L.snap,u,f,v):((0,S.hu)(L.source.fromServer,"Unknown source."),O=L.source.tagged||i.serverCache.isFiltered()&&!ft(L.path),C=h(o,i,L.path,L.snap,u,f,O,v))}else if(a.type===dr.MERGE){var W=a;W.source.fromUser?C=function(o,i,a,u,f,v,C){var O=i;return u.foreach(function(L,W){var Z=Ue(a,L);D(i,vt(Z))&&(O=E(o,O,Z,W,f,v,C))}),u.foreach(function(L,W){var Z=Ue(a,L);D(i,vt(Z))||(O=E(o,O,Z,W,f,v,C))}),O}(o,i,W.path,W.children,u,f,v):((0,S.hu)(W.source.fromServer,"Unknown source."),O=W.source.tagged||i.serverCache.isFiltered(),C=re(o,i,W.path,W.children,u,f,O,v))}else if(a.type===dr.ACK_USER_WRITE){var Z=a;C=Z.revert?function(o,i,a,u,f,v){var C;if(null!=Ko(u,a))return i;var O=new ia(u,i,f),L=i.eventCache.getNode(),W=void 0;if(ft(a)||".priority"===vt(a)){var Z=void 0;if(i.serverCache.isFullyInitialized())Z=Hi(u,oi(i));else{var _e=i.serverCache.getNode();(0,S.hu)(_e instanceof _,"serverChildren would be complete if leaf node"),Z=Fa(u,_e)}W=o.filter.updateFullNode(L,Z=Z,v)}else{var Fe=vt(a),Ge=As(u,Fe,i.serverCache);null==Ge&&i.serverCache.isCompleteForChild(Fe)&&(Ge=L.getImmediateChild(Fe)),(W=null!=Ge?o.filter.updateChild(L,Fe,Ge,K(a),O,v):i.eventCache.getNode().hasChild(Fe)?o.filter.updateChild(L,Fe,_.EMPTY_NODE,K(a),O,v):L).isEmpty()&&i.serverCache.isFullyInitialized()&&(C=Hi(u,oi(i))).isLeafNode()&&(W=o.filter.updateFullNode(W,C,v))}return C=i.serverCache.isFullyInitialized()||null!=Ko(u,Xe()),Tr(i,W,C,o.filter.filtersNodes())}(o,i,Z.path,u,f,v):function(o,i,a,u,f,v,C){if(null!=Ko(f,a))return i;var O=i.serverCache.isFiltered(),L=i.serverCache;if(null!=u.value){if(ft(a)&&L.isFullyInitialized()||L.isCompleteForPath(a))return h(o,i,a,L.getNode().getChild(a),f,v,O,C);if(ft(a)){var W=new zn(null);return L.getNode().forEachChild(Dr,function(_e,Fe){W=W.set(new qe(_e),Fe)}),re(o,i,a,W,f,v,O,C)}return i}var Z=new zn(null);return u.foreach(function(_e,Fe){var Ge=Ue(a,_e);L.isCompleteForPath(Ge)&&(Z=Z.set(_e,L.getNode().getChild(Ge)))}),re(o,i,a,Z,f,v,O,C)}(o,i,Z.path,Z.affectedTree,u,f,v)}else{if(a.type!==dr.LISTEN_COMPLETE)throw(0,S.g5)("Unknown operation type: "+a.type);C=function(o,i,a,u,f){var v=i.serverCache;return p(o,Rn(i,v.getNode(),v.isFullyInitialized()||ft(a),v.isFiltered()),a,u,Qo,f)}(o,i,a.path,u,v)}var _e=v.getChanges();return function(o,i,a){var u=i.eventCache;if(u.isFullyInitialized()){var f=u.getNode().isLeafNode()||u.getNode().isEmpty(),v=Is(o);(a.length>0||!o.eventCache.isFullyInitialized()||f&&!u.getNode().equals(v)||!u.getNode().getPriority().equals(v.getPriority()))&&a.push(ri(Is(i)))}}(i,C,_e),{viewCache:C,changes:_e}}(o.processor_,f,i,a,u);return function(o,i){(0,S.hu)(i.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,S.hu)(i.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,v.viewCache),(0,S.hu)(v.viewCache.serverCache.isFullyInitialized()||!f.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=v.viewCache,xs(o,v.changes,v.viewCache.eventCache.getNode(),null)}function xs(o,i,a,u){return function(o,i,a,u){var f=[],v=[];return i.forEach(function(C){"child_changed"===C.type&&o.index_.indexedValueChanged(C.oldSnap,C.snapshotNode)&&v.push(function(o,i){return{type:"child_moved",snapshotNode:i,childName:o}}(C.childName,C.snapshotNode))}),Ei(o,f,"child_removed",i,u,a),Ei(o,f,"child_added",i,u,a),Ei(o,f,"child_moved",v,u,a),Ei(o,f,"child_changed",i,u,a),Ei(o,f,"value",i,u,a),f}(o.eventGenerator_,i,a,u?[u]:o.eventRegistrations_)}var Zl,Jl,sc=function(){this.views=new Map};function lc(o,i,a,u){var f,v,C=i.source.queryId;if(null!==C){var O=o.views.get(C);return(0,S.hu)(null!=O,"SyncTree gave us an op for an invalid query."),wi(O,i,a,u)}var L=[];try{for(var W=(0,ee.XA)(o.views.values()),Z=W.next();!Z.done;Z=W.next())L=L.concat(wi(O=Z.value,i,a,u))}catch(_e){f={error:_e}}finally{try{Z&&!Z.done&&(v=W.return)&&v.call(W)}finally{if(f)throw f.error}}return L}function Nd(o,i,a,u,f){var C=o.views.get(i._queryIdentifier);if(!C){var O=Hi(a,f?u:null),L=!1;O?L=!0:u instanceof _?(O=Fa(a,u),L=!1):(O=_.EMPTY_NODE,L=!1);var W=Vn(new Kr(O,L,!1),new Kr(u,f,!1));return new It(i,W)}return C}function Fd(o){var i,a,u=[];try{for(var f=(0,ee.XA)(o.views.values()),v=f.next();!v.done;v=f.next()){var C=v.value;C.query._queryParams.loadsAllData()||u.push(C)}}catch(O){i={error:O}}finally{try{v&&!v.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return u}function Xo(o,i){var a,u,f=null;try{for(var v=(0,ee.XA)(o.views.values()),C=v.next();!C.done;C=v.next())f=f||_r(C.value,i)}catch(L){a={error:L}}finally{try{C&&!C.done&&(u=v.return)&&u.call(v)}finally{if(a)throw a.error}}return f}function Ld(o,i){return i._queryParams.loadsAllData()?vo(o):o.views.get(i._queryIdentifier)}function kd(o,i){return null!=Ld(o,i)}function Zo(o){return null!=vo(o)}function vo(o){var i,a;try{for(var u=(0,ee.XA)(o.views.values()),f=u.next();!f.done;f=u.next()){var v=f.value;if(v.query._queryParams.loadsAllData())return v}}catch(C){i={error:C}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return null}var Va=1,Vd=function(i){this.listenProvider_=i,this.syncPointTree_=new zn(null),this.pendingWriteTree_={visibleWrites:si.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ql(o,i,a,u,f){return function(o,i,a,u,f){(0,S.hu)(u>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===f&&(f=!0),o.allWrites.push({path:i,snap:a,writeId:u,visible:f}),f&&(o.visibleWrites=bi(o.visibleWrites,i,a)),o.lastWriteId=u}(o.pendingWriteTree_,i,a,u,f),f?Eo(o,new _i({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,a)):[]}function ir(o,i,a){void 0===a&&(a=!1);var u=function(o,i){for(var a=0;a<o.allWrites.length;a++){var u=o.allWrites[a];if(u.writeId===i)return u}return null}(o.pendingWriteTree_,i);if(function(o,i){var a=o.allWrites.findIndex(function(W){return W.writeId===i});(0,S.hu)(a>=0,"removeWrite called with nonexistent writeId.");var u=o.allWrites[a];o.allWrites.splice(a,1);for(var f=u.visible,v=!1,C=o.allWrites.length-1;f&&C>=0;){var O=o.allWrites[C];O.visible&&(C>=a&&oc(O,u.path)?f=!1:Ln(u.path,O.path)&&(v=!0)),C--}return!!f&&(v?(function(o){o.visibleWrites=zo(o.allWrites,Oa,Xe()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(u.snap?o.visibleWrites=Go(o.visibleWrites,u.path):nt(u.children,function(W){o.visibleWrites=Go(o.visibleWrites,Ue(u.path,W))}),!0))}(o.pendingWriteTree_,i)){var v=new zn(null);return null!=u.snap?v=v.set(Xe(),!0):nt(u.children,function(C){v=v.set(new qe(C),!0)}),Eo(o,new ic(u.path,v,a))}return[]}function yo(o,i,a){return Eo(o,new _i({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,a))}function eu(o,i,a,u){var f=i._path,v=o.syncPointTree_.get(f),C=[];if(v&&("default"===i._queryIdentifier||kd(v,i))){var O=function(o,i,a,u){var f,v,C=i._queryIdentifier,O=[],L=[],W=Zo(o);if("default"===C)try{for(var Z=(0,ee.XA)(o.views.entries()),_e=Z.next();!_e.done;_e=Z.next()){var dt,Fe=(0,ee.CR)(_e.value,2),Ge=Fe[0];L=L.concat(Ar(dt=Fe[1],a,u)),fr(dt)&&(o.views.delete(Ge),dt.query._queryParams.loadsAllData()||O.push(dt.query))}}catch(xt){f={error:xt}}finally{try{_e&&!_e.done&&(v=Z.return)&&v.call(Z)}finally{if(f)throw f.error}}else(dt=o.views.get(C))&&(L=L.concat(Ar(dt,a,u)),fr(dt)&&(o.views.delete(C),dt.query._queryParams.loadsAllData()||O.push(dt.query)));return W&&!Zo(o)&&O.push(new((0,S.hu)(Zl,"Reference.ts has not been loaded"),Zl)(i._repo,i._path)),{removed:O,events:L}}(v,i,a,u);(function(o){return 0===o.views.size})(v)&&(o.syncPointTree_=o.syncPointTree_.remove(f));var L=O.removed;C=O.events;var W=-1!==L.findIndex(function(Un){return Un._queryParams.loadsAllData()}),Z=o.syncPointTree_.findOnPath(f,function(Un,fi){return Zo(fi)});if(W&&!Z){var _e=o.syncPointTree_.subtree(f);if(!_e.isEmpty())for(var Fe=function(o){return o.fold(function(i,a,u){if(a&&Zo(a))return[vo(a)];var v=[];return a&&(v=Fd(a)),nt(u,function(C,O){v=v.concat(O)}),v})}(_e),Ge=0;Ge<Fe.length;++Ge){var dt=Fe[Ge],xt=dt.query,Dt=tu(o,dt);o.listenProvider_.startListening(es(xt),Ba(o,xt),Dt.hashFn,Dt.onComplete)}}!Z&&L.length>0&&!u&&(W?o.listenProvider_.stopListening(es(i),null):L.forEach(function(Un){var fi=o.queryToTagMap.get(Ua(Un));o.listenProvider_.stopListening(es(Un),fi)})),function(o,i){for(var a=0;a<i.length;++a){var u=i[a];if(!u._queryParams.loadsAllData()){var f=Ua(u),v=o.queryToTagMap.get(f);o.queryToTagMap.delete(f),o.tagToQueryMap.delete(v)}}}(o,L)}return C}function Ud(o,i,a){var u=i._path,f=null,v=!1;o.syncPointTree_.foreachOnPath(u,function(xt,Dt){var $t=Rt(xt,u);f=f||Xo(Dt,$t),v=v||Zo(Dt)});var O,C=o.syncPointTree_.get(u);C?(v=v||Zo(C),f=f||Xo(C,Xe())):(C=new sc,o.syncPointTree_=o.syncPointTree_.set(u,C)),null!=f?O=!0:(O=!1,f=_.EMPTY_NODE,o.syncPointTree_.subtree(u).foreachChild(function(xt,Dt){var $t=Xo(Dt,Xe());$t&&(f=f.updateImmediateChild(xt,$t))}));var W=kd(C,i);if(!W&&!i._queryParams.loadsAllData()){var Z=Ua(i);(0,S.hu)(!o.queryToTagMap.has(Z),"View does not exist, but we have a tag");var _e=Va++;o.queryToTagMap.set(Z,_e),o.tagToQueryMap.set(_e,Z)}var Ge=function(o,i,a,u,f,v){var C=Nd(o,i,u,f,v);return o.views.has(i._queryIdentifier)||o.views.set(i._queryIdentifier,C),function(o,i){o.eventRegistrations_.push(i)}(C,a),function(o,i){var a=o.viewCache_.eventCache,u=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(vn,function(v,C){u.push(Yn(v,C))}),a.isFullyInitialized()&&u.push(ri(a.getNode())),xs(o,u,a.getNode(),i)}(C,a)}(C,i,a,Vr(o.pendingWriteTree_,u),f,O);if(!W&&!v){var dt=Ld(C,i);Ge=Ge.concat(function(o,i,a){var u=i._path,f=Ba(o,i),v=tu(o,a),C=o.listenProvider_.startListening(es(i),f,v.hashFn,v.onComplete),O=o.syncPointTree_.subtree(u);if(f)(0,S.hu)(!Zo(O.value),"If we're adding a query, it shouldn't be shadowed");else for(var L=O.fold(function(_e,Fe,Ge){if(!ft(_e)&&Fe&&Zo(Fe))return[vo(Fe).query];var dt=[];return Fe&&(dt=dt.concat(Fd(Fe).map(function(xt){return xt.query}))),nt(Ge,function(xt,Dt){dt=dt.concat(Dt)}),dt}),W=0;W<L.length;++W){var Z=L[W];o.listenProvider_.stopListening(es(Z),Ba(o,Z))}return C}(o,i,dt))}return Ge}function sa(o,i,a){var f=o.pendingWriteTree_,v=o.syncPointTree_.findOnPath(i,function(C,O){var W=Xo(O,Rt(C,i));if(W)return W});return ho(f,i,v,a,!0)}function Eo(o,i){return qo(i,o.syncPointTree_,null,Vr(o.pendingWriteTree_,Xe()))}function qo(o,i,a,u){if(ft(o.path))return jd(o,i,a,u);var f=i.get(Xe());null==a&&null!=f&&(a=Xo(f,Xe()));var v=[],C=vt(o.path),O=o.operationForChild(C),L=i.children.get(C);if(L&&O){var W=a?a.getImmediateChild(C):null,Z=go(u,C);v=v.concat(qo(O,L,W,Z))}return f&&(v=v.concat(lc(f,o,u,a))),v}function jd(o,i,a,u){var f=i.get(Xe());null==a&&null!=f&&(a=Xo(f,Xe()));var v=[];return i.children.inorderTraversal(function(C,O){var L=a?a.getImmediateChild(C):null,W=go(u,C),Z=o.operationForChild(C);Z&&(v=v.concat(jd(Z,O,L,W)))}),f&&(v=v.concat(lc(f,o,u,a))),v}function tu(o,i){var a=i.query,u=Ba(o,a);return{hashFn:function(){return(function(o){return o.viewCache_.serverCache.getNode()}(i)||_.EMPTY_NODE).hash()},onComplete:function(f){if("ok"===f)return u?function(o,i,a){var u=nu(o,a);if(u){var f=ru(u),v=f.path,C=f.queryId,O=Rt(v,i);return iu(o,v,new ws(uo(C),O))}return[]}(o,a._path,u):function(o,i){return Eo(o,new ws({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(o,a._path);var v=function(o,i){var a="Unknown Error";"too_big"===o?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?a="Client doesn't have permission to access the desired data.":"unavailable"===o&&(a="The service is unavailable");var u=new Error(o+" at "+i._path.toString()+": "+a);return u.code=o.toUpperCase(),u}(f,a);return eu(o,a,null,v)}}}function Ba(o,i){var a=Ua(i);return o.queryToTagMap.get(a)}function Ua(o){return o._path.toString()+"$"+o._queryIdentifier}function nu(o,i){return o.tagToQueryMap.get(i)}function ru(o){var i=o.indexOf("$");return(0,S.hu)(-1!==i&&i<o.length-1,"Bad queryKey."),{queryId:o.substr(i+1),path:new qe(o.substr(0,i))}}function iu(o,i,a){var u=o.syncPointTree_.get(i);return(0,S.hu)(u,"Missing sync point for query tag that we're tracking"),lc(u,a,Vr(o.pendingWriteTree_,i),null)}function es(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new((0,S.hu)(Jl,"Reference.ts has not been loaded"),Jl)(o._repo,o._path):o}var ou=function(){function o(i){this.node_=i}return o.prototype.getImmediateChild=function(i){return new o(this.node_.getImmediateChild(i))},o.prototype.node=function(){return this.node_},o}(),Ps=function(){function o(i,a){this.syncTree_=i,this.path_=a}return o.prototype.getImmediateChild=function(i){var a=Ue(this.path_,i);return new o(this.syncTree_,a)},o.prototype.node=function(){return sa(this.syncTree_,this.path_)},o}(),cc=function(o,i,a){return o&&"object"==typeof o?((0,S.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?Wd(o[".sv"],i,a):"object"==typeof o[".sv"]?su(o[".sv"],i):void(0,S.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},Wd=function(o,i,a){switch(o){case"timestamp":return a.timestamp;default:(0,S.hu)(!1,"Unexpected server value: "+o)}},su=function(o,i,a){o.hasOwnProperty("increment")||(0,S.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));var u=o.increment;"number"!=typeof u&&(0,S.hu)(!1,"Unexpected increment value: "+u);var f=i.node();if((0,S.hu)(null!=f,"Expected ChildrenNode.EMPTY_NODE for nulls"),!f.isLeafNode())return u;var C=f.getValue();return"number"!=typeof C?u:C+u},$d=function(o,i,a,u){return ts(i,new Ps(a,o),u)},ua=function(o,i,a){return ts(o,new ou(i),a)};function ts(o,i,a){var v,u=o.getPriority().val(),f=cc(u,i.getImmediateChild(".priority"),a);if(o.isLeafNode()){var C=o,O=cc(C.getValue(),i,a);return O!==C.getValue()||f!==C.getPriority().val()?new ti(O,Le(f)):o}var L=o;return v=L,f!==L.getPriority().val()&&(v=v.updatePriority(new ti(f))),L.forEachChild(vn,function(W,Z){var _e=ts(Z,i.getImmediateChild(W),a);_e!==Z&&(v=v.updateImmediateChild(W,_e))}),v}var bo=function(i,a,u){void 0===i&&(i=""),void 0===a&&(a=null),void 0===u&&(u={children:{},childCount:0}),this.name=i,this.parent=a,this.node=u};function Ha(o,i){for(var a=i instanceof qe?i:new qe(i),u=o,f=vt(a);null!==f;){var v=(0,S.DV)(u.node.children,f)||{children:{},childCount:0};u=new bo(f,u,v),f=vt(a=K(a))}return u}function Sn(o){return o.node.value}function Wa(o,i){o.node.value=i,hc(o)}function Gd(o){return o.node.childCount>0}function Co(o,i){nt(o.node.children,function(a,u){i(new bo(a,o,u))})}function dc(o,i,a,u){a&&!u&&i(o),Co(o,function(f){dc(f,i,!0,u)}),a&&u&&i(o)}function Os(o){return new qe(null===o.parent?o.name:Os(o.parent)+"/"+o.name)}function hc(o){null!==o.parent&&function(o,i,a){var u=function(o){return void 0===Sn(o)&&!Gd(o)}(a),f=(0,S.r3)(o.node.children,i);u&&f?(delete o.node.children[i],o.node.childCount--,hc(o)):!u&&!f&&(o.node.children[i]=a.node,o.node.childCount++,hc(o))}(o.parent,o.name,o)}var $i=/[\[\].#$\/\u0000-\u001F\u007F]/,$a=/[\[\].#$\u0000-\u001F\u007F]/,Ii=10485760,Ga=function(o){return"string"==typeof o&&0!==o.length&&!$i.test(o)},au=function(o){return"string"==typeof o&&0!==o.length&&!$a.test(o)},Do=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!ye(o)||o&&"object"==typeof o&&(0,S.r3)(o,".sv")},li=function(o,i,a,u){u&&void 0===i||ca((0,S.gK)(o,"value"),i,a)},ca=function(o,i,a){var u=a instanceof qe?new Ni(a,o):a;if(void 0===i)throw new Error(o+"contains undefined "+Fr(u));if("function"==typeof i)throw new Error(o+"contains a function "+Fr(u)+" with contents = "+i.toString());if(ye(i))throw new Error(o+"contains "+i.toString()+" "+Fr(u));if("string"==typeof i&&i.length>Ii/3&&(0,S.ug)(i)>Ii)throw new Error(o+"contains a string greater than "+Ii+" utf8 bytes "+Fr(u)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){var f=!1,v=!1;if(nt(i,function(C,O){if(".value"===C)f=!0;else if(".priority"!==C&&".sv"!==C&&(v=!0,!Ga(C)))throw new Error(o+" contains an invalid key ("+C+") "+Fr(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(o,i){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(i),o.byteLength_+=(0,S.ug)(i),Lo(o)})(u,C),ca(o,O,u),function(o){var i=o.parts_.pop();o.byteLength_-=(0,S.ug)(i),o.parts_.length>0&&(o.byteLength_-=1)}(u)}),f&&v)throw new Error(o+' contains ".value" child '+Fr(u)+" in addition to actual children.")}},rs=function(o,i,a,u){if(!u||void 0!==i){var f=(0,S.gK)(o,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(f+" must be an object containing the children to replace.");var v=[];nt(i,function(C,O){var L=new qe(C);if(ca(f,O,Ue(a,L)),".priority"===U(L)&&!Do(O))throw new Error(f+"contains an invalid value for '"+L.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");v.push(L)}),function(o,i){var a,u;for(a=0;a<i.length;a++)for(var f=Re(u=i[a]),v=0;v<f.length;v++)if((".priority"!==f[v]||v!==f.length-1)&&!Ga(f[v]))throw new Error(o+"contains an invalid key ("+f[v]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.sort(Gn);var C=null;for(a=0;a<i.length;a++){if(u=i[a],null!==C&&Ln(C,u))throw new Error(o+"contains a path "+C.toString()+" that is ancestor of another path "+u.toString());C=u}}(f,v)}},is=function(o,i,a){if(!a||void 0!==i){if(ye(i))throw new Error((0,S.gK)(o,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Do(i))throw new Error((0,S.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zd=function(o,i,a){if(!a||void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,S.gK)(o,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ya=function(o,i,a,u){if(!(u&&void 0===a||Ga(a)))throw new Error((0,S.gK)(o,i)+'was an invalid key = "'+a+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Fs=function(o,i,a,u){if(!(u&&void 0===a||au(a)))throw new Error((0,S.gK)(o,i)+'was an invalid path = "'+a+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ui=function(o,i){if(".info"===vt(i))throw new Error(o+" failed = Can't modify data under /.info/")},pc=function(o,i){var a=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Ga(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==a.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),au(o)}(a))throw new Error((0,S.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Qd=function(o,i,a,u){if((!u||void 0!==a)&&"boolean"!=typeof a)throw new Error((0,S.gK)(o,i)+"must be a boolean.")},Xd=function(){this.eventLists_=[],this.recursionDepth_=0};function os(o,i){for(var a=null,u=0;u<i.length;u++){var f=i[u],v=f.getPath();null!==a&&!Oi(v,a.path)&&(o.eventLists_.push(a),a=null),null===a&&(a={events:[],path:v}),a.events.push(f)}a&&o.eventLists_.push(a)}function da(o,i,a){os(o,a),gc(o,function(u){return Oi(u,i)})}function or(o,i,a){os(o,a),gc(o,function(u){return Ln(u,i)||Ln(i,u)})}function gc(o,i){o.recursionDepth_++;for(var a=!0,u=0;u<o.eventLists_.length;u++){var f=o.eventLists_[u];f&&(i(f.path)?(Zd(o.eventLists_[u]),o.eventLists_[u]=null):a=!1)}a&&(o.eventLists_=[]),o.recursionDepth_--}function Zd(o){for(var i=0;i<o.events.length;i++){var a=o.events[i];if(null!==a){o.events[i]=null;var u=a.getEventRunner();Se&&ct("event: "+a.toString()),cn(u)}}}var Jd="repo_interrupt",uu=function(){function o(i,a,u,f){this.repoInfo_=i,this.forceRestClient_=a,this.authTokenProvider_=u,this.appCheckProvider_=f,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bi(),this.transactionQueueTree_=new bo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return o.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},o}();function cu(o){var a=o.infoData_.getNode(new qe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+a}function Ls(o){return function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o}({timestamp:cu(o)})}function wo(o,i,a,u,f){o.dataUpdateCount++;var v=new qe(i);a=o.interceptServerDataCallback_?o.interceptServerDataCallback_(i,a):a;var C=[];if(f)if(u){var O=(0,S.UI)(a,function(Fe){return Le(Fe)});C=function(o,i,a,u){var f=nu(o,u);if(f){var v=ru(f),C=v.path,O=v.queryId,L=Rt(C,i),W=zn.fromObject(a);return iu(o,C,new $o(uo(O),L,W))}return[]}(o.serverSyncTree_,v,O,f)}else{var L=Le(a);C=function(o,i,a,u){var f=nu(o,u);if(null!=f){var v=ru(f),C=v.path,O=v.queryId,L=Rt(C,i);return iu(o,C,new _i(uo(O),L,a))}return[]}(o.serverSyncTree_,v,L,f)}else if(u){var W=(0,S.UI)(a,function(Fe){return Le(Fe)});C=function(o,i,a){var u=zn.fromObject(a);return Eo(o,new $o({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,u))}(o.serverSyncTree_,v,W)}else{var Z=Le(a);C=yo(o.serverSyncTree_,v,Z)}var _e=v;C.length>0&&(_e=ss(o,v)),or(o.eventQueue_,_e,C)}function vc(o,i){du(o,"connected",i),!1===i&&function(o){ks(o,"onDisconnectEvents");var i=Ls(o),a=Bi();Ir(o.onDisconnect_,Xe(),function(f,v){var C=$d(f,v,o.serverSyncTree_,i);ii(a,f,C)});var u=[];Ir(a,Xe(),function(f,v){u=u.concat(yo(o.serverSyncTree_,f,v));var C=fa(o,f);ss(o,C)}),o.onDisconnect_=Bi(),or(o.eventQueue_,Xe(),u)}(o)}function du(o,i,a){var u=new qe("/.info/"+i),f=Le(a);o.infoData_.updateSnapshot(u,f);var v=yo(o.infoSyncTree_,u,f);or(o.eventQueue_,u,v)}function Ka(o){return o.nextWriteId_++}function Io(o,i,a,u,f){ks(o,"set",{path:i.toString(),value:a,priority:u});var v=Ls(o),C=Le(a,u),O=sa(o.serverSyncTree_,i),L=ua(C,O,v),W=Ka(o),Z=ql(o.serverSyncTree_,i,L,W,!0);os(o.eventQueue_,Z),o.server_.put(i.toString(),C.val(!0),function(Fe,Ge){var dt="ok"===Fe;dt||kt("set at "+i+" failed: "+Fe);var xt=ir(o.serverSyncTree_,W,!dt);or(o.eventQueue_,i,xt),Xr(0,f,Fe,Ge)});var _e=fa(o,i);ss(o,_e),or(o.eventQueue_,_e,[])}function nf(o,i,a){o.server_.onDisconnectCancel(i.toString(),function(u,f){"ok"===u&&qn(o.onDisconnect_,i),Xr(0,a,u,f)})}function _c(o,i,a,u){var f=Le(a);o.server_.onDisconnectPut(i.toString(),f.val(!0),function(v,C){"ok"===v&&ii(o.onDisconnect_,i,f),Xr(0,u,v,C)})}function fu(o,i,a){var u;u=".info"===vt(i._path)?eu(o.infoSyncTree_,i,a):eu(o.serverSyncTree_,i,a),da(o.eventQueue_,i._path,u)}function bc(o){o.persistentConnection_&&o.persistentConnection_.interrupt(Jd)}function ks(o){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var u="";o.persistentConnection_&&(u=o.persistentConnection_.id+":"),ct.apply(void 0,(0,ee.ev)([u],(0,ee.CR)(i)))}function Xr(o,i,a,u){i&&cn(function(){if("ok"===a)i(null);else{var f=(a||"error").toUpperCase(),v=f;u&&(v+=": "+u);var C=new Error(v);C.code=f,i(C)}})}function Zr(o,i,a){return sa(o.serverSyncTree_,i,a)||_.EMPTY_NODE}function To(o,i){if(void 0===i&&(i=o.transactionQueueTree_),i||Vs(o,i),Sn(i)){var a=uf(o,i);(0,S.hu)(a.length>0,"Sending zero length transaction queue"),a.every(function(f){return 0===f.status})&&function(o,i,a){for(var u=a.map(function(Fe){return Fe.currentWriteId}),f=Zr(o,i,u),v=f,C=f.hash(),O=0;O<a.length;O++){var L=a[O];(0,S.hu)(0===L.status,"tryToSendTransactionQueue_: items in queue should all be run."),L.status=1,L.retryCount++;var W=Rt(i,L.path);v=v.updateChild(W,L.currentOutputSnapshotRaw)}var Z=v.val(!0),_e=i;o.server_.put(_e.toString(),Z,function(Fe){ks(o,"transaction put response",{path:_e.toString(),status:Fe});var Ge=[];if("ok"===Fe){for(var dt=[],xt=function($t){a[$t].status=2,Ge=Ge.concat(ir(o.serverSyncTree_,a[$t].currentWriteId)),a[$t].onComplete&&dt.push(function(){return a[$t].onComplete(null,!0,a[$t].currentOutputSnapshotResolved)}),a[$t].unwatcher()},Dt=0;Dt<a.length;Dt++)xt(Dt);for(Vs(o,Ha(o.transactionQueueTree_,i)),To(o,o.transactionQueueTree_),or(o.eventQueue_,i,Ge),Dt=0;Dt<dt.length;Dt++)cn(dt[Dt])}else{if("datastale"===Fe)for(Dt=0;Dt<a.length;Dt++)a[Dt].status=3===a[Dt].status?4:0;else for(kt("transaction at "+_e.toString()+" failed: "+Fe),Dt=0;Dt<a.length;Dt++)a[Dt].status=4,a[Dt].abortReason=Fe;ss(o,i)}},C)}(o,Os(i),a)}else Gd(i)&&Co(i,function(f){To(o,f)})}function ss(o,i){var a=lf(o,i),u=Os(a);return function(o,i,a){if(0!==i.length){for(var u=[],f=[],C=i.filter(function(W){return 0===W.status}).map(function(W){return W.currentWriteId}),O=function(W){var Ge,Z=i[W],_e=Rt(a,Z.path),Fe=!1;if((0,S.hu)(null!==_e,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Z.status)Fe=!0,Ge=Z.abortReason,f=f.concat(ir(o.serverSyncTree_,Z.currentWriteId,!0));else if(0===Z.status)if(Z.retryCount>=25)Fe=!0,Ge="maxretry",f=f.concat(ir(o.serverSyncTree_,Z.currentWriteId,!0));else{var dt=Zr(o,Z.path,C);Z.currentInputSnapshot=dt;var xt=i[W].update(dt.val());if(void 0!==xt){ca("transaction failed: Data returned ",xt,Z.path);var Dt=Le(xt);"object"==typeof xt&&null!=xt&&(0,S.r3)(xt,".priority")||(Dt=Dt.updatePriority(dt.getPriority()));var Un=Z.currentWriteId,fi=Ls(o),$s=ua(Dt,dt,fi);Z.currentOutputSnapshotRaw=Dt,Z.currentOutputSnapshotResolved=$s,Z.currentWriteId=Ka(o),C.splice(C.indexOf(Un),1),f=(f=f.concat(ql(o.serverSyncTree_,Z.path,$s,Z.currentWriteId,Z.applyLocally))).concat(ir(o.serverSyncTree_,Un,!0))}else Fe=!0,Ge="nodata",f=f.concat(ir(o.serverSyncTree_,Z.currentWriteId,!0))}or(o.eventQueue_,a,f),f=[],Fe&&(i[W].status=2,setTimeout(i[W].unwatcher,Math.floor(0)),i[W].onComplete&&u.push("nodata"===Ge?function(){return i[W].onComplete(null,!1,i[W].currentInputSnapshot)}:function(){return i[W].onComplete(new Error(Ge),!1,null)}))},L=0;L<i.length;L++)O(L);for(Vs(o,o.transactionQueueTree_),L=0;L<u.length;L++)cn(u[L]);To(o,o.transactionQueueTree_)}}(o,uf(o,a),u),u}function lf(o,i){var a,u=o.transactionQueueTree_;for(a=vt(i);null!==a&&void 0===Sn(u);)u=Ha(u,a),a=vt(i=K(i));return u}function uf(o,i){var a=[];return cf(o,i,a),a.sort(function(u,f){return u.order-f.order}),a}function cf(o,i,a){var u=Sn(i);if(u)for(var f=0;f<u.length;f++)a.push(u[f]);Co(i,function(v){cf(o,v,a)})}function Vs(o,i){var a=Sn(i);if(a){for(var u=0,f=0;f<a.length;f++)2!==a[f].status&&(a[u]=a[f],u++);a.length=u,Wa(i,a.length>0?a:void 0)}Co(i,function(v){Vs(o,v)})}function fa(o,i){var a=Os(lf(o,i)),u=Ha(o.transactionQueueTree_,i);return function(o,i,a){for(var u=o.parent;null!==u;){if(i(u))return!0;u=u.parent}}(u,function(f){ha(o,f)}),ha(o,u),dc(u,function(f){ha(o,f)}),a}function ha(o,i){var a=Sn(i);if(a){for(var u=[],f=[],v=-1,C=0;C<a.length;C++)3===a[C].status||(1===a[C].status?((0,S.hu)(v===C-1,"All SENT items should be at beginning of queue."),v=C,a[C].status=3,a[C].abortReason="set"):((0,S.hu)(0===a[C].status,"Unexpected transaction status in abort"),a[C].unwatcher(),f=f.concat(ir(o.serverSyncTree_,a[C].currentWriteId,!0)),a[C].onComplete&&u.push(a[C].onComplete.bind(null,new Error("set"),!1,null))));for(-1===v?Wa(i,void 0):a.length=v+1,or(o.eventQueue_,Os(i),f),C=0;C<u.length;C++)cn(u[C])}}var Qa=function(o,i){var a=df(o),u=a.namespace;return"firebase.com"===a.domain&&Ft(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==a.domain&&Ft("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new gn(a.host,a.secure,u,i,"ws"===a.scheme||"wss"===a.scheme,"",u!==a.subdomain),path:new qe(a.pathString)}},df=function(o){var i="",a="",u="",f="",v="",C=!0,O="https",L=443;if("string"==typeof o){var W=o.indexOf("//");W>=0&&(O=o.substring(0,W-1),o=o.substring(W+2));var Z=o.indexOf("/");-1===Z&&(Z=o.length);var _e=o.indexOf("?");-1===_e&&(_e=o.length),i=o.substring(0,Math.min(Z,_e)),Z<_e&&(f=function(o){for(var i="",a=o.split("/"),u=0;u<a.length;u++)if(a[u].length>0){var f=a[u];try{f=decodeURIComponent(f.replace(/\+/g," "))}catch(v){}i+="/"+f}return i}(o.substring(Z,_e)));var Fe=function(o){var i,a,u={};"?"===o.charAt(0)&&(o=o.substring(1));try{for(var f=(0,ee.XA)(o.split("&")),v=f.next();!v.done;v=f.next()){var C=v.value;if(0!==C.length){var O=C.split("=");2===O.length?u[decodeURIComponent(O[0])]=decodeURIComponent(O[1]):kt("Invalid query segment '"+C+"' in query '"+o+"'")}}}catch(L){i={error:L}}finally{try{v&&!v.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return u}(o.substring(Math.min(o.length,_e)));(W=i.indexOf(":"))>=0?(C="https"===O||"wss"===O,L=parseInt(i.substring(W+1),10)):W=i.length;var Ge=i.slice(0,W);if("localhost"===Ge.toLowerCase())a="localhost";else if(Ge.split(".").length<=2)a=Ge;else{var dt=i.indexOf(".");u=i.substring(0,dt).toLowerCase(),a=i.substring(dt+1),v=u}"ns"in Fe&&(v=Fe.ns)}return{host:i,port:L,domain:a,subdomain:u,secure:C,scheme:O,pathString:f,namespace:v}},Ic=function(){function o(i,a,u,f){this.eventType=i,this.eventRegistration=a,this.snapshot=u,this.prevName=f}return o.prototype.getPath=function(){var i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path},o.prototype.getEventType=function(){return this.eventType},o.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},o.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,S.Pz)(this.snapshot.exportVal())},o}(),Tc=function(){function o(i,a,u){this.eventRegistration=i,this.error=a,this.path=u}return o.prototype.getPath=function(){return this.path},o.prototype.getEventType=function(){return"cancel"},o.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},o.prototype.toString=function(){return this.path.toString()+":cancel"},o}(),Sc=function(){function o(i,a){this.snapshotCallback=i,this.cancelCallback=a}return o.prototype.onValue=function(i,a){this.snapshotCallback.call(null,i,a)},o.prototype.onCancel=function(i){return(0,S.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)},Object.defineProperty(o.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),o.prototype.matches=function(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context},o}(),Rc=function(){function o(i,a){this._repo=i,this._path=a}return o.prototype.cancel=function(){var i=new S.BH;return nf(this._repo,this._path,i.wrapCallback(function(){})),i.promise},o.prototype.remove=function(){ui("OnDisconnect.remove",this._path);var i=new S.BH;return _c(this._repo,this._path,null,i.wrapCallback(function(){})),i.promise},o.prototype.set=function(i){ui("OnDisconnect.set",this._path),li("OnDisconnect.set",i,this._path,!1);var a=new S.BH;return _c(this._repo,this._path,i,a.wrapCallback(function(){})),a.promise},o.prototype.setWithPriority=function(i,a){ui("OnDisconnect.setWithPriority",this._path),li("OnDisconnect.setWithPriority",i,this._path,!1),is("OnDisconnect.setWithPriority",a,!1);var u=new S.BH;return function(o,i,a,u,f){var v=Le(a,u);o.server_.onDisconnectPut(i.toString(),v.val(!0),function(C,O){"ok"===C&&ii(o.onDisconnect_,i,v),Xr(0,f,C,O)})}(this._repo,this._path,i,a,u.wrapCallback(function(){})),u.promise},o.prototype.update=function(i){ui("OnDisconnect.update",this._path),rs("OnDisconnect.update",i,this._path,!1);var a=new S.BH;return function(o,i,a,u){if((0,S.xb)(a))return ct("onDisconnect().update() called with empty data.  Don't do anything."),void Xr(0,u,"ok",void 0);o.server_.onDisconnectMerge(i.toString(),a,function(f,v){"ok"===f&&nt(a,function(C,O){var L=Le(O);ii(o.onDisconnect_,Ue(i,C),L)}),Xr(0,u,f,v)})}(this._repo,this._path,i,a.wrapCallback(function(){})),a.promise},o}(),Er=function(){function o(i,a,u,f){this._repo=i,this._path=a,this._queryParams=u,this._orderByCalled=f}return Object.defineProperty(o.prototype,"key",{get:function(){return ft(this._path)?null:U(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ref",{get:function(){return new _n(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_queryIdentifier",{get:function(){var i=bs(this._queryParams),a=pt(i);return"{}"===a?"default":a},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_queryObject",{get:function(){return bs(this._queryParams)},enumerable:!1,configurable:!0}),o.prototype.isEqual=function(i){if(!((i=(0,S.m9)(i))instanceof o))return!1;var a=this._repo===i._repo,u=Oi(this._path,i._path);return a&&u&&this._queryIdentifier===i._queryIdentifier},o.prototype.toJSON=function(){return this.toString()},o.prototype.toString=function(){return this._repo.toString()+function(o){for(var i="",a=o.pieceNum_;a<o.pieces_.length;a++)""!==o.pieces_[a]&&(i+="/"+encodeURIComponent(String(o.pieces_[a])));return i||"/"}(this._path)},o}();function pa(o,i){if(!0===o._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Ti(o){var i=null,a=null;if(o.hasStart()&&(i=o.getIndexStartValue()),o.hasEnd()&&(a=o.getIndexEndValue()),o.getIndex()===Dr){var u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",f="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==ce)throw new Error(u);if("string"!=typeof i)throw new Error(f)}if(o.hasEnd()){if(o.getIndexEndName()!==xe)throw new Error(u);if("string"!=typeof a)throw new Error(f)}}else if(o.getIndex()===vn){if(null!=i&&!Do(i)||null!=a&&!Do(a))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,S.hu)(o.getIndex()instanceof gt||o.getIndex()===Cn,"unknown index type."),null!=i&&"object"==typeof i||null!=a&&"object"==typeof a)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xa(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var _n=function(o){function i(a,u){return o.call(this,a,u,new ys,!1)||this}return(0,ee.ZT)(i,o),Object.defineProperty(i.prototype,"parent",{get:function(){var a=et(this._path);return null===a?null:new i(this._repo,a)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){for(var a=this;null!==a.parent;)a=a.parent;return a},enumerable:!1,configurable:!0}),i}(Er),Za=function(){function o(i,a,u){this._node=i,this.ref=a,this._index=u}return Object.defineProperty(o.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),o.prototype.child=function(i){var a=new qe(i),u=So(this.ref,i);return new o(this._node.getChild(a),u,vn)},o.prototype.exists=function(){return!this._node.isEmpty()},o.prototype.exportVal=function(){return this._node.val(!0)},o.prototype.forEach=function(i){var a=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(f,v){return i(new o(v,So(a.ref,f),vn))})},o.prototype.hasChild=function(i){var a=new qe(i);return!this._node.getChild(a).isEmpty()},o.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},o.prototype.toJSON=function(){return this.exportVal()},o.prototype.val=function(){return this._node.val()},o}();function Ac(o,i){return(o=(0,S.m9)(o))._checkNotDeleted("ref"),void 0!==i?So(o._root,i):o._root}function Ja(o,i){(o=(0,S.m9)(o))._checkNotDeleted("refFromURL");var a=Qa(i,o._repo.repoInfo_.nodeAdmin);pc("refFromURL",a);var u=a.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&u.host!==o._repo.repoInfo_.host&&Ft("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+o._repo.repoInfo_.host+")"),Ac(o,a.path.toString())}function So(o,i){return null===vt((o=(0,S.m9)(o))._path)?((a=i)&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Fs("child","path",a,!1)):Fs("child","path",i,!1),new _n(o._repo,Ue(o._path,i));var a}function ff(o,i){o=(0,S.m9)(o),ui("push",o._path),li("push",i,o._path,!0);var C,a=cu(o._repo),u=kn(a),f=So(o,u),v=So(o,u);return C=null!=i?hu(v,i).then(function(){return v}):Promise.resolve(v),f.then=C.then.bind(C),f.catch=C.then.bind(C,void 0),f}function hf(o){return ui("remove",o._path),hu(o,null)}function hu(o,i){o=(0,S.m9)(o),ui("set",o._path),li("set",i,o._path,!1);var a=new S.BH;return Io(o._repo,o._path,i,null,a.wrapCallback(function(){})),a.promise}function pf(o,i){o=(0,S.m9)(o),ui("setPriority",o._path),is("setPriority",i,!1);var a=new S.BH;return Io(o._repo,Ue(o._path,".priority"),i,null,a.wrapCallback(function(){})),a.promise}function gf(o,i,a){if(ui("setWithPriority",o._path),li("setWithPriority",i,o._path,!1),is("setWithPriority",a,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";var u=new S.BH;return Io(o._repo,o._path,i,a,u.wrapCallback(function(){})),u.promise}function Zp(o,i){rs("update",i,o._path,!1);var a=new S.BH;return function(o,i,a,u){ks(o,"update",{path:i.toString(),value:a});var f=!0,v=Ls(o),C={};if(nt(a,function(W,Z){f=!1,C[W]=$d(Ue(i,W),Le(Z),o.serverSyncTree_,v)}),f)ct("update() called with empty data.  Don't do anything."),Xr(0,u,"ok",void 0);else{var O=Ka(o),L=function(o,i,a,u){!function(o,i,a,u){(0,S.hu)(u>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:i,children:a,writeId:u,visible:!0}),o.visibleWrites=co(o.visibleWrites,i,a),o.lastWriteId=u}(o.pendingWriteTree_,i,a,u);var f=zn.fromObject(a);return Eo(o,new $o({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,f))}(o.serverSyncTree_,i,C,O);os(o.eventQueue_,L),o.server_.merge(i.toString(),a,function(W,Z){var _e="ok"===W;_e||kt("update at "+i+" failed: "+W);var Fe=ir(o.serverSyncTree_,O,!_e),Ge=Fe.length>0?ss(o,i):i;or(o.eventQueue_,Ge,Fe),Xr(0,u,W,Z)}),nt(a,function(W){var Z=fa(o,Ue(i,W));ss(o,Z)}),or(o.eventQueue_,i,[])}}(o._repo,o._path,i,a.wrapCallback(function(){})),a.promise}function Jp(o){return function(o,i){var a=function(o,i){var a=i._path,u=null;o.syncPointTree_.foreachOnPath(a,function(W,Z){var _e=Rt(W,a);u=u||Xo(Z,_e)});var f=o.syncPointTree_.get(a);f?u=u||Xo(f,Xe()):(f=new sc,o.syncPointTree_=o.syncPointTree_.set(a,f));var v=null!=u,C=v?new Kr(u,!0,!1):null;return function(o){return Is(o.viewCache_)}(Nd(f,i,Vr(o.pendingWriteTree_,i._path),v?C.getNode():_.EMPTY_NODE,v))}(o.serverSyncTree_,i);return null!=a?Promise.resolve(a):o.server_.get(i).then(function(u){var f=Le(u).withIndex(i._queryParams.getIndex()),v=yo(o.serverSyncTree_,i._path,f);return da(o.eventQueue_,i._path,v),Promise.resolve(f)},function(u){return ks(o,"get for query "+(0,S.Pz)(i)+" failed: "+u),Promise.reject(new Error(u))})}((o=(0,S.m9)(o))._repo,o).then(function(i){return new Za(i,new _n(o._repo,o._path),o._queryParams.getIndex())})}var Bs=function(){function o(i){this.callbackContext=i}return o.prototype.respondsTo=function(i){return"value"===i},o.prototype.createEvent=function(i,a){var u=a._queryParams.getIndex();return new Ic("value",this,new Za(i.snapshotNode,new _n(a._repo,a._path),u))},o.prototype.getEventRunner=function(i){var a=this;return"cancel"===i.getEventType()?function(){return a.callbackContext.onCancel(i.error)}:function(){return a.callbackContext.onValue(i.snapshot,null)}},o.prototype.createCancelEvent=function(i,a){return this.callbackContext.hasCancelCallback?new Tc(this,i,a):null},o.prototype.matches=function(i){return i instanceof o&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))},o.prototype.hasAnyCallback=function(){return null!==this.callbackContext},o}(),hr=function(){function o(i,a){this.eventType=i,this.callbackContext=a}return o.prototype.respondsTo=function(i){var a="children_added"===i?"child_added":i;return this.eventType===("children_removed"===a?"child_removed":a)},o.prototype.createCancelEvent=function(i,a){return this.callbackContext.hasCancelCallback?new Tc(this,i,a):null},o.prototype.createEvent=function(i,a){(0,S.hu)(null!=i.childName,"Child events should have a childName.");var u=So(new _n(a._repo,a._path),i.childName),f=a._queryParams.getIndex();return new Ic(i.type,this,new Za(i.snapshotNode,u,f),i.prevName)},o.prototype.getEventRunner=function(i){var a=this;return"cancel"===i.getEventType()?function(){return a.callbackContext.onCancel(i.error)}:function(){return a.callbackContext.onValue(i.snapshot,i.prevName)}},o.prototype.matches=function(i){return i instanceof o&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))},o.prototype.hasAnyCallback=function(){return!!this.callbackContext},o}();function as(o,i,a,u,f){var v;if("object"==typeof u&&(v=void 0,f=u),"function"==typeof u&&(v=u),f&&f.onlyOnce){var C=a,O=function(Z,_e){fu(o._repo,o,W),C(Z,_e)};O.userCallback=a.userCallback,O.context=a.context,a=O}var L=new Sc(a,v||void 0),W="value"===i?new Bs(L):new hr(i,L);return function(o,i,a){var u;u=".info"===vt(i._path)?Ud(o.infoSyncTree_,i,a):Ud(o.serverSyncTree_,i,a),da(o.eventQueue_,i._path,u)}(o._repo,o,W),function(){return fu(o._repo,o,W)}}function qa(o,i,a,u){return as(o,"value",i,a,u)}function pu(o,i,a,u){return as(o,"child_added",i,a,u)}function sr(o,i,a,u){return as(o,"child_changed",i,a,u)}function Us(o,i,a,u){return as(o,"child_moved",i,a,u)}function el(o,i,a,u){return as(o,"child_removed",i,a,u)}function Mc(o,i,a){var u=null,f=a?new Sc(a):null;"value"===i?u=new Bs(f):i&&(u=new hr(i,f)),fu(o._repo,o,u)}var ci=function(){},gu=function(o){function i(a,u){var f=o.call(this)||this;return f._value=a,f._key=u,f}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){li("endAt",this._value,a._path,!0);var u=Vi(a._queryParams,this._value,this._key);if(Xa(u),Ti(u),a._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Er(a._repo,a._path,u,a._orderByCalled)},i}(ci);function mf(o,i){return Ya("endAt","key",i,!0),new gu(o,i)}var xc=function(o){function i(a,u){var f=o.call(this)||this;return f._value=a,f._key=u,f}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){li("endBefore",this._value,a._path,!1);var u=function(o,i,a){var f;return o.index_===Dr?("string"==typeof i&&(i=Nn(i)),f=Vi(o,i,a)):f=Vi(o,i,null==a?ce:Nn(a)),f.endBeforeSet_=!0,f}(a._queryParams,this._value,this._key);if(Xa(u),Ti(u),a._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Er(a._repo,a._path,u,a._orderByCalled)},i}(ci);function vf(o,i){return Ya("endBefore","key",i,!0),new xc(o,i)}var mu=function(o){function i(a,u){var f=o.call(this)||this;return f._value=a,f._key=u,f}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){li("startAt",this._value,a._path,!0);var u=_s(a._queryParams,this._value,this._key);if(Xa(u),Ti(u),a._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Er(a._repo,a._path,u,a._orderByCalled)},i}(ci);function yf(o,i){return void 0===o&&(o=null),Ya("startAt","key",i,!0),new mu(o,i)}var _f=function(o){function i(a,u){var f=o.call(this)||this;return f._value=a,f._key=u,f}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){li("startAfter",this._value,a._path,!1);var u=function(o,i,a){var u;return o.index_===Dr?("string"==typeof i&&(i=ni(i)),u=_s(o,i,a)):u=_s(o,i,null==a?xe:ni(a)),u.startAfterSet_=!0,u}(a._queryParams,this._value,this._key);if(Xa(u),Ti(u),a._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Er(a._repo,a._path,u,a._orderByCalled)},i}(ci);function Ef(o,i){return Ya("startAfter","key",i,!0),new _f(o,i)}var Pc=function(o){function i(a){var u=o.call(this)||this;return u._limit=a,u}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){if(a._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Er(a._repo,a._path,function(o,i){var a=o.copy();return a.limitSet_=!0,a.limit_=i,a.viewFrom_="l",a}(a._queryParams,this._limit),a._orderByCalled)},i}(ci);function vu(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Pc(o)}var Oc=function(o){function i(a){var u=o.call(this)||this;return u._limit=a,u}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){if(a._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Er(a._repo,a._path,function(o,i){var a=o.copy();return a.limitSet_=!0,a.limit_=i,a.viewFrom_="r",a}(a._queryParams,this._limit),a._orderByCalled)},i}(ci);function bf(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Oc(o)}var qp=function(o){function i(a){var u=o.call(this)||this;return u._path=a,u}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){pa(a,"orderByChild");var u=new qe(this._path);if(ft(u))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var f=new gt(u),v=Jn(a._queryParams,f);return Ti(v),new Er(a._repo,a._path,v,!0)},i}(ci);function Nc(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Fs("orderByChild","path",o,!1),new qp(o)}var tl=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){pa(a,"orderByKey");var u=Jn(a._queryParams,Dr);return Ti(u),new Er(a._repo,a._path,u,!0)},i}(ci);function Cf(){return new tl}var Df=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){pa(a,"orderByPriority");var u=Jn(a._queryParams,vn);return Ti(u),new Er(a._repo,a._path,u,!0)},i}(ci);function js(){return new Df}var wf=function(o){function i(){return null!==o&&o.apply(this,arguments)||this}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){pa(a,"orderByValue");var u=Jn(a._queryParams,Cn);return Ti(u),new Er(a._repo,a._path,u,!0)},i}(ci);function If(){return new wf}var Tf=function(o){function i(a,u){var f=o.call(this)||this;return f._value=a,f._key=u,f}return(0,ee.ZT)(i,o),i.prototype._apply=function(a){if(li("equalTo",this._value,a._path,!1),a._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(a._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gu(this._value,this._key)._apply(new mu(this._value,this._key)._apply(a))},i}(ci);function Sf(o,i){return Ya("equalTo","key",i,!0),new Tf(o,i)}function di(o){for(var i,a,u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];var v=(0,S.m9)(o);try{for(var C=(0,ee.XA)(u),O=C.next();!O.done;O=C.next()){var L=O.value;v=L._apply(v)}}catch(W){i={error:W}}finally{try{O&&!O.done&&(a=C.return)&&a.call(C)}finally{if(i)throw i.error}}return v}(function(o){(0,S.hu)(!Zl,"__referenceConstructor has already been defined"),Zl=o})(_n),function(o){(0,S.hu)(!Jl,"__referenceConstructor has already been defined"),Jl=o}(_n);var Mr={},yu=!1;function Fc(o,i,a,u,f){var v=u||o.options.databaseURL;void 0===v&&(o.options.projectId||Ft("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",o.options.projectId),v=o.options.projectId+"-default-rtdb.firebaseio.com");var L,C=Qa(v,f),O=C.repoInfo,W=void 0;"undefined"!=typeof process&&(W=process.env.FIREBASE_DATABASE_EMULATOR_HOST),W?(L=!0,O=(C=Qa(v="http://"+W+"?ns="+O.namespace,f)).repoInfo):L=!C.repoInfo.secure;var Z=f&&L?new Ie(Ie.OWNER):new pe(o.name,o.options,i);pc("Invalid Firebase Database URL",C),ft(C.path)||Ft("Database URL must point to the root of a Firebase Database (not including a child path).");var _e=function(o,i,a,u){var f=Mr[i.name];f||(Mr[i.name]=f={});var v=f[o.toURLString()];return v&&Ft("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),v=new uu(o,yu,a,u),f[o.toURLString()]=v,v}(O,o,Z,new Vt(o.name,a));return new Vc(_e,o)}var Vc=function(){function o(i,a){this._repoInternal=i,this.app=a,this.type="database",this._instanceStarted=!1}return Object.defineProperty(o.prototype,"_repo",{get:function(){return this._instanceStarted||(function(o,i,a){if(o.stats_=Zt(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new Cs(o.repoInfo_,function(u,f,v,C){wo(o,u,f,v,C)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(function(){return vc(o,!0)},0);else{if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,S.Pz)(a)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}o.persistentConnection_=new ei(o.repoInfo_,i,function(u,f,v,C){wo(o,u,f,v,C)},function(u){vc(o,u)},function(u){!function(o,i){nt(i,function(a,u){du(o,a,u)})}(o,u)},o.authTokenProvider_,o.appCheckProvider_,a),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(function(u){o.server_.refreshAuthToken(u)}),o.appCheckProvider_.addTokenChangeListener(function(u){o.server_.refreshAppCheckToken(u.token)}),o.statsReporter_=function(o,i){var a=o.toString();return Fn[a]||(Fn[a]=i()),Fn[a]}(o.repoInfo_,function(){return new jl(o.stats_,o.server_)}),o.infoData_=new Bl,o.infoSyncTree_=new Vd({startListening:function(u,f,v,C){var O=[],L=o.infoData_.getNode(u._path);return L.isEmpty()||(O=yo(o.infoSyncTree_,u._path,L),setTimeout(function(){C("ok")},0)),O},stopListening:function(){}}),du(o,"connected",!1),o.serverSyncTree_=new Vd({startListening:function(u,f,v,C){return o.server_.listen(u,v,f,function(O,L){var W=C(O,L);or(o.eventQueue_,u._path,W)}),[]},stopListening:function(u,f){o.server_.unlisten(u,f)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new _n(this._repo,Xe())),this._rootInternal},enumerable:!1,configurable:!0}),o.prototype._delete=function(){return null!==this._rootInternal&&(function(o,i){var a=Mr[i];(!a||a[o.key]!==o)&&Ft("Database "+i+"("+o.repoInfo_+") has already been deleted."),bc(o),delete a[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},o.prototype._checkNotDeleted=function(i){null===this._rootInternal&&Ft("Cannot call "+i+" on a deleted database.")},o}();function Mf(o){(o=(0,S.m9)(o))._checkNotDeleted("goOffline"),bc(o._repo)}function Hs(o){(o=(0,S.m9)(o))._checkNotDeleted("goOnline"),function(o){o.persistentConnection_&&o.persistentConnection_.resume(Jd)}(o._repo)}var Si={".sv":"timestamp"},Bc=function(){function o(i,a){this.committed=i,this.snapshot=a}return o.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},o}();function rg(o,i,a){var u;if(o=(0,S.m9)(o),ui("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";var f=null===(u=null==a?void 0:a.applyLocally)||void 0===u||u,v=new S.BH,O=qa(o,function(){});return function(o,i,a,u,f,v){ks(o,"transaction on "+i);var C={path:i,update:a,onComplete:u,status:null,order:Me(),applyLocally:v,retryCount:0,unwatcher:f,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},O=Zr(o,i,void 0);C.currentInputSnapshot=O;var L=C.update(O.val());if(void 0===L)C.unwatcher(),C.currentOutputSnapshotRaw=null,C.currentOutputSnapshotResolved=null,C.onComplete&&C.onComplete(null,!1,C.currentInputSnapshot);else{ca("transaction failed: Data returned ",L,C.path),C.status=0;var W=Ha(o.transactionQueueTree_,i),Z=Sn(W)||[];Z.push(C),Wa(W,Z);var _e=void 0;"object"==typeof L&&null!==L&&(0,S.r3)(L,".priority")?(_e=(0,S.DV)(L,".priority"),(0,S.hu)(Do(_e),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):_e=(sa(o.serverSyncTree_,i)||_.EMPTY_NODE).getPriority().val();var Ge=Ls(o),dt=Le(L,_e),xt=ua(dt,O,Ge);C.currentOutputSnapshotRaw=dt,C.currentOutputSnapshotResolved=xt,C.currentWriteId=Ka(o);var Dt=ql(o.serverSyncTree_,i,xt,C.currentWriteId,C.applyLocally);or(o.eventQueue_,i,Dt),To(o,o.transactionQueueTree_)}}(o._repo,o._path,i,function(L,W,Z){var _e=null;L?v.reject(L):(_e=new Za(Z,new _n(o._repo,o._path),vn),v.resolve(new Bc(W,_e)))},O,f),v.promise}var Ri=function(){function o(i){this._delegate=i}return o.prototype.cancel=function(i){(0,S.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,S.Wj)("OnDisconnect.cancel","onComplete",i,!0);var a=this._delegate.cancel();return i&&a.then(function(){return i(null)},function(u){return i(u)}),a},o.prototype.remove=function(i){(0,S.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,S.Wj)("OnDisconnect.remove","onComplete",i,!0);var a=this._delegate.remove();return i&&a.then(function(){return i(null)},function(u){return i(u)}),a},o.prototype.set=function(i,a){(0,S.Dv)("OnDisconnect.set",1,2,arguments.length),(0,S.Wj)("OnDisconnect.set","onComplete",a,!0);var u=this._delegate.set(i);return a&&u.then(function(){return a(null)},function(f){return a(f)}),u},o.prototype.setWithPriority=function(i,a,u){(0,S.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,S.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);var f=this._delegate.setWithPriority(i,a);return u&&f.then(function(){return u(null)},function(v){return u(v)}),f},o.prototype.update=function(i,a){if((0,S.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){for(var u={},f=0;f<i.length;++f)u[""+f]=i[f];i=u,kt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,S.Wj)("OnDisconnect.update","onComplete",a,!0);var v=this._delegate.update(i);return a&&v.then(function(){return a(null)},function(C){return a(C)}),v},o}(),_u=function(){function o(i,a){this.committed=i,this.snapshot=a}return o.prototype.toJSON=function(){return(0,S.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},o}(),ls=function(){function o(i,a){this._database=i,this._delegate=a}return o.prototype.val=function(){return(0,S.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},o.prototype.exportVal=function(){return(0,S.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},o.prototype.toJSON=function(){return(0,S.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},o.prototype.exists=function(){return(0,S.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},o.prototype.child=function(i){return(0,S.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),Fs("DataSnapshot.child","path",i,!1),new o(this._database,this._delegate.child(i))},o.prototype.hasChild=function(i){return(0,S.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Fs("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)},o.prototype.getPriority=function(){return(0,S.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},o.prototype.forEach=function(i){var a=this;return(0,S.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,S.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(function(u){return i(new o(a._database,u))})},o.prototype.hasChildren=function(){return(0,S.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(o.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),o.prototype.numChildren=function(){return(0,S.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},o.prototype.getRef=function(){return(0,S.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ro(this._database,this._delegate.ref)},Object.defineProperty(o.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),o}(),Uc=function(){function o(i,a){this.database=i,this._delegate=a}return o.prototype.on=function(i,a,u,f){var C,v=this;(0,S.Dv)("Query.on",2,4,arguments.length),(0,S.Wj)("Query.on","callback",a,!1);var O=o.getCancelAndContextArgs_("Query.on",u,f),L=function(Z,_e){a.call(O.context,new ls(v.database,Z),_e)};L.userCallback=a,L.context=O.context;var W=null===(C=O.cancel)||void 0===C?void 0:C.bind(O.context);switch(i){case"value":return qa(this._delegate,L,W),a;case"child_added":return pu(this._delegate,L,W),a;case"child_removed":return el(this._delegate,L,W),a;case"child_changed":return sr(this._delegate,L,W),a;case"child_moved":return Us(this._delegate,L,W),a;default:throw new Error((0,S.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},o.prototype.off=function(i,a,u){if((0,S.Dv)("Query.off",0,3,arguments.length),zd("Query.off",i,!0),(0,S.Wj)("Query.off","callback",a,!0),(0,S.lb)("Query.off","context",u,!0),a){var f=function(){};f.userCallback=a,f.context=u,Mc(this._delegate,i,f)}else Mc(this._delegate,i)},o.prototype.get=function(){var i=this;return Jp(this._delegate).then(function(a){return new ls(i.database,a)})},o.prototype.once=function(i,a,u,f){var v=this;(0,S.Dv)("Query.once",1,4,arguments.length),(0,S.Wj)("Query.once","callback",a,!0);var C=o.getCancelAndContextArgs_("Query.once",u,f),O=new S.BH,L=function(Z,_e){var Fe=new ls(v.database,Z);a&&a.call(C.context,Fe,_e),O.resolve(Fe)};L.userCallback=a,L.context=C.context;var W=function(Z){C.cancel&&C.cancel.call(C.context,Z),O.reject(Z)};switch(i){case"value":qa(this._delegate,L,W,{onlyOnce:!0});break;case"child_added":pu(this._delegate,L,W,{onlyOnce:!0});break;case"child_removed":el(this._delegate,L,W,{onlyOnce:!0});break;case"child_changed":sr(this._delegate,L,W,{onlyOnce:!0});break;case"child_moved":Us(this._delegate,L,W,{onlyOnce:!0});break;default:throw new Error((0,S.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return O.promise},o.prototype.limitToFirst=function(i){return(0,S.Dv)("Query.limitToFirst",1,1,arguments.length),new o(this.database,di(this._delegate,vu(i)))},o.prototype.limitToLast=function(i){return(0,S.Dv)("Query.limitToLast",1,1,arguments.length),new o(this.database,di(this._delegate,bf(i)))},o.prototype.orderByChild=function(i){return(0,S.Dv)("Query.orderByChild",1,1,arguments.length),new o(this.database,di(this._delegate,Nc(i)))},o.prototype.orderByKey=function(){return(0,S.Dv)("Query.orderByKey",0,0,arguments.length),new o(this.database,di(this._delegate,Cf()))},o.prototype.orderByPriority=function(){return(0,S.Dv)("Query.orderByPriority",0,0,arguments.length),new o(this.database,di(this._delegate,js()))},o.prototype.orderByValue=function(){return(0,S.Dv)("Query.orderByValue",0,0,arguments.length),new o(this.database,di(this._delegate,If()))},o.prototype.startAt=function(i,a){return void 0===i&&(i=null),(0,S.Dv)("Query.startAt",0,2,arguments.length),new o(this.database,di(this._delegate,yf(i,a)))},o.prototype.startAfter=function(i,a){return void 0===i&&(i=null),(0,S.Dv)("Query.startAfter",0,2,arguments.length),new o(this.database,di(this._delegate,Ef(i,a)))},o.prototype.endAt=function(i,a){return void 0===i&&(i=null),(0,S.Dv)("Query.endAt",0,2,arguments.length),new o(this.database,di(this._delegate,mf(i,a)))},o.prototype.endBefore=function(i,a){return void 0===i&&(i=null),(0,S.Dv)("Query.endBefore",0,2,arguments.length),new o(this.database,di(this._delegate,vf(i,a)))},o.prototype.equalTo=function(i,a){return(0,S.Dv)("Query.equalTo",1,2,arguments.length),new o(this.database,di(this._delegate,Sf(i,a)))},o.prototype.toString=function(){return(0,S.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},o.prototype.toJSON=function(){return(0,S.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},o.prototype.isEqual=function(i){if((0,S.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof o)){var a="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(a)}return this._delegate.isEqual(i._delegate)},o.getCancelAndContextArgs_=function(i,a,u){var f={cancel:void 0,context:void 0};if(a&&u)f.cancel=a,(0,S.Wj)(i,"cancel",f.cancel,!0),f.context=u,(0,S.lb)(i,"context",f.context,!0);else if(a)if("object"==typeof a&&null!==a)f.context=a;else{if("function"!=typeof a)throw new Error((0,S.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");f.cancel=a}return f},Object.defineProperty(o.prototype,"ref",{get:function(){return new Ro(this.database,new _n(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),o}(),Ro=function(o){function i(a,u){var f=o.call(this,a,new Er(u._repo,u._path,new ys,!1))||this;return f.database=a,f._delegate=u,f}return(0,ee.ZT)(i,o),i.prototype.getKey=function(){return(0,S.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},i.prototype.child=function(a){return(0,S.Dv)("Reference.child",1,1,arguments.length),"number"==typeof a&&(a=String(a)),new i(this.database,So(this._delegate,a))},i.prototype.getParent=function(){(0,S.Dv)("Reference.parent",0,0,arguments.length);var a=this._delegate.parent;return a?new i(this.database,a):null},i.prototype.getRoot=function(){return(0,S.Dv)("Reference.root",0,0,arguments.length),new i(this.database,this._delegate.root)},i.prototype.set=function(a,u){(0,S.Dv)("Reference.set",1,2,arguments.length),(0,S.Wj)("Reference.set","onComplete",u,!0);var f=hu(this._delegate,a);return u&&f.then(function(){return u(null)},function(v){return u(v)}),f},i.prototype.update=function(a,u){if((0,S.Dv)("Reference.update",1,2,arguments.length),Array.isArray(a)){for(var f={},v=0;v<a.length;++v)f[""+v]=a[v];a=f,kt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ui("Reference.update",this._delegate._path),(0,S.Wj)("Reference.update","onComplete",u,!0);var C=Zp(this._delegate,a);return u&&C.then(function(){return u(null)},function(O){return u(O)}),C},i.prototype.setWithPriority=function(a,u,f){(0,S.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,S.Wj)("Reference.setWithPriority","onComplete",f,!0);var v=gf(this._delegate,a,u);return f&&v.then(function(){return f(null)},function(C){return f(C)}),v},i.prototype.remove=function(a){(0,S.Dv)("Reference.remove",0,1,arguments.length),(0,S.Wj)("Reference.remove","onComplete",a,!0);var u=hf(this._delegate);return a&&u.then(function(){return a(null)},function(f){return a(f)}),u},i.prototype.transaction=function(a,u,f){var v=this;(0,S.Dv)("Reference.transaction",1,3,arguments.length),(0,S.Wj)("Reference.transaction","transactionUpdate",a,!1),(0,S.Wj)("Reference.transaction","onComplete",u,!0),Qd("Reference.transaction","applyLocally",f,!0);var C=rg(this._delegate,a,{applyLocally:f}).then(function(O){return new _u(O.committed,new ls(v.database,O.snapshot))});return u&&C.then(function(O){return u(null,O.committed,O.snapshot)},function(O){return u(O,!1,null)}),C},i.prototype.setPriority=function(a,u){(0,S.Dv)("Reference.setPriority",1,2,arguments.length),(0,S.Wj)("Reference.setPriority","onComplete",u,!0);var f=pf(this._delegate,a);return u&&f.then(function(){return u(null)},function(v){return u(v)}),f},i.prototype.push=function(a,u){var f=this;(0,S.Dv)("Reference.push",0,2,arguments.length),(0,S.Wj)("Reference.push","onComplete",u,!0);var v=ff(this._delegate,a),C=v.then(function(L){return new i(f.database,L)});u&&C.then(function(){return u(null)},function(L){return u(L)});var O=new i(this.database,v);return O.then=C.then.bind(C),O.catch=C.catch.bind(C,void 0),O},i.prototype.onDisconnect=function(){return ui("Reference.onDisconnect",this._delegate._path),new Ri(new Rc(this._delegate._repo,this._delegate._path))},Object.defineProperty(i.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),i}(Uc),Ao=function(){function o(i,a){var u=this;this._delegate=i,this.app=a,this.INTERNAL={delete:function(){return u._delegate._delete()}}}return o.prototype.useEmulator=function(i,a,u){void 0===u&&(u={}),function(o,i,a,u){void 0===u&&(u={}),(o=(0,S.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&Ft("Cannot call useEmulator() after instance has already been initialized.");var f=o._repoInternal,v=void 0;if(f.repoInfo_.nodeAdmin)u.mockUserToken&&Ft('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),v=new Ie(Ie.OWNER);else if(u.mockUserToken){var C="string"==typeof u.mockUserToken?u.mockUserToken:(0,S.Sg)(u.mockUserToken,o.app.options.projectId);v=new Ie(C)}!function(o,i,a,u){o.repoInfo_=new gn(i+":"+a,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams),u&&(o.authTokenProvider_=u)}(f,i,a,v)}(this._delegate,i,a,u)},o.prototype.ref=function(i){if((0,S.Dv)("database.ref",0,1,arguments.length),i instanceof Ro){var a=Ja(this._delegate,i.toString());return new Ro(this,a)}return a=Ac(this._delegate,i),new Ro(this,a)},o.prototype.refFromURL=function(i){var a="database.refFromURL";(0,S.Dv)(a,1,1,arguments.length);var u=Ja(this._delegate,i);return new Ro(this,u)},o.prototype.goOffline=function(){return(0,S.Dv)("database.goOffline",0,0,arguments.length),Mf(this._delegate)},o.prototype.goOnline=function(){return(0,S.Dv)("database.goOnline",0,0,arguments.length),Hs(this._delegate)},o.ServerValue={TIMESTAMP:Si,increment:function(i){return function(o){return{".sv":{increment:o}}}(i)}},o}(),xf=Object.freeze({__proto__:null,forceLongPolling:function(){Dn.forceDisallow(),Nr.forceAllow()},forceWebSockets:function(){Nr.forceDisallow()},isWebSocketsAvailable:function(){return Dn.isAvailable()},setSecurityDebugCallback:function(o,i){o._delegate._repo.persistentConnection_.securityDebugCallback_=i},stats:function(o,i){!function(o,i){if(void 0===i&&(i=!1),"undefined"!=typeof console){var a;i?(o.statsListener_||(o.statsListener_=new Ui(o.stats_)),a=o.statsListener_.get()):a=o.stats_.get();var u=Object.keys(a).reduce(function(f,v){return Math.max(v.length,f)},0);nt(a,function(f,v){for(var C=f,O=f.length;O<u+2;O++)C+=" ";console.log(C+v)})}}(o._delegate._repo,i)},statsIncrementCounter:function(o,i){!function(o,i){o.stats_.incrementCounter(i),function(o,i){o.statsToReport_[i]=!0}(o.statsReporter_,i)}(o._delegate._repo,i)},dataUpdateCount:function(o){return o._delegate._repo.dataUpdateCount},interceptServerData:function(o,i){return function(o,i){o.interceptServerDataCallback_=i}(o._delegate._repo,i)},initStandalone:function(o){var i=o.app,a=o.url,f=o.customAuthImpl,v=o.namespace,C=o.nodeAdmin,O=void 0!==C&&C;G(o.version);var L=new R.zt("auth-internal",new R.H0("database-standalone"));return L.setComponent(new R.wA("auth-internal",function(){return f},"PRIVATE")),{instance:new Ao(Fc(i,L,void 0,a,O),i),namespace:v}}}),Du=ei;ei.prototype.simpleListen=function(o,i){this.sendRequest("q",{p:o},i)},ei.prototype.echo=function(o,i){this.sendRequest("echo",{d:o},i)};var kf=Object.freeze({__proto__:null,DataConnection:Du,RealTimeConnection:oe,hijackHash:function(o){var i=ei.prototype.put;return ei.prototype.put=function(a,u,f,v){void 0!==v&&(v=o()),i.call(this,a,u,f,v)},function(){ei.prototype.put=i}},ConnectionTarget:gn,queryIdentifier:function(o){return o._delegate._queryIdentifier},forceRestClient:function(o){!function(o){yu=o}(o)}}),Gc=Ao.ServerValue;!function(o){G(o.SDK_VERSION);var i=o.INTERNAL.registerComponent(new R.wA("database",function(a,u){var f=u.instanceIdentifier,v=a.getProvider("app").getImmediate(),C=a.getProvider("auth-internal"),O=a.getProvider("app-check-internal");return new Ao(Fc(v,C,O,f),v)},"PUBLIC").setServiceProps({Reference:Ro,Query:Uc,Database:Ao,DataSnapshot:ls,enableLogging:_t,INTERNAL:xf,ServerValue:Gc,TEST_ACCESS:kf}).setMultipleInstances(!0));o.registerVersion("@firebase/database","0.11.0"),(0,S.Yr)()&&(at.exports=i)}(T.Z)},300:(at,we,M)=>{"use strict";function T(){for(var V=0,te=0,be=arguments.length;te<be;te++)V+=arguments[te].length;var ge=Array(V),Me=0;for(te=0;te<be;te++)for(var it=arguments[te],Ne=0,Se=it.length;Ne<Se;Ne++,Me++)ge[Me]=it[Ne];return ge}M.d(we,{in:()=>ee,Yd:()=>G,Ub:()=>H,Am:()=>ne});var R,S=[],ee=(()=>{return(V=ee||(ee={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",ee;var V})(),ue={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},j=ee.INFO,le=((R={})[ee.DEBUG]="log",R[ee.VERBOSE]="log",R[ee.INFO]="info",R[ee.WARN]="warn",R[ee.ERROR]="error",R),$=function(V,te){for(var be=[],ge=2;ge<arguments.length;ge++)be[ge-2]=arguments[ge];if(!(te<V.logLevel)){var Me=(new Date).toISOString(),it=le[te];if(!it)throw new Error("Attempted to log a message with an invalid logType (value: "+te+")");console[it].apply(console,T(["["+Me+"]  "+V.name+":"],be))}},G=function(){function V(te){this.name=te,this._logLevel=j,this._logHandler=$,this._userLogHandler=null,S.push(this)}return Object.defineProperty(V.prototype,"logLevel",{get:function(){return this._logLevel},set:function(te){if(!(te in ee))throw new TypeError('Invalid value "'+te+'" assigned to `logLevel`');this._logLevel=te},enumerable:!1,configurable:!0}),V.prototype.setLogLevel=function(te){this._logLevel="string"==typeof te?ue[te]:te},Object.defineProperty(V.prototype,"logHandler",{get:function(){return this._logHandler},set:function(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(te){this._userLogHandler=te},enumerable:!1,configurable:!0}),V.prototype.debug=function(){for(var te=[],be=0;be<arguments.length;be++)te[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,T([this,ee.DEBUG],te)),this._logHandler.apply(this,T([this,ee.DEBUG],te))},V.prototype.log=function(){for(var te=[],be=0;be<arguments.length;be++)te[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,T([this,ee.VERBOSE],te)),this._logHandler.apply(this,T([this,ee.VERBOSE],te))},V.prototype.info=function(){for(var te=[],be=0;be<arguments.length;be++)te[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,T([this,ee.INFO],te)),this._logHandler.apply(this,T([this,ee.INFO],te))},V.prototype.warn=function(){for(var te=[],be=0;be<arguments.length;be++)te[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,T([this,ee.WARN],te)),this._logHandler.apply(this,T([this,ee.WARN],te))},V.prototype.error=function(){for(var te=[],be=0;be<arguments.length;be++)te[be]=arguments[be];this._userLogHandler&&this._userLogHandler.apply(this,T([this,ee.ERROR],te)),this._logHandler.apply(this,T([this,ee.ERROR],te))},V}();function H(V){S.forEach(function(te){te.setLogLevel(V)})}function ne(V,te){for(var be=function(Ne){var Se=null;te&&te.level&&(Se=ue[te.level]),Ne.userLogHandler=null===V?null:function(ze,_t){for(var ct=[],Wt=2;Wt<arguments.length;Wt++)ct[Wt-2]=arguments[Wt];var Xt=ct.map(function(Ft){if(null==Ft)return null;if("string"==typeof Ft)return Ft;if("number"==typeof Ft||"boolean"==typeof Ft)return Ft.toString();if(Ft instanceof Error)return Ft.message;try{return JSON.stringify(Ft)}catch(kt){return null}}).filter(function(Ft){return Ft}).join(" ");_t>=(null!=Se?Se:ze.logLevel)&&V({level:ee[_t].toLowerCase(),message:Xt,args:ct,type:ze.name})}},ge=0,Me=S;ge<Me.length;ge++)be(Me[ge])}},4685:(at,we,M)=>{"use strict";M.d(we,{BH:()=>be,LL:()=>Ye,gQ:()=>Oe,hu:()=>S,g5:()=>ee,US:()=>le,h$:()=>$,r3:()=>an,Sg:()=>ge,ne:()=>Je,p$:()=>ne,ZB:()=>V,gK:()=>Qn,m9:()=>on,GJ:()=>Ot,jU:()=>Se,xb:()=>Nt,uI:()=>it,UG:()=>Ne,Yr:()=>Ft,b$:()=>_t,w9:()=>St,cI:()=>Ze,UI:()=>cn,xO:()=>Vt,DV:()=>Mt,ug:()=>lt,dS:()=>gn,Pz:()=>nt,Dv:()=>En,Wj:()=>pn,lb:()=>gi});var T=M(4762),S=function(J,Q){if(!J)throw ee(Q)},ee=function(J){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+J)},ue=function(J){for(var Q=[],de=0,Ce=0;Ce<J.length;Ce++){var fe=J.charCodeAt(Ce);fe<128?Q[de++]=fe:fe<2048?(Q[de++]=fe>>6|192,Q[de++]=63&fe|128):55296==(64512&fe)&&Ce+1<J.length&&56320==(64512&J.charCodeAt(Ce+1))?(fe=65536+((1023&fe)<<10)+(1023&J.charCodeAt(++Ce)),Q[de++]=fe>>18|240,Q[de++]=fe>>12&63|128,Q[de++]=fe>>6&63|128,Q[de++]=63&fe|128):(Q[de++]=fe>>12|224,Q[de++]=fe>>6&63|128,Q[de++]=63&fe|128)}return Q},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(J,Q){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var de=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[],fe=0;fe<J.length;fe+=3){var tt=J[fe],yt=fe+1<J.length,Et=yt?J[fe+1]:0,Ut=fe+2<J.length,Jt=Ut?J[fe+2]:0,Mn=(15&Et)<<2|Jt>>6,mr=63&Jt;Ut||(mr=64,yt||(Mn=64)),Ce.push(de[tt>>2],de[(3&tt)<<4|Et>>4],de[Mn],de[mr])}return Ce.join("")},encodeString:function(J,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(J):this.encodeByteArray(ue(J),Q)},decodeString:function(J,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(J):function(J){for(var Q=[],de=0,Ce=0;de<J.length;){var fe=J[de++];if(fe<128)Q[Ce++]=String.fromCharCode(fe);else if(fe>191&&fe<224){var tt=J[de++];Q[Ce++]=String.fromCharCode((31&fe)<<6|63&tt)}else if(fe>239&&fe<365){var Ut=((7&fe)<<18|(63&(tt=J[de++]))<<12|(63&(yt=J[de++]))<<6|63&J[de++])-65536;Q[Ce++]=String.fromCharCode(55296+(Ut>>10)),Q[Ce++]=String.fromCharCode(56320+(1023&Ut))}else{tt=J[de++];var yt=J[de++];Q[Ce++]=String.fromCharCode((15&fe)<<12|(63&tt)<<6|63&yt)}}return Q.join("")}(this.decodeStringToByteArray(J,Q))},decodeStringToByteArray:function(J,Q){this.init_();for(var de=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[],fe=0;fe<J.length;){var tt=de[J.charAt(fe++)],Et=fe<J.length?de[J.charAt(fe)]:0,Jt=++fe<J.length?de[J.charAt(fe)]:64,An=++fe<J.length?de[J.charAt(fe)]:64;if(++fe,null==tt||null==Et||null==Jt||null==An)throw Error();Ce.push(tt<<2|Et>>4),64!==Jt&&(Ce.push(Et<<4&240|Jt>>2),64!==An&&Ce.push(Jt<<6&192|An))}return Ce},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},$=function(J){var Q=ue(J);return le.encodeByteArray(Q,!0)},G=function(J){return $(J).replace(/\./g,"")},H=function(J){try{return le.decodeString(J,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function ne(J){return V(void 0,J)}function V(J,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return Q}for(var Ce in Q)!Q.hasOwnProperty(Ce)||!te(Ce)||(J[Ce]=V(J[Ce],Q[Ce]));return J}function te(J){return"__proto__"!==J}var be=function(){function J(){var Q=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(de,Ce){Q.resolve=de,Q.reject=Ce})}return J.prototype.wrapCallback=function(Q){var de=this;return function(Ce,fe){Ce?de.reject(Ce):de.resolve(fe),"function"==typeof Q&&(de.promise.catch(function(){}),1===Q.length?Q(Ce):Q(Ce,fe))}},J}();function ge(J,Q){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Ce=Q||"demo-project",fe=J.iat||0,tt=J.sub||J.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var yt=(0,T.pi)({iss:"https://securetoken.google.com/"+Ce,aud:Ce,iat:fe,exp:fe+3600,auth_time:fe,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},J);return[G(JSON.stringify({alg:"none",type:"JWT"})),G(JSON.stringify(yt)),""].join(".")}function it(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(J){return!1}}function Se(){return"object"==typeof self&&self.self===self}function _t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ft(){return!1}var he=function(J){function Q(de,Ce,fe){var tt=J.call(this,Ce)||this;return tt.code=de,tt.customData=fe,tt.name="FirebaseError",Object.setPrototypeOf(tt,Q.prototype),Error.captureStackTrace&&Error.captureStackTrace(tt,Ye.prototype.create),tt}return(0,T.ZT)(Q,J),Q}(Error),Ye=function(){function J(Q,de,Ce){this.service=Q,this.serviceName=de,this.errors=Ce}return J.prototype.create=function(Q){for(var de=[],Ce=1;Ce<arguments.length;Ce++)de[Ce-1]=arguments[Ce];var fe=de[0]||{},tt=this.service+"/"+Q,yt=this.errors[Q],Et=yt?We(yt,fe):"Error",Ut=this.serviceName+": "+Et+" ("+tt+").",Jt=new he(tt,Ut,fe);return Jt},J}();function We(J,Q){return J.replace(pt,function(de,Ce){var fe=Q[Ce];return null!=fe?String(fe):"<"+Ce+"?>"})}var pt=/\{\$([^}]+)}/g;function Ze(J){return JSON.parse(J)}function nt(J){return JSON.stringify(J)}var ke=function(J){var Q={},de={},Ce={},fe="";try{var tt=J.split(".");Q=Ze(H(tt[0])||""),de=Ze(H(tt[1])||""),fe=tt[2],Ce=de.d||{},delete de.d}catch(yt){}return{header:Q,claims:de,data:Ce,signature:fe}},St=function(J){var de=ke(J).claims;return!!de&&"object"==typeof de&&de.hasOwnProperty("iat")},Ot=function(J){var Q=ke(J).claims;return"object"==typeof Q&&!0===Q.admin};function an(J,Q){return Object.prototype.hasOwnProperty.call(J,Q)}function Mt(J,Q){if(Object.prototype.hasOwnProperty.call(J,Q))return J[Q]}function Nt(J){for(var Q in J)if(Object.prototype.hasOwnProperty.call(J,Q))return!1;return!0}function cn(J,Q,de){var Ce={};for(var fe in J)Object.prototype.hasOwnProperty.call(J,fe)&&(Ce[fe]=Q.call(de,J[fe],fe,J));return Ce}function Vt(J){for(var Q=[],de=function(Ut,Jt){Array.isArray(Jt)?Jt.forEach(function(Pn){Q.push(encodeURIComponent(Ut)+"="+encodeURIComponent(Pn))}):Q.push(encodeURIComponent(Ut)+"="+encodeURIComponent(Jt))},Ce=0,fe=Object.entries(J);Ce<fe.length;Ce++){var tt=fe[Ce];de(tt[0],tt[1])}return Q.length?"&"+Q.join("&"):""}var Oe=function(){function J(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Q=1;Q<this.blockSize;++Q)this.pad_[Q]=0;this.reset()}return J.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},J.prototype.compress_=function(Q,de){de||(de=0);var Ce=this.W_;if("string"==typeof Q)for(var fe=0;fe<16;fe++)Ce[fe]=Q.charCodeAt(de)<<24|Q.charCodeAt(de+1)<<16|Q.charCodeAt(de+2)<<8|Q.charCodeAt(de+3),de+=4;else for(fe=0;fe<16;fe++)Ce[fe]=Q[de]<<24|Q[de+1]<<16|Q[de+2]<<8|Q[de+3],de+=4;for(fe=16;fe<80;fe++)Ce[fe]=4294967295&((tt=Ce[fe-3]^Ce[fe-8]^Ce[fe-14]^Ce[fe-16])<<1|tt>>>31);var An,Mn,yt=this.chain_[0],Et=this.chain_[1],Ut=this.chain_[2],Jt=this.chain_[3],Pn=this.chain_[4];for(fe=0;fe<80;fe++){fe<40?fe<20?(An=Jt^Et&(Ut^Jt),Mn=1518500249):(An=Et^Ut^Jt,Mn=1859775393):fe<60?(An=Et&Ut|Jt&(Et|Ut),Mn=2400959708):(An=Et^Ut^Jt,Mn=3395469782);var tt=(yt<<5|yt>>>27)+An+Pn+Mn+Ce[fe]&4294967295;Pn=Jt,Jt=Ut,Ut=4294967295&(Et<<30|Et>>>2),Et=yt,yt=tt}this.chain_[0]=this.chain_[0]+yt&4294967295,this.chain_[1]=this.chain_[1]+Et&4294967295,this.chain_[2]=this.chain_[2]+Ut&4294967295,this.chain_[3]=this.chain_[3]+Jt&4294967295,this.chain_[4]=this.chain_[4]+Pn&4294967295},J.prototype.update=function(Q,de){if(null!=Q){void 0===de&&(de=Q.length);for(var Ce=de-this.blockSize,fe=0,tt=this.buf_,yt=this.inbuf_;fe<de;){if(0===yt)for(;fe<=Ce;)this.compress_(Q,fe),fe+=this.blockSize;if("string"==typeof Q){for(;fe<de;)if(tt[yt]=Q.charCodeAt(fe),++fe,++yt===this.blockSize){this.compress_(tt),yt=0;break}}else for(;fe<de;)if(tt[yt]=Q[fe],++fe,++yt===this.blockSize){this.compress_(tt),yt=0;break}}this.inbuf_=yt,this.total_+=de}},J.prototype.digest=function(){var Q=[],de=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Ce=this.blockSize-1;Ce>=56;Ce--)this.buf_[Ce]=255&de,de/=256;this.compress_(this.buf_);var fe=0;for(Ce=0;Ce<5;Ce++)for(var tt=24;tt>=0;tt-=8)Q[fe]=this.chain_[Ce]>>tt&255,++fe;return Q},J}();function Je(J,Q){var de=new Ee(J,Q);return de.subscribe.bind(de)}var Ee=function(){function J(Q,de){var Ce=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=de,this.task.then(function(){Q(Ce)}).catch(function(fe){Ce.error(fe)})}return J.prototype.next=function(Q){this.forEachObserver(function(de){de.next(Q)})},J.prototype.error=function(Q){this.forEachObserver(function(de){de.error(Q)}),this.close(Q)},J.prototype.complete=function(){this.forEachObserver(function(Q){Q.complete()}),this.close()},J.prototype.subscribe=function(Q,de,Ce){var tt,fe=this;if(void 0===Q&&void 0===de&&void 0===Ce)throw new Error("Missing Observer.");void 0===(tt=function(J,Q){if("object"!=typeof J||null===J)return!1;for(var de=0,Ce=["next","error","complete"];de<Ce.length;de++){var fe=Ce[de];if(fe in J&&"function"==typeof J[fe])return!0}return!1}(Q)?Q:{next:Q,error:de,complete:Ce}).next&&(tt.next=wt),void 0===tt.error&&(tt.error=wt),void 0===tt.complete&&(tt.complete=wt);var yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{fe.finalError?tt.error(fe.finalError):tt.complete()}catch(Et){}}),this.observers.push(tt),yt},J.prototype.unsubscribeOne=function(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},J.prototype.forEachObserver=function(Q){if(!this.finalized)for(var de=0;de<this.observers.length;de++)this.sendOne(de,Q)},J.prototype.sendOne=function(Q,de){var Ce=this;this.task.then(function(){if(void 0!==Ce.observers&&void 0!==Ce.observers[Q])try{de(Ce.observers[Q])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})},J.prototype.close=function(Q){var de=this;this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(function(){de.observers=void 0,de.onNoObservers=void 0}))},J}();function wt(){}var En=function(J,Q,de,Ce){var fe;if(Ce<Q?fe="at least "+Q:Ce>de&&(fe=0===de?"none":"no more than "+de),fe)throw new Error(J+" failed: Was called with "+Ce+(1===Ce?" argument.":" arguments.")+" Expects "+fe+".")};function Qn(J,Q){return J+" failed: "+Q+" argument "}function pn(J,Q,de,Ce){if((!Ce||de)&&"function"!=typeof de)throw new Error(Qn(J,Q)+"must be a valid function.")}function gi(J,Q,de,Ce){if((!Ce||de)&&("object"!=typeof de||null===de))throw new Error(Qn(J,Q)+"must be a valid context object.")}var gn=function(J){for(var Q=[],de=0,Ce=0;Ce<J.length;Ce++){var fe=J.charCodeAt(Ce);if(fe>=55296&&fe<=56319){var tt=fe-55296;Ce++,S(Ce<J.length,"Surrogate pair missing trail surrogate."),fe=65536+(tt<<10)+(J.charCodeAt(Ce)-56320)}fe<128?Q[de++]=fe:fe<2048?(Q[de++]=fe>>6|192,Q[de++]=63&fe|128):fe<65536?(Q[de++]=fe>>12|224,Q[de++]=fe>>6&63|128,Q[de++]=63&fe|128):(Q[de++]=fe>>18|240,Q[de++]=fe>>12&63|128,Q[de++]=fe>>6&63|128,Q[de++]=63&fe|128)}return Q},lt=function(J){for(var Q=0,de=0;de<J.length;de++){var Ce=J.charCodeAt(de);Ce<128?Q++:Ce<2048?Q+=2:Ce>=55296&&Ce<=56319?(Q+=4,de++):Q+=3}return Q};function on(J){return J&&J._delegate?J._delegate:J}},2329:(at,we,M)=>{"use strict";M.d(we,{Z:()=>T.Z});var T=M(9759),S="8.10.1";T.Z.registerVersion("firebase",S,"app"),T.Z.SDK_VERSION=S},9932:(at,we,M)=>{"use strict";M.d(we,{op:()=>ot,Vv:()=>Zn,$V:()=>bn,Xd:()=>vr});var T=M(7574),R=M(9796),S=M(9105),ee=M(8002);function j(I,A,k,oe){return(0,S.m)(k)&&(oe=k,k=void 0),oe?j(I,A,k).pipe((0,ee.U)(De=>(0,R.k)(De)?oe(...De):oe(De))):new T.y(De=>{le(I,A,function(Be){De.next(arguments.length>1?Array.prototype.slice.call(arguments):Be)},De,k)})}function le(I,A,k,oe,De){let He;if(function(I){return I&&"function"==typeof I.addEventListener&&"function"==typeof I.removeEventListener}(I)){const Be=I;I.addEventListener(A,k,De),He=()=>Be.removeEventListener(A,k,De)}else if(function(I){return I&&"function"==typeof I.on&&"function"==typeof I.off}(I)){const Be=I;I.on(A,k),He=()=>Be.off(A,k)}else if(function(I){return I&&"function"==typeof I.addListener&&"function"==typeof I.removeListener}(I)){const Be=I;I.addListener(A,k),He=()=>Be.removeListener(A,k)}else{if(!I||!I.length)throw new TypeError("Invalid event target");for(let Be=0,st=I.length;Be<st;Be++)le(I[Be],A,k,oe,De)}oe.add(He)}var ne=M(9765),V=M(6682),te=M(3637),be=M(5345);class Me{constructor(A){this.durationSelector=A}call(A,k){return k.subscribe(new it(A,this.durationSelector))}}class it extends be.Ds{constructor(A,k){super(A),this.durationSelector=k,this.hasValue=!1}_next(A){if(this.value=A,this.hasValue=!0,!this.throttled){let k;try{const{durationSelector:De}=this;k=De(A)}catch(De){return this.destination.error(De)}const oe=(0,be.ft)(k,new be.IY(this));!oe||oe.closed?this.clearThrottle():this.add(this.throttled=oe)}}clearThrottle(){const{value:A,hasValue:k,throttled:oe}=this;oe&&(this.remove(oe),this.throttled=void 0,oe.unsubscribe()),k&&(this.value=void 0,this.hasValue=!1,this.destination.next(A))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Ne=M(6561),Se=M(4869);function _t(I){const{index:A,period:k,subscriber:oe}=I;if(oe.next(A),!oe.closed){if(-1===k)return oe.complete();I.index=A+1,this.schedule(I,k)}}var Wt=M(7393);function Xt(I){return A=>A.lift(new Ft(I))}class Ft{constructor(A){this.value=A}call(A,k){return k.subscribe(new kt(A,this.value))}}class kt extends Wt.L{constructor(A,k){super(A),this.value=k}_next(A){this.destination.next(this.value)}}var me=M(6782),ye=M(7519),X=M(7716),ce=M(8583);function xe(I){return getComputedStyle(I)}function he(I,A){for(var k in A){var oe=A[k];"number"==typeof oe&&(oe+="px"),I.style[k]=oe}return I}function Ye(I){var A=document.createElement("div");return A.className=I,A}var We="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function pt(I,A){if(!We)throw new Error("No element matching method supported");return We.call(I,A)}function Ze(I){I.remove?I.remove():I.parentNode&&I.parentNode.removeChild(I)}function nt(I,A){return Array.prototype.filter.call(I.children,function(k){return pt(k,A)})}var ke_element_thumb=function(I){return"ps__thumb-"+I},ke_element_rail=function(I){return"ps__rail-"+I},ke_element_consuming="ps__child--consume",ke_state_focus="ps--focus",ke_state_clicking="ps--clicking",ke_state_active=function(I){return"ps--active-"+I},ke_state_scrolling=function(I){return"ps--scrolling-"+I},$e={x:null,y:null};function rt(I,A){var k=I.element.classList,oe=ke_state_scrolling(A);k.contains(oe)?clearTimeout($e[A]):k.add(oe)}function St(I,A){$e[A]=setTimeout(function(){return I.isAlive&&I.element.classList.remove(ke_state_scrolling(A))},I.settings.scrollingThreshold)}var an=function(A){this.element=A,this.handlers={}},Mt={isEmpty:{configurable:!0}};an.prototype.bind=function(A,k){void 0===this.handlers[A]&&(this.handlers[A]=[]),this.handlers[A].push(k),this.element.addEventListener(A,k,!1)},an.prototype.unbind=function(A,k){var oe=this;this.handlers[A]=this.handlers[A].filter(function(De){return!(!k||De===k)||(oe.element.removeEventListener(A,De,!1),!1)})},an.prototype.unbindAll=function(){for(var A in this.handlers)this.unbind(A)},Mt.isEmpty.get=function(){var I=this;return Object.keys(this.handlers).every(function(A){return 0===I.handlers[A].length})},Object.defineProperties(an.prototype,Mt);var Nt=function(){this.eventElements=[]};function cn(I){if("function"==typeof window.CustomEvent)return new CustomEvent(I);var A=document.createEvent("CustomEvent");return A.initCustomEvent(I,!1,!1,void 0),A}function rn(I,A,k,oe,De){var He;if(void 0===oe&&(oe=!0),void 0===De&&(De=!1),"top"===A)He=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==A)throw new Error("A proper axis should be provided");He=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(I,A,k,oe,De){var He=k[0],Be=k[1],st=k[2],Qe=k[3],qe=k[4],Xe=k[5];void 0===oe&&(oe=!0),void 0===De&&(De=!1);var vt=I.element;I.reach[Qe]=null,vt[st]<1&&(I.reach[Qe]="start"),vt[st]>I[He]-I[Be]-1&&(I.reach[Qe]="end"),A&&(vt.dispatchEvent(cn("ps-scroll-"+Qe)),A<0?vt.dispatchEvent(cn("ps-scroll-"+qe)):A>0&&vt.dispatchEvent(cn("ps-scroll-"+Xe)),oe&&function(I,A){rt(I,A),St(I,A)}(I,Qe)),I.reach[Qe]&&(A||De)&&vt.dispatchEvent(cn("ps-"+Qe+"-reach-"+I.reach[Qe]))}(I,k,He,oe,De)}function Vt(I){return parseInt(I,10)||0}Nt.prototype.eventElement=function(A){var k=this.eventElements.filter(function(oe){return oe.element===A})[0];return k||(k=new an(A),this.eventElements.push(k)),k},Nt.prototype.bind=function(A,k,oe){this.eventElement(A).bind(k,oe)},Nt.prototype.unbind=function(A,k,oe){var De=this.eventElement(A);De.unbind(k,oe),De.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(De),1)},Nt.prototype.unbindAll=function(){this.eventElements.forEach(function(A){return A.unbindAll()}),this.eventElements=[]},Nt.prototype.once=function(A,k,oe){var De=this.eventElement(A),He=function(Be){De.unbind(k,He),oe(Be)};De.bind(k,He)};var Oe={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function Je(I){var A=I.element,k=Math.floor(A.scrollTop),oe=A.getBoundingClientRect();I.containerWidth=Math.ceil(oe.width),I.containerHeight=Math.ceil(oe.height),I.contentWidth=A.scrollWidth,I.contentHeight=A.scrollHeight,A.contains(I.scrollbarXRail)||(nt(A,ke_element_rail("x")).forEach(function(De){return Ze(De)}),A.appendChild(I.scrollbarXRail)),A.contains(I.scrollbarYRail)||(nt(A,ke_element_rail("y")).forEach(function(De){return Ze(De)}),A.appendChild(I.scrollbarYRail)),!I.settings.suppressScrollX&&I.containerWidth+I.settings.scrollXMarginOffset<I.contentWidth?(I.scrollbarXActive=!0,I.railXWidth=I.containerWidth-I.railXMarginWidth,I.railXRatio=I.containerWidth/I.railXWidth,I.scrollbarXWidth=Ee(I,Vt(I.railXWidth*I.containerWidth/I.contentWidth)),I.scrollbarXLeft=Vt((I.negativeScrollAdjustment+A.scrollLeft)*(I.railXWidth-I.scrollbarXWidth)/(I.contentWidth-I.containerWidth))):I.scrollbarXActive=!1,!I.settings.suppressScrollY&&I.containerHeight+I.settings.scrollYMarginOffset<I.contentHeight?(I.scrollbarYActive=!0,I.railYHeight=I.containerHeight-I.railYMarginHeight,I.railYRatio=I.containerHeight/I.railYHeight,I.scrollbarYHeight=Ee(I,Vt(I.railYHeight*I.containerHeight/I.contentHeight)),I.scrollbarYTop=Vt(k*(I.railYHeight-I.scrollbarYHeight)/(I.contentHeight-I.containerHeight))):I.scrollbarYActive=!1,I.scrollbarXLeft>=I.railXWidth-I.scrollbarXWidth&&(I.scrollbarXLeft=I.railXWidth-I.scrollbarXWidth),I.scrollbarYTop>=I.railYHeight-I.scrollbarYHeight&&(I.scrollbarYTop=I.railYHeight-I.scrollbarYHeight),function(I,A){var k={width:A.railXWidth},oe=Math.floor(I.scrollTop);k.left=A.isRtl?A.negativeScrollAdjustment+I.scrollLeft+A.containerWidth-A.contentWidth:I.scrollLeft,A.isScrollbarXUsingBottom?k.bottom=A.scrollbarXBottom-oe:k.top=A.scrollbarXTop+oe,he(A.scrollbarXRail,k);var De={top:oe,height:A.railYHeight};A.isScrollbarYUsingRight?De.right=A.isRtl?A.contentWidth-(A.negativeScrollAdjustment+I.scrollLeft)-A.scrollbarYRight-A.scrollbarYOuterWidth-9:A.scrollbarYRight-I.scrollLeft:De.left=A.isRtl?A.negativeScrollAdjustment+I.scrollLeft+2*A.containerWidth-A.contentWidth-A.scrollbarYLeft-A.scrollbarYOuterWidth:A.scrollbarYLeft+I.scrollLeft,he(A.scrollbarYRail,De),he(A.scrollbarX,{left:A.scrollbarXLeft,width:A.scrollbarXWidth-A.railBorderXWidth}),he(A.scrollbarY,{top:A.scrollbarYTop,height:A.scrollbarYHeight-A.railBorderYWidth})}(A,I),I.scrollbarXActive?A.classList.add(ke_state_active("x")):(A.classList.remove(ke_state_active("x")),I.scrollbarXWidth=0,I.scrollbarXLeft=0,A.scrollLeft=!0===I.isRtl?I.contentWidth:0),I.scrollbarYActive?A.classList.add(ke_state_active("y")):(A.classList.remove(ke_state_active("y")),I.scrollbarYHeight=0,I.scrollbarYTop=0,A.scrollTop=0)}function Ee(I,A){return I.settings.minScrollbarLength&&(A=Math.max(A,I.settings.minScrollbarLength)),I.settings.maxScrollbarLength&&(A=Math.min(A,I.settings.maxScrollbarLength)),A}function En(I,A){var k=A[0],oe=A[1],De=A[2],He=A[3],Be=A[4],st=A[5],Qe=A[6],qe=A[7],Xe=A[8],vt=I.element,ie=null,K=null,U=null;function se(Ue){Ue.touches&&Ue.touches[0]&&(Ue[De]=Ue.touches[0].pageY),vt[Qe]=ie+U*(Ue[De]-K),rt(I,qe),Je(I),Ue.stopPropagation(),Ue.preventDefault()}function Re(){St(I,qe),I[Xe].classList.remove(ke_state_clicking),I.event.unbind(I.ownerDocument,"mousemove",se)}function et(Ue,ft){ie=vt[Qe],ft&&Ue.touches&&(Ue[De]=Ue.touches[0].pageY),K=Ue[De],U=(I[oe]-I[k])/(I[He]-I[st]),ft?I.event.bind(I.ownerDocument,"touchmove",se):(I.event.bind(I.ownerDocument,"mousemove",se),I.event.once(I.ownerDocument,"mouseup",Re),Ue.preventDefault()),I[Xe].classList.add(ke_state_clicking),Ue.stopPropagation()}I.event.bind(I[Be],"mousedown",function(Ue){et(Ue)}),I.event.bind(I[Be],"touchstart",function(Ue){et(Ue,!0)})}var gn={"click-rail":function(I){I.event.bind(I.scrollbarY,"mousedown",function(k){return k.stopPropagation()}),I.event.bind(I.scrollbarYRail,"mousedown",function(k){var oe=k.pageY-window.pageYOffset-I.scrollbarYRail.getBoundingClientRect().top;I.element.scrollTop+=(oe>I.scrollbarYTop?1:-1)*I.containerHeight,Je(I),k.stopPropagation()}),I.event.bind(I.scrollbarX,"mousedown",function(k){return k.stopPropagation()}),I.event.bind(I.scrollbarXRail,"mousedown",function(k){var oe=k.pageX-window.pageXOffset-I.scrollbarXRail.getBoundingClientRect().left;I.element.scrollLeft+=(oe>I.scrollbarXLeft?1:-1)*I.containerWidth,Je(I),k.stopPropagation()})},"drag-thumb":function(I){En(I,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),En(I,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(I){var A=I.element;I.event.bind(I.ownerDocument,"keydown",function(He){if(!(He.isDefaultPrevented&&He.isDefaultPrevented()||He.defaultPrevented)&&(pt(A,":hover")||pt(I.scrollbarX,":focus")||pt(I.scrollbarY,":focus"))){var Be=document.activeElement?document.activeElement:I.ownerDocument.activeElement;if(Be){if("IFRAME"===Be.tagName)Be=Be.contentDocument.activeElement;else for(;Be.shadowRoot;)Be=Be.shadowRoot.activeElement;if(function(I){return pt(I,"input,[contenteditable]")||pt(I,"select,[contenteditable]")||pt(I,"textarea,[contenteditable]")||pt(I,"button,[contenteditable]")}(Be))return}var st=0,Qe=0;switch(He.which){case 37:st=He.metaKey?-I.contentWidth:He.altKey?-I.containerWidth:-30;break;case 38:Qe=He.metaKey?I.contentHeight:He.altKey?I.containerHeight:30;break;case 39:st=He.metaKey?I.contentWidth:He.altKey?I.containerWidth:30;break;case 40:Qe=He.metaKey?-I.contentHeight:He.altKey?-I.containerHeight:-30;break;case 32:Qe=He.shiftKey?I.containerHeight:-I.containerHeight;break;case 33:Qe=I.containerHeight;break;case 34:Qe=-I.containerHeight;break;case 36:Qe=I.contentHeight;break;case 35:Qe=-I.contentHeight;break;default:return}I.settings.suppressScrollX&&0!==st||I.settings.suppressScrollY&&0!==Qe||(A.scrollTop-=Qe,A.scrollLeft+=st,Je(I),function(He,Be){var st=Math.floor(A.scrollTop);if(0===He){if(!I.scrollbarYActive)return!1;if(0===st&&Be>0||st>=I.contentHeight-I.containerHeight&&Be<0)return!I.settings.wheelPropagation}var Qe=A.scrollLeft;if(0===Be){if(!I.scrollbarXActive)return!1;if(0===Qe&&He<0||Qe>=I.contentWidth-I.containerWidth&&He>0)return!I.settings.wheelPropagation}return!0}(st,Qe)&&He.preventDefault())}})},wheel:function(I){var A=I.element;function He(Be){var st=function(Be){var st=Be.deltaX,Qe=-1*Be.deltaY;return(void 0===st||void 0===Qe)&&(st=-1*Be.wheelDeltaX/6,Qe=Be.wheelDeltaY/6),Be.deltaMode&&1===Be.deltaMode&&(st*=10,Qe*=10),st!=st&&Qe!=Qe&&(st=0,Qe=Be.wheelDelta),Be.shiftKey?[-Qe,-st]:[st,Qe]}(Be),Qe=st[0],qe=st[1];if(!function(Be,st,Qe){if(!Oe.isWebKit&&A.querySelector("select:focus"))return!0;if(!A.contains(Be))return!1;for(var qe=Be;qe&&qe!==A;){if(qe.classList.contains(ke_element_consuming))return!0;var Xe=xe(qe);if(Qe&&Xe.overflowY.match(/(scroll|auto)/)){var vt=qe.scrollHeight-qe.clientHeight;if(vt>0&&(qe.scrollTop>0&&Qe<0||qe.scrollTop<vt&&Qe>0))return!0}if(st&&Xe.overflowX.match(/(scroll|auto)/)){var ie=qe.scrollWidth-qe.clientWidth;if(ie>0&&(qe.scrollLeft>0&&st<0||qe.scrollLeft<ie&&st>0))return!0}qe=qe.parentNode}return!1}(Be.target,Qe,qe)){var Xe=!1;I.settings.useBothWheelAxes?I.scrollbarYActive&&!I.scrollbarXActive?(qe?A.scrollTop-=qe*I.settings.wheelSpeed:A.scrollTop+=Qe*I.settings.wheelSpeed,Xe=!0):I.scrollbarXActive&&!I.scrollbarYActive&&(Qe?A.scrollLeft+=Qe*I.settings.wheelSpeed:A.scrollLeft-=qe*I.settings.wheelSpeed,Xe=!0):(A.scrollTop-=qe*I.settings.wheelSpeed,A.scrollLeft+=Qe*I.settings.wheelSpeed),Je(I),(Xe=Xe||function(Be,st){var Qe=Math.floor(A.scrollTop),qe=0===A.scrollTop,Xe=Qe+A.offsetHeight===A.scrollHeight,vt=0===A.scrollLeft,ie=A.scrollLeft+A.offsetWidth===A.scrollWidth;return!(Math.abs(st)>Math.abs(Be)?qe||Xe:vt||ie)||!I.settings.wheelPropagation}(Qe,qe))&&!Be.ctrlKey&&(Be.stopPropagation(),Be.preventDefault())}}void 0!==window.onwheel?I.event.bind(A,"wheel",He):void 0!==window.onmousewheel&&I.event.bind(A,"mousewheel",He)},touch:function(I){if(Oe.supportsTouch||Oe.supportsIePointer){var A=I.element,De={},He=0,Be={},st=null;Oe.supportsTouch?(I.event.bind(A,"touchstart",Xe),I.event.bind(A,"touchmove",ie),I.event.bind(A,"touchend",K)):Oe.supportsIePointer&&(window.PointerEvent?(I.event.bind(A,"pointerdown",Xe),I.event.bind(A,"pointermove",ie),I.event.bind(A,"pointerup",K)):window.MSPointerEvent&&(I.event.bind(A,"MSPointerDown",Xe),I.event.bind(A,"MSPointerMove",ie),I.event.bind(A,"MSPointerUp",K)))}function oe(U,se){A.scrollTop-=se,A.scrollLeft-=U,Je(I)}function Qe(U){return U.targetTouches?U.targetTouches[0]:U}function qe(U){return!(U.pointerType&&"pen"===U.pointerType&&0===U.buttons||!(U.targetTouches&&1===U.targetTouches.length||U.pointerType&&"mouse"!==U.pointerType&&U.pointerType!==U.MSPOINTER_TYPE_MOUSE))}function Xe(U){if(qe(U)){var se=Qe(U);De.pageX=se.pageX,De.pageY=se.pageY,He=(new Date).getTime(),null!==st&&clearInterval(st)}}function ie(U){if(qe(U)){var se=Qe(U),Re={pageX:se.pageX,pageY:se.pageY},et=Re.pageX-De.pageX,Ue=Re.pageY-De.pageY;if(function(U,se,Re){if(!A.contains(U))return!1;for(var et=U;et&&et!==A;){if(et.classList.contains(ke_element_consuming))return!0;var Ue=xe(et);if(Re&&Ue.overflowY.match(/(scroll|auto)/)){var ft=et.scrollHeight-et.clientHeight;if(ft>0&&(et.scrollTop>0&&Re<0||et.scrollTop<ft&&Re>0))return!0}if(se&&Ue.overflowX.match(/(scroll|auto)/)){var Rt=et.scrollWidth-et.clientWidth;if(Rt>0&&(et.scrollLeft>0&&se<0||et.scrollLeft<Rt&&se>0))return!0}et=et.parentNode}return!1}(U.target,et,Ue))return;oe(et,Ue),De=Re;var ft=(new Date).getTime(),Rt=ft-He;Rt>0&&(Be.x=et/Rt,Be.y=Ue/Rt,He=ft),function(U,se){var Re=Math.floor(A.scrollTop),et=A.scrollLeft,Ue=Math.abs(U),ft=Math.abs(se);if(ft>Ue){if(se<0&&Re===I.contentHeight-I.containerHeight||se>0&&0===Re)return 0===window.scrollY&&se>0&&Oe.isChrome}else if(Ue>ft&&(U<0&&et===I.contentWidth-I.containerWidth||U>0&&0===et))return!0;return!0}(et,Ue)&&U.preventDefault()}}function K(){I.settings.swipeEasing&&(clearInterval(st),st=setInterval(function(){I.isInitialized?clearInterval(st):Be.x||Be.y?Math.abs(Be.x)<.01&&Math.abs(Be.y)<.01?clearInterval(st):(oe(30*Be.x,30*Be.y),Be.x*=.8,Be.y*=.8):clearInterval(st)},10))}}},lt=function(A,k){var oe=this;if(void 0===k&&(k={}),"string"==typeof A&&(A=document.querySelector(A)),!A||!A.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var De in this.element=A,A.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},k)this.settings[De]=k[De];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var Xe,qe,He=function(){return A.classList.add(ke_state_focus)},Be=function(){return A.classList.remove(ke_state_focus)};this.isRtl="rtl"===xe(A).direction,!0===this.isRtl&&A.classList.add("ps__rtl"),this.isNegativeScroll=(qe=A.scrollLeft,A.scrollLeft=-1,Xe=A.scrollLeft<0,A.scrollLeft=qe,Xe),this.negativeScrollAdjustment=this.isNegativeScroll?A.scrollWidth-A.clientWidth:0,this.event=new Nt,this.ownerDocument=A.ownerDocument||document,this.scrollbarXRail=Ye(ke_element_rail("x")),A.appendChild(this.scrollbarXRail),this.scrollbarX=Ye(ke_element_thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",He),this.event.bind(this.scrollbarX,"blur",Be),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var st=xe(this.scrollbarXRail);this.scrollbarXBottom=parseInt(st.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Vt(st.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Vt(st.borderLeftWidth)+Vt(st.borderRightWidth),he(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Vt(st.marginLeft)+Vt(st.marginRight),he(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Ye(ke_element_rail("y")),A.appendChild(this.scrollbarYRail),this.scrollbarY=Ye(ke_element_thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",He),this.event.bind(this.scrollbarY,"blur",Be),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var Qe=xe(this.scrollbarYRail);this.scrollbarYRight=parseInt(Qe.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Vt(Qe.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(I){var A=xe(I);return Vt(A.width)+Vt(A.paddingLeft)+Vt(A.paddingRight)+Vt(A.borderLeftWidth)+Vt(A.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=Vt(Qe.borderTopWidth)+Vt(Qe.borderBottomWidth),he(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Vt(Qe.marginTop)+Vt(Qe.marginBottom),he(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:A.scrollLeft<=0?"start":A.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:A.scrollTop<=0?"start":A.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(qe){return gn[qe](oe)}),this.lastScrollTop=Math.floor(A.scrollTop),this.lastScrollLeft=A.scrollLeft,this.event.bind(this.element,"scroll",function(qe){return oe.onScroll(qe)}),Je(this)};lt.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,he(this.scrollbarXRail,{display:"block"}),he(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Vt(xe(this.scrollbarXRail).marginLeft)+Vt(xe(this.scrollbarXRail).marginRight),this.railYMarginHeight=Vt(xe(this.scrollbarYRail).marginTop)+Vt(xe(this.scrollbarYRail).marginBottom),he(this.scrollbarXRail,{display:"none"}),he(this.scrollbarYRail,{display:"none"}),Je(this),rn(this,"top",0,!1,!0),rn(this,"left",0,!1,!0),he(this.scrollbarXRail,{display:""}),he(this.scrollbarYRail,{display:""}))},lt.prototype.onScroll=function(A){!this.isAlive||(Je(this),rn(this,"top",this.element.scrollTop-this.lastScrollTop),rn(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},lt.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),Ze(this.scrollbarX),Ze(this.scrollbarY),Ze(this.scrollbarXRail),Ze(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},lt.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(A){return!A.match(/^ps([-_].+|)$/)}).join(" ")};const At=lt;var br=function(){if("undefined"!=typeof Map)return Map;function I(A,k){var oe=-1;return A.some(function(De,He){return De[0]===k&&(oe=He,!0)}),oe}return function(){function A(){this.__entries__=[]}return Object.defineProperty(A.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),A.prototype.get=function(k){var oe=I(this.__entries__,k),De=this.__entries__[oe];return De&&De[1]},A.prototype.set=function(k,oe){var De=I(this.__entries__,k);~De?this.__entries__[De][1]=oe:this.__entries__.push([k,oe])},A.prototype.delete=function(k){var oe=this.__entries__,De=I(oe,k);~De&&oe.splice(De,1)},A.prototype.has=function(k){return!!~I(this.__entries__,k)},A.prototype.clear=function(){this.__entries__.splice(0)},A.prototype.forEach=function(k,oe){void 0===oe&&(oe=null);for(var De=0,He=this.__entries__;De<He.length;De++){var Be=He[De];k.call(oe,Be[1],Be[0])}},A}()}(),Tt="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Fn="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Zt="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Fn):function(I){return setTimeout(function(){return I(Date.now())},1e3/60)},J=["top","right","bottom","left","width","height","size","weight"],Q="undefined"!=typeof MutationObserver,de=function(){function I(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(I,A){var k=!1,oe=!1,De=0;function He(){k&&(k=!1,I()),oe&&st()}function Be(){Zt(He)}function st(){var Qe=Date.now();if(k){if(Qe-De<2)return;oe=!0}else k=!0,oe=!1,setTimeout(Be,20);De=Qe}return st}(this.refresh.bind(this))}return I.prototype.addObserver=function(A){~this.observers_.indexOf(A)||this.observers_.push(A),this.connected_||this.connect_()},I.prototype.removeObserver=function(A){var k=this.observers_,oe=k.indexOf(A);~oe&&k.splice(oe,1),!k.length&&this.connected_&&this.disconnect_()},I.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},I.prototype.updateObservers_=function(){var A=this.observers_.filter(function(k){return k.gatherActive(),k.hasActive()});return A.forEach(function(k){return k.broadcastActive()}),A.length>0},I.prototype.connect_=function(){!Tt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Q?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},I.prototype.disconnect_=function(){!Tt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},I.prototype.onTransitionEnd_=function(A){var k=A.propertyName,oe=void 0===k?"":k;J.some(function(He){return!!~oe.indexOf(He)})&&this.refresh()},I.getInstance=function(){return this.instance_||(this.instance_=new I),this.instance_},I.instance_=null,I}(),Ce=function(I,A){for(var k=0,oe=Object.keys(A);k<oe.length;k++){var De=oe[k];Object.defineProperty(I,De,{value:A[De],enumerable:!1,writable:!1,configurable:!0})}return I},fe=function(I){return I&&I.ownerDocument&&I.ownerDocument.defaultView||Fn},tt=Wr(0,0,0,0);function yt(I){return parseFloat(I)||0}function Et(I){for(var A=[],k=1;k<arguments.length;k++)A[k-1]=arguments[k];return A.reduce(function(oe,De){return oe+yt(I["border-"+De+"-width"])},0)}var An="undefined"!=typeof SVGGraphicsElement?function(I){return I instanceof fe(I).SVGGraphicsElement}:function(I){return I instanceof fe(I).SVGElement&&"function"==typeof I.getBBox};function mr(I){return Tt?An(I)?function(I){var A=I.getBBox();return Wr(0,0,A.width,A.height)}(I):function(I){var A=I.clientWidth,k=I.clientHeight;if(!A&&!k)return tt;var oe=fe(I).getComputedStyle(I),De=function(I){for(var k={},oe=0,De=["top","right","bottom","left"];oe<De.length;oe++){var He=De[oe];k[He]=yt(I["padding-"+He])}return k}(oe),He=De.left+De.right,Be=De.top+De.bottom,st=yt(oe.width),Qe=yt(oe.height);if("border-box"===oe.boxSizing&&(Math.round(st+He)!==A&&(st-=Et(oe,"left","right")+He),Math.round(Qe+Be)!==k&&(Qe-=Et(oe,"top","bottom")+Be)),!function(I){return I===fe(I).document.documentElement}(I)){var qe=Math.round(st+He)-A,Xe=Math.round(Qe+Be)-k;1!==Math.abs(qe)&&(st-=qe),1!==Math.abs(Xe)&&(Qe-=Xe)}return Wr(De.left,De.top,st,Qe)}(I):tt}function Wr(I,A,k,oe){return{x:I,y:A,width:k,height:oe}}var Nr=function(){function I(A){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Wr(0,0,0,0),this.target=A}return I.prototype.isActive=function(){var A=mr(this.target);return this.contentRect_=A,A.width!==this.broadcastWidth||A.height!==this.broadcastHeight},I.prototype.broadcastRect=function(){var A=this.contentRect_;return this.broadcastWidth=A.width,this.broadcastHeight=A.height,A},I}(),Jr=function(A,k){var oe=function(I){var A=I.x,k=I.y,oe=I.width,De=I.height,He="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,Be=Object.create(He.prototype);return Ce(Be,{x:A,y:k,width:oe,height:De,top:k,right:A+oe,bottom:De+k,left:A}),Be}(k);Ce(this,{target:A,contentRect:oe})},$r=function(){function I(A,k,oe){if(this.activeObservations_=[],this.observations_=new br,"function"!=typeof A)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=A,this.controller_=k,this.callbackCtx_=oe}return I.prototype.observe=function(A){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(A instanceof fe(A).Element))throw new TypeError('parameter 1 is not of type "Element".');var k=this.observations_;k.has(A)||(k.set(A,new Nr(A)),this.controller_.addObserver(this),this.controller_.refresh())}},I.prototype.unobserve=function(A){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(A instanceof fe(A).Element))throw new TypeError('parameter 1 is not of type "Element".');var k=this.observations_;!k.has(A)||(k.delete(A),k.size||this.controller_.removeObserver(this))}},I.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},I.prototype.gatherActive=function(){var A=this;this.clearActive(),this.observations_.forEach(function(k){k.isActive()&&A.activeObservations_.push(k)})},I.prototype.broadcastActive=function(){if(this.hasActive()){var A=this.callbackCtx_,k=this.activeObservations_.map(function(oe){return new Jr(oe.target,oe.broadcastRect())});this.callback_.call(A,k,A),this.clearActive()}},I.prototype.clearActive=function(){this.activeObservations_.splice(0)},I.prototype.hasActive=function(){return this.activeObservations_.length>0},I}(),mn="undefined"!=typeof WeakMap?new WeakMap:new br,mt=function I(A){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var k=de.getInstance(),oe=new $r(A,k,this);mn.set(this,oe)};["observe","unobserve","disconnect"].forEach(function(I){mt.prototype[I]=function(){var A;return(A=mn.get(this))[I].apply(A,arguments)}});const $n=void 0!==Fn.ResizeObserver?Fn.ResizeObserver:mt;function rr(I,A){if(1&I&&(X.TgZ(0,"div",3),X._UZ(1,"div",4),X._UZ(2,"div",5),X._UZ(3,"div",6),X._UZ(4,"div",7),X.qZA()),2&I){const k=X.oxw();X.ekj("ps-at-top",k.states.top)("ps-at-left",k.states.left)("ps-at-right",k.states.right)("ps-at-bottom",k.states.bottom),X.xp6(1),X.ekj("ps-indicator-show",k.indicatorY&&k.interaction),X.xp6(1),X.ekj("ps-indicator-show",k.indicatorX&&k.interaction),X.xp6(1),X.ekj("ps-indicator-show",k.indicatorX&&k.interaction),X.xp6(1),X.ekj("ps-indicator-show",k.indicatorY&&k.interaction)}}const On=["*"],ot=new X.OlP("PERFECT_SCROLLBAR_CONFIG");class jt{constructor(A,k,oe,De){this.x=A,this.y=k,this.w=oe,this.h=De}}class sn{constructor(A,k){this.x=A,this.y=k}}const Tn=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class tr{constructor(A={}){this.assign(A)}assign(A={}){for(const k in A)this[k]=A[k]}}let bn=(()=>{class I{constructor(k,oe,De,He,Be){this.zone=k,this.differs=oe,this.elementRef=De,this.platformId=He,this.defaults=Be,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new ne.xQ,this.disabled=!1,this.psScrollY=new X.vpe,this.psScrollX=new X.vpe,this.psScrollUp=new X.vpe,this.psScrollDown=new X.vpe,this.psScrollLeft=new X.vpe,this.psScrollRight=new X.vpe,this.psYReachEnd=new X.vpe,this.psYReachStart=new X.vpe,this.psXReachEnd=new X.vpe,this.psXReachStart=new X.vpe}ngOnInit(){if(!this.disabled&&(0,ce.NF)(this.platformId)){const k=new tr(this.defaults);k.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new At(this.elementRef.nativeElement,k)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new $n(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{Tn.forEach(oe=>{const De=oe.replace(/([A-Z])/g,He=>`-${He.toLowerCase()}`);j(this.elementRef.nativeElement,De).pipe(function(I,A=te.P){return function(I){return function(k){return k.lift(new Me(I))}}(()=>function(I=0,A,k){let oe=-1;return(0,Ne.k)(A)?oe=Number(A)<1?1:Number(A):(0,Se.K)(A)&&(k=A),(0,Se.K)(k)||(k=te.P),new T.y(De=>{const He=(0,Ne.k)(I)?I:+I-k.now();return k.schedule(_t,He,{index:0,period:oe,subscriber:De})})}(I,A))}(20),(0,me.R)(this.ngDestroy)).subscribe(He=>{this[oe].emit(He)})})})}}ngOnDestroy(){(0,ce.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&"undefined"!=typeof window&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&(0,ce.NF)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(k){k.disabled&&!k.disabled.isFirstChange()&&(0,ce.NF)(this.platformId)&&k.disabled.currentValue!==k.disabled.previousValue&&(!0===k.disabled.currentValue?this.ngOnDestroy():!1===k.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){"undefined"!=typeof window&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch(k){}},0))}geometry(k="scroll"){return new jt(this.elementRef.nativeElement[k+"Left"],this.elementRef.nativeElement[k+"Top"],this.elementRef.nativeElement[k+"Width"],this.elementRef.nativeElement[k+"Height"])}position(k=!1){return!k&&this.instance?new sn(this.instance.reach.x||0,this.instance.reach.y||0):new sn(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(k="any"){const oe=this.elementRef.nativeElement;return"any"===k?oe.classList.contains("ps--active-x")||oe.classList.contains("ps--active-y"):"both"===k?oe.classList.contains("ps--active-x")&&oe.classList.contains("ps--active-y"):oe.classList.contains("ps--active-"+k)}scrollTo(k,oe,De){this.disabled||(null==oe&&null==De?this.animateScrolling("scrollTop",k,De):(null!=k&&this.animateScrolling("scrollLeft",k,De),null!=oe&&this.animateScrolling("scrollTop",oe,De)))}scrollToX(k,oe){this.animateScrolling("scrollLeft",k,oe)}scrollToY(k,oe){this.animateScrolling("scrollTop",k,oe)}scrollToTop(k,oe){this.animateScrolling("scrollTop",k||0,oe)}scrollToLeft(k,oe){this.animateScrolling("scrollLeft",k||0,oe)}scrollToRight(k,oe){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(k||0),oe)}scrollToBottom(k,oe){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(k||0),oe)}scrollToElement(k,oe,De){if("string"==typeof k&&(k=this.elementRef.nativeElement.querySelector(k)),k){const He=k.getBoundingClientRect(),Be=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",He.left-Be.left+this.elementRef.nativeElement.scrollLeft+(oe||0),De),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",He.top-Be.top+this.elementRef.nativeElement.scrollTop+(oe||0),De)}}animateScrolling(k,oe,De){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),De&&"undefined"!=typeof window){if(oe!==this.elementRef.nativeElement[k]){let He=0,Be=0,st=performance.now(),Qe=this.elementRef.nativeElement[k];const qe=(Qe-oe)/2,Xe=vt=>{Be+=Math.PI/(De/(vt-st)),He=Math.round(oe+qe+qe*Math.cos(Be)),this.elementRef.nativeElement[k]===Qe&&(Be>=Math.PI?this.animateScrolling(k,oe,0):(this.elementRef.nativeElement[k]=He,Qe=this.elementRef.nativeElement[k],st=vt,this.animation=window.requestAnimationFrame(Xe)))};window.requestAnimationFrame(Xe)}}else this.elementRef.nativeElement[k]=oe}}return I.\u0275fac=function(k){return new(k||I)(X.Y36(X.R0b),X.Y36(X.aQg),X.Y36(X.SBq),X.Y36(X.Lbi),X.Y36(ot,8))},I.\u0275dir=X.lG2({type:I,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[X.TTD]}),I})(),Zn=(()=>{class I{constructor(k,oe,De){this.zone=k,this.cdRef=oe,this.platformId=De,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new ne.xQ,this.stateUpdate=new ne.xQ,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new X.vpe,this.psScrollX=new X.vpe,this.psScrollUp=new X.vpe,this.psScrollDown=new X.vpe,this.psScrollLeft=new X.vpe,this.psScrollRight=new X.vpe,this.psYReachEnd=new X.vpe,this.psYReachStart=new X.vpe,this.psXReachEnd=new X.vpe,this.psXReachStart=new X.vpe}ngOnInit(){(0,ce.NF)(this.platformId)&&(this.stateUpdate.pipe((0,me.R)(this.ngDestroy),(0,ye.x)((k,oe)=>k===oe&&!this.stateTimeout)).subscribe(k=>{this.stateTimeout&&"undefined"!=typeof window&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===k||"y"===k?(this.interaction=!1,"x"===k?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===k&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===k||"right"===k?(this.states.left=!1,this.states.right=!1,this.states[k]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):("top"===k||"bottom"===k)&&(this.states.top=!1,this.states.bottom=!1,this.states[k]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&"undefined"!=typeof window&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const k=this.directiveRef.elementRef.nativeElement;j(k,"wheel").pipe((0,me.R)(this.ngDestroy)).subscribe(oe=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(oe,oe.deltaX,oe.deltaY)}),j(k,"touchmove").pipe((0,me.R)(this.ngDestroy)).subscribe(oe=>{if(!this.disabled&&this.autoPropagation){const De=oe.touches[0].clientX,He=oe.touches[0].clientY;this.checkPropagation(oe,De-this.scrollPositionX,He-this.scrollPositionY),this.scrollPositionX=De,this.scrollPositionY=He}}),(0,V.T)(j(k,"ps-scroll-x").pipe(Xt("x")),j(k,"ps-scroll-y").pipe(Xt("y")),j(k,"ps-x-reach-end").pipe(Xt("right")),j(k,"ps-y-reach-end").pipe(Xt("bottom")),j(k,"ps-x-reach-start").pipe(Xt("left")),j(k,"ps-y-reach-start").pipe(Xt("top"))).pipe((0,me.R)(this.ngDestroy)).subscribe(oe=>{!this.disabled&&(this.autoPropagation||this.scrollIndicators)&&this.stateUpdate.next(oe)})}}),window.setTimeout(()=>{Tn.forEach(k=>{this.directiveRef&&(this.directiveRef[k]=this[k])})},0))}ngOnDestroy(){(0,ce.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&"undefined"!=typeof window&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if((0,ce.NF)(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const k=this.directiveRef.elementRef.nativeElement;this.usePropagationX=k.classList.contains("ps--active-x"),this.usePropagationY=k.classList.contains("ps--active-y")}}checkPropagation(k,oe,De){this.interaction=!0;const He=oe<0?-1:1,Be=De<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==He)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==Be))&&(k.preventDefault(),k.stopPropagation()),oe&&(this.scrollDirectionX=He),De&&(this.scrollDirectionY=Be),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return I.\u0275fac=function(k){return new(k||I)(X.Y36(X.R0b),X.Y36(X.sBO),X.Y36(X.Lbi))},I.\u0275cmp=X.Xpm({type:I,selectors:[["perfect-scrollbar"]],viewQuery:function(k,oe){if(1&k&&X.Gf(bn,7),2&k){let De;X.iGM(De=X.CRH())&&(oe.directiveRef=De.first)}},hostVars:4,hostBindings:function(k,oe){2&k&&X.ekj("ps-show-limits",oe.autoPropagation)("ps-show-active",oe.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:On,decls:4,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(k,oe){1&k&&(X.F$t(),X.TgZ(0,"div",0),X.TgZ(1,"div",1),X.Hsn(2),X.qZA(),X.YNc(3,rr,5,16,"div",2),X.qZA()),2&k&&(X.ekj("ps",oe.usePSClass),X.Q6J("perfectScrollbar",oe.config)("disabled",oe.disabled),X.xp6(3),X.Q6J("ngIf",oe.scrollIndicators))},directives:[bn,ce.O5],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),I})(),vr=(()=>{class I{}return I.\u0275fac=function(k){return new(k||I)},I.\u0275mod=X.oAB({type:I}),I.\u0275inj=X.cJS({imports:[[ce.ez],ce.ez]}),I})()},7574:(at,we,M)=>{"use strict";M.d(we,{y:()=>ne});var T=M(7393),S=M(9181),ee=M(6490),j=M(6554),le=M(4487);var H=M(2494);let ne=(()=>{class te{constructor(ge){this._isScalar=!1,ge&&(this._subscribe=ge)}lift(ge){const Me=new te;return Me.source=this,Me.operator=ge,Me}subscribe(ge,Me,it){const{operator:Ne}=this,Se=function(te,be,ge){if(te){if(te instanceof T.L)return te;if(te[S.b])return te[S.b]()}return te||be||ge?new T.L(te,be,ge):new T.L(ee.c)}(ge,Me,it);if(Se.add(Ne?Ne.call(Se,this.source):this.source||H.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),H.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(ge){try{return this._subscribe(ge)}catch(Me){H.v.useDeprecatedSynchronousErrorHandling&&(ge.syncErrorThrown=!0,ge.syncErrorValue=Me),function(te){for(;te;){const{closed:be,destination:ge,isStopped:Me}=te;if(be||Me)return!1;te=ge&&ge instanceof T.L?ge:null}return!0}(ge)?ge.error(Me):console.warn(Me)}}forEach(ge,Me){return new(Me=V(Me))((it,Ne)=>{let Se;Se=this.subscribe(ze=>{try{ge(ze)}catch(_t){Ne(_t),Se&&Se.unsubscribe()}},Ne,it)})}_subscribe(ge){const{source:Me}=this;return Me&&Me.subscribe(ge)}[j.L](){return this}pipe(...ge){return 0===ge.length?this:function(te){return 0===te.length?le.y:1===te.length?te[0]:function(ge){return te.reduce((Me,it)=>it(Me),ge)}}(ge)(this)}toPromise(ge){return new(ge=V(ge))((Me,it)=>{let Ne;this.subscribe(Se=>Ne=Se,Se=>it(Se),()=>Me(Ne))})}}return te.create=be=>new te(be),te})();function V(te){if(te||(te=H.v.Promise||Promise),!te)throw new Error("no Promise impl found");return te}},6490:(at,we,M)=>{"use strict";M.d(we,{c:()=>S});var T=M(2494),R=M(4449);const S={closed:!0,next(ee){},error(ee){if(T.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,R.z)(ee)},complete(){}}},5197:(at,we,M)=>{"use strict";M.d(we,{L:()=>R});var T=M(7393);class R extends T.L{notifyNext(ee,ue,j,le,$){this.destination.next(ue)}notifyError(ee,ue){this.destination.error(ee)}notifyComplete(ee){this.destination.complete()}}},9765:(at,we,M)=>{"use strict";M.d(we,{Yc:()=>le,xQ:()=>$});var T=M(7574),R=M(7393),S=M(5319),ee=M(7971),ue=M(8858),j=M(9181);class le extends R.L{constructor(ne){super(ne),this.destination=ne}}let $=(()=>{class H extends T.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[j.b](){return new le(this)}lift(V){const te=new G(this,this);return te.operator=V,te}next(V){if(this.closed)throw new ee.N;if(!this.isStopped){const{observers:te}=this,be=te.length,ge=te.slice();for(let Me=0;Me<be;Me++)ge[Me].next(V)}}error(V){if(this.closed)throw new ee.N;this.hasError=!0,this.thrownError=V,this.isStopped=!0;const{observers:te}=this,be=te.length,ge=te.slice();for(let Me=0;Me<be;Me++)ge[Me].error(V);this.observers.length=0}complete(){if(this.closed)throw new ee.N;this.isStopped=!0;const{observers:V}=this,te=V.length,be=V.slice();for(let ge=0;ge<te;ge++)be[ge].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(V){if(this.closed)throw new ee.N;return super._trySubscribe(V)}_subscribe(V){if(this.closed)throw new ee.N;return this.hasError?(V.error(this.thrownError),S.w.EMPTY):this.isStopped?(V.complete(),S.w.EMPTY):(this.observers.push(V),new ue.W(this,V))}asObservable(){const V=new T.y;return V.source=this,V}}return H.create=(ne,V)=>new G(ne,V),H})();class G extends ${constructor(ne,V){super(),this.destination=ne,this.source=V}next(ne){const{destination:V}=this;V&&V.next&&V.next(ne)}error(ne){const{destination:V}=this;V&&V.error&&this.destination.error(ne)}complete(){const{destination:ne}=this;ne&&ne.complete&&this.destination.complete()}_subscribe(ne){const{source:V}=this;return V?this.source.subscribe(ne):S.w.EMPTY}}},8858:(at,we,M)=>{"use strict";M.d(we,{W:()=>R});var T=M(5319);class R extends T.w{constructor(ee,ue){super(),this.subject=ee,this.subscriber=ue,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ee=this.subject,ue=ee.observers;if(this.subject=null,!ue||0===ue.length||ee.isStopped||ee.closed)return;const j=ue.indexOf(this.subscriber);-1!==j&&ue.splice(j,1)}}},7393:(at,we,M)=>{"use strict";M.d(we,{L:()=>le});var T=M(9105),R=M(6490),S=M(5319),ee=M(9181),ue=M(2494),j=M(4449);class le extends S.w{constructor(H,ne,V){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=R.c;break;case 1:if(!H){this.destination=R.c;break}if("object"==typeof H){H instanceof le?(this.syncErrorThrowable=H.syncErrorThrowable,this.destination=H,H.add(this)):(this.syncErrorThrowable=!0,this.destination=new $(this,H));break}default:this.syncErrorThrowable=!0,this.destination=new $(this,H,ne,V)}}[ee.b](){return this}static create(H,ne,V){const te=new le(H,ne,V);return te.syncErrorThrowable=!1,te}next(H){this.isStopped||this._next(H)}error(H){this.isStopped||(this.isStopped=!0,this._error(H))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(H){this.destination.next(H)}_error(H){this.destination.error(H),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:H}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=H,this}}class $ extends le{constructor(H,ne,V,te){super(),this._parentSubscriber=H;let be,ge=this;(0,T.m)(ne)?be=ne:ne&&(be=ne.next,V=ne.error,te=ne.complete,ne!==R.c&&(ge=Object.create(ne),(0,T.m)(ge.unsubscribe)&&this.add(ge.unsubscribe.bind(ge)),ge.unsubscribe=this.unsubscribe.bind(this))),this._context=ge,this._next=be,this._error=V,this._complete=te}next(H){if(!this.isStopped&&this._next){const{_parentSubscriber:ne}=this;ue.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?this.__tryOrSetError(ne,this._next,H)&&this.unsubscribe():this.__tryOrUnsub(this._next,H)}}error(H){if(!this.isStopped){const{_parentSubscriber:ne}=this,{useDeprecatedSynchronousErrorHandling:V}=ue.v;if(this._error)V&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,this._error,H),this.unsubscribe()):(this.__tryOrUnsub(this._error,H),this.unsubscribe());else if(ne.syncErrorThrowable)V?(ne.syncErrorValue=H,ne.syncErrorThrown=!0):(0,j.z)(H),this.unsubscribe();else{if(this.unsubscribe(),V)throw H;(0,j.z)(H)}}}complete(){if(!this.isStopped){const{_parentSubscriber:H}=this;if(this._complete){const ne=()=>this._complete.call(this._context);ue.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?(this.__tryOrSetError(H,ne),this.unsubscribe()):(this.__tryOrUnsub(ne),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(H,ne){try{H.call(this._context,ne)}catch(V){if(this.unsubscribe(),ue.v.useDeprecatedSynchronousErrorHandling)throw V;(0,j.z)(V)}}__tryOrSetError(H,ne,V){if(!ue.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ne.call(this._context,V)}catch(te){return ue.v.useDeprecatedSynchronousErrorHandling?(H.syncErrorValue=te,H.syncErrorThrown=!0,!0):((0,j.z)(te),!0)}return!1}_unsubscribe(){const{_parentSubscriber:H}=this;this._context=null,this._parentSubscriber=null,H.unsubscribe()}}},5319:(at,we,M)=>{"use strict";M.d(we,{w:()=>j});var T=M(9796),R=M(1555),S=M(9105);const ue=(()=>{function $(G){return Error.call(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((H,ne)=>`${ne+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G,this}return $.prototype=Object.create(Error.prototype),$})();class j{constructor(G){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,G&&(this._ctorUnsubscribe=!0,this._unsubscribe=G)}unsubscribe(){let G;if(this.closed)return;let{_parentOrParents:H,_ctorUnsubscribe:ne,_unsubscribe:V,_subscriptions:te}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,H instanceof j)H.remove(this);else if(null!==H)for(let be=0;be<H.length;++be)H[be].remove(this);if((0,S.m)(V)){ne&&(this._unsubscribe=void 0);try{V.call(this)}catch(be){G=be instanceof ue?le(be.errors):[be]}}if((0,T.k)(te)){let be=-1,ge=te.length;for(;++be<ge;){const Me=te[be];if((0,R.K)(Me))try{Me.unsubscribe()}catch(it){G=G||[],it instanceof ue?G=G.concat(le(it.errors)):G.push(it)}}}if(G)throw new ue(G)}add(G){let H=G;if(!G)return j.EMPTY;switch(typeof G){case"function":H=new j(G);case"object":if(H===this||H.closed||"function"!=typeof H.unsubscribe)return H;if(this.closed)return H.unsubscribe(),H;if(!(H instanceof j)){const te=H;H=new j,H._subscriptions=[te]}break;default:throw new Error("unrecognized teardown "+G+" added to Subscription.")}let{_parentOrParents:ne}=H;if(null===ne)H._parentOrParents=this;else if(ne instanceof j){if(ne===this)return H;H._parentOrParents=[ne,this]}else{if(-1!==ne.indexOf(this))return H;ne.push(this)}const V=this._subscriptions;return null===V?this._subscriptions=[H]:V.push(H),H}remove(G){const H=this._subscriptions;if(H){const ne=H.indexOf(G);-1!==ne&&H.splice(ne,1)}}}var $;function le($){return $.reduce((G,H)=>G.concat(H instanceof ue?H.errors:H),[])}j.EMPTY=(($=new j).closed=!0,$)},2494:(at,we,M)=>{"use strict";M.d(we,{v:()=>R});let T=!1;const R={Promise:void 0,set useDeprecatedSynchronousErrorHandling(S){if(S){const ee=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ee.stack)}else T&&console.log("RxJS: Back to a better error behavior. Thank you. <3");T=S},get useDeprecatedSynchronousErrorHandling(){return T}}},5345:(at,we,M)=>{"use strict";M.d(we,{IY:()=>ee,Ds:()=>j,ft:()=>$});var T=M(7393),R=M(7574),S=M(7444);class ee extends T.L{constructor(H){super(),this.parent=H}_next(H){this.parent.notifyNext(H)}_error(H){this.parent.notifyError(H),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class j extends T.L{notifyNext(H){this.destination.next(H)}notifyError(H){this.destination.error(H)}notifyComplete(){this.destination.complete()}}function $(G,H){if(H.closed)return;if(G instanceof R.y)return G.subscribe(H);let ne;try{ne=(0,S.s)(G)(H)}catch(V){H.error(V)}return ne}},2441:(at,we,M)=>{"use strict";M.d(we,{c:()=>ue,N:()=>j});var T=M(9765),R=M(7574),S=M(5319),ee=M(1307);class ue extends R.y{constructor(ne,V){super(),this.source=ne,this.subjectFactory=V,this._refCount=0,this._isComplete=!1}_subscribe(ne){return this.getSubject().subscribe(ne)}getSubject(){const ne=this._subject;return(!ne||ne.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ne=this._connection;return ne||(this._isComplete=!1,ne=this._connection=new S.w,ne.add(this.source.subscribe(new le(this.getSubject(),this))),ne.closed&&(this._connection=null,ne=S.w.EMPTY)),ne}refCount(){return(0,ee.x)()(this)}}const j=(()=>{const H=ue.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:H._subscribe},_isComplete:{value:H._isComplete,writable:!0},getSubject:{value:H.getSubject},connect:{value:H.connect},refCount:{value:H.refCount}}})();class le extends T.Yc{constructor(ne,V){super(ne),this.connectable=V}_error(ne){this._unsubscribe(),super._error(ne)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ne=this.connectable;if(ne){this.connectable=null;const V=ne._connection;ne._refCount=0,ne._subject=null,ne._connection=null,V&&V.unsubscribe()}}}},9193:(at,we,M)=>{"use strict";M.d(we,{E:()=>R,c:()=>S});var T=M(7574);const R=new T.y(ue=>ue.complete());function S(ue){return ue?function(ue){return new T.y(j=>ue.schedule(()=>j.complete()))}(ue):R}},4402:(at,we,M)=>{"use strict";M.d(we,{D:()=>ge});var T=M(7574),R=M(7444),S=M(5319),ee=M(6554),le=M(4087),$=M(377),ne=M(4072),V=M(9489);function ge(Me,it){return it?function(Me,it){if(null!=Me){if(function(Me){return Me&&"function"==typeof Me[ee.L]}(Me))return function(Me,it){return new T.y(Ne=>{const Se=new S.w;return Se.add(it.schedule(()=>{const ze=Me[ee.L]();Se.add(ze.subscribe({next(_t){Se.add(it.schedule(()=>Ne.next(_t)))},error(_t){Se.add(it.schedule(()=>Ne.error(_t)))},complete(){Se.add(it.schedule(()=>Ne.complete()))}}))})),Se})}(Me,it);if((0,ne.t)(Me))return function(Me,it){return new T.y(Ne=>{const Se=new S.w;return Se.add(it.schedule(()=>Me.then(ze=>{Se.add(it.schedule(()=>{Ne.next(ze),Se.add(it.schedule(()=>Ne.complete()))}))},ze=>{Se.add(it.schedule(()=>Ne.error(ze)))}))),Se})}(Me,it);if((0,V.z)(Me))return(0,le.r)(Me,it);if(function(Me){return Me&&"function"==typeof Me[$.hZ]}(Me)||"string"==typeof Me)return function(Me,it){if(!Me)throw new Error("Iterable cannot be null");return new T.y(Ne=>{const Se=new S.w;let ze;return Se.add(()=>{ze&&"function"==typeof ze.return&&ze.return()}),Se.add(it.schedule(()=>{ze=Me[$.hZ](),Se.add(it.schedule(function(){if(Ne.closed)return;let _t,ct;try{const Wt=ze.next();_t=Wt.value,ct=Wt.done}catch(Wt){return void Ne.error(Wt)}ct?Ne.complete():(Ne.next(_t),this.schedule())}))})),Se})}(Me,it)}throw new TypeError((null!==Me&&typeof Me||Me)+" is not observable")}(Me,it):Me instanceof T.y?Me:new T.y((0,R.s)(Me))}},6693:(at,we,M)=>{"use strict";M.d(we,{n:()=>ee});var T=M(7574),R=M(5015),S=M(4087);function ee(ue,j){return j?(0,S.r)(ue,j):new T.y((0,R.V)(ue))}},6682:(at,we,M)=>{"use strict";M.d(we,{T:()=>ue});var T=M(7574),R=M(4869),S=M(3282),ee=M(6693);function ue(...j){let le=Number.POSITIVE_INFINITY,$=null,G=j[j.length-1];return(0,R.K)(G)?($=j.pop(),j.length>1&&"number"==typeof j[j.length-1]&&(le=j.pop())):"number"==typeof G&&(le=j.pop()),null===$&&1===j.length&&j[0]instanceof T.y?j[0]:(0,S.J)(le)((0,ee.n)(j,$))}},5917:(at,we,M)=>{"use strict";M.d(we,{of:()=>ee});var T=M(4869),R=M(6693),S=M(4087);function ee(...ue){let j=ue[ue.length-1];return(0,T.K)(j)?(ue.pop(),(0,S.r)(ue,j)):(0,R.n)(ue)}},205:(at,we,M)=>{"use strict";M.d(we,{_:()=>R});var T=M(7574);function R(ee,ue){return new T.y(ue?j=>ue.schedule(S,0,{error:ee,subscriber:j}):j=>j.error(ee))}function S({error:ee,subscriber:ue}){ue.error(ee)}},5304:(at,we,M)=>{"use strict";M.d(we,{K:()=>R});var T=M(5345);function R(ue){return function(le){const $=new S(ue),G=le.lift($);return $.caught=G}}class S{constructor(j){this.selector=j}call(j,le){return le.subscribe(new ee(j,this.selector,this.caught))}}class ee extends T.Ds{constructor(j,le,$){super(j),this.selector=le,this.caught=$}error(j){if(!this.isStopped){let le;try{le=this.selector(j,this.caught)}catch(H){return void super.error(H)}this._unsubscribeAndRecycle();const $=new T.IY(this);this.add($);const G=(0,T.ft)(le,$);G!==$&&this.add(G)}}}},4612:(at,we,M)=>{"use strict";M.d(we,{b:()=>R});var T=M(9773);function R(S,ee){return(0,T.zg)(S,ee,1)}},5242:(at,we,M)=>{"use strict";M.d(we,{d:()=>R});var T=M(7393);function R(ue=null){return j=>j.lift(new S(ue))}class S{constructor(j){this.defaultValue=j}call(j,le){return le.subscribe(new ee(j,this.defaultValue))}}class ee extends T.L{constructor(j,le){super(j),this.defaultValue=le,this.isEmpty=!0}_next(j){this.isEmpty=!1,this.destination.next(j)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(at,we,M)=>{"use strict";M.d(we,{x:()=>R});var T=M(7393);function R(ue,j){return le=>le.lift(new S(ue,j))}class S{constructor(j,le){this.compare=j,this.keySelector=le}call(j,le){return le.subscribe(new ee(j,this.compare,this.keySelector))}}class ee extends T.L{constructor(j,le,$){super(j),this.keySelector=$,this.hasKey=!1,"function"==typeof le&&(this.compare=le)}compare(j,le){return j===le}_next(j){let le;try{const{keySelector:G}=this;le=G?G(j):j}catch(G){return this.destination.error(G)}let $=!1;if(this.hasKey)try{const{compare:G}=this;$=G(this.key,le)}catch(G){return this.destination.error(G)}else this.hasKey=!0;$||(this.key=le,this.destination.next(j))}}},5435:(at,we,M)=>{"use strict";M.d(we,{h:()=>R});var T=M(7393);function R(ue,j){return function($){return $.lift(new S(ue,j))}}class S{constructor(j,le){this.predicate=j,this.thisArg=le}call(j,le){return le.subscribe(new ee(j,this.predicate,this.thisArg))}}class ee extends T.L{constructor(j,le,$){super(j),this.predicate=le,this.thisArg=$,this.count=0}_next(j){let le;try{le=this.predicate.call(this.thisArg,j,this.count++)}catch($){return void this.destination.error($)}le&&this.destination.next(j)}}},8049:(at,we,M)=>{"use strict";M.d(we,{P:()=>le});var T=M(3410),R=M(5435),S=M(5257),ee=M(5242),ue=M(4635),j=M(4487);function le($,G){const H=arguments.length>=2;return ne=>ne.pipe($?(0,R.h)((V,te)=>$(V,te,ne)):j.y,(0,S.q)(1),H?(0,ee.d)(G):(0,ue.T)(()=>new T.K))}},8002:(at,we,M)=>{"use strict";M.d(we,{U:()=>R});var T=M(7393);function R(ue,j){return function($){if("function"!=typeof ue)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return $.lift(new S(ue,j))}}class S{constructor(j,le){this.project=j,this.thisArg=le}call(j,le){return le.subscribe(new ee(j,this.project,this.thisArg))}}class ee extends T.L{constructor(j,le,$){super(j),this.project=le,this.count=0,this.thisArg=$||this}_next(j){let le;try{le=this.project.call(this.thisArg,j,this.count++)}catch($){return void this.destination.error($)}this.destination.next(le)}}},3282:(at,we,M)=>{"use strict";M.d(we,{J:()=>S});var T=M(9773),R=M(4487);function S(ee=Number.POSITIVE_INFINITY){return(0,T.zg)(R.y,ee)}},9773:(at,we,M)=>{"use strict";M.d(we,{zg:()=>ee});var T=M(8002),R=M(4402),S=M(5345);function ee($,G,H=Number.POSITIVE_INFINITY){return"function"==typeof G?ne=>ne.pipe(ee((V,te)=>(0,R.D)($(V,te)).pipe((0,T.U)((be,ge)=>G(V,be,te,ge))),H)):("number"==typeof G&&(H=G),ne=>ne.lift(new ue($,H)))}class ue{constructor(G,H=Number.POSITIVE_INFINITY){this.project=G,this.concurrent=H}call(G,H){return H.subscribe(new j(G,this.project,this.concurrent))}}class j extends S.Ds{constructor(G,H,ne=Number.POSITIVE_INFINITY){super(G),this.project=H,this.concurrent=ne,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(G){this.active<this.concurrent?this._tryNext(G):this.buffer.push(G)}_tryNext(G){let H;const ne=this.index++;try{H=this.project(G,ne)}catch(V){return void this.destination.error(V)}this.active++,this._innerSub(H)}_innerSub(G){const H=new S.IY(this),ne=this.destination;ne.add(H);const V=(0,S.ft)(G,H);V!==H&&ne.add(V)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(G){this.destination.next(G)}notifyComplete(){const G=this.buffer;this.active--,G.length>0?this._next(G.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(at,we,M)=>{"use strict";M.d(we,{ht:()=>G,QV:()=>le});var T=M(7393),R=M(9193),S=M(5917),ee=M(205);class j{constructor(V,te,be){this.kind=V,this.value=te,this.error=be,this.hasValue="N"===V}observe(V){switch(this.kind){case"N":return V.next&&V.next(this.value);case"E":return V.error&&V.error(this.error);case"C":return V.complete&&V.complete()}}do(V,te,be){switch(this.kind){case"N":return V&&V(this.value);case"E":return te&&te(this.error);case"C":return be&&be()}}accept(V,te,be){return V&&"function"==typeof V.next?this.observe(V):this.do(V,te,be)}toObservable(){switch(this.kind){case"N":return(0,S.of)(this.value);case"E":return(0,ee._)(this.error);case"C":return(0,R.c)()}throw new Error("unexpected notification kind value")}static createNext(V){return void 0!==V?new j("N",V):j.undefinedValueNotification}static createError(V){return new j("E",void 0,V)}static createComplete(){return j.completeNotification}}function le(ne,V=0){return function(be){return be.lift(new $(ne,V))}}j.completeNotification=new j("C"),j.undefinedValueNotification=new j("N",void 0);class ${constructor(V,te=0){this.scheduler=V,this.delay=te}call(V,te){return te.subscribe(new G(V,this.scheduler,this.delay))}}class G extends T.L{constructor(V,te,be=0){super(V),this.scheduler=te,this.delay=be}static dispatch(V){const{notification:te,destination:be}=V;te.observe(be),this.unsubscribe()}scheduleMessage(V){this.destination.add(this.scheduler.schedule(G.dispatch,this.delay,new H(V,this.destination)))}_next(V){this.scheduleMessage(j.createNext(V))}_error(V){this.scheduleMessage(j.createError(V)),this.unsubscribe()}_complete(){this.scheduleMessage(j.createComplete()),this.unsubscribe()}}class H{constructor(V,te){this.notification=V,this.destination=te}}},1307:(at,we,M)=>{"use strict";M.d(we,{x:()=>R});var T=M(7393);function R(){return function(j){return j.lift(new S(j))}}class S{constructor(j){this.connectable=j}call(j,le){const{connectable:$}=this;$._refCount++;const G=new ee(j,$),H=le.subscribe(G);return G.closed||(G.connection=$.connect()),H}}class ee extends T.L{constructor(j,le){super(j),this.connectable=le}_unsubscribe(){const{connectable:j}=this;if(!j)return void(this.connection=null);this.connectable=null;const le=j._refCount;if(le<=0)return void(this.connection=null);if(j._refCount=le-1,le>1)return void(this.connection=null);const{connection:$}=this,G=j._connection;this.connection=null,G&&(!$||G===$)&&G.unsubscribe()}}},2145:(at,we,M)=>{"use strict";M.d(we,{R:()=>R});var T=M(7393);function R(ue,j){let le=!1;return arguments.length>=2&&(le=!0),function(G){return G.lift(new S(ue,j,le))}}class S{constructor(j,le,$=!1){this.accumulator=j,this.seed=le,this.hasSeed=$}call(j,le){return le.subscribe(new ee(j,this.accumulator,this.seed,this.hasSeed))}}class ee extends T.L{constructor(j,le,$,G){super(j),this.accumulator=le,this._seed=$,this.hasSeed=G,this.index=0}get seed(){return this._seed}set seed(j){this.hasSeed=!0,this._seed=j}_next(j){if(this.hasSeed)return this._tryNext(j);this.seed=j,this.destination.next(j)}_tryNext(j){const le=this.index++;let $;try{$=this.accumulator(this.seed,j,le)}catch(G){this.destination.error(G)}this.seed=$,this.destination.next($)}}},8819:(at,we,M)=>{"use strict";M.d(we,{B:()=>le});var T=M(2441);var ee=M(1307),ue=M(9765);function j(){return new ue.xQ}function le(){return $=>(0,ee.x)()(function($,G){return function(ne){let V;V="function"==typeof $?$:function(){return $};const te=Object.create(ne,T.N);return te.source=ne,te.subjectFactory=V,te}}(j)($))}},2639:(at,we,M)=>{"use strict";M.d(we,{R:()=>Me});var T=M(7574);let R=1;const S=Promise.resolve(),ee={};function ue(Ne){return Ne in ee&&(delete ee[Ne],!0)}const j={setImmediate(Ne){const Se=R++;return ee[Se]=!0,S.then(()=>ue(Se)&&Ne()),Se},clearImmediate(Ne){ue(Ne)}};var $=M(6465),H=M(6102);const te=new class extends H.v{flush(Se){this.active=!0,this.scheduled=void 0;const{actions:ze}=this;let _t,ct=-1,Wt=ze.length;Se=Se||ze.shift();do{if(_t=Se.execute(Se.state,Se.delay))break}while(++ct<Wt&&(Se=ze.shift()));if(this.active=!1,_t){for(;++ct<Wt&&(Se=ze.shift());)Se.unsubscribe();throw _t}}}(class extends $.o{constructor(Se,ze){super(Se,ze),this.scheduler=Se,this.work=ze}requestAsyncId(Se,ze,_t=0){return null!==_t&&_t>0?super.requestAsyncId(Se,ze,_t):(Se.actions.push(this),Se.scheduled||(Se.scheduled=j.setImmediate(Se.flush.bind(Se,null))))}recycleAsyncId(Se,ze,_t=0){if(null!==_t&&_t>0||null===_t&&this.delay>0)return super.recycleAsyncId(Se,ze,_t);0===Se.actions.length&&(j.clearImmediate(ze),Se.scheduled=void 0)}});var be=M(6561);class ge extends T.y{constructor(Se,ze=0,_t=te){super(),this.source=Se,this.delayTime=ze,this.scheduler=_t,(!(0,be.k)(ze)||ze<0)&&(this.delayTime=0),(!_t||"function"!=typeof _t.schedule)&&(this.scheduler=te)}static create(Se,ze=0,_t=te){return new ge(Se,ze,_t)}static dispatch(Se){const{source:ze,subscriber:_t}=Se;return this.add(ze.subscribe(_t))}_subscribe(Se){return this.scheduler.schedule(ge.dispatch,this.delayTime,{source:this.source,subscriber:Se})}}function Me(Ne,Se=0){return function(_t){return _t.lift(new it(Ne,Se))}}class it{constructor(Se,ze){this.scheduler=Se,this.delay=ze}call(Se,ze){return new ge(ze,this.delay,this.scheduler).subscribe(Se)}}},3190:(at,we,M)=>{"use strict";M.d(we,{w:()=>ee});var T=M(8002),R=M(4402),S=M(5345);function ee(le,$){return"function"==typeof $?G=>G.pipe(ee((H,ne)=>(0,R.D)(le(H,ne)).pipe((0,T.U)((V,te)=>$(H,V,ne,te))))):G=>G.lift(new ue(le))}class ue{constructor($){this.project=$}call($,G){return G.subscribe(new j($,this.project))}}class j extends S.Ds{constructor($,G){super($),this.project=G,this.index=0}_next($){let G;const H=this.index++;try{G=this.project($,H)}catch(ne){return void this.destination.error(ne)}this._innerSub(G)}_innerSub($){const G=this.innerSubscription;G&&G.unsubscribe();const H=new S.IY(this),ne=this.destination;ne.add(H),this.innerSubscription=(0,S.ft)($,H),this.innerSubscription!==H&&ne.add(this.innerSubscription)}_complete(){const{innerSubscription:$}=this;(!$||$.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext($){this.destination.next($)}}},5257:(at,we,M)=>{"use strict";M.d(we,{q:()=>ee});var T=M(7393),R=M(7108),S=M(9193);function ee(le){return $=>0===le?(0,S.c)():$.lift(new ue(le))}class ue{constructor($){if(this.total=$,this.total<0)throw new R.W}call($,G){return G.subscribe(new j($,this.total))}}class j extends T.L{constructor($,G){super($),this.total=G,this.count=0}_next($){const G=this.total,H=++this.count;H<=G&&(this.destination.next($),H===G&&(this.destination.complete(),this.unsubscribe()))}}},6782:(at,we,M)=>{"use strict";M.d(we,{R:()=>R});var T=M(5345);function R(ue){return j=>j.lift(new S(ue))}class S{constructor(j){this.notifier=j}call(j,le){const $=new ee(j),G=(0,T.ft)(this.notifier,new T.IY($));return G&&!$.seenValue?($.add(G),le.subscribe($)):$}}class ee extends T.Ds{constructor(j){super(j),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:(at,we,M)=>{"use strict";M.d(we,{b:()=>ee});var T=M(7393);function R(){}var S=M(9105);function ee(le,$,G){return function(ne){return ne.lift(new ue(le,$,G))}}class ue{constructor($,G,H){this.nextOrObserver=$,this.error=G,this.complete=H}call($,G){return G.subscribe(new j($,this.nextOrObserver,this.error,this.complete))}}class j extends T.L{constructor($,G,H,ne){super($),this._tapNext=R,this._tapError=R,this._tapComplete=R,this._tapError=H||R,this._tapComplete=ne||R,(0,S.m)(G)?(this._context=this,this._tapNext=G):G&&(this._context=G,this._tapNext=G.next||R,this._tapError=G.error||R,this._tapComplete=G.complete||R)}_next($){try{this._tapNext.call(this._context,$)}catch(G){return void this.destination.error(G)}this.destination.next($)}_error($){try{this._tapError.call(this._context,$)}catch(G){return void this.destination.error(G)}this.destination.error($)}_complete(){try{this._tapComplete.call(this._context)}catch($){return void this.destination.error($)}return this.destination.complete()}}},4635:(at,we,M)=>{"use strict";M.d(we,{T:()=>S});var T=M(3410),R=M(7393);function S(le=j){return $=>$.lift(new ee(le))}class ee{constructor($){this.errorFactory=$}call($,G){return G.subscribe(new ue($,this.errorFactory))}}class ue extends R.L{constructor($,G){super($),this.errorFactory=G,this.hasValue=!1}_next($){this.hasValue=!0,this.destination.next($)}_complete(){if(this.hasValue)return this.destination.complete();{let $;try{$=this.errorFactory()}catch(G){$=G}this.destination.error($)}}}function j(){return new T.K}},4087:(at,we,M)=>{"use strict";M.d(we,{r:()=>S});var T=M(7574),R=M(5319);function S(ee,ue){return new T.y(j=>{const le=new R.w;let $=0;return le.add(ue.schedule(function(){$!==ee.length?(j.next(ee[$++]),j.closed||le.add(this.schedule())):j.complete()})),le})}},6465:(at,we,M)=>{"use strict";M.d(we,{o:()=>S});var T=M(5319);class R extends T.w{constructor(ue,j){super()}schedule(ue,j=0){return this}}class S extends R{constructor(ue,j){super(ue,j),this.scheduler=ue,this.work=j,this.pending=!1}schedule(ue,j=0){if(this.closed)return this;this.state=ue;const le=this.id,$=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId($,le,j)),this.pending=!0,this.delay=j,this.id=this.id||this.requestAsyncId($,this.id,j),this}requestAsyncId(ue,j,le=0){return setInterval(ue.flush.bind(ue,this),le)}recycleAsyncId(ue,j,le=0){if(null!==le&&this.delay===le&&!1===this.pending)return j;clearInterval(j)}execute(ue,j){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ue,j);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,j){let $,le=!1;try{this.work(ue)}catch(G){le=!0,$=!!G&&G||new Error(G)}if(le)return this.unsubscribe(),$}_unsubscribe(){const ue=this.id,j=this.scheduler,le=j.actions,$=le.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==$&&le.splice($,1),null!=ue&&(this.id=this.recycleAsyncId(j,ue,null)),this.delay=null}}},6102:(at,we,M)=>{"use strict";M.d(we,{v:()=>R});let T=(()=>{class S{constructor(ue,j=S.now){this.SchedulerAction=ue,this.now=j}schedule(ue,j=0,le){return new this.SchedulerAction(this,ue).schedule(le,j)}}return S.now=()=>Date.now(),S})();class R extends T{constructor(ee,ue=T.now){super(ee,()=>R.delegate&&R.delegate!==this?R.delegate.now():ue()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ee,ue=0,j){return R.delegate&&R.delegate!==this?R.delegate.schedule(ee,ue,j):super.schedule(ee,ue,j)}flush(ee){const{actions:ue}=this;if(this.active)return void ue.push(ee);let j;this.active=!0;do{if(j=ee.execute(ee.state,ee.delay))break}while(ee=ue.shift());if(this.active=!1,j){for(;ee=ue.shift();)ee.unsubscribe();throw j}}}},3637:(at,we,M)=>{"use strict";M.d(we,{z:()=>S,P:()=>ee});var T=M(6465);const S=new(M(6102).v)(T.o),ee=S},7771:(at,we,M)=>{"use strict";M.d(we,{c:()=>j,N:()=>ue});var T=M(6465),S=M(6102);const ue=new class extends S.v{}(class extends T.o{constructor($,G){super($,G),this.scheduler=$,this.work=G}schedule($,G=0){return G>0?super.schedule($,G):(this.delay=G,this.state=$,this.scheduler.flush(this),this)}execute($,G){return G>0||this.closed?super.execute($,G):this._execute($,G)}requestAsyncId($,G,H=0){return null!==H&&H>0||null===H&&this.delay>0?super.requestAsyncId($,G,H):$.flush(this)}}),j=ue},377:(at,we,M)=>{"use strict";M.d(we,{hZ:()=>R});const R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(at,we,M)=>{"use strict";M.d(we,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(at,we,M)=>{"use strict";M.d(we,{b:()=>T});const T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(at,we,M)=>{"use strict";M.d(we,{W:()=>R});const R=(()=>{function S(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return S.prototype=Object.create(Error.prototype),S})()},3410:(at,we,M)=>{"use strict";M.d(we,{K:()=>R});const R=(()=>{function S(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return S.prototype=Object.create(Error.prototype),S})()},7971:(at,we,M)=>{"use strict";M.d(we,{N:()=>R});const R=(()=>{function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return S.prototype=Object.create(Error.prototype),S})()},4449:(at,we,M)=>{"use strict";function T(R){setTimeout(()=>{throw R},0)}M.d(we,{z:()=>T})},4487:(at,we,M)=>{"use strict";function T(R){return R}M.d(we,{y:()=>T})},9796:(at,we,M)=>{"use strict";M.d(we,{k:()=>T});const T=Array.isArray||(R=>R&&"number"==typeof R.length)},9489:(at,we,M)=>{"use strict";M.d(we,{z:()=>T});const T=R=>R&&"number"==typeof R.length&&"function"!=typeof R},9105:(at,we,M)=>{"use strict";function T(R){return"function"==typeof R}M.d(we,{m:()=>T})},6561:(at,we,M)=>{"use strict";M.d(we,{k:()=>R});var T=M(9796);function R(S){return!(0,T.k)(S)&&S-parseFloat(S)+1>=0}},1555:(at,we,M)=>{"use strict";function T(R){return null!==R&&"object"==typeof R}M.d(we,{K:()=>T})},4072:(at,we,M)=>{"use strict";function T(R){return!!R&&"function"!=typeof R.subscribe&&"function"==typeof R.then}M.d(we,{t:()=>T})},4869:(at,we,M)=>{"use strict";function T(R){return R&&"function"==typeof R.schedule}M.d(we,{K:()=>T})},7444:(at,we,M)=>{"use strict";M.d(we,{s:()=>ne});var T=M(5015),R=M(4449),ee=M(377),j=M(6554),$=M(9489),G=M(4072),H=M(1555);const ne=V=>{if(V&&"function"==typeof V[j.L])return(V=>te=>{const be=V[j.L]();if("function"!=typeof be.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return be.subscribe(te)})(V);if((0,$.z)(V))return(0,T.V)(V);if((0,G.t)(V))return(V=>te=>(V.then(be=>{te.closed||(te.next(be),te.complete())},be=>te.error(be)).then(null,R.z),te))(V);if(V&&"function"==typeof V[ee.hZ])return(V=>te=>{const be=V[ee.hZ]();for(;;){let ge;try{ge=be.next()}catch(Me){return te.error(Me),te}if(ge.done){te.complete();break}if(te.next(ge.value),te.closed)break}return"function"==typeof be.return&&te.add(()=>{be.return&&be.return()}),te})(V);{const be=`You provided ${(0,H.K)(V)?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(be)}}},5015:(at,we,M)=>{"use strict";M.d(we,{V:()=>T});const T=R=>S=>{for(let ee=0,ue=R.length;ee<ue&&!S.closed;ee++)S.next(R[ee]);S.complete()}},509:(at,we,M)=>{"use strict";M.d(we,{D:()=>ue});var T=M(7393);class R extends T.L{constructor(le,$,G){super(),this.parent=le,this.outerValue=$,this.outerIndex=G,this.index=0}_next(le){this.parent.notifyNext(this.outerValue,le,this.outerIndex,this.index++,this)}_error(le){this.parent.notifyError(le,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var S=M(7444),ee=M(7574);function ue(j,le,$,G,H=new R(j,$,G)){if(!H.closed)return le instanceof ee.y?le.subscribe(H):(0,S.s)(le)(H)}},2340:(at,we,M)=>{"use strict";M.d(we,{N:()=>T});const T={production:!1,firebase:{apiKey:"AIzaSyAdR-vuNqz8qZy7rbcEgFdjupNrTzzx5BI",authDomain:"chat-on-angular.firebaseapp.com",databaseURL:"https://chat-on-angular-default-rtdb.firebaseio.com",projectId:"chat-on-angular",storageBucket:"chat-on-angular.appspot.com",messagingSenderId:"384780938719",appId:"1:384780938719:web:a55a7ec759064179f1a86a"},customer:{email:"mchdcbn10@gmail.com",password:"123123aA."},formspreeApiUrl:"https://formspree.io/f/xvoybjvl"}},993:(at,we,M)=>{"use strict";var T=M(8583),R=M(7716);class S extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ee extends S{static makeCurrent(){(0,T.HT)(new ee)}onAndCancel(K,U,se){return K.addEventListener(U,se,!1),()=>{K.removeEventListener(U,se,!1)}}dispatchEvent(K,U){K.dispatchEvent(U)}remove(K){K.parentNode&&K.parentNode.removeChild(K)}createElement(K,U){return(U=U||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,U){return"window"===U?window:"document"===U?K:"body"===U?K.body:null}getBaseHref(K){const U=(ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null);return null==U?null:function(ie){le=le||document.createElement("a"),le.setAttribute("href",ie);const K=le.pathname;return"/"===K.charAt(0)?K:`/${K}`}(U)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,T.Mx)(document.cookie,K)}}let le,ue=null;const G=new R.OlP("TRANSITION_ID"),ne=[{provide:R.ip1,useFactory:function(ie,K,U){return()=>{U.get(R.CZH).donePromise.then(()=>{const se=(0,T.q)(),Re=K.querySelectorAll(`style[ng-transition="${ie}"]`);for(let et=0;et<Re.length;et++)se.remove(Re[et])})}},deps:[G,T.K0,R.zs3],multi:!0}];class V{static init(){(0,R.VLi)(new V)}addToWindow(K){R.dqk.getAngularTestability=(se,Re=!0)=>{const et=K.findTestabilityInTree(se,Re);if(null==et)throw new Error("Could not find testability for element.");return et},R.dqk.getAllAngularTestabilities=()=>K.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>K.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(se=>{const Re=R.dqk.getAllAngularTestabilities();let et=Re.length,Ue=!1;const ft=function(Rt){Ue=Ue||Rt,et--,0==et&&se(Ue)};Re.forEach(function(Rt){Rt.whenStable(ft)})})}findTestabilityInTree(K,U,se){if(null==U)return null;const Re=K.getTestability(U);return null!=Re?Re:se?(0,T.q)().isShadowRoot(U)?this.findTestabilityInTree(K,U.host,!0):this.findTestabilityInTree(K,U.parentElement,!0):null}}let te=(()=>{class ie{build(){return new XMLHttpRequest}}return ie.\u0275fac=function(U){return new(U||ie)},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const X=new R.OlP("EventManagerPlugins");let ce=(()=>{class ie{constructor(U,se){this._zone=se,this._eventNameToPlugin=new Map,U.forEach(Re=>Re.manager=this),this._plugins=U.slice().reverse()}addEventListener(U,se,Re){return this._findPluginFor(se).addEventListener(U,se,Re)}addGlobalEventListener(U,se,Re){return this._findPluginFor(se).addGlobalEventListener(U,se,Re)}getZone(){return this._zone}_findPluginFor(U){const se=this._eventNameToPlugin.get(U);if(se)return se;const Re=this._plugins;for(let et=0;et<Re.length;et++){const Ue=Re[et];if(Ue.supports(U))return this._eventNameToPlugin.set(U,Ue),Ue}throw new Error(`No event manager plugin found for event ${U}`)}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(X),R.LFG(R.R0b))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class xe{constructor(K){this._doc=K}addGlobalEventListener(K,U,se){const Re=(0,T.q)().getGlobalEventTarget(this._doc,K);if(!Re)throw new Error(`Unsupported event target ${Re} for event ${U}`);return this.addEventListener(Re,U,se)}}let he=(()=>{class ie{constructor(){this._stylesSet=new Set}addStyles(U){const se=new Set;U.forEach(Re=>{this._stylesSet.has(Re)||(this._stylesSet.add(Re),se.add(Re))}),this.onStylesAdded(se)}onStylesAdded(U){}getAllStyles(){return Array.from(this._stylesSet)}}return ie.\u0275fac=function(U){return new(U||ie)},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),Ye=(()=>{class ie extends he{constructor(U){super(),this._doc=U,this._hostNodes=new Map,this._hostNodes.set(U.head,[])}_addStylesToHost(U,se,Re){U.forEach(et=>{const Ue=this._doc.createElement("style");Ue.textContent=et,Re.push(se.appendChild(Ue))})}addHost(U){const se=[];this._addStylesToHost(this._stylesSet,U,se),this._hostNodes.set(U,se)}removeHost(U){const se=this._hostNodes.get(U);se&&se.forEach(We),this._hostNodes.delete(U)}onStylesAdded(U){this._hostNodes.forEach((se,Re)=>{this._addStylesToHost(U,Re,se)})}ngOnDestroy(){this._hostNodes.forEach(U=>U.forEach(We))}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(T.K0))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function We(ie){(0,T.q)().remove(ie)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ze=/%COMP%/g;function an(ie,K,U){for(let se=0;se<K.length;se++){let Re=K[se];Array.isArray(Re)?an(ie,Re,U):(Re=Re.replace(Ze,ie),U.push(Re))}return U}function Mt(ie){return K=>{if("__ngUnwrap__"===K)return ie;!1===ie(K)&&(K.preventDefault(),K.returnValue=!1)}}let cn=(()=>{class ie{constructor(U,se,Re){this.eventManager=U,this.sharedStylesHost=se,this.appId=Re,this.rendererByCompId=new Map,this.defaultRenderer=new rn(U)}createRenderer(U,se){if(!U||!se)return this.defaultRenderer;switch(se.encapsulation){case R.ifc.Emulated:{let Re=this.rendererByCompId.get(se.id);return Re||(Re=new Ie(this.eventManager,this.sharedStylesHost,se,this.appId),this.rendererByCompId.set(se.id,Re)),Re.applyToHost(U),Re}case 1:case R.ifc.ShadowDom:return new Oe(this.eventManager,this.sharedStylesHost,U,se);default:if(!this.rendererByCompId.has(se.id)){const Re=an(se.id,se.styles,[]);this.sharedStylesHost.addStyles(Re),this.rendererByCompId.set(se.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(ce),R.LFG(Ye),R.LFG(R.AFp))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();class rn{constructor(K){this.eventManager=K,this.data=Object.create(null)}destroy(){}createElement(K,U){return U?document.createElementNS(pt[U]||U,K):document.createElement(K)}createComment(K){return document.createComment(K)}createText(K){return document.createTextNode(K)}appendChild(K,U){K.appendChild(U)}insertBefore(K,U,se){K&&K.insertBefore(U,se)}removeChild(K,U){K&&K.removeChild(U)}selectRootElement(K,U){let se="string"==typeof K?document.querySelector(K):K;if(!se)throw new Error(`The selector "${K}" did not match any elements`);return U||(se.textContent=""),se}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,U,se,Re){if(Re){U=Re+":"+U;const et=pt[Re];et?K.setAttributeNS(et,U,se):K.setAttribute(U,se)}else K.setAttribute(U,se)}removeAttribute(K,U,se){if(se){const Re=pt[se];Re?K.removeAttributeNS(Re,U):K.removeAttribute(`${se}:${U}`)}else K.removeAttribute(U)}addClass(K,U){K.classList.add(U)}removeClass(K,U){K.classList.remove(U)}setStyle(K,U,se,Re){Re&(R.JOm.DashCase|R.JOm.Important)?K.style.setProperty(U,se,Re&R.JOm.Important?"important":""):K.style[U]=se}removeStyle(K,U,se){se&R.JOm.DashCase?K.style.removeProperty(U):K.style[U]=""}setProperty(K,U,se){K[U]=se}setValue(K,U){K.nodeValue=U}listen(K,U,se){return"string"==typeof K?this.eventManager.addGlobalEventListener(K,U,Mt(se)):this.eventManager.addEventListener(K,U,Mt(se))}}class Ie extends rn{constructor(K,U,se,Re){super(K),this.component=se;const et=an(Re+"-"+se.id,se.styles,[]);U.addStyles(et),this.contentAttr="_ngcontent-%COMP%".replace(Ze,Re+"-"+se.id),this.hostAttr="_nghost-%COMP%".replace(Ze,Re+"-"+se.id)}applyToHost(K){super.setAttribute(K,this.hostAttr,"")}createElement(K,U){const se=super.createElement(K,U);return super.setAttribute(se,this.contentAttr,""),se}}class Oe extends rn{constructor(K,U,se,Re){super(K),this.sharedStylesHost=U,this.hostEl=se,this.shadowRoot=se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const et=an(Re.id,Re.styles,[]);for(let Ue=0;Ue<et.length;Ue++){const ft=document.createElement("style");ft.textContent=et[Ue],this.shadowRoot.appendChild(ft)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(K,U){return super.appendChild(this.nodeOrShadowRoot(K),U)}insertBefore(K,U,se){return super.insertBefore(this.nodeOrShadowRoot(K),U,se)}removeChild(K,U){return super.removeChild(this.nodeOrShadowRoot(K),U)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}}let Je=(()=>{class ie extends xe{constructor(U){super(U)}supports(U){return!0}addEventListener(U,se,Re){return U.addEventListener(se,Re,!1),()=>this.removeEventListener(U,se,Re)}removeEventListener(U,se,Re){return U.removeEventListener(se,Re)}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(T.K0))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const gn=["alt","control","meta","shift"],At={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},br={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hr={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let on=(()=>{class ie extends xe{constructor(U){super(U)}supports(U){return null!=ie.parseEventName(U)}addEventListener(U,se,Re){const et=ie.parseEventName(se),Ue=ie.eventCallback(et.fullKey,Re,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(U,et.domEventName,Ue))}static parseEventName(U){const se=U.toLowerCase().split("."),Re=se.shift();if(0===se.length||"keydown"!==Re&&"keyup"!==Re)return null;const et=ie._normalizeKey(se.pop());let Ue="";if(gn.forEach(Rt=>{const Gn=se.indexOf(Rt);Gn>-1&&(se.splice(Gn,1),Ue+=Rt+".")}),Ue+=et,0!=se.length||0===et.length)return null;const ft={};return ft.domEventName=Re,ft.fullKey=Ue,ft}static getEventFullKey(U){let se="",Re=function(ie){let K=ie.key;if(null==K){if(K=ie.keyIdentifier,null==K)return"Unidentified";K.startsWith("U+")&&(K=String.fromCharCode(parseInt(K.substring(2),16)),3===ie.location&&br.hasOwnProperty(K)&&(K=br[K]))}return At[K]||K}(U);return Re=Re.toLowerCase()," "===Re?Re="space":"."===Re&&(Re="dot"),gn.forEach(et=>{et!=Re&&Hr[et](U)&&(se+=et+".")}),se+=Re,se}static eventCallback(U,se,Re){return et=>{ie.getEventFullKey(et)===U&&Re.runGuarded(()=>se(et))}}static _normalizeKey(U){switch(U){case"esc":return"escape";default:return U}}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(T.K0))},ie.\u0275prov=R.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Mn=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:T.bD},{provide:R.g9A,useValue:function(){ee.makeCurrent(),V.init()},multi:!0},{provide:T.K0,useFactory:function(){return(0,R.RDi)(document),document},deps:[]}]),mr=[[],{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function(){return new R.qLn},deps:[]},{provide:X,useClass:Je,multi:!0,deps:[T.K0,R.R0b,R.Lbi]},{provide:X,useClass:on,multi:!0,deps:[T.K0]},[],{provide:cn,useClass:cn,deps:[ce,Ye,R.AFp]},{provide:R.FYo,useExisting:cn},{provide:he,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[T.K0]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b]},{provide:ce,useClass:ce,deps:[X,R.R0b]},{provide:T.JF,useClass:te,deps:[]},[]];let Cr=(()=>{class ie{constructor(U){if(U)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(U){return{ngModule:ie,providers:[{provide:R.AFp,useValue:U.appId},{provide:G,useExisting:R.AFp},ne]}}}return ie.\u0275fac=function(U){return new(U||ie)(R.LFG(ie,12))},ie.\u0275mod=R.oAB({type:ie}),ie.\u0275inj=R.cJS({providers:mr,imports:[T.ez,R.hGG]}),ie})();"undefined"!=typeof window&&window;var k=M(57),oe=M(5492);let De=(()=>{class ie{constructor(){}ngOnInit(){}}return ie.\u0275fac=function(U){return new(U||ie)},ie.\u0275cmp=R.Xpm({type:ie,selectors:[["app-root"]],decls:1,vars:0,template:function(U,se){1&U&&R._UZ(0,"router-outlet")},directives:[oe.lC],styles:[""]}),ie})();var He=M(2340),Be=M(7318),st=M(1562),Qe=M(9932);const qe={suppressScrollX:!0,wheelSpeed:1,swipeEasing:!1},Xe=[{path:"",loadChildren:()=>Promise.all([M.e(928),M.e(433)]).then(M.bind(M,3433)).then(ie=>ie.CustomerModule)},{path:"agent",loadChildren:()=>Promise.all([M.e(928),M.e(900)]).then(M.bind(M,5900)).then(ie=>ie.AgentModule)}];let vt=(()=>{class ie{}return ie.\u0275fac=function(U){return new(U||ie)},ie.\u0275mod=R.oAB({type:ie,bootstrap:[De]}),ie.\u0275inj=R.cJS({providers:[{provide:Qe.op,useValue:qe}],imports:[[Cr,oe.Bz.forRoot(Xe),k.hO.initializeApp(He.N.firebase),Be.JS,st.ww,Qe.Xd]]}),ie})();He.N.production&&(0,R.G48)(),Mn().bootstrapModule(vt).catch(ie=>console.error(ie))},4762:(at,we,M)=>{"use strict";M.d(we,{ZT:()=>R,pi:()=>S,mG:()=>$,Jh:()=>G,XA:()=>V,CR:()=>te,ev:()=>Me});var T=function(me,ye){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ce){X.__proto__=ce}||function(X,ce){for(var xe in ce)Object.prototype.hasOwnProperty.call(ce,xe)&&(X[xe]=ce[xe])})(me,ye)};function R(me,ye){if("function"!=typeof ye&&null!==ye)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");function X(){this.constructor=me}T(me,ye),me.prototype=null===ye?Object.create(ye):(X.prototype=ye.prototype,new X)}var S=function(){return(S=Object.assign||function(ye){for(var X,ce=1,xe=arguments.length;ce<xe;ce++)for(var he in X=arguments[ce])Object.prototype.hasOwnProperty.call(X,he)&&(ye[he]=X[he]);return ye}).apply(this,arguments)};function $(me,ye,X,ce){return new(X||(X=Promise))(function(he,Ye){function We(nt){try{Ze(ce.next(nt))}catch(ke){Ye(ke)}}function pt(nt){try{Ze(ce.throw(nt))}catch(ke){Ye(ke)}}function Ze(nt){nt.done?he(nt.value):function(he){return he instanceof X?he:new X(function(Ye){Ye(he)})}(nt.value).then(We,pt)}Ze((ce=ce.apply(me,ye||[])).next())})}function G(me,ye){var ce,xe,he,Ye,X={label:0,sent:function(){if(1&he[0])throw he[1];return he[1]},trys:[],ops:[]};return Ye={next:We(0),throw:We(1),return:We(2)},"function"==typeof Symbol&&(Ye[Symbol.iterator]=function(){return this}),Ye;function We(Ze){return function(nt){return function(Ze){if(ce)throw new TypeError("Generator is already executing.");for(;X;)try{if(ce=1,xe&&(he=2&Ze[0]?xe.return:Ze[0]?xe.throw||((he=xe.return)&&he.call(xe),0):xe.next)&&!(he=he.call(xe,Ze[1])).done)return he;switch(xe=0,he&&(Ze=[2&Ze[0],he.value]),Ze[0]){case 0:case 1:he=Ze;break;case 4:return X.label++,{value:Ze[1],done:!1};case 5:X.label++,xe=Ze[1],Ze=[0];continue;case 7:Ze=X.ops.pop(),X.trys.pop();continue;default:if(!(he=(he=X.trys).length>0&&he[he.length-1])&&(6===Ze[0]||2===Ze[0])){X=0;continue}if(3===Ze[0]&&(!he||Ze[1]>he[0]&&Ze[1]<he[3])){X.label=Ze[1];break}if(6===Ze[0]&&X.label<he[1]){X.label=he[1],he=Ze;break}if(he&&X.label<he[2]){X.label=he[2],X.ops.push(Ze);break}he[2]&&X.ops.pop(),X.trys.pop();continue}Ze=ye.call(me,X)}catch(nt){Ze=[6,nt],xe=0}finally{ce=he=0}if(5&Ze[0])throw Ze[1];return{value:Ze[0]?Ze[1]:void 0,done:!0}}([Ze,nt])}}}function V(me){var ye="function"==typeof Symbol&&Symbol.iterator,X=ye&&me[ye],ce=0;if(X)return X.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&ce>=me.length&&(me=void 0),{value:me&&me[ce++],done:!me}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(me,ye){var X="function"==typeof Symbol&&me[Symbol.iterator];if(!X)return me;var xe,Ye,ce=X.call(me),he=[];try{for(;(void 0===ye||ye-- >0)&&!(xe=ce.next()).done;)he.push(xe.value)}catch(We){Ye={error:We}}finally{try{xe&&!xe.done&&(X=ce.return)&&X.call(ce)}finally{if(Ye)throw Ye.error}}return he}function Me(me,ye,X){if(X||2===arguments.length)for(var he,ce=0,xe=ye.length;ce<xe;ce++)(he||!(ce in ye))&&(he||(he=Array.prototype.slice.call(ye,0,ce)),he[ce]=ye[ce]);return me.concat(he||Array.prototype.slice.call(ye))}}},at=>{at(at.s=993)}]);